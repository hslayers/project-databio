!function(){return function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}}()({1:[function(t,e,n){var angular;angular=t("angular"),t("ol"),t("map"),t("core"),angular.module("hs.api",["hs","hs.map","hs.core"]).service("Api",["$rootScope","hs.map.service","$controller","Core",function(t,e,n,o){var i={gui:{}};t.$on("scope_loaded",function(t,e){for(var n in i.gui[e]={},t.targetScope)void 0===t.targetScope.__proto__[n]&&(i.gui[e][n]=t.targetScope[n])}),i.listScopes=function(){for(var e=function(t){var e=[];return function t(n){!function(t){e.push(t)}(n),n.$$nextSibling&&t(n.$$nextSibling),n.$$childHead&&t(n.$$childHead)}(t),e}(t),n={},o=0;o<e.length;o++)e[o].scope_name&&(n[e[o].scope_name]=e[o]);return n},i.gui.setLanguage=function(t){o.setLanguage(t)},i.getMap=function(){return e.map};var r=function(t,e){if(!((e+="\t").length>5)){if("function"==typeof t){var n=t.toString().replace(/[\n\t]/g," "),o=n.match(/\((.+?\))/),i=o?o.index+o[0].length:11;n.substring(i),console.log(e,"function",key,o?o[0].split("{")[0]:"()")}if("object"==typeof t){var a=!(t&&void 0===t.length);if(console.log(e,key+(a?"":".")),!a)for(key in t)r(t[key],e)}}};i.printApiDefinitions=function(){for(key in window.hslayers_api)r(window.hslayers_api[key],"")},window.hslayers_api=i}]).run(["Api",function(Api){}])},{angular:59,core:7,map:26,ol:65}],2:[function(t,e,n){window.require&&window.require.config&&window.require.config({paths:{"hs.compositions.service_parser":hsl_path+"components/compositions/hs.compositions.service_parser"+hslMin,"hs.compositions.service":hsl_path+"components/compositions/hs.compositions.service"+hslMin,"hs.compositions.controller":hsl_path+"components/compositions/hs.compositions.controller"+hslMin}}),function(angular,ol,t,e,n,o,i){angular.module("hs.compositions",["720kb.socialshare","hs.map","hs.core","hs.ows.nonwms","hs.compositions.config_parsers"]).directive("hs.compositions.directive",["config",function(t){return{templateUrl:`${t.hsl_path}components/compositions/partials/compositions${t.design||""}.html`,link:function(e,n){var o;(angular.isUndefined(t.design)||""==t.design)&&((o=document.getElementsByClassName("mid-pane")).length>0&&(o[0].style.marginTop="0px"),(o=document.getElementsByClassName("keywords-panel")).length>0&&(o[0].style.display="none"))}}}]).directive("hs.compositions.overwriteDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/compositions/partials/dialog_overwriteconfirm.html",link:function(t,e,n){t.overwriteModalVisible=!0}}}]).directive("hs.compositions.deleteDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/compositions/partials/dialog_delete.html",link:function(t,e,n){t.deleteModalVisible=!0}}}]).directive("hs.compositions.shareDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/compositions/partials/dialog_share.html",link:function(t,e,n){t.shareModalVisible=!0}}}]).directive("hs.compositions.infoDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/compositions/partials/dialog_info.html",link:function(t,e,n){t.infoModalVisible=!0}}}]);o.init(),n.init(),i.init()}(t("angular"),t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),t("hs.compositions.service"),t("hs.compositions.service_parser"),t("hs.compositions.controller"),t("map"),t("ows_nonwms"),t("config_parsers"))},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.compositions.controller":4,"hs.compositions.service":5,"hs.compositions.service_parser":6,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],3:[function(t,e,n){var angular,ol,o;angular=t("angular"),ol=t("ol"),o=t("hs.source.SparqlJson"),t("angular-socialshare"),t("map"),t("ows_nonwms"),angular.module("hs.compositions.config_parsers",["720kb.socialshare","hs.map","hs.core","hs.ows.nonwms"]).service("hs.compositions.config_parsers.service",["hs.map.service","config","Core","$rootScope","hs.utils.service","hs.ows.nonwms.service",function(t,e,n,i,r,a){var s={createWmsLayer:function(e){var n=e.singleTile?ol.source.ImageWMS:ol.source.TileWMS,o=e.singleTile?ol.layer.Image:ol.layer.Tile,i=e.params,r=[];if(delete i.REQUEST,angular.isDefined(e.legends))for(var a=0;a<e.legends.length;a++)r.push(decodeURIComponent(e.legends[a]));var s=new o({title:e.title,from_composition:!0,maxResolution:e.maxResolution||Number.Infinity,minResolution:e.minResolution||0,minScale:e.minScale||Number.Infinity,maxScale:e.maxScale||0,show_in_manager:e.displayInLayerSwitcher,abstract:e.name||e.abstract,base:e.base,metadata:e.metadata,dimensions:e.dimensions,legends:r,saveState:!0,path:e.path,opacity:e.opacity||1,source:new n({url:decodeURIComponent(e.url),attributions:e.attribution?[new ol.Attribution({html:'<a href="'+e.attribution.OnlineResource+'">'+e.attribution.Title+"</a>"})]:void 0,styles:angular.isDefined(e.metadata)?e.metadata.styles:void 0,params:i,crossOrigin:"anonymous",projection:e.projection,ratio:e.ratio})});return s.setVisible(e.visibility),t.proxifyLayerLoader(s,!e.singleTile),s},createSparqlLayer:function(t){var e=decodeURIComponent(t.protocol.url),n={};n.url=e,n.format="hs.format.Sparql";var i=null;angular.isDefined(t.style)&&(i=s.parseStyle(t.style));var r=new o({geom_attribute:"?geom",url:e,category_field:"http://www.openvoc.eu/poi#categoryWaze",projection:"EPSG:3857"});new ol.layer.Vector({from_composition:!0,definition:n,source:r,opacity:t.opacity||1,style:i,title:t.title}).setVisible(t.visibility)},parseStyle:function(t){var e={};if(angular.isDefined(t.fill)&&(e.fill=new ol.style.Fill({color:t.fill})),angular.isDefined(t.stroke)&&(e.stroke=new ol.style.Stroke({color:t.stroke.color,width:t.stroke.width})),angular.isDefined(t.image)){if("circle"==t.image.type){var n={};angular.isDefined(t.image.radius)&&(n.radius=t.image.radius),angular.isDefined(t.image.fill)&&(n.fill=new ol.style.Fill({color:t.image.fill})),angular.isDefined(t.image.stroke)&&(n.stroke=new ol.style.Stroke({color:t.image.stroke.color,width:t.image.stroke.width})),e.image=new ol.style.Circle(n)}if("icon"==t.image.type){var o=new Image;o.src=t.image.src,0==o.width&&(o.width=43),0==o.height&&(o.height=41);var i={img:o,imgSize:[o.width,o.height],crossOrigin:"anonymous"};e.image=new ol.style.Icon(i)}}return new ol.style.Style(e)},createVectorLayer:function(t){var e="";angular.isDefined(t.protocol)&&(e=t.protocol.format);var n={};n.opacity=t.opacity||1,n.from_composition=!0;var o=!0;switch(angular.isDefined(t.style)&&(n.style=s.parseStyle(t.style),o=!1),e){case"ol.format.KML":return r=a.add("kml",decodeURIComponent(t.protocol.url),t.title||"Layer",t.abstract,o,t.projection.toUpperCase(),n);case"ol.format.GeoJSON":return r=a.add("geojson",decodeURIComponent(t.protocol.url),t.title||"Layer",t.abstract,o,t.projection.toUpperCase(),n);case"hs.format.WFS":return n.defOptions=t.defOptions,r=a.add("wfs",decodeURIComponent(t.protocol.url),t.title||"Layer",t.abstract,o,t.projection.toUpperCase(),n);case"hs.format.Sparql":return s.createSparqlLayer(t);default:if(angular.isDefined(t.features)){e=new ol.format.GeoJSON;var i=new ol.source.Vector({features:e.readFeatures(t.features),projection:ol.proj.get(t.projection)})}var r,l=void 0;return angular.isDefined(t.style)&&(l=s.parseStyle(t.style)),(r=new ol.layer.Vector({from_composition:!0,source:i,opacity:t.opacity||1,title:t.title,style:l})).setVisible(t.visibility),r}}};return s}])},{angular:59,"angular-socialshare":57,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],4:[function(t,e,n){var angular;e.exports=(angular=t("angular"),t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),t("map"),t("ows_nonwms"),t("config_parsers"),{init(){angular.module("hs.compositions").controller("hs.compositions.controller",["$scope","Core","hs.compositions.service","hs.compositions.service_parser","$window","$mdDialog","$mdMedia","config","$compile",function(t,e,n,o,i,r,a,s,l){function c(){if(t.composition_name_to_be_loaded=data.title,null==document.getElementById("composition-overwrite-dialog")){var e=angular.element("<div hs.compositions.overwrite_dialog_directive></span>");document.getElementById("hs-dialog-area").appendChild(e[0]),l(e)(t)}else t.overwriteModalVisible=!0}t.CS=n,t.data=n.data,t.pageSize=15,t.compStart=0,t.compNext=t.pageSize,t.panel_name="composition_browser",t.keywords={Basemap:!1,Borders:!1,PhysicalGeography:!1,Demographics:!1,Economics:!1,SocioPoliticalConditions:!1,Culture:!1,Transport:!1,LandUse:!1,Environment:!1,Water:!1,Hazards:!1,Cadastre:!1,Infrastructure:!1,RealEstate:!1,Planning:!1,ComplexInformation:!1},t.sortBy="bbox",t.filterByExtent=!0,t.getPreviousCompositions=function(){t.compStart-t.pageSize<0?(t.compStart=0,t.compNext=t.pageSize):(t.compStart-=t.pageSize,t.compNext=t.compStart+t.pageSize),t.loadCompositions()},t.getNextCompositions=function(){0!=t.compNext&&(t.compStart=Math.floor(t.compNext/t.pageSize)*t.pageSize,t.compNext+t.pageSize>t.compositionsCount?t.compNext=t.compositionsCount:t.compNext+=t.pageSize,t.loadCompositions())},t.loadCompositions=function(){n.loadCompositions({query:t.query,sortBy:t.sortBy,filterExtent:t.filterByExtent,keywords:t.keywords,start:t.compStart,limit:t.pageSize})},t.$watch("data.next",function(){t.compNext=t.data.next}),t.mineFilterChanged=function(){angular.isDefined(t.query.editable)&&0==t.query.editable&&delete t.query.editable},t.getPageSize=function(){let e=screen.height;if(a("gt-sm")){let t=document.getElementById("sidenav-right");t&&(e=t.clientHeight)}t.pageSize=Math.round((e-180)/60)},t.filterChanged=function(){n.resetCompositionCounter(),t.compStart=0,t.compNext=t.pageSize,t.loadCompositions()},t.confirmDelete=function(e,n){t.compositionToDelete=e,"md"===s.design?function(e){r.show({parent:angular.element("#hsContainer"),targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,scope:t,preserveScope:!0,templateUrl:s.hsl_path+"materialComponents/panelContents/compositionLoadUnsavedDialog.html",controller:function(t,e){t.closeDialog=function(){e.hide()}}})}():function(e){t.$$phase||t.$digest();var n=document.getElementById("composition-delete-dialog");n&&n.parentNode.removeChild(n);var o=angular.element("<div hs.compositions.delete_dialog_directive></span>");document.getElementById("hs-dialog-area").appendChild(o[0]),l(o)(t)}()},t.delete=function(t){n.deleteComposition(t)},t.edit=function(e){t.data.useCallbackForEdit=!0,n.loadComposition(e)},t.highlightComposition=function(t,e){n.highlightComposition(t,e)},t.$on("map.extent_changed",function(n,o,i){"composition_browser"!=e.mainpanel&&"composition"!=e.mainpanel||t.filterByExtent&&t.loadCompositions()}),t.shareComposition=function(e,o){n.shareComposition(e),"md"===s.design?function(e){r.show({parent:angular.element("#hsContainer"),targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,scope:t,preserveScope:!0,templateUrl:s.hsl_path+"components/compositions/partials/dialog_sharemd.html",controller:function(t,e){t.closeDialog=function(){e.hide()}}})}(o):function(e){var n=document.getElementById("composition-share-dialog");n&&n.parentNode.removeChild(n);var o=angular.element("<div hs.compositions.share_dialog_directive></div>");l(o)(t),document.getElementById("hs-dialog-area").appendChild(o[0])}()},t.detailComposition=function(e,o){n.getCompositionInfo(e,function(e){t.info=e,"md"===s.design?function(e){var n=angular.element("#hsContainer");r.show({parent:n,targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,template:'<md-dialog aria-label="List dialog">  <md-dialog-content layout="column" layout-padding>    <md-list>    <div layout="row">       <span flex="30">Abstract</span><span flex="70">{{info.abstract}}</span>    </div>    <div layout="row">       <span flex="30">Thumbnail</span><span flex="70">{{info.thumbnail}}</span>    </div>    <div layout="row">       <span flex="30">Extent</span><span flex="70">{{info.extent}}</span>    </div>    <div layout="row" ng-repeat="layer in info.layers">       <span flex="30">Layer</span><span flex="70">{{layer.title}}</span>    </div>    </md-list>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary">      Close    </md-button>  </md-dialog-actions></md-dialog>',locals:{info:t.info},controller:function(t,e,n){t.info=n,t.closeDialog=function(){e.hide()}}})}(o):function(){t.$$phase||t.$digest();var e=document.getElementById("composition-info-dialog");e&&e.parentNode.removeChild(e);var n=angular.element("<div hs.compositions.info_dialog_directive></span>");document.getElementById("hs-dialog-area").appendChild(n[0]),l(n)(t)}()})},t.loadComposition=function(t){n.loadCompositionParser(t)},t.overwrite=function(){n.loadComposition(t.compositionToLoad,!0),t.overwriteModalVisible=!1},t.add=function(){n.loadComposition(t.compositionToLoad,!1),t.overwriteModalVisible=!1},t.save=function(){e.openStatusCreator(),t.overwriteModalVisible=!1},t.setSortAttribute=function(e){t.sortBy=e,t.loadCompositions()},t.toggleKeywords=function(){$(".keywords-panel").slideToggle()},t.handleFileSelect=function(t){for(var e,n=t.target.files,i=0;e=n[i];i++)if(e.type.match("application/json")){var r=new FileReader;r.onload=function(t){var e=JSON.parse(r.result);o.loadCompositionObject(e,!0)},r.readAsText(e)}},t.$on("CompositionLoaded",function(){$(".tooltip").remove(),$('[data-toggle="tooltip"]').tooltip()}),t.$on("compositions.composition_deleted",function(){var t=document.getElementById("composition-delete-dialog");t.parentNode.remove(t)}),t.$on("loadComposition.notSaved",function(e,n){t.compositionToLoad=n.link,"md"===s.design?r.show({parent:angular.element("#hsContainer"),clickOutsideToClose:!0,escapeToClose:!0,scope:t,preserveScope:!0,templateUrl:s.hsl_path+"materialComponents/panelContents/compositionLoadUnsavedDialog.html",controller:function(t,e){t.closeDialog=function(){e.hide()}}}):c()}),t.$on("core.mainpanel_changed",function(n){"composition_browser"!==e.mainpanel&&"composition"!==e.mainpanel||t.loadCompositions()}),t.getPageSize(),i.addEventListener("resize",function(){t.getPageSize()}),t.$on("Core_sizeChanged",function(){t.getPageSize()}),t.$emit("scope_loaded","Compositions")}])}})},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],5:[function(t,e,n){var angular,ol;e.exports=(angular=t("angular"),ol=t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),t("map"),t("ows_nonwms"),t("config_parsers"),{init(){angular.module("hs.compositions").service("hs.compositions.service",["$rootScope","$q","$location","$http","hs.map.service","Core","hs.compositions.service_parser","config","hs.permalink.urlService","$compile","$cookies","hs.utils.service","hs.status_creator.service",function(t,e,n,o,i,r,a,s,l,c,u,p,h){var d,f=this;function m(){r.openStatusCreator()}function g(){if(d=new ol.layer.Vector({title:"Composition extents",show_in_manager:!1,source:new ol.source.Vector,removable:!1,style:function(t,e){return[new ol.style.Style({stroke:new ol.style.Stroke({color:"#005CB6",width:t.get("highlighted")?4:1}),fill:new ol.style.Fill({color:"rgba(0, 0, 255, 0.01)"})})]}}),i.map.on("pointermove",function(e){var n=d.getSource().getFeaturesAtCoordinate(e.coordinate),o=!1;angular.forEach(d.getSource().getFeatures(),function(t){t.get("record").highlighted&&(t.get("record").highlighted=!1,o=!0)}),n.length&&angular.forEach(n,function(t){t.get("record").highlighted||(t.get("record").highlighted=!0,o=!0)}),o&&!t.$$phase&&t.$digest()}),angular.isDefined(u.get("hs_layers"))&&1!=window.permalinkApp){for(var e=u.get("hs_layers"),n=a.jsonToLayers(JSON.parse(e)),o=0;o<n.length;o++)i.addLayer(n[o]);u.remove("hs_layers")}if(i.map.addLayer(d),l.getParamValue("composition")){var r=l.getParamValue("composition");-1==r.indexOf("http")&&-1==r.indexOf(s.status_manager_url)&&(r=h.endpointUrl()+"?request=load&id="+r),a.load(r)}}return f.data={},f.data.start=0,f.data.limit=20,f.data.next=20,f.data.useCallbackForEdit=!1,f.compositionsLoaded=!1,f.loadCompositions=function(n){f.compositionsLoaded=!1,angular.isUndefined(n.sortBy)&&(n.sortBy="bbox"),angular.isUndefined(n.start)&&(n.start=f.data.start),(angular.isUndefined(n.limit)||isNaN(n.limit))&&(n.limit=f.data.limit);var r=i.map.getSize(),l=angular.isDefined(r)?i.map.getView().calculateExtent(r):[0,0,100,100],c=ol.proj.transformExtent(l,i.map.getView().getProjection(),"EPSG:4326");angular.isDefined(s.compositions_catalogue_url)?(d.getSource().clear(),angular.isDefined(f.canceler)&&(f.canceler.resolve(),delete f.canceler),f.canceler=e.defer(),o.get(function(t,e){var n=t.query,o=s.compositions_catalogue_url.indexOf("cswClientRun.php")>0?",":" ",i=angular.isDefined(s.compositions_catalogue)&&angular.isDefined(s.compositions_catalogue.serviceName)?"serviceName=&"+s.compositions_catalogue.serviceName:"";e=t.filterExtent?encodeURIComponent(" and BBOX='"+e.join(o)+"'"):"";var r=!1,a=n&&angular.isDefined(n.title)&&""!=n.title?encodeURIComponent(" AND title like '*"+n.title+"*' OR abstract like '*"+n.title+"*'"):"",l=[],c="",u="";return angular.forEach(t.keywords,function(t,e){t&&l.push("subject='"+e+"'")}),l.length>0&&(c=encodeURIComponent(" AND ("+l.join(" OR ")+")")),angular.isDefined(s.hostname)&&(s.hostname.user&&s.hostname.user.url?u=s.hostname.user.url:s.hostname.compositions_catalogue?(u=s.hostname.compositions_catalogue.url,r=!0):s.hostname&&s.hostname.default&&(u=s.hostname.default.url)),r||(u.indexOf("http")>-1?u+=s.compositions_catalogue_url.replace(/^.*\/\/[^\/]+/,""):u+=s.compositions_catalogue_url),u+="?format=json&"+i+"query=type%3Dapplication"+e+a+c+"&lang=eng&sortBy="+t.sortBy+"&detail=summary&start="+t.start+"&limit="+t.limit,u=p.proxify(u)}(n,c),{timeout:f.canceler.promise}).then(function(e){f.compositionsLoaded=!0,e=e.data,f.data.compositions=e.records,e.records&&e.records.length>0?f.data.compositionsCount=e.matched:f.data.compositionsCount=0,f.data.next=e.next,angular.forEach(f.data.compositions,function(t){var e={record:t,hs_notqueryable:!0,highlighted:!1};t.editable=!1,angular.isUndefined(t.thumbnail)&&(t.thumbnail=h.endpointUrl()+"?request=loadthumb&id="+t.id);var n=a.parseExtent(t.bbox);if(!(n[0]<l[0]&&n[2]>l[2]||n[1]<l[1]&&n[3]>l[3])){e.geometry=ol.geom.Polygon.fromExtent(n),e.is_hs_composition_extent=!0;var o=new ol.Feature(e);t.feature=o,d.getSource().addFeatures([o])}}),t.$broadcast("CompositionsLoaded"),f.loadStatusManagerCompositions(n,c)},function(t){})):f.loadStatusManagerCompositions(n,c)},f.loadStatusManagerCompositions=function(t,e){var n,i=h.endpointUrl(),r=t.query,l=r&&angular.isDefined(r.title)&&""!=r.title?"&q="+encodeURIComponent("*"+r.title+"*"):"";i+="?request=list&project="+encodeURIComponent(s.project_name)+"&extent="+e.join(",")+l+"&start=0&limit=1000&sort="+(n=t.sortBy,encodeURIComponent({bbox:'[{"property":"bbox","direction":"ASC"}]',title:'[{"property":"title","direction":"ASC"}]',date:'[{"property":"date","direction":"ASC"}]'}[n])),i=p.proxify(i),f.canceler.resolve(),o.get(i,{timeout:f.canceler.promise}).then(function(t){t=t.data,angular.isUndefined(f.data.compositions)&&(f.data.compositions=[],f.data.compositionsCount=0),angular.forEach(t.results,function(t){var e=!1;if(angular.forEach(f.data.compositions,function(n){n.id==t.id&&(angular.isDefined(t.edit)&&(n.editable=t.edit),e=!0)}),!e){t.editable=!1,angular.isDefined(t.edit)&&(t.editable=t.edit),angular.isUndefined(t.link)&&(t.link=h.endpointUrl()+"?request=load&id="+t.id),angular.isUndefined(t.thumbnail)&&(t.thumbnail=h.endpointUrl()+"?request=loadthumb&id="+t.id);var n={record:t,hs_notqueryable:!0,highlighted:!1};n.geometry=ol.geom.Polygon.fromExtent(a.parseExtent(t.extent)),t.feature=new ol.Feature(n),d.getSource().addFeatures([t.feature]),t&&(f.data.compositions.push(t),f.data.compositionsCount=f.data.compositionsCount+1)}})},function(t){})},f.resetCompositionCounter=function(){f.data.start=0,f.data.next=f.data.limit},f.deleteComposition=function(e){var n=h.endpointUrl()+"?request=delete&id="+e.id+"&project="+encodeURIComponent(s.project_name);n=p.proxify(n),o({url:n}).then(function(n){t.$broadcast("compositions.composition_deleted",e.id),f.loadCompositions()},function(t){})},f.highlightComposition=function(t,e){angular.isDefined(t.feature)&&t.feature.set("highlighted",e)},angular.isDefined(i.map)?g():t.$on("map.loaded",function(){g()}),t.$on("compositions.composition_edited",function(t){a.composition_edited=!0}),t.$on("compositions.load_composition",function(t,e){e=h.endpointUrl()+"?request=load&id="+e,a.load(e)}),t.$on("infopanel.feature_selected",function(t,e,n){if(angular.isDefined(e.get("is_hs_composition_extent"))&&angular.isDefined(e.get("record"))){var o=e.get("record");f.data.useCallbackForEdit=!1,e.set("highlighted",!1),n.getFeatures().clear(),f.loadComposition(o)}}),f.shareComposition=function(e){var i=(r.isMobile()&&s.permalinkLocation?s.permalinkLocation.origin+s.permalinkLocation.pathname:n.protocol()+"://"+location.host+location.pathname)+"?composition="+encodeURIComponent(e.link),a=p.generateUuid();o({method:"POST",url:h.endpointUrl(),data:JSON.stringify({request:"socialShare",id:a,url:encodeURIComponent(i),title:e.title,description:e.abstract,image:e.thumbnail||"https://ng.hslayers.org/img/logo.jpg"})}).then(function(n){p.shortUrl(h.endpointUrl()+"?request=socialshare&id="+a).then(function(t){f.data.shareUrl=t}).catch(function(){console.log("Error creating short Url")}),f.data.shareTitle=e.title,s.social_hashtag&&f.data.shareTitle.indexOf(s.social_hashtag)<=0&&(f.data.shareTitle+=" "+s.social_hashtag),f.data.shareDescription=e.abstract,t.$$phase||t.$digest(),t.$broadcast("composition.shareCreated",f.data)},function(t){})},f.getCompositionInfo=function(t,e){a.loadInfo(t.link,function(n){f.data.info=n,f.data.info.thumbnail=t.thumbnail,e(f.data.info)})},f.loadCompositionParser=function(e){var n=e.link;e.title,1==a.composition_edited?t.$broadcast("loadComposition.notSaved",e):f.loadComposition(n,!0)},f.loadComposition=function(t,e){a.load(t,e,f.data.useCallbackForEdit?m:null)},t.$on("core.map_reset",function(t,e){a.composition_loaded=null,a.composition_edited=!1}),t.$on("core.mainpanel_changed",function(t){angular.isDefined(d)&&("composition_browser"===r.mainpanel||"composition"===r.mainpanel?d.setVisible(!0):d.setVisible(!1))}),f}])}})},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],6:[function(t,e,n){var angular,ol;e.exports=(angular=t("angular"),ol=t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),t("map"),t("ows_nonwms"),t("config_parsers"),{init(){angular.module("hs.compositions").service("hs.compositions.service_parser",["hs.map.service","config","Core","$rootScope","$http","hs.utils.service","hs.ows.nonwms.service","hs.compositions.config_parsers.service",function(t,e,n,o,i,r,a,s){var l={composition_loaded:null,composition_edited:!1,utils:r,current_composition_title:"",load:function(t,e,n,a){l.current_composition_url=t,t=t.replace("&amp;","&"),t=r.proxify(t),i({url:t}).then(function(i){o.$broadcast("compositions.composition_loading",i.data),1==i.data.success?(l.composition_loaded=t,angular.isDefined(a)&&(i=a(i.data)),l.loadCompositionObject(i.data||i,e,i.title,i.extent),angular.isDefined(n)&&null!==n&&n()):l.raiseCompositionLoadError(i.data)},function(t){})},loadCompositionObject:function(e,n,o,i){(angular.isUndefined(n)||1==n)&&l.removeCompositionLayers(),l.current_composition=e,l.current_composition_title=o||e.title,t.map.getView().fit(l.parseExtent(i||e.extent),t.map.getSize());for(var r=l.jsonToLayers(e),a=0;a<r.length;a++)t.addLayer(r[a]);angular.isObject(e.current_base_layer)&&t.map.getLayers().forEach(function(t){t.get("title")==e.current_base_layer.title&&t.setVisible(!0)}),l.finalizeCompositionLoading()},finalizeCompositionLoading:function(){e.open_lm_after_comp_loaded&&n.setMainPanel("layermanager"),l.composition_edited=!1,o.$broadcast("compositions.composition_loaded",response)},raiseCompositionLoadError:function(t){var e={};switch(e.error=t.error,t.error){case"no data":e.title="Composition not found",e.abstract="Sorry but composition was deleted or incorrectly saved"}o.$broadcast("compositions.composition_loaded",e)},removeCompositionLayers:function(){var e=[];for(t.map.getLayers().forEach(function(t){t.get("from_composition")&&e.push(t)});e.length>0;)t.map.removeLayer(e.shift())},loadInfo:function(t,e){var n={};t=t.replace("&amp;","&"),t=r.proxify(t),i({url:t}).then(function(t){n=t.data.data||t.data,o.$broadcast("compositions.composition_info_loaded",t.data),e(n)},function(t){})},parseExtent:function(e){"string"==typeof e&&(e=e.split(" "));var n=[parseFloat(e[0]),parseFloat(e[1])],o=[parseFloat(e[2]),parseFloat(e[3])];return n=ol.proj.transform(n,"EPSG:4326",t.map.getView().getProjection()),o=ol.proj.transform(o,"EPSG:4326",t.map.getView().getProjection()),[n[0],n[1],o[0],o[1]]},jsonToLayers:function(t){var e=[];t.data&&(t=t.data);for(var n=0;n<t.layers.length;n++){var o=t.layers[n];e.push(l.jsonToLayer(o))}return e},jsonToLayer:function(t){switch(t.className){case"HSLayers.Layer.WMS":return s.createWmsLayer(t);case"OpenLayers.Layer.Vector":return s.createVectorLayer(t)}}};return l}])}})},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],7:[function(t,e,n){void 0!==window.hslMin&&1==window.hslMin?window.hslMin=".min":window.hslMin="","undefined"==typeof hsl_path&&(hsl_path="./");var angular,o=window.nm_path||(hsl_path.indexOf("node_modules")>-1?hsl_path.substr(0,hsl_path.indexOf("node_modules")+13):hsl_path+"node_modules/");"hslayers-ng/"==hsl_path&&(o="./"),window.require&&window.require.config&&window.require.config({paths:{ngAnimate:o+"angular-animate/angular-animate"+hslMin,ngAria:o+"angular-aria/angular-aria"+hslMin,ngMessages:o+"angular-messages/angular-messages"+hslMin,"angular-material":o+"angular-material/angular-material"+hslMin,jquery:o+"jquery/dist/jquery"+hslMin,ol:requirejs.s.contexts._.config.paths.ol||(".min"==hslMin?o+"openlayers/dist/ol":o+"openlayers/dist/ol-debug"),angular:o+"angular/angular"+hslMin,"angular-sanitize":o+"angular-sanitize/angular-sanitize"+hslMin,"angular-gettext":o+"angular-gettext/dist/angular-gettext"+hslMin,"angular-socialshare":o+"angular-socialshare/dist/angular-socialshare"+hslMin,bottomSheetCollapsible:o+"angular-material-bottom-sheet-collapsible/bottomSheetCollapsible",hammer:o+"hammerjs/hammer"+hslMin,bootstrap:requirejs.s.contexts._.config.paths.bootstrap||o+"bootstrap/dist/js/bootstrap.bundle"+hslMin,"bootstrap.bundle":requirejs.s.contexts._.config.paths.bootstrap||o+"bootstrap/dist/js/bootstrap.bundle"+hslMin,draw:hsl_path+"components/draw/draw",d3:requirejs.s.contexts._.config.paths.d3||o+"d3/build/d3"+hslMin,"angular-cookies":o+"angular-cookies/angular-cookies"+hslMin,proj4:requirejs.s.contexts._.config.paths.proj4||o+"proj4/dist/proj4",api:requirejs.s.contexts._.config.paths.api||hsl_path+"components/api/api"+hslMin,compositions:hsl_path+"components/compositions/compositions"+hslMin,Cesium:o+"cesium/Build/Cesium/Cesium",datasource_selector:hsl_path+"components/datasource_selector/datasource_selector"+hslMin,drag:hsl_path+"components/drag/drag"+hslMin,feature_filter:hsl_path+"components/feature_filter/feature_filter"+hslMin,geojson:requirejs.s.contexts._.config.paths.geojson||hsl_path+"components/layers/hs.source.GeoJSON"+hslMin,geolocation:requirejs.s.contexts._.config.paths.geolocation||hsl_path+"components/geolocation/geolocation"+hslMin,info:requirejs.s.contexts._.config.paths.info||hsl_path+"components/info/info"+hslMin,layermanager:hsl_path+"components/layermanager/layermanager"+hslMin,legend:hsl_path+"components/legend/legend"+hslMin,lodexplorer:hsl_path+"components/lodexplorer/lodexplorer"+hslMin,map:hsl_path+"components/map/map"+hslMin,measure:hsl_path+"components/measure/measure"+hslMin,language:hsl_path+"components/language/language"+hslMin,mobile_toolbar:requirejs.s.contexts._.config.paths.mobile_toolbar||hsl_path+"components/mobile_toolbar/mobile_toolbar",mobile_settings:requirejs.s.contexts._.config.paths.mobile_settings||hsl_path+"components/mobile_settings/mobile_settings",moment:o+"moment/min/moment.min","moment-interval":o+"moment-interval/src/moment-interval",ows:hsl_path+"components/ows/ows"+hslMin,ows_nonwms:hsl_path+"components/ows/ows_nonwms"+hslMin,ows_wfs:hsl_path+"components/ows/ows_wfs"+hslMin,ows_wms:hsl_path+"components/ows/ows_wms"+hslMin,ows_wmts:hsl_path+"components/ows/ows_wmts"+hslMin,permalink:requirejs.s.contexts._.config.paths.permalink||hsl_path+"components/permalink/permalink"+hslMin,print:hsl_path+"components/print/print"+hslMin,query:hsl_path+"components/query/query"+hslMin,require:o+"requirejs/requirejs/require",sidebar:requirejs.s.contexts._.config.paths.sidebar||hsl_path+"components/sidebar/sidebar"+hslMin,search:hsl_path+"components/search/search"+hslMin,"hs.source.SparqlJson":requirejs.s.contexts._.config.paths.SparqlJson||hsl_path+"components/layers/hs.source.SparqlJson"+hslMin,status_creator:hsl_path+"components/status_creator/status_creator"+hslMin,styles:hsl_path+"components/styles/styles"+hslMin,toolbar:requirejs.s.contexts._.config.paths.toolbar||hsl_path+"components/toolbar/toolbar"+hslMin,translations:requirejs.s.contexts._.config.paths.translations||hsl_path+"components/translations/js/translations",utils:hsl_path+"components/utils/utils"+hslMin,"hs.format.WFSCapabilities":requirejs.s.contexts._.config.paths.WFSCapabilities||hsl_path+"components/format/hs.format.WFSCapabilities"+hslMin,"ol.popup":requirejs.s.contexts._.config.paths.olPopup||hsl_path+"components/format/ol.popup"+hslMin,"hs.source.Wfs":requirejs.s.contexts._.config.paths.WfsSource||hsl_path+"components/layers/hs.source.Wfs"+hslMin,routing:hsl_path+"components/routing/routing"+hslMin,tracking:hsl_path+"components/tracking/tracking"+hslMin,"angular-drag-and-drop-lists":o+"angular-drag-and-drop-lists/angular-drag-and-drop-lists"+hslMin,focusIf:o+"ng-focus-if/focusIf"+hslMin,"update-meta":o+"angular-update-meta/dist/update-meta"+hslMin,socketio:o+"socket.io-client/socket.io"+hslMin,rtserver:requirejs.s.contexts._.config.paths.rtserver||hsl_path+"components/rtserver/rtserver"+hslMin,config_parsers:hsl_path+"components/compositions/config_parsers"+hslMin,layout:requirejs.s.contexts._.config.paths.layout||hsl_path+"components/layout/layout"+hslMin},shim:{angular:{exports:"angular"},hammer:{exports:"hammer"},ngAnimate:{deps:["angular"]},ngAria:{deps:["angular"]},"angular-material":{deps:["ngAnimate","ngAria","hammer"]},bottomSheetCollapsible:{deps:["angular-material"]},"angular-socialshare":{deps:["angular"]},focusIf:{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-drag-and-drop-lists":{deps:["angular"]},"update-meta":{deps:["angular"]},"angular-gettext":{deps:["angular"]},"angular-cookies":{deps:["angular"]},translations:{deps:["angular-gettext"]},translations_extended:{deps:["angular-gettext"]}},priority:["angular"]}),angular=t("angular"),t("angular-gettext"),t("translations"),t("ol"),t("map"),t("drag"),t("api"),t("proj4"),t("layout"),angular.module("hs.core",["hs.map","gettext","gettext","hs.drag","hs.layout","hs.api"]).service("Core",["$rootScope","$controller","$injector","$window","hs.map.service","gettextCatalog","config","$templateCache","$timeout",function(t,e,n,i,r,a,s,l,c){angular.isUndefined(s.hsl_path)&&window.hsl_path&&(s.hsl_path=hsl_path);var u={config:s,scopes_registered:[],mainpanel:"",defaultPanel:"",sidebarExpanded:!1,sidebarRight:!0,sidebarLabels:!0,sidebarToggleable:!0,sidebarButtons:!0,classicSidebar:!0,singleDatasources:!1,embededEnabled:!0,smallWidth:!1,panel_statuses:{},panel_enabled:{},_exist_cache:{},current_panel_queryable:!1,sizeOptions:{element:void 0,windowedMap:void 0,selector:void 0},puremapApp:!1,language:"en",setMainPanel:function(e,n,o){u.panelEnabled(e)&&(e==u.mainpanel&&n?(e="",1==u.sidebarExpanded&&(u.sidebarLabels=!0)):(u.sidebarExpanded=!0,u.sidebarLabels=!1),u.mainpanel=e,u.current_panel_queryable=void 0===o||o,t.$$phase||t.$digest(),t.$broadcast("core.mainpanel_changed"))},setDefaultPanel:function(t){u.defaultPanel=t,u.setMainPanel(t)},panelVisible:function(t,e){return angular.isDefined(e)&&angular.isUndefined(e.panel_name)&&(e.panel_name=t),angular.isDefined(u.panel_statuses[t])?u.panel_statuses[t]&&u.panelEnabled(t):u.mainpanel==t||angular.isDefined(e)&&e.unpinned},panelEnabled:function(t,e){if(void 0===e)return!angular.isDefined(u.panel_enabled[t])||u.panel_enabled[t];u.panel_enabled[t]=e},hidePanels:function(){u.mainpanel="",u.sidebarLabels=!0,u.exists("hs.sidebar.controller")||(u.sidebarExpanded=!1),t.$$phase||t.$digest(),t.$broadcast("core.mainpanel_changed")},closePanel:function(e){e.unpinned&&(e.drag_panel.appendTo($(e.original_container)),e.drag_panel.css({top:"auto",left:"auto",position:"relative"})),e.unpinned=!1,e.panel_name==u.mainpanel&&(""!=u.defaultPanel?u.setMainPanel(u.defaultPanel):(u.mainpanel="",u.sidebarLabels=!0),u.exists("hs.sidebar.controller")||(u.sidebarExpanded=!1)),t.$broadcast("core.mainpanel_changed",e)},exists:function(t){if(angular.isDefined(u._exist_cache[t]))return!0;if(t in n.modules)return u._exist_cache[t]=!0,!0;try{return e(t),u._exist_cache[t]=!0,!0}catch(e){var o=!(e instanceof TypeError);return o&&(u._exist_cache[t]=!0),o}},init:function(t,e){u.initCalled||(angular.isUndefined(e)&&(e={}),angular.isDefined(e.windowedMap)&&(u.sizeOptions.windowedMap=e.windowedMap),u.sizeOptions.element=t,angular.isDefined(e.innerElement)&&document.getElementById(e.innerElement.replace("#",""))&&(u.sizeOptions.innerElement=document.getElementById(e.innerElement.replace("#",""))),angular.isDefined(e.parent)?(u.sizeOptions.selector=t.parent(),u.initSizeListeners(),u.updateElementSize()):angular.isDefined(e.element)?(u.sizeOptions.selector=e.element,u.initSizeListeners(),u.updateElementSize()):(u.initSizeListeners(),u.updateMapSize()),u.initCalled=!0)},setSizeByContainer:function(t){u.sizeOptions.selector=1==t?u.sizeOptions.element.parent():options.element,u.updateElementSize()},setSizeByCSS:function(t,e){angular.isDefined(u.sizeOptions.selector)&&(u.sizeOptions.selector=void 0);var n=u.sizeOptions.element;n.style.height=t+"px",n.style.width=e+"px",u.updateMapSize()},initSizeListeners:function(){var e=i;e.addEventListener("resize",function(){angular.isUndefined(u.sizeOptions.selector)?u.updateMapSize():u.updateElementSize()}),u.deregisterOnSizeChanged&&u.deregisterOnSizeChanged(),u.deregisterOnSizeChanged=t.$on("Core_sizeChanged",function(){angular.isUndefined(u.sizeOptions.selector)?u.updateMapSize():u.updateElementSize()}),void 0==u.sizeOptions.selector?u.updateMapSize():u.updateElementSize(),e.addEventListener("load",function(){angular.isUndefined(u.sizeOptions.selector)?u.updateMapSize():u.updateElementSize()})},updateElementSize:function(){var t=u.sizeOptions.element[0],e=u.sizeOptions.selector[0];t.style.height=e.clientHeight+"px",t.style.width=e.offsetWidth+"px",u.updateMapSize()},updateMapSize:function(){var e=angular.isDefined(u.sizeOptions.innerElement)?u.sizeOptions.innerElement:u.sizeOptions.element[0],n=document.getElementById("map");if(null!=n){var o=null;document.getElementsByClassName("panelspace").length>0&&(o=document.getElementsByClassName("panelspace")[0]);var i={width:0,height:e.clientHeight};u.puremapApp?i.width=e.offsetWidth:null==o?i.width=e.offsetWidth:null!=o&&e.offsetWidth>o.offsetWidth&&(i.width=e.offsetWidth-o.offsetWidth),n.style.height=i.height+"px",n.style.width=i.width+"px",angular.isDefined(r.map)&&r.map.updateSize(),n.offsetWidth<368?u.smallWidth=!0:u.smallWidth=!1,t.$$phase||t.$digest(),t.$broadcast("Core.mapSizeUpdated",i)}},fullScreenMap:function(t){document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%",document.body.style.height="100%",u.init(t,{parent:!0})},setLanguage:function(t){switch(t){case"cs_CZ":t="cs";break;case"nl_BE":t="nl"}a.setCurrentLanguage(t),u.language=t},getCurrentLanguageCode:function(){return void 0===u.language||""==u.language?"EN":u.language.substr(0,2).toUpperCase()},openStatusCreator:function(){t.$broadcast("StatusCreator.open")},searchVisible:function(t){return arguments.length>0&&(u.panel_statuses.search=t),u.panel_statuses.search},isAuthorized:function(){return!angular.isDefined(window.getLRUser)&&angular.isUndefined(u.missingLRFunctionsWarned)&&(console&&console.warn("window.getLRUser function needs to be defined, which usually comes from liferay."),u.missingLRFunctionsWarned=!0),angular.isDefined(window.getLRUser)&&window.getLRUser(),!0},resetMap:function(){r.reset(),t.$broadcast("core.map_reset",{})},isMobile:function(){return window.cordova?"mobile":""},getNmPath:function(){return o}};return l.removeAll(),u.exists("hs.sidebar.controller")&&(u.sidebarExpanded=!0),""!=u.defaultPanel&&u.setMainPanel(u.defaultPanel),u}])},{angular:59,"angular-gettext":51,api:1,drag:9,layout:24,map:26,ol:65,proj4:66,translations:41}],8:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),t("map"),angular.module("hs.datasource_selector",["hs.map","hs.ows.wms","hs.ows.nonwms"]).directive("hs.datasourceSelector.directive",["config",function(t){return{templateUrl:t.hsl_path+"components/datasource_selector/partials/datasource_selector.html"}}]).directive("hs.datasourceSelector.metadataDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/datasource_selector/partials/dialog_metadata.html",link:function(t,e,n){t.metadataModalVisible=!0}}}]).directive("hs.datasourceSelector.advancedMickaDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/datasource_selector/partials/dialog_micka_advanced.html",link:function(t,e,n){t.modalVisible=!0}}}]).directive("hs.datasourceSelector.suggestionsDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/datasource_selector/partials/dialog_micka_suggestions.html",link:function(t,e,n){t.suggestionsModalVisible=!0,t.data.suggestionFilter=t.data.query[t.data.suggestionConfig.input],document.getElementById("ds-sug-filter").focus(),t.DS.suggestionFilterChanged()}}}]).directive("hs.datasourceSelector.objectDirective",["$compile","config",function(t,e){return{templateUrl:e.hsl_path+"components/datasource_selector/partials/object.html",compile:function(e){var n,o=e.contents().remove();return function(e,i){e.isIteratable=function(t){return"object"==typeof t},null==e.value?e.obj="-":e.obj=e.value,angular.isUndefined(n)&&(n=t(o)),n(e,function(t){i.append(t)})}}}}]).service("hs.datasource_selector.service",["$rootScope","hs.map.service","Core","config","$http","$q","hs.utils.service","hs.ows.nonwms.service",function(t,e,n,o,i,r,a,s){var l=this;this.data={},this.data.query={textFilter:"",title:"",type:"service",Subject:""},this.data.paging=o.dsPaging||10,this.data.textField="AnyText",this.data.selectedLayer=null,this.data.filterByExtent=!0,this.data.datasets=void 0,this.data.mickaDS=void 0,this.data.suggestionConfig={},this.data.suggestions=[],this.data.suggestionsLoaded=!0,this.data.datasources=o.datasources||[];var c=new ol.layer.Vector({title:"Datasources extents",show_in_manager:!1,source:new ol.source.Vector,style:function(t,e){return[new ol.style.Style({stroke:new ol.style.Stroke({color:"#005CB6",width:t.get("highlighted")?4:1}),fill:new ol.style.Fill({color:"rgba(0, 0, 255, 0.01)"})})]}});function u(t){return void 0!==l.data.query[t]?"type"==t&&"data"==l.data.query[t]?encodeURIComponent("(type='dataset' OR type='nonGeographicDataset' OR type='series' OR type='tile')"):""!=l.data.query[t]?encodeURIComponent(t+"='"+l.data.query[t]+"'"):"":"ServiceType"==t?encodeURIComponent("(ServiceType=view OR ServiceType=download OR ServiceType=WMS OR ServiceType=WFS OR Format like '*KML*' OR Format like '*GeoJSON*' OR Format like '*application/sparql-results+json*')"):""}function p(t){var n={record:t,hs_notqueryable:!0,highlighted:!1},o=t.bbox.split(" "),i=[parseFloat(o[0]),parseFloat(o[1])],r=[parseFloat(o[2]),parseFloat(o[3])],a=e.map.getView().getProjection().getExtent();if(i=ol.proj.transform(i,"EPSG:4326",e.map.getView().getProjection()),r=ol.proj.transform(r,"EPSG:4326",e.map.getView().getProjection()),isFinite(i[0])||(i[0]=a[0]),isFinite(i[1])||(i[1]=a[1]),isFinite(r[0])||(r[0]=a[2]),isFinite(r[1])||(r[1]=a[3]),!(isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1]))){var s=[i[0],i[1],r[0],r[1]];n.geometry=ol.geom.Polygon.fromExtent(s);var l=new ol.Feature(n);t.feature=l,c.getSource().addFeatures([l])}}function h(){return l.data.datasources.length>0&&angular.isUndefined(l.data.datasources[0].loaded)}function d(){return n.panelVisible("datasource_selector")||n.panelVisible("datasourceBrowser")}function f(){e.map.on("pointermove",function(e){var n=c.getSource().getFeaturesAtCoordinate(e.coordinate),o=!1;angular.forEach(c.getSource().getFeatures(),function(){this.get("record").highlighted&&(this.get("record").highlighted=!1,o=!0)}),n.length&&$(n).each(function(){this.get("record").highlighted||(this.get("record").highlighted=!0,o=!0)}),o&&!t.$$phase&&t.$digest()}),t.$on("map.extent_changed",function(t){d()&&l.data.filterByExtent&&l.loadDatasets(l.data.datasources)}),e.map.addLayer(c),h()&&d()&&(l.loadDatasets(l.data.datasources),l.fillCodesets(l.data.datasources)),t.$on("core.mainpanel_changed",function(t){h()&&d()&&(l.loadDatasets(l.data.datasources),l.fillCodesets(l.data.datasources)),c.setVisible(d())})}return this.loadDatasets=function(t){for(var e in l.data.datasets=t,c.getSource().clear(),l.data.datasets)l.data.datasets[e].start=0,l.loadDataset(l.data.datasets[e])},this.loadDataset=function(t){switch(t.type){case"micka":var n=ol.proj.transformExtent(e.map.getView().calculateExtent(e.map.getSize()),e.map.getView().getProjection(),"EPSG:4326"),o=l.data.filterByExtent?"BBOX='"+n.join(" ")+"'":"",s=encodeURIComponent,h=angular.isDefined(l.data.query.textFilter)&&l.data.query.textFilter.length>0?l.data.query.textFilter:l.data.query.title,d=[""!=h?l.data.textField+s(" like '*"+h+"*'"):"",s(o),u("ServiceType"),u("topicCategory"),u("Subject"),u("Denominator"),u("OrganisationName"),u("keywords")].filter(function(t){return""!=t}).join("%20AND%20"),f=t.url+"?request=GetRecords&format=application/json&language="+t.language+"&query="+d+(void 0!==l.data.query.sortby&&""!=l.data.query.sortby?"&sortby="+l.data.query.sortby:"&sortby=bbox")+"&limit="+l.data.paging+"&start="+t.start;f=a.proxify(f),t.loaded=!1,angular.isDefined(t.canceler)&&(t.canceler.resolve(),delete t.canceler),t.canceler=r.defer(),i.get(f,{timeout:t.canceler.promise}).then(function(e){if(t.loading=!1,angular.forEach(t.layers,function(t){try{void 0!==t.feature&&null!=t.feature&&c.getSource().removeFeature(t.feature)}catch(t){}}),t.layers=[],t.loaded=!0,null==e.data)t.matched;else for(var n in e=e.data,t.matched=e.matched,t.next=e.next,e.records)if(e.records[n]){var o=e.records[n];t.layers.push(o),p(o)}},function(e){t.loaded=!0})}},this.fillCodesets=function(t){for(var e in t)l.fillCodeset(l.data.datasets[e])},this.fillCodeset=function(t){switch(t.type){case"micka":var e=t.code_list_url;e=a.proxify(e),void 0===t.code_lists&&(t.code_lists={serviceType:[],applicationType:[],dataType:[],topicCategory:[]}),angular.isDefined(t.canceler)&&(t.canceler.resolve(),delete t.canceler),t.canceler=r.defer(),i.get(e,{timeout:t.canceler.promise}).then(function(e){$("map serviceType value",e).each(function(){t.code_lists.serviceType.push({value:$(this).attr("name"),name:$(this).html()})}),$("map applicationType value",e).each(function(){t.code_lists.applicationType.push({value:$(this).attr("name"),name:$(this).html()})}),$("map applicationType value",e).each(function(){t.code_lists.applicationType.push({value:$(this).attr("name"),name:$(this).html()})}),$("map topicCategory value",e).each(function(){t.code_lists.topicCategory.push({value:$(this).attr("name"),name:$(this).html()})}),l.advancedMickaTypeChanged()},function(t){})}},this.advancedMickaTypeChanged=function(){if(void 0!==l.data.mickaDS&&void 0!==l.data.mickaDS.code_lists)switch(l.data.query.type){case"service":l.data.mickaDS.level2_types=l.data.mickaDS.code_lists.serviceType;break;case"application":l.data.mickaDS.level2_types=l.data.mickaDS.code_lists.applicationType}},this.checkAdvancedMicka=function(){if(angular.isUndefined(l.data.mickaDS))for(var t in l.data.datasets)"micka"==l.data.datasets[t].type&&(l.data.mickaDS=l.data.datasets[t]);""!=l.data.query.title&&(l.data.query.textFilter=l.data.query.title)},this.changeSuggestionConfig=function(t,e,n){l.data.suggestionConfig={input:t,param:e,field:n}},this.suggestionFilterChanged=function(){void 0!==l.suggestionAjax&&l.suggestionAjax.abort();var e=l.data.mickaDS.url+"../util/suggest.php?&type="+l.data.suggestionConfig.param+"&query="+l.data.suggestionFilter;e=a.proxify(e),l.data.suggestionsLoaded=!1,l.suggestionAjax=$.ajax({url:e,cache:!1,dataType:"json",success:function(e){l.data.suggestionsLoaded=!0,l.data.suggestions=e.records,delete l.suggestionAjax,t.$$phase||t.$digest()}})},this.addSuggestion=function(t){l.data.query[l.data.suggestionConfig.input]=t},this.isZoomable=function(t){return angular.isDefined(t.bbox)},this.zoomTo=function(t){if(void 0!==t){var n=t.split(" "),o=[parseFloat(n[0]),parseFloat(n[1])],i=[parseFloat(n[2]),parseFloat(n[3])];if(o=ol.proj.transform(o,"EPSG:4326",e.map.getView().getProjection()),i=ol.proj.transform(i,"EPSG:4326",e.map.getView().getProjection()),!(isNaN(o[0])||isNaN(o[1])||isNaN(i[0])||isNaN(i[1]))){var r=[o[0],o[1],i[0],i[1]];e.map.getView().fit(r,e.map.getSize())}}},this.layerDownload=function(t,e){return 1==t.download&&["kml","geojson","json"].indexOf(e.formats[0].toLowerCase())>-1&&e.url.length>0?e.url:"#"},this.layerRDF=function(t,e){return t.url+"?request=GetRecordById&id="+e.id+"&outputschema=http://www.w3.org/ns/dcat%23"},this.addLayerToMap=function(t,e){if("micka"==t.type)if("service"==e.trida){if("WMS"==e.serviceType||"OGC:WMS"==e.serviceType||"view"==e.serviceType)return"WMS";if(e.link.toLowerCase().indexOf("sparql")>-1)s.add("sparql",e.link,e.title||"Layer",e.abstract,!0,"EPSG:4326");else{if("WFS"==e.serviceType||"OGC:WFS"==e.serviceType||"download"==e.serviceType)return"WFS";if(e.formats&&["kml","geojson","json"].indexOf(e.formats[0].toLowerCase())>-1){switch(e.formats[0].toLowerCase()){case"kml":s.add("kml",e.link,e.title||"Layer",e.abstract,!0,"EPSG:4326");break;case"json":case"geojson":s.add("geojson",e.link,e.title||"Layer",e.abstract,!1,"EPSG:4326")}return}alert('Service type "'+e.serviceType+'" not supported.')}}else if("dataset"==e.trida){if(["kml","geojson","json"].indexOf(e.formats[0].toLowerCase())>-1){switch(e.formats[0].toLowerCase()){case"kml":s.add("kml",e.link,e.title||"Layer",e.abstract,!0,"EPSG:4326");break;case"json":case"geojson":s.add("geojson",e.link,e.title||"Layer",e.abstract,!1,"EPSG:4326")}return}}else alert('Datasource type "'+e.trida+'" not supported.')},this.highlightComposition=function(t,e){void 0!==t.feature&&t.feature.set("highlighted",e)},this.clear=function(){l.data.query.textFilter="",l.data.query.title="",l.data.query.Subject="",l.data.query.keywords="",l.data.query.OrganisationName="",l.data.query.sortby=""},angular.isDefined(e.map)?f():t.$on("map.loaded",function(){f()}),l}]).controller("hs.datasource_selector.controller",["$scope","Core","$compile","hs.utils.service","$http","hs.datasource_selector.service","config","$mdDialog",function(t,e,n,o,i,r,a,s){t.data=r.data,t.DS=r,t.dsPaging=t.data.paging,t.wms_connecting=!1,t.config=a,t.advancedSearch=!1,t.id_selected=e.exists("hs.ows.controller")?"OWS":"",t.$on("ows.wms_connecting",function(){t.wms_connecting=!0}),t.datasetSelect=function(e){t.wms_connecting=!1,t.id_selected=e},a.datasources&&a.datasources.length>0&&i({method:"GET",url:o.proxify("http://opentransportnet.eu:8082/api/3/action/vocabulary_show?id=36c07014-c461-4f19-b4dc-a38106144e66")}).then(function(e){t.otn_keywords=[{title:"-"}],angular.forEach(e.data.result.tags,function(e){t.otn_keywords.push({title:e.name})})}),t.openMickaAdvancedSearch=function(){if(null==document.getElementById("ds-advanced-micka")){var e=angular.element("<div hs.datasource_selector.advanced_micka_dialog_directive></div>");n(e)(t),document.getElementById("hs-dialog-area").appendChild(e[0])}else t.modalVisible=!0;r.checkAdvancedMicka()},t.showSuggestions=function(e,o,i){if(r.changeSuggestionConfig(e,o,i),"md"===a.design)r.checkAdvancedMicka(),t.data.suggestionFilter=t.data.query[e],r.suggestionFilterChanged();else if(null==document.getElementById("ds-suggestions-micka")){var s=angular.element("<div hs.datasource_selector.suggestions_dialog_directive></span>");document.getElementById("hs-dialog-area").appendChild(s[0]),n(s)(t)}else{t.suggestionsModalVisible=!0;var l=document.getElementById("ds-sug-filter");t.data.suggestionFilter=t.data.query[e],l.focus(),r.suggestionFilterChanged()}},t.getPreviousRecords=function(e){e.start-t.data.dsPaging<0?(e.start=0,e.next=t.data.dsPaging):(e.start-=t.data.dsPaging,e.next=e.start+t.data.dsPaging),r.loadDataset(e)},t.getNextRecords=function(e){0!=e.next&&(e.start=Math.floor(e.next/t.data.dsPaging)*t.data.dsPaging,e.next+t.data.dsPaging>e.matched?e.next=e.matched:e.next+=t.data.dsPaging,r.loadDataset(e))},t.showMetadata=function(e,o,i){if(t.selected_layer=o,t.selected_ds=e,t.metadata=decomposeMetadata(o),"md"===a.design)c=i,s.show({parent:angular.element("#hsContainer"),targetEvent:c,clickOutsideToClose:!0,escapeToClose:!0,scope:t,preserveScope:!0,templateUrl:a.hsl_path+"materialComponents/panelContents/datasourceBrowserMetadata.html",controller:function(t,e){t.closeDialog=function(){e.hide()}}});else{t.$$phase||t.$digest();var r=document.getElementById("datasource_selector-metadata-dialog");r&&r.parentNode.removeChild(r);var l=angular.element("<div hs.datasource_selector.metadata_dialog_directive></span>");document.getElementById("hs-dialog-area").appendChild(l[0]),n(l)(t)}var c},t.addLayerToMap=function(n,o){var i=r.addLayerToMap(n,o);if("WMS"==i){e.singleDatasources?$('.dss-tabs a[href="#OWS"]').tab("show"):e.setMainPanel("ows");var a=o.link;hslayers_api.gui.Ows.setUrlAndConnect(decodeURIComponent(a),"WMS")}else"WFS"==i?(e.singleDatasources?$('.dss-tabs a[href="#OWS"]').tab("show"):e.setMainPanel("ows"),a=o.link,hslayers_api.gui.Ows.setUrlAndConnect(decodeURIComponent(a),"WFS")):e.setMainPanel("layermanager");t.metadataModalVisible=!1},t.setOtnKeyword=function(e){return"-"==e&&(e=""),t.query.Subject=e,r.loadDatasets(r.datasources),!1},t.$emit("scope_loaded","DatasourceSelector")}])},{angular:59,map:26,ol:65}],9:[function(t,e,n){var angular;(angular=t("angular")).module("hs.drag",[]).directive("hs.draggable",["$document","$window","config",function(t,e,n){return function(o,i,r){function a(){return angular.isUndefined(r.iswindow)||"true"==r.iswindow}if(!a()||!angular.isUndefined(n.draggable_windows)&&0!=n.draggable_windows){var s,l,c=0,u=0,p=0,h=0;i.css({cursor:"pointer",display:"block"}),o.unpinned=!1,o.drag_panel=i,$(".card-header:first",i).append($("<button>").attr("type","button").addClass("but-title-sm").click(function(){o.unpinned=!0,$(".card-header",i).css("cursor","move")}).append($("<span>").addClass("icon-share").attr("aria-hidden","true")).append($("<span>").addClass("sr-only").attr("translate","").html("Unpin"))),i.on("mousedown",function(n){!o.unpinned&&a()||(n.preventDefault(),n.offsetY>37)||(s=i.offset().left,l=i.offset().top,u=n.pageY,c=n.pageX,i.parent()[0]!=document.body&&(angular.element(e),i.css("width",i.width()+"px"),o.original_container=i.parent()[0],i.appendTo($(document.body)),i.css({top:l+"px",left:s+"px",position:"absolute"})),t.on("mousemove",d),t.on("mouseup",f))})}function d(t){h=l+t.pageY-u,p=s+t.pageX-c,o[r.hsDraggableOnmove](p+i.width()/2,h+i.height()/2),i.css({top:h+"px",left:p+"px"})}function f(){t.off("mousemove",d),t.off("mouseup",f)}}}])},{angular:59}],10:[function(t,e,n){e.exports=function(ol){if(window.allowWFS2){var t={};function e(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Keywords"==t.localName,"localName should be Keywords"),ol.xml.pushParseAndPop([],KEYWORDLIST_PARSERS_,t,e)}return NAMESPACE_URIS_WFS_=[null,"http://www.opengis.net/wfs/2.0","http://www.opengis.net/ows/1.1"],PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ServiceIdentification"==t.localName,"localName should be ServiceIdentification"),ol.xml.pushParseAndPop({},SERVICE_PARSERS_,t,e)}),ServiceProvider:ol.xml.makeObjectPropertySetter(function(t,e){goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("ServiceProvider"==t.localName,"localName should be ServiceProvider")}),OperationsMetadata:ol.xml.makeObjectPropertySetter(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("OperationsMetadata"==t.localName,"localName should be OperationsMetadata"),ol.xml.pushParseAndPop({},SERVICE_OPERATIONS_METADATA_PARSERS_,t,e)}),FeatureTypeList:ol.xml.makeObjectPropertySetter(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("FeatureTypeList"==t.localName,"localName should be Capability"),ol.xml.pushParseAndPop({},FEATURE_TYPELIST_PARSERS_,t,e)})}),SERVICE_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Keywords:ol.xml.makeObjectPropertySetter(e),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),SERVICE_OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{Operation:ol.xml.makeObjectPropertyPusher(function(t,e){goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Operation"==t.localName,"localName should be Operation");var n=ol.xml.pushParseAndPop({},OPERATIONTYPE_PARSERS_,t,e);return n.name=t.getAttribute("name"),n}),Parameter:ol.xml.makeObjectPropertyPusher(function(t,e){goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Parameter"==t.localName,"localName should be Parameter");var n={};return n.name=t.getAttribute("name"),n}),Constraint:ol.xml.makeObjectPropertyPusher(function(t,e){goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("Constraint"==t.localName,"localName should be Constraint");var n={};return n.name=t.getAttribute("name"),n})}),FEATURE_TYPELIST_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{FeatureType:ol.xml.makeObjectPropertyPusher(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("FeatureType"==t.localName,"localName should be Capability"),ol.xml.pushParseAndPop({},FEATURE_TYPE_PARSERS_,t,e)})}),FEATURE_TYPE_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Keywords:ol.xml.makeObjectPropertySetter(e),DefaultCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OtherCRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),OutputFormats:ol.xml.makeObjectPropertySetter(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("OutputFormats"==t.localName,"localName should be OutputFormats"),ol.xml.pushParseAndPop([],OUTPUTFORMATS_PARSERS_,t,e)}),WGS84BoundingBox:ol.xml.makeObjectPropertyPusher(function(t,e){}),MetadataURL:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{DCP:ol.xml.makeObjectPropertyPusher(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("DCP"==t.localName,"localName should be DCPType"),ol.xml.pushParseAndPop({},DCPTYPE_PARSERS_,t,e)})}),DCPTYPE_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{HTTP:ol.xml.makeObjectPropertySetter(function(t,e){return goog.asserts.assert(t.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("HTTP"==t.localName,"localName should be HTTP"),ol.xml.pushParseAndPop({},HTTP_PARSERS_,t,e)})}),HTTP_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),Post:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),OUTPUTFORMATS_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(NAMESPACE_URIS_WFS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),function(e){var n=new ol.xml.parse(e);return object=function(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==goog.dom.NodeType.ELEMENT)return o(n);function o(e){goog.asserts.assert(e.nodeType==goog.dom.NodeType.ELEMENT,"node.nodeType should be ELEMENT"),goog.asserts.assert("WFS_Capabilities"==e.localName,"localName should be WFS_Capabilities"),t.version=e.getAttribute("version").trim(),goog.asserts.assertString(t.version,"caps.version should be a string");var n=ol.xml.pushParseAndPop({version:t.version},PARSERS_,e,[]);return n||null}}return null}(n),object}}}(t("ol"))},{ol:65}],11:[function(t,e,n){var ol;(ol=t("ol")).Overlay.Popup=function(t){"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n});var e=t||{};void 0===e.autoPan&&(e.autoPan=!0),void 0===e.autoPanAnimation&&(e.autoPanAnimation={duration:250}),this.container=document.createElement("div"),this.container.className="ol-popup",this.closer=document.createElement("a"),this.closer.className="ol-popup-closer",this.closer.href="#",this.container.appendChild(this.closer);var n=this;this.closer.addEventListener("click",function(t){n.container.style.display="none",n.closer.blur(),t.preventDefault()},!1),this.content=document.createElement("div"),this.content.className="ol-popup-content",this.container.appendChild(this.content),ol.Overlay.Popup.enableTouchScroll_(this.content),ol.Overlay.call(this,Object.assign(e,{element:this.container}))},ol.inherits(ol.Overlay.Popup,ol.Overlay),ol.Overlay.Popup.prototype.show=function(t,e){return e instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(e)):this.content.innerHTML=e,this.container.style.display="block",this.content.scrollTop=0,this.setPosition(t),this},ol.Overlay.Popup.isTouchDevice_=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},ol.Overlay.Popup.enableTouchScroll_=function(t){if(ol.Overlay.Popup.isTouchDevice_()){var e=0;t.addEventListener("touchstart",function(t){e=this.scrollTop+t.touches[0].pageY},!1),t.addEventListener("touchmove",function(t){this.scrollTop=e-t.touches[0].pageY},!1)}},ol.Overlay.Popup.prototype.hide=function(){return this.container.style.display="none",this},ol.Overlay.Popup.prototype.isOpened=function(){return"block"==this.container.style.display}},{ol:65}],12:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),angular.module("hs.geolocation",["hs.map"]).directive("hs.geolocation.directive",["hs.map.service","hs.geolocation.service","Core","config",function(t,e,n,o){return{templateUrl:n.isMobile()?o.hsl_path+"components/geolocation/partials/geolocation_cordova.html":o.hsl_path+"components/geolocation/partials/geolocation.html",link:function(t,o,i){n.puremapApp||(n.isMobile()?(o.appendTo($("#menu")),$(".blocate").click(function(){$(".locate-mobile").toggleClass("ol-collapsed"),$("#toolbar").removeClass("show"),e.gpsStatus||$(".locate-mobile").hasClass("ol-collapsed")||(e.toggleGps(),e.toggleFeatures(!0))})):(o.appendTo($(".ol-overlaycontainer-stopevent")),$(".locate .blocate").click(function(){$(".locate").toggleClass("ol-collapsed"),e.geolocation.setTracking(!0),e.toggleFeatures(!$(".locate").hasClass("ol-collapsed"))})))},replace:!0}}]).service("hs.geolocation.service",["hs.map.service","$rootScope","$log","Core",function(t,e,n,o){var i={following:!1,geolocation:null,toggleFeatures:function(e){var n=i.position_layer.getSource();e?(t.map.addLayer(i.position_layer),n.addFeature(r),n.addFeature(a),i.position_layer.setZIndex(99)):(n.removeFeature(r),n.removeFeature(a),t.map.removeLayer(i.position_layer))}},r=new ol.Feature,a=new ol.Feature;return e.$on("map.loaded",function(){!function(){if(o.isMobile()){i.setCenter=function(){t.map.getView().setCenter(i.last_location.latlng)},i.geolocation=navigator.geolocation,i.toggleGps=function(){i.gpsStatus?i.stopGpsWatch():i.startGpsWatch(),i.toggleFeatures(i.gpsStatus),e.$broadcast("geolocation.switched")},i.startGpsWatch=function(){navigator.geolocation&&(i.gpsStatus=!0,null!=i.changed_handler&&i.geolocation.clearWatch(i.changed_handler),i.changed_handler=i.geolocation.watchPosition(s,l,c),e.$broadcast("geolocation.started"))},i.stopGpsWatch=function(){i.gpsStatus=!1,i.geolocation.clearWatch(i.changed_handler),i.changed_handler=null,e.$broadcast("geolocation.stopped")};var s=function(n){i.accuracy=n.coords.accuracy?Math.round(n.coords.accuracy):"-",i.altitude=n.coords.altitude?Math.round(n.coords.altitude):"-",i.heading=n.coords.heading?n.coords.heading:null,i.speed=n.coords.speed?Math.round(3.6*n.coords.speed):"-",i.last_location={latlng:ol.proj.transform([n.coords.longitude,n.coords.latitude],"EPSG:4326",t.map.getView().getProjection()),altitude:n.coords.altitude,geoposition:n},a.setGeometry()?a.getGeometry().setCoordinates(i.last_location.latlng):a.setGeometry(new ol.geom.Point(i.last_location.latlng)),r.setGeometry()?r.getGeometry().setCenterAndRadius(i.last_location.latlng,i.accuracy):r.setGeometry(new ol.geom.Circle(i.last_location.latlng,n.coords.accuracy)),i.following&&i.setCenter(),lat=n.coords.latitude,lon=n.coords.longitude,"undefined"!=typeof trackingDb&&(trackingDb.transaction(logPosition,errorCB,successCB),db_id++),e.$broadcast("geolocation.updated",i.last_location)},l=function(t){var e="Error "+t.code+": "+t.message;console&&console.log(e),i.gpsStatus&&("Timeout expired"==t.message&&(console&&console.log("Removing the timeout setting"),c.timeout=1e4,null!=i.changed_handler&&i.geolocation.clearWatch(i.changed_handler)),setTimeout(function(){i.changed_handler=i.geolocation.watchPosition(s,l,c),console&&console.log("Try again..")},5e3))},c={enableHighAccuracy:!0,timeout:5e3,maximumAge:1e5}}else i.geolocation=new ol.Geolocation({projection:t.map.getView().getProjection()}),i.changed_handler=function(){if(i.geolocation.getTracking()){if(i.accuracy=i.geolocation.getAccuracy()?i.geolocation.getAccuracy()+" [m]":"",i.altitude=i.geolocation.getAltitude()?i.geolocation.getAltitude()+" [m]":"-",i.altitudeAccuracy=i.geolocation.getAltitudeAccuracy()?"+/- "+i.geolocation.getAltitudeAccuracy()+" [m]":"",i.heading=i.geolocation.getHeading()?i.geolocation.getHeading():null,i.speed=i.geolocation.getSpeed()?i.geolocation.getSpeed()+" [m/s]":"-",i.last_location={latlng:i.geolocation.getPosition(),altitude:i.geolocation.getAltitude(),geoposition:i.geolocation},console.log(i.last_location),i.geolocation.getPosition()){var o=i.geolocation.getPosition();n.info(o),a.getGeometry()?a.getGeometry().setCoordinates(o):a.setGeometry(new ol.geom.Point(o)),i.following&&t.map.getView().setCenter(o)}i.heading&&t.map.getView().setRotation(i.heading),e.$broadcast("geolocation.updated",i.last_location)}},i.geolocation.on("change",i.changed_handler),i.geolocation.on("error",function(t){var e=document.getElementById("info");e?(e.style.display="",e.innerHTML=t.message):console.error(t)}),i.geolocation.on("change:accuracyGeometry",function(){r.set("geometry",i.geolocation.accuracyGeometry)})}()}),i.style=new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:[242,121,0,.7]}),stroke:new ol.style.Stroke({color:[187,51,51,.7]}),radius:5}),fill:new ol.style.Fill({color:[187,187,187,.2]}),stroke:new ol.style.Stroke({color:[102,102,0,.8]})}),r.setStyle(i.style),a.setStyle(i.style),i.position_layer=new ol.layer.Vector({title:"Position",show_in_manager:!1,source:new ol.source.Vector}),i}]).controller("hs.geolocation.controller",["$scope","hs.geolocation.service","hs.map.service","Core",function(t,e,n,o){t.speed=null,t.alt=null,t.altitudeAccuracy=null,t.accuracy=null,t.Geolocation=e,o.isMobile()?(t.switchGps=e.toggleGps,t.gpsActive=function(t){if(0===arguments.length)return e.gpsStatus;e.startGpsWatch(),console.log("Starting GPS.")}):t.gpsActive=function(t){if(0==arguments.length)return e.geolocation.getTracking();e.geolocation.setTracking(t)},t.getGeolocationProvider=function(){return e.geolocation},t.following=function(t){if(0==arguments.length)return e.following;e.following=t,console&&console.log(e.last_location),angular.isDefined(e.last_location)?(t&&n.map.getView().setCenter(e.last_location.latlng),o.isMobile()&&e.changed_handler()):console&&console.log("last location not defined")},t.setFeatureStyle=function(t){return e.style=t},t.$on("geolocation.updated",function(n){t.speed=e.speed,t.alt=e.altitude,t.accuracy=e.accuracy,t.altitudeAccuracy=e.altitudeAccuracy,t.$$phase||t.$digest()}),t.$on("geolocation.switched",function(n){e.gpsSwitch=e.gpsStatus?"Stop GPS":"Start GPS",t.$$phase||t.$digest()}),t.$emit("scope_loaded","Geolocation")}])},{angular:59,ol:65}],13:[function(t,e,n){var ol,o,i,r;e.exports=(ol=t("ol"),r={calcResolutionForDistance:function(t,e){var n=o.scene.canvas,i=o.camera.frustum.fovy,r=ol.proj.get("EPSG:3857").getMetersPerUnit();return 2*t*Math.tan(i/2)/r/Math.cos(Math.abs(e))/n.clientHeight},getCameraCenterInLngLat:function(){if(o.scene.mode==Cesium.SceneMode.SCENE2D||o.scene.mode==Cesium.SceneMode.COLUMBUS_VIEW){var t=o.camera.positionCartographic.longitude*(180/Math.PI),e=o.camera.positionCartographic.latitude*(180/Math.PI);return position=[t,e,0],position}if(o.scene.mode==Cesium.SceneMode.SCENE3D){var n=o.camera.getPickRay(new Cesium.Cartesian2(o.canvas.width/2,o.canvas.height/2)),i=o.scene.globe.pick(n,o.scene);if(i){var a=Cesium.Cartographic.fromCartesian(i);t=Cesium.Math.toDegrees(a.longitude),e=Cesium.Math.toDegrees(a.latitude);return position=[t,e,r.calcResolutionForDistance(Cesium.Cartographic.fromCartesian(o.camera.position).height-a.height,e)],position}return null}},getCameraCenterInCartesian:function(){var t=o.camera.getPickRay(new Cesium.Cartesian2(o.canvas.width/2,o.canvas.height/2)),e=o.scene.globe.pick(t,o.scene);return e?(position=e,position):null},getViewportPolygon:function(){function t(t){try{return[Cesium.Math.toDegrees(o.scene.globe.ellipsoid.cartesianToCartographic(t).longitude),Cesium.Math.toDegrees(o.scene.globe.ellipsoid.cartesianToCartographic(t).latitude)]}catch(t){return[0,0,0,0]}}var e=[Cesium.Math.toDegrees(o.scene.globe.ellipsoid.cartesianToCartographic(o.camera.position).longitude),Cesium.Math.toDegrees(o.scene.globe.ellipsoid.cartesianToCartographic(o.camera.position).latitude)],n=t(r.getCornerCoord(new Cesium.Cartesian2(0,0),new Cesium.Cartesian2(o.canvas.width,o.canvas.height))),i=t(r.getCornerCoord(new Cesium.Cartesian2(o.canvas.width-0,0),new Cesium.Cartesian2(0,o.canvas.height))),a=t(r.getCornerCoord(new Cesium.Cartesian2(o.canvas.width-0+100,o.canvas.height-0+100),new Cesium.Cartesian2(0,0))),s=t(r.getCornerCoord(new Cesium.Cartesian2(-100,o.canvas.height-0+100),new Cesium.Cartesian2(o.canvas.width,0)));function l(t){return Math.abs(t[0]-e[0])>.23&&(t[0]=e[0]+(t[0]-e[0])*(.23/Math.abs(t[0]-e[0]))),Math.abs(t[1]-e[1])>.23&&(t[1]=e[1]+(t[1]-e[1])*(.23/Math.abs(t[1]-e[1]))),t}return[n=l(n),i=l(i),a=l(a),s=l(s)]},getCornerCoord:function(t,e){var n=o.scene.camera.pickEllipsoid(t,this.ellipsoid),i=t.x,r=t.y,a=e.x,s=e.y,l=Math.abs(a-i),c=Math.abs(s-r),u=i<a?1:-1,p=r<s?1:-1,h=l-c;if(n=o.scene.camera.pickEllipsoid({x:i,y:r},this.ellipsoid))return n;for(;i!=a||r!=s;){var d=h<<1;if(d>-c&&(h-=c,i+=u),d<l&&(h+=l,r+=p),n=o.scene.camera.pickEllipsoid({x:i,y:r},this.ellipsoid))return n}},setExtentEqualToOlExtent:function(t){var e=t.calculateExtent(i.map.getSize()),n=ol.proj.transformExtent(e,t.getProjection(),"EPSG:4326");o.camera.setView({destination:Cesium.Rectangle.fromDegrees(n[0],n[1],n[2],n[3])});var r=o.camera.getPickRay(new Cesium.Cartesian2(o.canvas.width/2,o.canvas.height/2)),a=o.scene.globe.pick(r,o.scene);a&&o.camera.moveBackward(Cesium.Ellipsoid.WGS84.cartesianToCartographic(a).height)},calcDistanceForResolution:function(t,e){const n=o.scene.canvas,r=o.camera.frustum.fovy,a=i.map.getView().getProjection().getMetersPerUnit();return t*n.clientHeight*a*Math.cos(Math.abs(e))/2/Math.tan(r/2)},fixMorphs(){o.camera.moveEnd.addEventListener(function(t){if(!i.visible){var e=r.getCameraCenterInLngLat();if(null==e||0==e[0]||0==e[1])return;r.last_good_center=e}}),o.scene.morphComplete.addEventListener(function(){r.last_good_center&&setTimeout(function(){o.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(r.last_good_center[0],r.last_good_center[1],15e3),duration:1})},1e3)})},init:function(t,e){o=t,i=e,r.fixMorphs(o)}})},{ol:65}],14:[function(t,e,n){e.exports=function(ol,t,e){var n;function o(t,e){this.proxy=t,this.maxResolution=e}var i={to_be_deleted:[],setupEvents(){i.$rootScope.$on("layermanager.base_layer_visible_changed",function(t,e,n){if(angular.isDefined(e)&&angular.isDefined(e.type)&&"terrain"==e.type)if("https://assets.agi.com/stk-terrain/v1/tilesets/world/tiles"==e.url){var o=Cesium.createWorldTerrain(i.config.createWorldTerrainOptions);i.viewer.terrainProvider=o}else i.viewer.terrainProvider=new Cesium.CesiumTerrainProvider({url:e.url})}),setTimeout(function(){i.repopulateLayers(null),i.hs_cesium.broadcastLayerList()},3500),i.hs_map.map.getLayers().on("add",function(t){var e=t.element;i.processOlLayer(e)})},repopulateLayers(t){angular.isDefined(i.config.default_layers)&&angular.forEach(i.config.default_layers,i.processOlLayer),angular.isDefined(i.config.box_layers)&&angular.forEach(i.config.box_layers,i.processOlLayer),angular.forEach(i.hs_map.map.getLayers(),function(t){angular.isUndefined(t.cesium_layer)&&i.processOlLayer(t)})},init:function(t,e,r,a,s,l){i.viewer=t,i.hs_map=e,i.hs_cesium=r,i.$rootScope=a,i.config=s,function(t){o.prototype.getURL=function(e){var o,i,r,a=this.proxy+window.location.protocol+"//"+window.location.hostname+window.location.pathname+t.hsl_path+"img/blank.png",s=-1===this.proxy.indexOf("?")?"?":"";if(this.maxResolution<=8550){if(e.indexOf("bbox=0%2C0%2C45")>-1||e.indexOf("bbox=0, 45")>-1)return a;var l=n.getParamsFromUrl(e),c=l.bbox.split(","),u=Math.sqrt(Math.pow(c[0]-c[2],2)+Math.pow(c[1]-c[3],2)),p=(o=l.version,i=l.srs,r=l.crs,"1.1.1"==o?i:"1.3.1"==o?r:void 0);if("EPSG:3857"==p&&u>1e6)return a;if("EPSG:4326"==p&&u>1)return a}return(e=e.replaceAll("fromcrs","FROMCRS")).indexOf("proxy4ows")>-1?e:this.proxy+s+encodeURIComponent(e)}}(s),i.setupEvents(),n=l},serializeVectorLayerToGeoJson(t){var e=new ol.format.GeoJSON,n=t.getFeatures();n.forEach(function(e){void 0!==t.cesium_layer.entities.getById(e.getId())&&n.splice(n.indexOf(e),1)});var o=[];for(t.cesium_layer.entities.values.forEach(function(e){null==t.getFeatureById(e.id)&&o.push(e.id)});o.length>0;){var r=o.pop();t.cesium_layer.entities.removeById(r)}var a=e.writeFeaturesObject(n);return"EPSG:3857"==i.hs_map.map.getView().getProjection().getCode()&&(a.crs={type:"name",properties:{name:"EPSG:3857"}}),a},linkOlLayerToCesiumLayer(t,e){t.cesium_layer=e,e.ol_layer=t,t.on("change:visible",function(e){e.target.cesium_layer.show=t.getVisible()}),t.on("change:opacity",function(e){e.target.cesium_layer.alpha=parseFloat(t.getOpacity())})},linkOlSourceToCesiumDatasource(t,e){t.cesium_layer=e,i.syncFeatures(t),t.on("features:loaded",function(t){t.target.cesium_layer&&i.syncFeatures(t.target)})},syncFeatures(t){var n=new Cesium.GeoJsonDataSource("tmp");Cesium.GeoJsonDataSource.crsNames["EPSG:3857"]=function(t){var n=t[0],o=t[1],i=e('PROJCS["WGS 84 / Pseudo-Mercator",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Mercator_1SP"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["X",EAST],AXIS["Y",NORTH],EXTENSION["PROJ4","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"],AUTHORITY["EPSG","3857"]]','GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]]',[n,o]);return Cesium.Cartesian3.fromDegrees(i[0],i[1],0)},n.load(i.serializeVectorLayerToGeoJson(t),{camera:i.viewer.scene.camera,canvas:i.viewer.scene.canvas,clampToGround:!0}).then(function(e){e.entities.values.forEach(function(e){try{void 0===t.cesium_layer.entities.getById(e.id)&&t.cesium_layer.entities.add(e)}catch(t){console&&console.error(t.toString())}}),t.cesiumStyler(t.cesium_layer)})},processOlLayer(t){if(t instanceof ol.layer.Group)angular.forEach(t.layers,function(t){i.processOlLayer(t)});else{t.setVisible(i.hs_map.isLayerVisible(t,i.hs_map.visible_layers)||t.getVisible()),t.manuallyAdded=!1,t.getSource()instanceof ol.source.ImageWMS&&i.hs_map.proxifyLayerLoader(t,!1),t.getSource()instanceof ol.source.TileWMS&&i.hs_map.proxifyLayerLoader(t,!0);var e=i.convertOlToCesiumProvider(t);angular.isDefined(e)&&(e instanceof Cesium.ImageryLayer?(i.linkOlLayerToCesiumLayer(t,e),i.viewer.imageryLayers.add(e)):(i.viewer.dataSources.add(e),"Point clicked"!=t.get("title")&&i.linkOlSourceToCesiumDatasource(t.getSource(),e)))}},convertOlToCesiumProvider:t=>t.getSource()instanceof ol.source.OSM?new Cesium.ImageryLayer(Cesium.createOpenStreetMapImageryProvider(),{show:t.getVisible(),minimumTerrainLevel:t.minimumTerrainLevel||15}):t.getSource()instanceof ol.source.TileWMS?i.createTileProvider(t):t.getSource()instanceof ol.source.ImageWMS?i.createSingleImageProvider(t):t.getSource()instanceof ol.source.Vector?i.createVectorDataSource(t):void(console&&console.error("Unsupported layer type for layer: ",t,"in Cesium converter")),createVectorDataSource(t){if(t.getSource().getFormat()instanceof ol.format.KML)return Cesium.KmlDataSource.load(t.getSource().getUrl(),{camera:viewer.scene.camera,canvas:viewer.scene.canvas,clampToGround:t.getSource().get("clampToGround")||!0});var e=new Cesium.GeoJsonDataSource(t.get("title"));return t.cesium_layer=e,t.on("change:visible",function(e){e.target.cesium_layer.show=t.getVisible()}),e},createTileProvider(t){var e=t.getSource(),n=e.getParams();n.VERSION=n.VERSION||"1.1.1",0==n.VERSION.indexOf("1.1.")&&(n.CRS="EPSG:4326"),0==n.VERSION.indexOf("1.3.")&&(n.SRS="EPSG:4326"),n.FROMCRS="EPSG:4326";var r={url:new Cesium.Resource({url:e.getUrls()[0],proxy:new o("/cgi-bin/hsproxy.cgi?url=",t.getMaxResolution())}),layers:e.getParams().LAYERS,dimensions:t.get("dimensions"),getFeatureInfoFormats:[new Cesium.GetFeatureInfoFormat("text","text/plain")],enablePickFeatures:!0,parameters:n,getFeatureInfoParameters:{VERSION:n.VERSION,CRS:"EPSG:4326",FROMCRS:"EPSG:4326"},minimumTerrainLevel:n.minimumTerrainLevel||12,maximumLevel:n.maximumLevel,minimumLevel:n.minimumLevel},a=new Cesium.ImageryLayer(new Cesium.WebMapServiceImageryProvider(i.removeUnwantedParams(r,e)),{alpha:t.getOpacity()||.7,show:t.getVisible()});return a.prm_cache=r,a},createSingleImageProvider(t){var e=t.getSource(),n=Object.assign({},e.getParams());n.VERSION=n.VERSION||"1.1.1",0==n.VERSION.indexOf("1.1.")&&(n.CRS="EPSG:4326",delete n.SRS),0==n.VERSION.indexOf("1.3.")&&(n.SRS="EPSG:4326",delete n.CRS),n.FROMCRS="EPSG:4326";var r={url:new Cesium.Resource({url:e.getUrl(),proxy:new o("/cgi-bin/hsproxy.cgi?url=",t.getMaxResolution())}),layers:e.getParams().LAYERS,dimensions:t.get("dimensions"),getFeatureInfoFormats:[new Cesium.GetFeatureInfoFormat("text","text/plain")],enablePickFeatures:!0,parameters:n,tilingScheme:new Cesium.WebMercatorTilingScheme,getFeatureInfoParameters:{VERSION:n.VERSION,CRS:"EPSG:4326",FROMCRS:"EPSG:4326"},minimumTerrainLevel:n.minimumTerrainLevel||12,tileWidth:1024,tileHeight:1024},a=new Cesium.ImageryLayer(new Cesium.WebMapServiceImageryProvider(i.removeUnwantedParams(r,e)),{alpha:t.getOpacity()||.7,show:t.getVisible()});return a.prm_cache=r,a},removeUnwantedParams:(t,e)=>(angular.isDefined(t.parameters.dimensions)&&delete t.parameters.dimensions,t),changeLayerParam(e,n,o){o=t(o).isValid()?t(o).toISOString():o,e.prm_cache.parameters[n]=o,i.to_be_deleted.push(e);var r=new Cesium.ImageryLayer(new Cesium.WebMapServiceImageryProvider(e.prm_cache),{alpha:e.alpha,show:e.show});r.prm_cache=e.prm_cache,i.linkOlLayerToCesiumLayer(e.ol_layer,r),i.viewer.imageryLayers.add(r)},removeLayersWithOldParams(){for(;i.to_be_deleted.length>0;)i.viewer.imageryLayers.remove(i.to_be_deleted.pop())}};return i}(t("ol"),t("moment"),t("proj4"))},{moment:64,ol:65,proj4:66}],15:[function(t,e,n){var o,i,r;e.exports=(t("ol"),o=t("moment"),r={monitorTimeLine(){Cesium.knockout.getObservable(r.viewer.clockViewModel,"currentTime").subscribe(function(t){for(var e=!1,n=0;n<r.viewer.imageryLayers.length;n++){var o=new Date(t.toString());o.setMilliseconds(0),o.setMinutes(0),o.setSeconds(0);var i=r.viewer.imageryLayers.get(n);if(i.imageryProvider instanceof Cesium.WebMapServiceImageryProvider&&i.prm_cache&&r.getTimeParameter(i)){if(angular.isDefined(i.prm_cache.dimensions.time)){for(var a=Number.MAX_VALUE,s=-1,l=0;l<i.prm_cache.dimensions.time.values.length;l++){var c=o-i.prm_cache.dimensions.time.values[l];c>0&&c<a&&(a=c,s=l)}o=i.prm_cache.dimensions.time.values[s]}Math.abs(o-new Date(i.prm_cache.parameters[r.getTimeParameter(i)]))>6e4&&(r.HsCsLayers.changeLayerParam(i,r.getTimeParameter(i),o.toISOString()),e=!0)}}r.HsCsLayers.removeLayersWithOldParams(),e&&r.broadcastLayerList()})},broadcastLayerList(){i.$broadcast("cesium.time_layers_changed",r.getLayerListTimes())},getLayerListTimes(){for(var t=[],e=0;e<r.viewer.imageryLayers.length;e++){var n=r.viewer.imageryLayers.get(e);if(angular.isDefined(n.ol_layer)&&angular.isDefined(n.prm_cache)){var i=new Date(n.prm_cache.parameters[r.getTimeParameter(n)]);t.push({name:n.ol_layer.get("title"),time:o.utc(i).format("DD-MM-YYYY HH:mm")})}}return t},getTimeParameter(t){if(t.prm_cache)return t.prm_cache.parameters.time?"time":t.prm_cache.parameters.TIME?"TIME":void 0},init:function(t,e,n,o,a){r.viewer=t,r.hs_map=e,r.hs_cesium=n,r.monitorTimeLine(),i=o,r.HsCsLayers=a}})},{moment:64,ol:65}],16:[function(t,e,n){var angular,ol,o,i,r;t.config&&t.config({paths:{hs_cesium_camera:hsl_path+"components/hscesium/hs_cesium_camera"+hslMin,hs_cesium_time:hsl_path+"components/hscesium/hs_cesium_time"+hslMin,hs_cesium_layers:hsl_path+"components/hscesium/hs_cesium_layers"+hslMin}}),angular=t("angular"),t("permalink"),ol=t("ol"),o=t("hs_cesium_camera"),i=t("hs_cesium_time"),r=t("hs_cesium_layers"),angular.module("hs.cesium",["hs"]).service("hs.cesium.service",["config","$rootScope","hs.utils.service","hs.map.service","hs.layermanager.service","Core",function(t,e,n,a,s,l){var c,u=angular.isDefined(t.cesiumBingKey)?t.cesiumBingKey:"Ak5NFHBx3tuU85MOX4Lo-d2JP0W8amS1IHVveZm4TIY9fmINbSycLR8rVX9yZG82";this.init=function(){"undefined"==typeof Cesium&&console.error("Please include cesium in shim definition: cesiumjs: {exports: 'Cesium'}"),Cesium.Ion.defaultAccessToken=t.cesiumAccessToken||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzZDk3ZmM0Mi01ZGFjLTRmYjQtYmFkNC02NTUwOTFhZjNlZjMiLCJpZCI6MTE2MSwiaWF0IjoxNTI3MTYxOTc5fQ.tOVBzBJjR3mwO3osvDVB_RwxyLX7W-emymTOkfz6yGA",window.CESIUM_BASE_URL=t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium/";var h=t.terrain_provider||Cesium.createWorldTerrain(t.createWorldTerrainOptions);t.newTerrainProviderOptions&&(h=new Cesium.CesiumTerrainProvider(t.newTerrainProviderOptions));var d=a.map.getView(),f=d.calculateExtent(a.map.getSize()),m=ol.proj.transformExtent(f,d.getProjection(),"EPSG:4326"),g=Cesium.Rectangle.fromDegrees(m[0],m[1],m[2],m[3]);Cesium.Camera.DEFAULT_VIEW_FACTOR=0,Cesium.Camera.DEFAULT_VIEW_RECTANGLE=g,Cesium.BingMapsApi.defaultKey=u,new Cesium.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:Cesium.BingMapsApi.defaultKey,mapStyle:Cesium.BingMapsStyle.AERIAL}),(c=new Cesium.Viewer("cesiumContainer",{timeline:!!angular.isDefined(t.cesiumTimeline)&&t.cesiumTimeline,animation:!!angular.isDefined(t.cesiumAnimation)&&t.cesiumAnimation,creditContainer:angular.isDefined(t.creditContainer)?t.creditContainer:void 0,infoBox:!angular.isDefined(t.cesiumInfoBox)||t.cesiumInfoBox,terrainProvider:h,imageryProvider:t.imageryProvider,terrainExaggeration:t.terrainExaggeration||1,skyBox:new Cesium.SkyBox({sources:{positiveX:t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium/Assets/Textures/SkyBox/tycho2t3_80_px.jpg",negativeX:t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium/Assets/Textures/SkyBox/tycho2t3_80_mx.jpg",positiveY:t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium/Assets/Textures/SkyBox/tycho2t3_80_py.jpg",negativeY:t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium/Assets/Textures/SkyBox/tycho2t3_80_my.jpg",positiveZ:t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium/Assets/Textures/SkyBox/tycho2t3_80_pz.jpg",negativeZ:t.cesiumBase||l.getNmPath()+"cesium/Build/Cesium//Assets/Textures/SkyBox/tycho2t3_80_mz.jpg"}}),sceneMode:Cesium.SceneMode.SCENE3D,mapProjection:new Cesium.WebMercatorProjection,shadows:t.cesiumShadows||!1,scene3DOnly:!0,sceneModePicker:!1})).scene.debugShowFramesPerSecond=!!angular.isDefined(t.cesiumdDebugShowFramesPerSecond)&&t.cesiumdDebugShowFramesPerSecond,c.scene.globe.enableLighting=t.cesiumShadows||!1,c.scene.globe.shadows=t.cesiumShadows||!1,c.terrainProvider=h,angular.isDefined(t.cesiumTime)&&(c.clockViewModel.currentTime=t.cesiumTime),p.viewer=c,o.init(c,a),i.init(c,a,p,e,r),r.init(c,a,p,e,t,n),p.HsCsCamera=o,p.HsCsTime=i,p.HsCsLayers=r,c.camera.moveEnd.addEventListener(function(t){if(!a.visible){var n=o.getCameraCenterInLngLat();if(null==n)return;var i=o.getViewportPolygon();e.$broadcast("map.sync_center",n,i)}}),angular.forEach(t.terrain_providers,function(t){t.type="terrain",s.data.terrainlayers.push(t)}),e.$on("map.extent_changed",function(t,e,n){var i=a.map.getView();a.visible&&o.setExtentEqualToOlExtent(i)}),e.$on("search.zoom_to_center",function(t,e){c.camera.setView({destination:Cesium.Cartesian3.fromDegrees(e.coordinate[0],e.coordinate[1],15e3)})});var y=new Cesium.ScreenSpaceEventHandler(c.scene.canvas);function v(t){c.camera.getPickRay(t.position);var n=c.scene.pick(t.position);if(c.scene.pickPositionSupported&&c.scene.mode===Cesium.SceneMode.SCENE3D){var o=c.scene.pickPosition(t.position);if(Cesium.defined(o)){var i=Cesium.Cartographic.fromCartesian(o),r=Cesium.Math.toDegrees(i.longitude),a=Cesium.Math.toDegrees(i.latitude);e.$broadcast("cesium_position_clicked",[r,a])}}n&&n.id&&n.id.onclick&&n.id.onRightClick(n.id)}y.setInputAction(function(t){var e=c.camera.getPickRay(t.position),n=c.scene.pick(t.position),o=c.imageryLayers.pickImageryLayerFeatures(e,c.scene);n&&n.id&&n.id.onclick?n.id.onclick(n.id):Cesium.defined(o)?Cesium.when(o,function(t){var e="";if(t.length>0)for(var n=0;n<t.length;n++)e=e+t[n].data+"\n";var o=document.querySelector(".cesium-infoBox-iframe");o&&setTimeout(function(){(o.contentDocument?o.contentDocument:o.contentWindow.document).querySelector(".cesium-infoBox-description").innerHTML=e.replaceAll("\n","<br/>"),o.style.height="200px"},1e3)}):console&&console.log("No features picked.")},Cesium.ScreenSpaceEventType.LEFT_DOWN),y.setInputAction(function(t){var e=c.scene.pick(t.position);e&&e.id&&e.id.onmouseup&&e.id.onmouseup(e.id)},Cesium.ScreenSpaceEventType.LEFT_UP),y.setInputAction(v,Cesium.ScreenSpaceEventType.RIGHT_DOWN),y.setInputAction(v,Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),e.$broadcast("cesiummap.loaded",c,p)},this.dimensionChanged=function(t,e){t=t.cesium_layer,angular.isUndefined(t.prm_cache)||angular.isUndefined(t.prm_cache.dimensions)||angular.isUndefined(t.prm_cache.dimensions[e.name])||(p.HsCsLayers.changeLayerParam(t,e.name,e.value),p.HsCsLayers.removeLayersWithOldParams())},this.resize=function(t,n){angular.isUndefined(n)||(document.getElementById("cesiumContainer").style.height=n.height+"px",angular.element(".cesium-viewer-timelineContainer").css({right:0}),angular.element(".cesium-viewer-timelineContainer").length>0?angular.element(".cesium-viewer-bottom").css({bottom:"30px"}):angular.element(".cesium-viewer-bottom").css({bottom:0}),e.$broadcast("cesiummap.resized",c,p))},this.getCameraCenterInLngLat=o.getCameraCenterInLngLat,this.linkOlLayerToCesiumLayer=r.linkOlLayerToCesiumLayer,this.broadcastLayerList=i.broadcastLayerList;var p=this}]).directive("hs.cesium.directive",["config",function(t){return{templateUrl:t.hsl_path+"components/hscesium/partials/cesium.html",link:function(t,e){}}}]).directive("hs.cesium.toolbarButtonDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/hscesium/partials/toolbar_button_directive.html"}}]).controller("hs.cesium.controller",["$scope","hs.cesium.service","config","hs.permalink.urlService","Core","hs.map.service","hs.sidebar.service","$timeout","$rootScope",function(t,e,n,o,i,r,a,s,l){e.map,t.visible=!0,t.init=function(){r.map?e.init():l.$on("map.loaded",function(){e.init()})},setTimeout(function(){r.visible=!1},0),a.extra_buttons.push({title:"3D/2D",icon_class:"icon-globealt",click:function(){r.visible=!r.visible,t.visible=!r.visible,r.visible&&s(function(){i.updateMapSize()},5e3),l.$broadcast("map.mode_changed",me.visible?"cesium":"ol")}}),l.$on("layermanager.dimension_changed",function(t,n){e.dimensionChanged(n.layer,n.dimension)}),l.$on("Core.mapSizeUpdated",e.resize),e.resize(),t.init(),t.$emit("scope_loaded","CesiumMap")}])},{angular:59,hs_cesium_camera:13,hs_cesium_layers:14,hs_cesium_time:15,ol:65,permalink:33}],17:[function(t,e,n){t("angular").module("hs.language",[]).directive("hs.language.directive",["config",function(t){return{templateUrl:`${t.hsl_path}components/language/partials/language${t.design||""}.html`}}]).service("hs.language.service",["Core","gettextCatalog",function(t,e){var n={setLanguage:function(e){t.setLanguage(e)},getCurrentLanguageCode:function(){return void 0===t.language||""==t.language?"EN":t.language.substr(0,2).toUpperCase()},listAvailableLanguages:function(){var t={en:"English",cs:"esk",fr_FR:"Franais",lv_LV:"Latviski",nl:"Nederlands"},n=[{key:"en",name:"English"}];for(key in e.strings)e.strings.hasOwnProperty(key)&&n.push({key:key,name:t[key]});return n}};return n}]).controller("hs.language.controller",["$scope","hs.language.service",function(t,e){t.setLanguage=function(t){e.setLanguage(t)},t.getCurrentLanguageCode=e.getCurrentLanguageCode,t.available_languages=e.listAvailableLanguages(),t.$emit("scope_loaded","Language")}])},{angular:59}],18:[function(t,e,n){var angular,o;e.exports=(angular=t("angular"),t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),o=t("moment"),t("map"),t("ows_nonwms"),t("config_parsers"),{init(){angular.module("hs.layermanager").service("hs.layermanager.WMSTservice",["$rootScope","hs.map.service","Core","hs.utils.service","config",function(t,e,n,i,r){var a={getDateFormatForTimeSlider:function(t){switch(t){case"FullYear":case"Month":case"Day":return date_format="dd-MM-yyyy";default:return"dd-MM-yyyy HH:mm"}},setLayerTimeSliderIntervals:function(t,e){switch(t.time_unit){case"FullYear":var n=new Date(e.timeInterval[0]);t.min_time=n.getFullYear(),n=new Date(e.timeInterval[1]),t.max_time=n.getFullYear();break;case"Month":n=new Date(e.timeInterval[0]),t.min_time=0;var i=new Date(e.timeInterval[1]);t.max_time=n.monthDiff(i);break;default:t.min_time=o.utc(e.timeInterval[0]).toDate().getTime(),t.max_time=o.utc(e.timeInterval[1]).toDate().getTime()}}};return a.layerIsWmsT=function(t){if(angular.isUndefined(t)||null==t)return!1;var e=t.layer;if(angular.isUndefined(e))return!1;if(e.get("dimensions_time")&&angular.isArray(e.get("dimensions_time").timeInterval))return!0;if(e.get("dimensions")&&angular.isObject(e.get("dimensions").time)){var n={},o=e.get("dimensions").time.values;if(angular.isArray(o)&&(o=o[0]),"string"==typeof o||o instanceof String){if((o=o.replace(/\s*/g,"")).search("/")>-1){var i=o.split("/").map(function(t){return t.search("Z")>-1&&(t=t.replace("Z","00:00")),t});3==i.length&&(n.timeStep=function(t){var e,n,o,i,r,a,s,l;o=i=r=a=s=l=0;var c=t.search("T");if(c>-1?(e=t.substring(1,c),n=t.substring(c+1)):e=t.substring(1),e){var u=e.search("Y")>-1?e.search("Y"):void 0,p=e.search("M")>-1?e.search("M"):void 0,h=(e.search("W")>-1&&e.search("W"),e.search("D")>-1?e.search("D"):void 0);void 0!==u&&(o=parseFloat(e.substring(0,u))),void 0!==p&&(i=parseFloat(e.substring((u||-1)+1,p))),void 0!==h&&(r=parseFloat(e.substring((p||u||-1)+1,h)))}if(n){var d=n.search("H")>-1?n.search("H"):void 0,f=n.search("M")>-1?n.search("M"):void 0,m=n.search("S")>-1?n.search("S"):void 0;void 0!==d&&(a=parseFloat(n.substring(0,d))),void 0!==f&&(s=parseFloat(n.substring((d||-1)+1,f))),void 0!==m&&(l=parseFloat(n.substring((f||d||-1)+1,m)))}var g=new Date(0,0,0,0,0,0,0);return new Date(o,i,r,a,s,l,0)-g}(i[2]),i.pop()),2==i.length&&(n.timeInterval=i)}angular.extend(e,{dimensions_time:n})}return Object.keys(n).length>0}return!1},a.setLayerTime=function(e,n){if(!angular.isUndefined(e)&&!angular.isUndefined(e.layer)){var i=e.layer.get("dimensions_time")||e.layer.dimensions_time;if(!angular.isUndefined(i)){var r=o.utc(i.timeInterval[0]);switch(e.time_unit){case"FullYear":r.setFullYear(n);break;case"Month":r.addMonths(n);break;default:n<e.min_time&&(n=e.min_time),n>e.max_time&&(n=e.max_time),r=o.utc(parseInt(n))}e.time=r.toDate(),e.layer.getSource().updateParams({TIME:r.toISOString()}),t.$broadcast("layermanager.layer_time_changed",e.layer,r.toISOString())}}},a}])}})},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.source.SparqlJson":22,map:26,moment:64,ol:65,ows_nonwms:29}],19:[function(t,e,n){var angular;e.exports=(angular=t("angular"),t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),t("map"),t("ows_nonwms"),t("config_parsers"),t("hs.layermanager.WMSTservice"),{init(){angular.module("hs.layermanager").directive("hs.layermanager.layerlistDirective",["$compile","config",function(t,e){return{templateUrl:e.hsl_path+"components/layermanager/partials/layerlist.html",compile:function(n){var o,i=n.contents().remove();return function(n,r){function a(){var t=[];return angular.forEach(n.data.layers,function(e){(e.layer.get("path")==n.obj.hsl_path||(angular.isUndefined(e.layer.get("path"))||""==e.layer.get("path"))&&""==n.obj.hsl_path)&&t.push(e)}),t}function s(){n.filtered_layers=a();var t=0==n.order().indexOf("-"),e=n.order().replaceAll("-","");n.filtered_layers.sort(function(n,o){return((n=n.layer.get(e))<(o=o.layer.get(e))?-1:n>o?1:0)*(t?-1:1)}),n.generateLayerTitlesArray()}n.layer_titles=[],null==n.value?n.obj=n.data.folders:n.obj=n.value,n.filtered_layers=a(),n.generateLayerTitlesArray=function(){n.layer_titles=[];for(var t=0;t<n.filtered_layers.length;t++)n.layer_titles.push(n.filtered_layers[t].title)},n.$on("layermanager.updated",s),n.order=function(){return e.layer_order||"-position"},s(),angular.isUndefined(o)&&(o=t(i)),o(n,function(t){r.append(t)}),n.dragged=function(t,e,o,i,r){n.draggedCont(t,e,o,i,r,n.layer_titles)}}}}}])}})},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.layermanager.WMSTservice":18,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],20:[function(t,e,n){var angular,ol;e.exports=(angular=t("angular"),ol=t("ol"),t("hs.source.SparqlJson"),t("angular-socialshare"),t("map"),t("ows_nonwms"),t("config_parsers"),t("hs.layermanager.WMSTservice"),{init(){angular.module("hs.layermanager").service("hs.layermanager.service",["$rootScope","hs.map.service","Core","hs.utils.service","config","hs.layermanager.WMSTservice",function(t,e,n,o,i,r){var a,s,l={};function c(t,e){return t.indexOf("proxy4ows")>-1&&(t=o.getParamsFromUrl(t).OWSURL),t+=(t.indexOf("?")>0?"":"?")+"&version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer="+e+"&format=image%2Fpng"}function u(e){var n=e.element;if(null==n.get("show_in_manager")||0!=n.get("show_in_manager")){var i;if(r.layerIsWmsT(n),function(e){var n=e.getSource();n.loadCounter=0,n.loadTotal=0,n.loadError=0,n.loaded=!0,e instanceof ol.layer.Image?(n.on("imageloadstart",function(o){n.loaded=!1,n.loadCounter+=1,t.$broadcast("layermanager.layer_loading",e),t.$$phase||t.$digest()}),n.on("imageloadend",function(o){n.loaded=!0,n.loadCounter-=1,t.$broadcast("layermanager.layer_loaded",e),t.$$phase||t.$digest()}),n.on("imageloaderror",function(o){n.loaded=!0,n.error=!0,t.$broadcast("layermanager.layer_loaded",e),t.$$phase||t.$digest()})):e instanceof ol.layer.Tile&&(n.on("tileloadstart",function(o){n.loadCounter+=1,n.loadTotal+=1,1==n.loaded&&(n.loaded=!1,n.set("loaded",!1),t.$broadcast("layermanager.layer_loading",e),t.$$phase||t.$digest())}),n.on("tileloadend",function(o){n.loadCounter-=1,0==n.loadCounter&&(n.loaded=!0,n.set("loaded",!0),t.$broadcast("layermanager.layer_loaded",e),t.$$phase||t.$digest())}),n.on("tileloaderror",function(o){n.loadCounter-=1,n.loadError+=1,n.loadError==n.loadTotal&&(n.error=!0),0==n.loadCounter&&(n.loaded=!0,n.set("loaded",!0),t.$broadcast("layermanager.layer_loaded",e),t.$$phase||t.$digest())}))}(n),n.getSource().getParams){i=n.getSource().getParams().LAYERS.split(",");for(var a=0;a<i.length;a++)n.getSource().getUrls&&(i[a]=c(n.getSource().getUrls()[0],i[a])),n.getSource().getUrl&&(i[a]=c(n.getSource().getUrl(),i[a]))}n.on("change:visible",function(t){if(1!=n.get("base")){for(var e=0;e<l.data.layers.length;e++)if(l.data.layers[e].layer==t.target){l.data.layers[e].visible=t.target.getVisible();break}}else for(e=0;e<l.data.baselayers.length;e++)l.data.baselayers[e].layer==t.target?l.data.baselayers[e].active=t.target.getVisible():l.data.baselayers[e].active=!1}),void 0===n.get("position")&&n.set("position",d(n));var s={title:p(n),layer:n,grayed:l.isLayerInResolutionInterval(n),visible:n.getVisible(),position:n.get("position"),hsFilters:n.get("hsFilters"),uid:o.generateUuid()};if(r.layerIsWmsT(s)){var u,h=s.layer.get("dimensions_time")||s.layer.dimensions_time;u=angular.isDefined(s.layer.get("dimensions").time.default)?new Date(s.layer.get("dimensions").time.default):new Date(h.timeInterval[0]),angular.extend(s,{time_step:h.timeStep,time_unit:h.timeUnit,date_format:r.getDateFormatForTimeSlider(h.timeUnit),date_from:new Date(h.timeInterval[0]),date_till:new Date(h.timeInterval[1]),time:u,date_increment:u.getTime()}),r.setLayerTimeSliderIntervals(s,h),r.setLayerTime(s)}1!=n.get("base")?(function(t){if(angular.isDefined(t.get("path"))&&"undefined"!==t.get("path")){for(var e=t.get("path")||"",n=e.split("/"),o=l.data.folders,i=0;i<n.length;i++){var r=null;if(angular.forEach(o.sub_folders,function(t){t.name==n[i]&&(r=t)}),null==r){var a={sub_folders:[],indent:i,layers:[],name:n[i],hsl_path:o.hsl_path+(""!=o.hsl_path?"/":"")+n[i],coded_path:o.coded_path+o.sub_folders.length+"-"};o.sub_folders.push(a),o=a}else o=r}o.layers.push(t),l.data.folders.layers.indexOf(t)>-1&&l.data.folders.layers.splice(l.data.folders.layers.indexOf(t),1)}else l.data.folders.layers.push(t)}(n),n.get("legends")&&(s.legends=n.get("legends")),l.data.layers.push(s)):(s.active=n.getVisible(),l.data.baselayers.push(s)),n.getVisible()&&n.get("base")&&(l.data.baselayer=p(n)),l.updateLayerOrder(),t.$broadcast("layermanager.layer_added",s),t.$broadcast("layermanager.updated",n),t.$broadcast("compositions.composition_edited")}}function p(t){return angular.isDefined(t.get("title"))?t.get("title").replace(/&#47;/g,"/"):"Void"}function h(e){!function(t){if(angular.isDefined(t.get("path"))&&"undefined"!==t.get("path")){for(var e=t.get("path").split("/"),n=l.data.folders,o=0;o<e.length;o++)angular.forEach(n.sub_folders,function(t){t.name==e[o]&&(n=t)});for(n.layers.splice(n.layers.indexOf(t),1),o=e.length;o>0&&0==n.layers.length&&0==n.sub_folders.length;o--){var i=l.data.folders;if(o>1)for(var r=0;r<o-1;r++)angular.forEach(i.sub_folders,function(t){t.name==e[r]&&(i=t)});i.sub_folders.splice(i.sub_folders.indexOf(n),1),n=i}}else l.data.folders.layers.splice(l.data.folders.layers.indexOf(t),1)}(e.element);for(var n=0;n<l.data.layers.length;n++)l.data.layers[n].layer==e.element&&l.data.layers.splice(n,1);for(n=0;n<l.data.baselayers.length;n++)l.data.baselayers[n].layer==e.element&&l.data.baselayers.splice(n,1);l.updateLayerOrder(),t.$broadcast("layermanager.updated",e.element),t.$broadcast("layer.removed",e.element),t.$broadcast("compositions.composition_edited")}function d(t){for(var n=null,o=0;o<e.map.getLayers().getLength();o++)if(e.map.getLayers().item(o)==t){n=o;break}return n}function f(){a=e.map,e.map.getLayers().forEach(function(t){u({element:t})}),angular.isDefined(i.box_layers)&&(l.data.box_layers=i.box_layers,angular.forEach(l.data.box_layers,function(t){var e=!1,n=!1;angular.forEach(t.get("layers"),function(t){1==t.get("visible")&&1==t.get("base")?n=!0:1==t.get("visible")&&(e=!0)}),t.set("active",n||e)})),e.map.getView().on("change:resolution",function(e){null!=s&&clearTimeout(s),s=setTimeout(function(){for(var e=0;e<l.data.layers.length;e++)l.data.layers[e].grayed=l.isLayerInResolutionInterval(l.data.layers[e].layer);t.$$phase||t.$digest()},500)}),a.getLayers().on("add",u),a.getLayers().on("remove",h)}return l.data={},l.data.folders={hsl_path:"",coded_path:"0-",layers:[],sub_folders:[],indent:0},l.data.layers=[],l.data.baselayers=[],l.data.terrainlayers=[],l.data.baselayersVisible=!0,l.getLayerByTitle=function(t){var e;return angular.forEach(l.data.layers,function(n){n.title==t&&(e=n)}),e},l.changeLayerVisibility=function(t,e){e.layer.setVisible(t),e.visible=t,t&&1==e.layer.get("exclusive")&&angular.forEach(l.data.layers,function(t){t.layer.get("path")==e.layer.get("path")&&t!=e&&(t.layer.setVisible(!1),t.visible=!1)})},l.changeBaseLayerVisibility=function(e,n){if(angular.isUndefined(n)||angular.isDefined(n.layer))if(1==l.data.baselayersVisible)if(e){for(var o=0;o<l.data.baselayers.length;o++)l.data.baselayers[o].layer&&(l.data.baselayers[o].layer.setVisible(!1),l.data.baselayers[o].visible=!1,l.data.baselayers[o].active=!1);for(o=0;o<l.data.baselayers.length;o++)if(l.data.baselayers[o].layer&&l.data.baselayers[o]==n){l.data.baselayers[o].layer.setVisible(!0),l.data.baselayers[o].visible=!0,l.data.baselayers[o].active=!0;break}}else for(l.data.baselayersVisible=!1,o=0;o<l.data.baselayers.length;o++)l.data.baselayers[o].layer.setVisible(!1);else{if(e)for(n.active=!0,o=0;o<l.data.baselayers.length;o++)l.data.baselayers[o]!=n?l.data.baselayers[o].active=!1:l.data.baselayers[o].layer.setVisible(!0);else for(o=0;o<l.data.baselayers.length;o++)1==l.data.baselayers[o].visible&&l.data.baselayers[o].layer.setVisible(!0);l.data.baselayersVisible=!0}else for(o=0;o<l.data.baselayers.length;o++)angular.isDefined(l.data.baselayers[o].type)&&"terrain"==l.data.baselayers[o].type&&(l.data.baselayers[o].active=l.data.baselayers[o].visible=l.data.baselayers[o]==n);t.$broadcast("layermanager.base_layer_visible_changed",n)},l.changeTerrainLayerVisibility=function(e,n){for(var o=0;o<l.data.terrainlayers.length;o++)angular.isDefined(l.data.terrainlayers[o].type)&&"terrain"==l.data.terrainlayers[o].type&&(l.data.terrainlayers[o].active=l.data.terrainlayers[o].visible=l.data.terrainlayers[o]==n);t.$broadcast("layermanager.base_layer_visible_changed",n)},l.updateLayerOrder=function(){angular.forEach(l.data.layers,function(t){t.layer.set("position",d(t.layer)),t.position=t.layer.get("position")})},l.removeAllLayers=function(){var t=[];for(e.map.getLayers().forEach(function(e){(angular.isUndefined(e.get("removable"))||1==e.get("removable"))&&(angular.isUndefined(e.get("base"))||0==e.get("base"))&&(angular.isUndefined(e.get("show_in_manager"))||1==e.get("show_in_manager"))&&t.push(e)});t.length>0;)e.map.removeLayer(t.shift())},l.activateTheme=function(t){var e=!0;1==t.get("active")&&(e=!1),t.set("active",e);var n=!1;t.setVisible(e),angular.forEach(t.get("layers"),function(t){if(1!=t.get("base")||n){if(1==t.get("base"))return;t.setVisible(e)}else l.changeBaseLayerVisibility(),n=!0})},l.isLayerInResolutionInterval=function(t){var n=t.getSource();if(n instanceof ol.source.ImageWMS||n instanceof ol.source.TileWMS){var o=e.map.getView().getResolution(),i=a.getView().getProjection().getUnits(),r=o*ol.proj.METERS_PER_UNIT[i]*39.37*(25.4/.28);return t.getMinResolution()>=r||r>=t.getMaxResolution()}return r=e.map.getView().getResolution(),t.getMinResolution()>=r&&r<=t.getMaxResolution()},angular.isDefined(e.map)?f():t.$on("map.loaded",function(){f()}),l}])}})},{angular:59,"angular-socialshare":57,config_parsers:3,"hs.layermanager.WMSTservice":18,"hs.source.SparqlJson":22,map:26,ol:65,ows_nonwms:29}],21:[function(t,e,n){var angular,ol,o,i,r;window.require&&window.require.config&&window.require.config({paths:{"hs.layermanager.layerlistDirective":hsl_path+"components/layermanager/hs.layermanager.layerlistDirective"+hslMin,"hs.layermanager.service":hsl_path+"components/layermanager/hs.layermanager.service"+hslMin,"hs.layermanager.WMSTservice":hsl_path+"components/layermanager/hs.layermanager.WMSTservice"+hslMin}}),angular=t("angular"),t("map"),ol=t("ol"),o=t("hs.layermanager.service"),i=t("hs.layermanager.WMSTservice"),r=t("hs.layermanager.layerlistDirective"),t("utils"),t("ows_wms"),t("angular-drag-and-drop-lists"),t("status_creator"),t("styles"),t("legend"),angular.module("hs.layermanager",["hs.map","hs.utils","hs.ows.wms","dndLists","hs.status_creator","hs.styles","hs.legend"]).directive("hs.layermanager.directive",["config",function(t){return{templateUrl:`${t.hsl_path}components/layermanager/partials/layermanager${t.design||""}.html`,link:function(t,e){}}}]).directive("hs.layermanager.removeAllDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/layermanager/partials/dialog_removeall.html",link:function(t,e,n){t.removeAllModalVisible=!0}}}]).directive("hs.layermanager.folderDirective",["$compile","config",function(t,e){return{templateUrl:e.hsl_path+"components/layermanager/partials/folder.html",compile:function(e){var n,o=e.contents().remove();return function(e,i){e.folderVisible=function(t){return t.sub_folders.length>0},null==e.value?e.obj="-":e.obj=e.value,angular.isUndefined(n)&&(n=t(o)),n(e,function(t){i.append(t)})}}}}]).controller("hs.layermanager.controller",["$scope","Core","$compile","hs.utils.service","hs.utils.layerUtilsService","config","hs.map.service","hs.layermanager.service","$rootScope","$mdDialog","hs.layermanager.WMSTservice","hs.styler.service","hs.legend.service",function(t,e,n,o,i,r,a,s,l,c,u,p,h){var d;function f(t){var e=t.layer,n=e.getSource();if(t.style={},!angular.isUndefined(e.getStyle)){var o=e.getStyle();if("function"==typeof o&&(o=o(n.getFeatures()[0])),"object"==typeof o&&(o=o[0]),o=o.clone(),n.hasPoly&&(t.style.fillColor=o.getFill().getColor()),(n.hasLine||n.hasPoly)&&(t.style.lineColor=o.getStroke().getColor(),t.style.lineWidth=o.getStroke().getColor()),n.hasPoint){var i=o.getImage();i instanceof ol.style.Circle?t.style.pointType="Circle":i instanceof ol.style.RegularShape&&(t.style.pointPoints=i.getPoints(),t.style.rotation=i.getRotation(),angular.isUndefined(i.getRadius2())?t.style.pointType="Polygon":(t.style.pointType="Star",t.style.radius2=i.getRadius2())),(i instanceof ol.style.Circle||i instanceof ol.style.RegularShape)&&(t.style.radius=i.getRadius(),t.style.pointFill=i.getFill().getColor(),t.style.pointStroke=i.getStroke().getColor(),t.style.pointWidth=i.getStroke().getWidth()),angular.isUndefined(t.style.radius2)&&(t.style.radius2=t.style.radius/2),angular.isUndefined(t.style.pointPoints)&&(t.style.pointPoints=4),angular.isUndefined(t.style.rotation)&&(t.style.rotation=Math.PI/4)}t.style.style=o}}function m(t){var e=t.layer,n=e.getSource(),o=t.style.style;if(n.hasPoly&&o.setFill(new ol.style.Fill({color:t.style.fillColor})),(n.hasLine||n.hasPoly)&&o.setStroke(new ol.style.Stroke({color:t.style.lineColor,width:t.style.lineWidth})),n.hasPoint){var i,r=new ol.style.Stroke({color:t.style.pointStroke,width:t.style.pointWidth}),a=new ol.style.Fill({color:t.style.pointFill});"Circle"===t.style.pointType&&(i=new ol.style.Circle({stroke:r,fill:a,radius:t.style.radius,rotation:t.style.rotation})),"Polygon"===t.style.pointType&&(i=new ol.style.RegularShape({stroke:r,fill:a,radius:t.style.radius,points:t.style.pointPoints,rotation:t.style.rotation})),"Star"===t.style.pointType&&(i=new ol.style.RegularShape({stroke:r,fill:a,radius1:t.style.radius,radius2:t.style.radius2,points:t.style.pointPoints,rotation:t.style.rotation})),o.setImage(i)}e.setStyle(o)}function g(t){var e=null,n=t.get("BoundingBox");if(angular.isArray(n)&&4==n.length)e=ol.proj.transformExtent(n,"EPSG:4326",d.getView().getProjection());else for(var o=0;o<n.length;o++)if(angular.isDefined(ol.proj.get(n[o].crs))||angular.isDefined(t.getSource().getParams().FROMCRS)){var i=n[o].crs||t.getSource().getParams().FROMCRS;b=n[o].extent;var r=[b[0],b[1]],a=[b[2],b[3]];r=ol.proj.transform(r,i,d.getView().getProjection()),a=ol.proj.transform(a,i,d.getView().getProjection()),e=[r[0],r[1],a[0],a[1]];break}return e}function y(){d=a.map}t.legendService=h,t.data=s.data,t.Core=e,t.layer_renamer_visible=!1,t.utils=o,t.shiftDown=!1,t.expandLayer=function(t){angular.isUndefined(t.expanded)?t.expanded=!0:t.expanded=!t.expanded},t.expandSettings=function(t,e){angular.isUndefined(t.opacity)&&(t.opacity=t.layer.getOpacity(),t.maxResolutionLimit=t.layer.getMaxResolution(),t.minResolutionLimit=t.layer.getMinResolution(),t.maxResolution=t.maxResolutionLimit,t.minResolution=t.minResolutionLimit),angular.isUndefined(t.style)&&t.layer.getSource().styleAble&&f(t),t.expandSettings=e},t.expandFilter=function(e,n){e.expandFilter=n,s.currentLayer=e,t.currentLayer=s.currentLayer},t.setOpacity=function(e){e.layer.setOpacity(e.opacity),t.$emit("compositions.composition_edited")},t.setLayerOpacity=function(e){if(!angular.isUndefined(e))return e.setOpacity(t.cur_layer_opacity),t.$emit("compositions.composition_edited"),!1},t.updateResolution=function(t){t.layer.setMaxResolution(t.maxResolution),t.layer.setMinResolution(t.minResolution)},t.expandInfo=function(t,e){t.expandInfo=e},t.changeLayerVisibility=s.changeLayerVisibility,t.changeBaseLayerVisibility=s.changeBaseLayerVisibility,t.changeTerrainLayerVisibility=s.changeTerrainLayerVisibility,t.layerOrder=function(t){return t.layer.get("position")},t.changePosition=function(t,e,n){var o=t.layer.get("position"),i=a.map.getLayers(),r=o;if(e){var c=i.getLength()-1;o<c&&(r=n.shiftKey?c:o+1)}else{for(var u,p=0;p<i.getLength();p++)if(1!=i.item(p).get("base")){u=p;break}o>u&&(r=n.shiftKey?u:o-1)}var h=i.item(o);i.removeAt(o),i.insertAt(r,h),s.updateLayerOrder(),l.$broadcast("layermanager.updated")},t.showRemoveLayerDiag=function(e,n){var o=c.confirm().title("Remove layer "+n.title).textContent("Are you sure about layer removal?").ariaLabel("Confirm layer removal").targetEvent(e).ok("Remove").cancel("Cancel").hasBackdrop(!1);c.show(o).then(function(){t.removeLayer(n.layer)},function(){})},t.isLayerType=function(t,e){switch(e){case"wms":return function(t){return t.getSource()instanceof ol.source.TileWMS||t.getSource()instanceof ol.source.ImageWMS}(t);case"point":return t.getSource().hasPoint;case"line":return t.getSource().hasLine;case"polygon":return t.getSource().hasPoly;default:return!1}},t.setProp=function(t,e,n){t.set(e,n)},t.layerOpacity=50,t.saveStyle=function(t){m(t)},t.changePointType=function(t,e){angular.isUndefined(t.style)&&f(t),t.style.pointType=e,m(t)},t.icons=["bag1.svg","banking4.svg","bar.svg","beach17.svg","bicycles.svg","building103.svg","bus4.svg","cabinet9.svg","camping13.svg","caravan.svg","church15.svg","church1.svg","coffee-shop1.svg","disabled.svg","favourite28.svg","football1.svg","footprint.svg","gift-shop.svg","gps40.svg","gps41.svg","gps42.svg","gps43.svg","gps5.svg","hospital.svg","hot-air-balloon2.svg","information78.svg","library21.svg","location6.svg","luggage13.svg","monument1.svg","mountain42.svg","museum35.svg","park11.svg","parking28.svg","pharmacy17.svg","port2.svg","restaurant52.svg","road-sign1.svg","sailing-boat2.svg","ski1.svg","swimming26.svg","telephone119.svg","toilets2.svg","train-station.svg","university2.svg","warning.svg","wifi8.svg"],t.isLayerRemovable=function(t){return angular.isDefined(t)&&(angular.isUndefined(t.get("removable"))||1==t.get("removable"))},t.removeLayer=function(t){a.map.removeLayer(t),l.$broadcast("layermanager.updated")},t.activateTheme=s.activateTheme,t.setCurrentLayer=function(e,n,i){s.currentLayer=e,t.currentLayer=s.currentLayer,u.layerIsWmsT(e)&&(s.currentLayer.time=new Date(e.layer.getSource().getParams().TIME),s.currentLayer.date_increment=s.currentLayer.time.getTime());var r=document.getElementsByClassName("layerpanel"),a=document.getElementById("layer"+(i||"")+(n||""));o.insertAfter(r,a),t.legendDescriptors=[];var l=!!e&&h.getLayerLegendDescriptor(e.layer);return l&&t.legendDescriptors.push(l),t.cur_layer_opacity=e.layer.getOpacity(),!1},t.currentLayer=s.currentLayer,t.toggleCurrentLayer=function(e,n,o){return s.currentLayer==e?s.currentLayer=null:t.setCurrentLayer(e,n,o),t.currentLayer=s.currentLayer,!1},t.removeLayer=function(t){d.removeLayer(t)},t.draggedCont=function(t,e,n,o,i,r){r.indexOf(n)<e&&e--;for(var c=r[e],u=null,p=null,h=a.map.getLayers(),f=0;f<h.getLength();f++)h.item(f).get("title")==c&&(u=f),h.item(f).get("title")==n&&(p=f),e>r.length&&(u=f+1);var m=h.item(p);d.getLayers().removeAt(p),d.getLayers().insertAt(u,m),s.updateLayerOrder(),l.$broadcast("layermanager.updated")},t.zoomToLayer=function(e){var n=null;if(e.get("BoundingBox")?n=g(e):angular.isDefined(e.getSource().getExtent)&&(n=e.getSource().getExtent()),null==n&&t.isLayerWMS(e)){var o=null;e.getSource().getUrls&&(o=e.getSource().getUrls()[0]),e.getSource().getUrl&&(o=e.getSource().getUrl()),srv_wms_caps.requestGetCapabilities(o).then(function(t){var o=(new ol.format.WMSCapabilities).read(t.data);angular.isArray(o.Capability.Layer)&&angular.forEach(o.Capability.Layer,function(t){t.Name==e.params.LAYERS&&e.set("BoundingBox",t.BoundingBox)}),angular.isObject(o.Capability.Layer)&&(e.set("BoundingBox",o.Capability.Layer.BoundingBox),null!=(n=g(e))&&d.getView().fit(n,d.getSize()))})}null!=n&&d.getView().fit(n,d.getSize())},t.layerIsZoomable=i.layerIsZoomable,t.layerIsStyleable=i.layerIsStyleable,t.styleLayer=function(t){p.layer=t,e.setMainPanel("styler")},t.removeAllLayers=function(e,o){if(void 0!==e)s.removeAllLayers(),1==o&&l.$broadcast("compositions.load_composition",t.composition_id);else if(null==document.getElementById("hs-remove-all-dialog")){var i=angular.element("<div hs.layermanager.remove_all_dialog_directive></div>");document.getElementById("hs-dialog-area").appendChild(i[0]),n(i)(t)}else t.removeAllModalVisible=!0},t.isLayerQueryable=function(t){i.isLayerQueryable(t.layer)},t.isLayerWMS=i.isLayerWMS,t.dateToNonUtc=function(t){if(!angular.isUndefined(t))return new Date(t.valueOf()+6e4*t.getTimezoneOffset())},t.toggleLayerRename=function(){t.layer_renamer_visible=!t.layer_renamer_visible},t.setTitle=function(){s.currentLayer.layer.set("title",s.currentLayer.title)},t.hasBoxImages=function(){if(angular.isDefined(t.data.box_layers))for(var e=0;e<t.data.box_layers.length;e++)if(t.data.box_layers[e].get("img"))return!0;return!1},t.isLayerInResolutionInterval=function(t){var e=t.getSource();if(e instanceof ol.source.ImageWMS||e instanceof ol.source.TileWMS){var n=a.map.getView().getResolution(),o=d.getView().getProjection().getUnits(),i=n*ol.proj.METERS_PER_UNIT[o]*39.37*(25.4/.28);return t.getMinResolution()>=i||i>=t.getMaxResolution()}return i=a.map.getView().getResolution(),t.getMinResolution()>=i&&i<=t.getMaxResolution()},t.isLayerWithDimensions=function(t){return!angular.isUndefined(t)&&null!=t&&!angular.isUndefined(t.layer)&&!angular.isUndefined(t.layer.get("dimensions"))&&Object.keys(t.layer.get("dimensions")).length>0},t.isScaleVisible=function(t){return void 0!==t&&(t.minResolutionValid=!1,t.maxResolutionValid=!1,angular.isDefined(t.getMinResolution())&&0!=t.getMinResolution()&&(t.minResolutionValid=!0,t.minResolution=t.getMinResolution()),angular.isDefined(t.getMaxResolution())&&t.getMaxResolution()!=1/0&&(t.maxResolutionValid=!0,t.maxResolution=t.getMaxResolution()),!(!t.minResolutionValid&&!t.maxResolutionValid))},t.setLayerResolution=function(t){if(void 0===t)return!1;t.setMinResolution(t.minResolution),t.setMaxResolution(t.maxResolution)},t.layerLoaded=i.layerLoaded,t.layerValid=i.layerInvalid,t.layerIsWmsT=u.layerIsWmsT,t.setLayerTime=u.setLayerTime,t.addDrawingLayer=function(){var n=new ol.source.Vector;n.styleAble=!0,n.hasPoint=!0,n.hasPolygon=!0,n.hasLine=!0;var o=new ol.layer.Vector({title:"New user graphics layer",visibility:!0,source:n});d.getLayers().push(o),t.$emit("layer_added",{layer:status_creator.layer2json(o)}),hslayers_api.gui.Draw.setLayerToSelect(o),e.setMainPanel("draw",!1,!1)},t.dimensionChanged=function(e,n){t.$emit("layermanager.dimension_changed",{layer:e.layer,dimension:n})},t.$on("layer.removed",function(e,n){if(angular.isObject(s.currentLayer)&&s.currentLayer.layer==n){var i=document.getElementsByClassName("layerpanel"),r=document.getElementsByClassName("hs-lm-mapcontentlist")[0];o.insertAfter(i,r),s.currentLayer=null,t.currentLayer=s.currentLayer}}),t.$on("compositions.composition_loaded",function(e,n){angular.isUndefined(n.error)&&(angular.isDefined(n.data)&&angular.isDefined(n.data.id)?t.composition_id=n.data.id:angular.isDefined(n.id)?t.composition_id=n.id:delete t.composition_id)}),t.$on("compositions.composition_deleted",function(e,n){n==t.composition_id&&(delete t.composition_id,t.$$phase||t.$digest())}),t.$on("core.map_reset",function(e){$timeout(function(){delete t.composition_id})}),angular.isDefined(a.map)?y():l.$on("map.loaded",function(){y()}),t.$emit("scope_loaded","LayerManager")}]),r.init(),o.init(),i.init()},{angular:59,"angular-drag-and-drop-lists":49,"hs.layermanager.WMSTservice":18,"hs.layermanager.layerlistDirective":19,"hs.layermanager.service":20,legend:25,map:26,ol:65,ows_wms:31,status_creator:38,styles:39,utils:42}],22:[function(t,e,n){e.exports=function(ol){function t(t,e,n){var o,i,r,a=e/(1.00000001*t),s=~~(4*a),l=4*a-s,c=1-l;switch(s%4){case 2:o=l,i=1,r=0;break;case 0:o=0,i=l,r=1;break;case 3:o=1,i=c,r=0;break;case 1:o=0,i=1,r=c}return"rgba("+~~(235*o)+","+~~(235*i)+","+~~(235*r)+", "+n+")"}function e(t,e,n,o,i){t[e.category_field]&&(void 0===o[t[e.category_field]]&&(o[t[e.category_field]]={id:i,name:t[e.category_field]},i++),n.category_id=o[t[e.category_field]].id)}function n(n,o,i,r,a,s){var l=[],c=0,u=new ol.format.WKT;for(var p in n){if(c++,n[p]["http://www.w3.org/2003/01/geo/wgs84_pos#lat"]&&n[p]["http://www.w3.org/2003/01/geo/wgs84_pos#long"]&&""!=n[p]["http://www.w3.org/2003/01/geo/wgs84_pos#lat"]&&""!=n[p]["http://www.w3.org/2003/01/geo/wgs84_pos#long"]){var h=parseFloat(n[p]["http://www.w3.org/2003/01/geo/wgs84_pos#long"]),d=parseFloat(n[p]["http://www.w3.org/2003/01/geo/wgs84_pos#lat"]);if(!isNaN(h)&&!isNaN(d)){if(void 0!==r[m=ol.proj.transform([h,d],"EPSG:4326","EPSG:3857")])continue;n[p].geometry=new ol.geom.Point(m);var f=new ol.Feature(n[p]);e(n[p],i,f,a,s),r[m]=!0,l.push(f)}}if(n[p]["http://www.opengis.net/ont/geosparql#asWKT"]){var m,g=u.readFeature(n[p]["http://www.opengis.net/ont/geosparql#asWKT"].toUpperCase());if(n[p].geometry=g.getGeometry(),n[p].geometry.transform("EPSG:4326",i.projection),delete n[p]["http://www.opengis.net/ont/geosparql#asWKT"],void 0!==r[m=n[p].geometry.getCoordinates()])continue;f=new ol.Feature(n[p]);e(n[p],i,f,a,s),r[m]=!0,l.push(f)}}for(var y in a)a[y].color=t(s,a[y].id,.7);o.legend_categories=a;for(c=0;c<l.length;c++)l[c].category_id&&(l[c].color=t(s,l[c].category_id,.7));return l}function o(t,e){if(void 0!==t.extend_with_attribs)for(var n in t.extend_with_attribs)for(var o in e)void 0===e[o][t.extend_with_attribs[n]]&&(e[o][t.extend_with_attribs[n]]="")}return function(t){var e={},i={},r=new ol.source.Vector({format:new ol.format.GeoJSON,loader:function(a,s,l){if(this.set("loaded",!1),void 0!==this.options.clear_on_move&&this.options.clear_on_move&&this.clear(),void 0===t.hsproxy&&(t.hsproxy=!1),void 0===t.geom_attribute&&(t.geom_attribute="bif:st_point(xsd:decimal(?lon), xsd:decimal(?lat))"),""!=this.options.url){var c=this.options.url,u=[a[0],a[1]],p=[a[2],a[3]];u=ol.proj.transform(u,"EPSG:3857","EPSG:4326"),p=ol.proj.transform(p,"EPSG:3857","EPSG:4326");var h='FILTER(bif:st_intersects(bif:st_geomfromtext("BOX('+(a=[u[0],u[1],p[0],p[1]])[0]+" "+a[1]+", "+a[2]+" "+a[3]+')"), '+t.geom_attribute+")).";c=c.replace("<extent>",h),t.hsproxy&&(c="/cgi-bin/hsproxy.cgi?toEncoding=utf-8&url="+encodeURIComponent(c)),console&&void 0!==r.get("geoname")&&console.log("Get ",r.get("geoname")),console&&console.log(h),this.loadCounter+=1,this.loadTotal+=1,$.ajax({url:c,context:this}).done(function(a){if(console&&console.log("Finish ",this.get("geoname"),a.results.bindings.length),r.loadCounter-=1,this.options.updates_url){var s=this.options.updates_url;s=s.replace("<extent>",h),r.loadCounter+=1,r.loadTotal+=1,$.ajax({url:s,context:this}).done(function(s){console&&void 0!==this.get("geoname")&&console.log("Finish updates ",this.get("geoname"),a.results.bindings.length,s.results.bindings.length);for(var l={},c=0;c<a.results.bindings.length;c++){void 0===l[(u=a.results.bindings[c]).o.value]&&(l[u.o.value]={poi_id:u.o.value}),l[u.o.value][u.p.value]=u.s.value}for(c=0;c<s.results.bindings.length;c++){var u,p=(u=s.results.bindings[c]).attr.value;if(void 0!==l[u.o.value][p]&&"http://xmlns.com/foaf/0.1/depiction"==p)for(var h=1;h<20;h++)if(void 0===l[u.o.value][p+h]){p+=h;break}l[u.o.value][p]=u.value.value}if(void 0!==t.category)for(var c in l)l[c]["http://www.sdi4apps.eu/poi/#mainCategory"]=t.category;o(t,l),console&&console.log("Add features",l),this.addFeatures(n(l,this,t,i,e,0)),r.loadCounter-=1,this.set("last_feature_count",Object.keys(l).length),0==r.loadCounter&&(this.set("loaded",!0),this.dispatchEvent("imageloadend"))})}else{for(var l={},c=0;c<a.results.bindings.length;c++){var u=a.results.bindings[c];void 0===l[u.o.value]&&(l[u.o.value]={poi_id:u.o.value}),l[u.o.value][u.p.value]=u.s.value}if(void 0!==t.category)for(var c in l)l[c]["http://www.sdi4apps.eu/poi/#mainCategory"]=t.category;o(t,l),this.addFeatures(n(l,this,t,i,e,0)),this.styleAble=!0,this.hasPoint=!0,r.loadCounter-=1,this.set("last_feature_count",Object.keys(l).length),0==r.loadCounter&&(this.set("loaded",!0),this.dispatchEvent("imageloadend"))}})}},strategy:t.strategy||function(t,e){var n=[t[0],t[1],t[2],t[3]];return t[2]-t[0]>65735&&(n[0]=(t[2]+t[0])/2-32867.5,n[2]=(t[2]+t[0])/2+32867.5,n[1]=(t[3]+t[1])/2-17500,n[3]=(t[3]+t[1])/2+17500),[n]},projection:t.projection});return r.loadCounter=0,r.loadTotal=0,r.options=t,r.legend_categories=e,r}}(t("ol"))},{ol:65}],23:[function(t,e,n){var ol;e.exports=(ol=t("ol"),function(t){void 0===t.version&&(t.version="1.0.0"),void 0===t.hsproxy&&(t.hsproxy=!0),void 0===t.format&&(t.format=new ol.format.GeoJSON),t.projection=t.projection.toUpperCase(),void 0===t.parser&&(t.parser=function(t){var e=[],n=new ol.format.GML3;for(var o in n)o.indexOf("_PARSERS")>0&&(n[o]["http://www.opengis.net/gml/3.2"]=n[o]["http://www.opengis.net/gml"]);return $("member",t).each(function(){var t={},o=$("geometry",this).get(0)||$("CP\\:geometry",this).get(0);t.geometry=n.readGeometryElement(o,[{}]);var i=new ol.Feature(t);e.push(i)}),e});var e=new ol.source.Vector({format:t.format,loader:function(e,n,o){this.set("loaded",!1),this.clear(),console&&console.log("resolution",n);var i=t.url+(t.url.indexOf("?")>0?"&":"?")+"service=WFS&TYPENAME="+t.typename+"&request=GetFeature&version="+t.version+"&SRSNAME="+t.projection+"&outputFormat=geojson&bbox="+e.join(",")+",urn:ogc:def:crs:EPSG:6.3:3857",r=t.hsproxy?"/cgi-bin/hsproxy.cgi?toEncoding=utf-8&url="+window.escape(i):i;$.ajax({url:r,context:this}).done(function(e){this.addFeatures(t.parser(e)),this.hasLine=!1,this.hasPoly=!1,this.hasPoint=!1,angular.forEach(this.getFeatures(),function(t){if(t.getGeometry())switch(t.getGeometry().getType()){case"LineString":this.hasLine=!0;break;case"Polygon":this.hasPoly=!0;break;case"Point":this.hasPoint=!0}}),(this.hasLine||this.hasPoly||this.hasPoint)&&(this.styleAble=!0),this.set("loaded",!0)})},projection:t.projection,strategy:ol.loadingstrategy.bbox});return e.defOptions=t,e})},{ol:65}],24:[function(t,e,n){var angular;angular=t("angular"),t("angular-material"),t("core"),t("map"),t("geolocation"),t("layermanager"),angular.module("hs.layout",["hs.core","hs.map","ngMaterial","hs.geolocation","hs.layermanager","hs.print"]).directive("hs.layout.directive",["hs.map.service","Core","$timeout","config","$compile",function(t,e,n,o,i){return{templateUrl:o.layout_template||`${o.hsl_path}components/layout/partials/layout${o.design||""}.html`,link:function(t,o){try{angular.module("hs.cesium")&&angular.element(".page-content",o)&&angular.element(".page-content",o).append(i('<div hs.cesium.directive ng-controller="hs.cesium.controller"></div>')(t))}catch(t){}e.init(o,{innerElement:"#map-container"});var r=document.getElementById("map-container");r&&0===r.height()&&function e(){n(function(){0!=r.clientHeight?t.$emit("Core_sizeChanged"):e()},100)}()}}}]).directive("hs.mdSidenav.directive",["config",function(t){return{templateUrl:t.sidenav_template||t.hsl_path+"components/layout/partials/sidenav.html"}}]).directive("hs.mdRightPanel.directive",["config",function(t){return{replace:!0,templateUrl:t.right_panel_template||t.hsl_path+"components/layout/partials/right-panel.html"}}]).directive("hs.mdToolbar.directive",["config",function(t){return{templateUrl:t.toolbar_template||t.hsl_path+"components/layout/partials/toolbar.html"}}]).directive("hs.mdOverlay.directive",["config",function(t){return{templateUrl:t.overlay_template||t.hsl_path+"components/layout/partials/overlay.html",link:(t,e,n)=>{e.css("height",e.parent().css("height")),t.$watch(()=>e.parent().css("height"),()=>{e.css("height",e.parent().css("height"))})}}}]).directive("hs.swipeArea.directive",["config",function(t){return{templateUrl:t.hsl_path+"components/layout/partials/swipe-area.html"}}]).directive("hs.bottomSheetScroll",function(){return{restrict:"A",link:function(t,e,n){let o=e[0];function i(){o.classList.value.indexOf("expanded")+1&&o.scrollHeight>o.clientHeight?(o.style["touch-action"]="pan-y",o.scrollTop+o.offsetHeight>o.scrollHeight&&(o.style["touch-action"]="pan-up"),0==o.scrollTop&&(o.style["touch-action"]="pan-down")):o.style["touch-action"]="none"}t.$watch(()=>o.scrollHeight,()=>{i()}),t.$watch(()=>o.classList.value,()=>{i()}),e.bind("scroll",function(){o.style["touch-action"]="pan-y",o.scrollTop+o.offsetHeight>o.scrollHeight&&(o.style["touch-action"]="pan-up"),0==o.scrollTop&&(o.style["touch-action"]="pan-down")})}}}).controller("hs.layout.controller",["$scope","$injector","$rootScope","$window","Core","hs.map.service","hs.geolocation.service","hs.layermanager.service","gettextCatalog","config","$templateCache","$timeout","$interval","$mdSidenav","$mdMenu","$mdPanel","$mdDialog","$mdMedia","hs.layout.service",function(t,e,n,o,i,r,a,s,l,c,u,p,h,d,f,m,g,y,v){function b(){var t=document.getElementById("hs-loading-logo");t&&t.parentElement.removeChild(t)}let w;"md"==c.design&&window.require(["bottomSheetCollapsible"]),t.importCss=!angular.isDefined(c.importCss)||c.importCss,t.useIsolatedBootstrap=!!angular.isDefined(c.useIsolatedBootstrap)&&c.useIsolatedBootstrap,t.Core=i,t.geolocation=a,t.LM=s,t.layoutService=v,t.location={status:{icon:"location_searching",class:"off"}},t.defaultFab={primary:{clickAction:function(){console.log("Primary clicked.")},classes:"",icon:{iconSet:"material-icons",classes:"",text:"add"},tooltip:{direction:"left",text:"Cancel"}},secondary:[{clickAction:function(){console.log("Secondary 1 clicked.")},classes:"",icon:{iconSet:"material-icons",classes:"",text:"place"},tooltip:{direction:"left",text:"New point"}},{clickAction:function(){console.log("Secondary 2 clicked.")},classes:"",icon:{iconSet:"material-icons",classes:"",text:"timeline"},tooltip:{direction:"left",text:"New line"}},{clickAction:function(){console.log("Secondary 3 clicked.")},classes:"",icon:{iconSet:"material-icons",classes:"",text:"select_all"},tooltip:{direction:"left",text:"New polygon"}}],options:{isOpen:!1,tooltipsVisible:!1,direction:"up",location:"md-fab-bottom-right"}},t.fab={update:function(t,e,n){this.primary=angular.copy(t),e?this.secondary=angular.copy(e):this.secondary&&delete this.secondary,this.options=angular.copy(n)},unset:function(){this.primary=angular.copy(t.defaultFab.primary),this.secondary=t.defaultFab.secondary?angular.copy(t.defaultFab.secondary):void 0,this.options=angular.copy(t.defaultFab.options)}},t.$watch("fab.options.isOpen",function(e){e?t.showTooltips=p(function(){t.fab.options.tooltipsVisible=t.fab.options.isOpen,t.hideTooltips=p(function(){t.fab.options.tooltipsVisible=!1},2500)},500):(p.cancel(t.showTooltips),p.cancel(t.hideTooltips),t.fab.options.tooltipsVisible=t.fab.options.isOpen)}),t.$on("scope_loaded",function(){t.fab.unset()}),n.$on("$viewContentLoaded",b),p(b,100),t.leftSidenavOpen=!1,n.$on("geolocation.started",function(){t.location.status.icon="my_location",t.location.status.class="searching"}),n.$on("geolocation.updated",function(){t.location.status.icon="my_location",t.location.status.class="on"}),n.$on("geolocation.stopped",function(){t.location.status.icon="location_searching",t.location.status.class="off"}),n.$on("geolocation.failed",function(){t.location.status.icon="location_disabled",t.location.status.class="off"}),t.openPanel=function(e){i.setMainPanel(e.name),t.bottomSheetTitle=e.title,y("gt-sm")||t.getBottomSheetState||(t.closeLeftSidenav(),t.openBottomSheet(e))},t.switchBottomSheetState=function(){"minimized"===t.getBottomSheetState()?t.setHalfway():t.setMinimized()},t.openBottomSheet=function(n){try{e.get("$mdBottomSheetCollapsible").show({templateUrl:c.hsl_path+"components/layout/partials/bottom-sheet.html",scope:t,parent:"#layout",preserveScope:!0,disableBackdrop:!0,clickOutsideToClose:!0,onLoad:function(e){t.setMinimized=e.setMinimized,t.setHalfway=e.setHalfway,t.setExpanded=e.setExpanded,t.getBottomSheetState=e.getState,t.bottomSheet=e.element}}).then(function(e){console.log("Bottom sheet closed",Date.now()),t.unsetBottomSheet()}).catch(function(e){console.log("Bottom sheet canceled",Date.now()),t.unsetBottomSheet()})}catch(t){console.log("Injector does not have mdBottomSheetCollapsible service!")}},t.closeBottomSheet=function(){t.bottomSheet.hide(),t.unsetBottomSheet()},t.unsetBottomSheet=function(){t.setMinimized=void 0,t.setHalfway=void 0,t.setExpanded=void 0,t.getBottomSheetState=void 0,t.bottomSheet=void 0},t.openLeftSidenav=function(){d("sidenav-left").open().then(function(){t.leftSidenavOpen=!0})},t.closeLeftSidenav=function(){d("sidenav-left").close()},d("sidenav-left",!0).then(function(){d("sidenav-left").onClose(function(){t.leftSidenavOpen=!1}),Hammer(document.getElementsByClassName("md-sidenav-left")[0]).on("swipeleft",()=>{t.closeLeftSidenav()}),Hammer(document.getElementById("sidenav-swipe-overlay")).on("swiperight",()=>{t.openLeftSidenav()})}),t.openRightPanel=function(){d("right-panel").open().then(function(){t.rightPanelOpen=!0})},t.closeRightPanel=function(){d("right-panel").close()},d("right-panel",!0).then(function(){d("right-panel").onClose(function(){t.rightPanelOpen=!1})}),t.defaultBaselayerThumbnail=`${hsl_path}components/layout/osm.png`,t.defaultTerrainlayerThumbnail=`${hsl_path}components/layout/osm.png`,t.removeLayer=function(t){var e=t.active;r.map.removeLayer(t.layer),e&&LM.data.baselayers.length>0&&LM.changeBaseLayerVisibility(!0,LM.data.baselayers[0])},t.hasImage=function(t){return!!angular.isDefined(t.layer.get("img"))},t.getImage=function(t){return t.layer.get("img")},t.isRemovable=function(t){return t.layer.get("removable")},t.showRemoveDialog=function(e,n){var o=g.confirm().title("Remove basemap "+n.title).textContent("Are you sure about layer removal?").ariaLabel("Confirm layer removal").targetEvent(e).ok("Remove").cancel("Cancel").hasBackdrop(!1);g.show(o).then(function(){t.removeLayer(n)},function(){})},t.openBaselayersPanel=function(e){let n=m.newPanelPosition().relativeTo(e.target).addPanelPosition(m.xPosition.ALIGN_END,m.yPosition.ALIGN_TOPS).addPanelPosition(m.xPosition.ALIGN_START,m.yPosition.ALIGN_TOPS).addPanelPosition(m.xPosition.ALIGN_END,m.yPosition.ALIGN_BOTTOMS).addPanelPosition(m.xPosition.ALIGN_START,m.yPosition.ALIGN_BOTTOMS),o=m.newPanelAnimation().openFrom(e.target).closeTo(e.target).withAnimation(m.animation.SCALE),i={attachTo:angular.element("#gui"),position:n,animation:o,targetEvent:e,templateUrl:`${i.hsl_path}components/layout/partials/baselayers.html`,panelClass:"baselayers-panel md-whiteframe-8dp",scope:this,trapFocus:!0,clickOutsideToClose:!0,clickEscapeToClose:!0,zIndex:50};m.open(i).then(function(t){w=t}),t.closeBaselayersPanel=function(t){t&&t.close()}},t.onlyEnabled=function(t){return t.enabled},t.$emit("scope_loaded","Layout")}]).directive("panelCreator",["$compile","$parse",function(t,e){return{restrict:"A",terminal:!0,priority:1e5,link:function(n,o){var i=e(o.attr("panel-creator"))(n);o.removeAttr("panel-creator");var r=e(o.attr("directive"))(n);if(i)o.attr("ng-controller",i),o.attr(r,""),t(o)(n);else{var a=angular.element("<"+r+"> </"+r+">");a.attr("ng-show",o.attr("ng-show")),o.append(t(a)(n))}}}}]).service("hs.layout.service",["Core",function(t){return this.data={panels:[{enabled:!0,order:0,title:"Map Compositions",description:"List available map compositions",name:"composition_browser",directive:"hs.compositions.directive",controller:"hs.compositions.controller",mdicon:"map"},{enabled:!0,order:1,title:"Manage and Style Layers",description:"Manage and style your layers in composition",name:"layermanager",directive:"hs.layermanager.directive",controller:"hs.layermanager.controller",mdicon:"layers"},{enabled:!0,order:2,title:"Legend",description:"Display map legend",name:"legend",directive:"hs.legend",mdicon:"format_list_bulleted"},{enabled:t.singleDatasources,order:3,title:t.singleDatasources?"Add layers":"Datasource Selector",description:"Select data or services for your map composition",name:"datasource_selector",directive:"hs.datasource_selector.directive",controller:"hs.datasource_selector.controller",mdicon:"dns"},{enabled:!t.singleDatasources,order:4,title:"Add external data",description:"Add external data",name:"ows",directive:"hs.ows.directive",controller:"hs.ows.controller",mdicon:"library_add"},{enabled:!0,order:5,title:"Measurements",description:"Measure distance or area at map",name:"measure",directive:"hs.measure.directive",controller:"hs.measure.controller",mdicon:"straighten"},{enabled:!0,order:6,title:"Print",description:"Print map",name:"print",directive:"hs.print",mdicon:"print"},{enabled:!0,order:7,title:"Share map",description:"Share map",name:"permalink",directive:"hs.permalink",mdicon:"share"},{enabled:!0,order:8,title:"Save composition",ngClick(){t.openStatusCreator()},description:"Save content of map to composition",name:"status_creator",directive:"hs.status_creator.directive_panel",controller:"hs.status_creator.controller",mdicon:"save"}]},this}])},{angular:59,"angular-material":53,core:7,geolocation:12,layermanager:21,map:26}],25:[function(t,e,n){!function(angular,ol){var t=angular.module("hs.legend",["hs.map","hs.utils"]);t.directive("hs.legend.layerDirective",["config",function(t){return{templateUrl:`${t.hsl_path}components/legend/partials/layer-directive${t.design||""}.html`,scope:{layer:"="}}}]),t.service("hs.legend.service",["hs.utils.service",function(t){var e={};return angular.extend(e,{isLegendable:function(t){return!!(["vector","wms"].indexOf(t.type)>-1&&t.lyr.getVisible())},getLegendUrl:function(e,n){var o="";if(e instanceof ol.source.TileWMS)o=e.getUrls()[0];else{if(!(e instanceof ol.source.ImageWMS))return"";o=e.getUrl()}o.indexOf("proxy4ows")>-1&&(o=t.getParamsFromUrl(o).OWSURL);var i="1.3.0";return e.getParams().VERSION&&(i=e.getParams().VERSION),o+=(o.indexOf("?")>0?"":"?")+"&version="+i+"&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer="+n+"&format=image%2Fpng",o=t.proxify(o,!1)},getLayerLegendDescriptor:function(t){if(t.getSource()instanceof ol.source.TileWMS||t.getSource()instanceof ol.source.ImageWMS){for(var n=t.getSource().getParams().LAYERS.split(","),o=0;o<n.length;o++)n[o]=e.getLegendUrl(t.getSource(),n[o]);return{title:t.get("title"),lyr:t,type:"wms",subLayerLegends:n,visible:t.getVisible()}}return t.getSource().legend_categories?{title:t.get("title"),lyr:t,type:"vector",visible:t.getVisible()}:void 0}})}]),t.component("hs.legend",{templateUrl:["config",function(t){return`${t.hsl_path}components/legend/partials/legend${t.design||""}.html`}],controller:["$scope","hs.map.service","$rootScope","hs.legend.service",function(t,e,n,o){var i;function r(){(i=e.map).getLayers().on("add",a),i.getLayers().on("remove",function(e){t.removeLayerFromLegends(e.element)}),i.getLayers().forEach(function(t){a({element:t})})}function a(e){t.addLayerToLegends(e.element)}function s(e){for(var n=0;n<t.layerDescriptors.length;n++)if(t.layerDescriptors[n].layer==e.target){t.layerDescriptors[n].visible=e.target.getVisible();break}}angular.extend(t,{layerDescriptors:[],addLayerToLegends:function(e){var n=o.getLayerLegendDescriptor(e);n&&(t.layerDescriptors.push(n),e.on("change:visible",s))},removeLayerFromLegends:function(e){for(var n=0;n<t.layerDescriptors.length;n++)if(t.layerDescriptors[n].lyr==e){t.layerDescriptors.splice(n,1);break}},refresh:function(){t.$$phase||t.$digest()},isLegendable:o.isLegendable}),e.map?r():n.$on("map.loaded",function(){r()}),t.$emit("scope_loaded","Legend")}]})}(t("angular"),t("ol"),t("map"),t("utils"))},{angular:59,map:26,ol:65,utils:42}],26:[function(t,e,n){var angular,ol;angular=t("angular"),t("permalink"),(ol=t("ol")).Feature.prototype.getLayer=function(t){var e,n=this,o=[],i=function(t){var e=t.getSource();if(e instanceof ol.source.Vector){var n=e.getFeatures();n.length>0&&o.push({layer:t,features:n})}};return t.getLayers().forEach(function(t){t instanceof ol.layer.Group?t.getLayers().forEach(i):i(t)}),o.forEach(function(t){t.features.some(function(t){return n===t})&&(e=t.layer)}),e},angular.module("hs.map",["hs"]).service("hs.map.service",["config","$rootScope","hs.utils.service","$timeout",function(t,e,n,o){var i;function r(t){return new ol.View({center:t.getCenter(),zoom:t.getZoom(),projection:t.getProjection(),rotation:t.getRotation()})}this.init=function(){function n(t){null!=i&&clearTimeout(i),i=setTimeout(function(){e.$broadcast("map.extent_changed",t.element,a.map.getView().calculateExtent(a.map.getSize()))},500)}angular.isDefined(a.map)&&a.map.getLayers().clear(),a.map=new ol.Map({controls:ol.control.defaults({zoom:!1}),target:"map",interactions:[],view:r(t.default_view)}),a.visible=!0,a.map.getView().on("change:center",function(t){n(t)}),a.map.getView().on("change:resolution",function(t){n(t)}),a.map.on("moveend",function(t){n(t)}),angular.forEach(a.interactions,function(t,e){a.map.addInteraction(t)}),a.repopulateLayers(),e.$broadcast("map.loaded")},this.duration=400,this.interactions={DoubleClickZoom:new ol.interaction.DoubleClickZoom({duration:this.duration}),KeyboardPan:new ol.interaction.KeyboardPan({pixelDelta:256}),KeyboardZoom:new ol.interaction.KeyboardZoom({duration:this.duration}),MouseWheelZoom:new ol.interaction.MouseWheelZoom({duration:this.duration}),PinchRotate:new ol.interaction.PinchRotate,PinchZoom:new ol.interaction.PinchZoom({constrainResolution:!0,duration:this.duration}),DragPan:new ol.interaction.DragPan({kinetic:new ol.Kinetic(-.01,.1,200)}),DragZoom:new ol.interaction.DragZoom,DragRotate:new ol.interaction.DragRotate},new ol.control.MousePosition({coordinateFormat:ol.coordinate.createStringXY(4),undefinedHTML:"&nbsp;"});var a=this;function s(t,e){var n=t.getSource(),o=e.getSource();return t.get("title")==e.get("title")&&typeof n==typeof o&&(angular.isUndefined(n.getParams)||n.getParams().LAYERS==o.getParams().LAYERS)&&(angular.isUndefined(n.getUrl)||n.getUrl()==o.getUrl())&&(angular.isUndefined(n.getUrls)||n.getUrls()==o.getUrls())}function l(t){angular.forEach(t.getFeatures(),function(e){if(e.getGeometry())switch(e.getGeometry().getType()){case"LineString":case"MultiLineString":t.hasLine=!0;break;case"Polygon":case"MultiPolygon":t.hasPoly=!0;break;case"Point":case"MultiPoint":t.hasPoint=!0}}),(t.hasLine||t.hasPoly||t.hasPoint)&&(t.styleAble=!0)}this.findLayerByTitle=function(t){var e=a.map.getLayers(),n=null;return angular.forEach(e,function(e){e.get("title")==t&&(n=e)}),n},this.layerDuplicate=function(t){return a.map.getLayers().getArray().filter(function(e){s(e,t)}).length>0},this.removeDuplicate=function(t){a.map.getLayers().getArray().filter(function(e){s(e,t)}).forEach(function(t){a.map.getLayers().remove(t)})},this.addLayer=function(t){a.layerDuplicate(t)&&a.removeDuplicate(t),a.map.addLayer(t)},this.repopulateLayers=function(e){angular.isDefined(t.box_layers)&&angular.forEach(t.box_layers,function(t){angular.forEach(t.get("layers"),function(t){a.layerDuplicate(t)||(t.setVisible(a.isLayerVisible(t,a.visible_layers)),t.manuallyAdded=!1,t.getSource()instanceof ol.source.ImageWMS&&a.proxifyLayerLoader(t,!1),t.getSource()instanceof ol.source.TileWMS&&a.proxifyLayerLoader(t,!0),t.getSource()instanceof ol.source.Vector&&a.getVectorType(t),a.map.addLayer(t))})}),angular.isDefined(t.default_layers)&&angular.forEach(t.default_layers,function(t){a.layerDuplicate(t)||(t.setVisible(a.isLayerVisible(t,a.visible_layers)),t.manuallyAdded=!1,t.getSource()instanceof ol.source.ImageWMS&&a.proxifyLayerLoader(t,!1),t.getSource()instanceof ol.source.TileWMS&&a.proxifyLayerLoader(t,!0),t.getSource()instanceof ol.source.Vector&&a.getVectorType(t),a.map.addLayer(t))})},this.getVectorType=function(t){var e=t.getSource();e.hasLine=!1,e.hasPoly=!1,e.hasPoint=!1,e.getFeatures().length>0?l(e):e.on("change",function(t){var e=t.target;"ready"===e.getState()&&l(e)})},this.reset=function(){var t=[];for(a.map.getLayers().forEach(function(e){t.push(e)});t.length>0;)a.map.removeLayer(t.shift());a.repopulateLayers(null),a.resetView()},this.resetView=function(){a.map.setView(r(t.default_view))},this.isLayerVisible=function(t,e){if(e){var n=!1;return angular.forEach(e,function(e){e==t.get("title")&&(n=!0)}),n}return t.getVisible()},this.proxifyLayerLoader=function(t,e){var o=t.getSource();if(a.map.getLayers().forEach(function(t){t.get("source")}),e){var i=o.getTileUrlFunction()||o.tileUrlFunction();o.setTileUrlFunction(function(t,e,o){var r=i(t,e,o);return-1==r.indexOf("proxy")&&(r=decodeURIComponent(r)),n.proxify(r)})}else t.getSource().setImageLoadFunction(function(t,e){-1==e.indexOf("proxy")&&(e=decodeURIComponent(e)),t.getImage().src=n.proxify(e)})},this.puremap=function(){var t=a.map.getInteractions(),e=a.map.getControls();angular.forEach(t,function(t){a.map.removeInteraction(t)}),angular.forEach(e,function(t){a.map.removeControl(t)}),o(a.puremap,1e3)},this.moveToAndZoom=function(t,e,n){var o=a.map.getView();o.setCenter([t,e]),o.setZoom(n)},this.getMap=function(){return OlMap.map}}]).directive("hs.map.directive",["config","$compile",function(t,e){return{templateUrl:t.hsl_path+"components/map/partials/map.html",link:function(t,e,n,o){var i=document.getElementsByClassName("ol-zoomslider");i.length>0&&(i[0].style.width="28px",i[0].style.height="200px")}}}]).controller("hs.map.controller",["$scope","hs.map.service","config","hs.permalink.urlService","Core","$rootScope",function(t,e,n,o,i,r){e.map,t.setTargetDiv=function(t){e.map.setTarget(t)},t.findLayerByTitle=e.findLayerByTitle,t.hs_map=e,t.showFeaturesWithAttrHideRest=function(t,e,n,o,i,r){},t.init=function(){o.getParamValue("visible_layers")&&(e.visible_layers=o.getParamValue("visible_layers").split(";")),e.init(),hs_x=o.getParamValue("hs_x"),hs_y=o.getParamValue("hs_y"),hs_z=o.getParamValue("hs_z"),hs_x&&"NaN"!=hs_x&&hs_y&&"NaN"!=hs_y&&hs_z&&"NaN"!=hs_z&&e.moveToAndZoom(parseFloat(hs_x),parseFloat(hs_y),parseInt(hs_z)),o.getParamValue("permalink")&&o.parsePermalinkLayers(),o.getParamValue("puremap")&&(i.puremapApp=!0,e.puremap())},r.$on("map.sync_center",function(t,n){if(!angular.isUndefined(n)&&null!=n){var o=ol.proj.transform([n[0],n[1]],"EPSG:4326",e.map.getView().getProjection());e.moveToAndZoom(o[0],o[1],function(t){var e=0;t=Math.abs(t);for(var n=156543.03390625;t<n;)if(e++,t>(n/=2))return e;return e}(n[2]))}}),t.init(),t.$emit("scope_loaded","Map")}])},{angular:59,ol:65,permalink:33}],27:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),t("map"),t("core"),angular.module("hs.measure",["hs.map","hs.core"]).directive("hs.measure.directive",["config",function(t){return{templateUrl:`${t.hsl_path}components/measure/partials/measure${t.design||""}.html`}}]).service("hs.measure.service",["$rootScope","hs.map.service",function(t,e){var n,o=this;angular.isDefined(e.map)?n=e.map:t.$on("map.loaded",function(){n=e.map}),this.draw,this.measureVector=new ol.layer.Vector({source:new ol.source.Vector,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:2})})}),this.data={},this.data.measurements=[],this.data.multipleShapeMode=!1,this.sketch={},this.currentMeasurement,this.switchMultipleMode=function(t){angular.isDefined(t)?o.data.multipleShapeMode=t:o.data.multipleShapeMode=!o.data.multipleShapeMode},this.changeMeasureParams=function(t){n.removeInteraction(o.draw),o.sketch=null,a(t)},this.clearMeasurement=function(){o.draw.setActive(!1),o.data.measurements.length=0,o.measureVector.getSource().clear(),o.sketch=null,o.draw.setActive(!0)},this.activateMeasuring=function(t){n.addLayer(o.measureVector),n.getViewport().addEventListener("mousemove",i),a(t)},this.deactivateMeasuring=function(){n.getViewport().removeEventListener("mousemove",i),n.removeInteraction(o.draw),n.removeLayer(o.measureVector)};var i=function(e){if(o.sketch){for(var n,i=0;i<o.sketch.length;i++){var a=o.sketch[i].getGeometry();a instanceof ol.geom.Polygon?n=r(c(a),n):a instanceof ol.geom.LineString&&(n=r(l(a),n))}o.data.measurements[o.currentMeasurement]=n,o.data.measurements[o.currentMeasurement]&&(o.data.measurements[o.currentMeasurement].geom=o.sketch),t.$$phase||t.$digest()}},r=function(t,e){if(void 0==e)return t;var n=t.unit,o=t.type;if(t.unit==e.unit){var i=Math.round(100*(t.size+e.size))/100;"m"==n&&"length"==o&&i>1e3?(i=Math.round(i/1e3*100)/100,n="km"):"m"==n&&"area"==o&&i>1e4&&(i=Math.round(i/1e6*100)/100,n="km")}else{for(var r=[t,e],a=0;a<r.length;a++)"m"==r[a].unit&&(r[a].size/="length"==o?1e3:1e6);i=Math.round(100*(r[0].size+r[1].size))/100,n="km"}return{size:i,type:o,unit:n}};function a(e){var i="area"==e?"Polygon":"LineString";o.draw=new ol.interaction.Draw({source:o.measureVector.getSource(),type:i}),n.addInteraction(o.draw),o.draw.on("drawstart",function(e){t.$broadcast("measure.drawStart"),o.data.multipleShapeMode?(Array.isArray(o.sketch)||(o.sketch=[],o.data.measurements.push({size:0,unit:""})),o.sketch.push(e.feature)):(o.sketch=[e.feature],o.data.measurements.push({size:0,unit:""})),o.currentMeasurement=o.data.measurements.length-1}),o.draw.on("drawend",function(e){t.$broadcast("measure.drawEnd")})}var s=new ol.Sphere(6378137),l=function(t){for(var e=0,o=t.getCoordinates(),i=n.getView().getProjection(),r=0,a=o.length-1;r<a;++r){var l=ol.proj.transform(o[r],i,"EPSG:4326"),c=ol.proj.transform(o[r+1],i,"EPSG:4326");e+=s.haversineDistance(l,c)}var u={size:e,type:"length",unit:"m"};return e>100?(u.size=Math.round(e/1e3*100)/100,u.unit="km"):(u.size=Math.round(100*e)/100,u.unit="m"),u},c=function(t){var e=n.getView().getProjection(),o=t.clone().transform(e,"EPSG:4326").getLinearRing(0).getCoordinates();area=Math.abs(s.geodesicArea(o));var i={size:area,type:"area",unit:"m"};return area>1e4?(i.size=Math.round(area/1e6*100)/100,i.unit="km"):(i.size=Math.round(100*area)/100,i.unit="m"),i}}]).controller("hs.measure.controller",["$scope","hs.map.service","Core","hs.measure.service",function(t,e,n,o){t.data=o.data,document.addEventListener("keyup",function(e){17==e.keyCode&&(o.switchMultipleMode(),t.$$phase||t.$digest())}),t.$on("measure.drawStart",function(){n.panelEnabled("toolbar",!1)}),t.$on("measure.drawEnd",function(){n.panelEnabled("toolbar",!0)}),t.type="distance",t.setType=function(e){t.type=e,o.switchMeasureType(e),t.$$phase||t.$digest()},t.clearAll=function(){o.clearMeasurement(),t.$$phase||t.$digest()},t.$watch("type",function(){"measure"==n.mainpanel&&o.changeMeasureParams(t.type)}),t.$on("core.mainpanel_changed",function(e){"measure"==n.mainpanel?o.activateMeasuring(t.type):o.deactivateMeasuring()}),"measure"==n.mainpanel&&(n.current_panel_queryable=!1,o.activateMeasuring(t.type)),t.$emit("scope_loaded","Measure")}])},{angular:59,core:7,map:26,ol:65}],28:[function(t,e,n){var angular,o;angular=t("angular"),t("map"),t("ows_wms"),t("ows_wmts"),t("ows_wfs"),t("ows_nonwms"),t("permalink"),o=angular.module("hs.ows",["hs.map","hs.ows.wms","hs.ows.wmts","hs.ows.nonwms"]).directive("hs.ows.directive",["config",function(t){return{templateUrl:`${t.hsl_path}components/ows/partials/ows${t.design||""}.html`}}]).controller("hs.ows.controller",["$scope","$injector","hs.ows.wms.service_capabilities","hs.ows.wmts.service_capabilities","hs.map.service","hs.permalink.urlService","Core","hs.ows.nonwms.service","config","$rootScope",function(t,e,n,o,i,r,a,s,l,c){var u=i.map;function p(t){a.setMainPanel("layermanager"),t.getSource().on("change",function(){var e=t.getSource().getExtent();null!=e&&u.getView().fit(e,u.getSize())})}if(window.allowWFS2&&(srv_wfs_caps=e.get("hs.ows.wfs.service_capabilities")),angular.isArray(l.connectTypes)?t.types=l.connectTypes:t.types=["","WMS","KML","GeoJSON"],t.type="",t.image_formats=[],t.query_formats=[],t.tile_size=512,t.setUrlAndConnect=function(e,n){t.url=e,t.type=n,t.connect()},t.connect=function(){switch(t.type.toLowerCase()){case"wms":n.requestGetCapabilities(t.url),t.showDetails=!0;break;case"wmts":o.requestGetCapabilities(t.url),t.showDetails=!0;break;case"wfs":window.allowWFS2&&(srv_wfs_caps.requestGetCapabilities(t.url),t.showDetails=!0)}},t.templateByType=function(){var e,n=l.hsl_path+"components/ows/partials/";switch(t.type.toLowerCase()){case"wms":e=`${n}owswms${l.design||""}.html`;break;case"wmts":e=`${n}owswmts${l.design||""}.html`;break;case"wms with priorities":e=`${n}owsprioritized${l.design||""}.html`;break;case"wfs":window.allowWFS2&&(e=`${n}owswfs${l.design||""}.html`);break;case"kml":case"geojson":e=`${n}owsnonwms${l.design||""}.html`,t.showDetails=!0}return e},t.isService=function(){return!(["kml","geojson","json"].indexOf(t.type.toLowerCase())>-1)},t.clear=function(){t.url="",t.showDetails=!1},r.getParamValue("wms_to_connect")){var h=r.getParamValue("wms_to_connect");a.setMainPanel(a.singleDatasources?"datasource_selector":"ows"),t.setUrlAndConnect(h,"WMS"),c.$broadcast("ows.wms_connecting")}if(r.getParamValue("wfs_to_connect")&&window.allowWFS2){var d=r.getParamValue("wfs_to_connect");a.setMainPanel(a.singleDatasources?"datasource_selector":"ows"),t.setUrlAndConnect(d,"WFS"),a.singleDatasources&&$('.dss-tabs a[href="#OWS"]').tab("show")}var f=decodeURIComponent(r.getParamValue("title"))||"Layer",m=decodeURIComponent(r.getParamValue("abstract"));if(r.getParamValue("geojson_to_connect")){var g="geojson";(y=r.getParamValue("geojson_to_connect")).indexOf("gpx")>0&&(g="gpx"),y.indexOf("kml")>0&&(g="kml"),p(s.add(g,y,f,m,!1,"EPSG:4326"))}if(r.getParamValue("kml_to_connect")){var y=r.getParamValue("kml_to_connect");p(s.add("kml",y,f,m,!0,"EPSG:4326"))}t.$emit("scope_loaded","Ows")}]),window.allowWFS2&&o.requires.push("hs.ows.wfs")},{angular:59,map:26,ows_nonwms:29,ows_wfs:30,ows_wms:31,ows_wmts:32,permalink:33}],29:[function(t,e,n){var angular,ol,o,i;angular=t("angular"),ol=t("ol"),o=t("hs.source.SparqlJson"),i=t("hs.source.Wfs"),t("styles"),angular.module("hs.ows.nonwms",["hs.styles"]).service("hs.ows.nonwms.service",["config","$rootScope","hs.map.service","hs.styles.service","hs.utils.service","$http","hs.status_creator.service",function(t,e,n,r,a,s,l){var c=this;c.add=function(t,r,l,c,u,p,h){var d,f,m={};switch(m.url=r,angular.isUndefined(h)&&(h={}),"sparql"!=t.toLowerCase()&&angular.isDefined(r)&&(r=a.proxify(r)),t.toLowerCase()){case"kml":d=new ol.format.KML({extractStyles:u}),m.format="ol.format.KML";break;case"gpx":d=new ol.format.GPX,m.format="ol.format.GPX";break;case"geojson":d=new ol.format.GeoJSON,m.format="ol.format.GeoJSON";break;case"wfs":m.format="hs.format.WFS";break;case"sparql":m.format="hs.format.Sparql"}"hs.format.Sparql"==m.format?f=new o({geom_attribute:"?geom",url:r,category_field:"http://www.openvoc.eu/poi#categoryWaze",projection:"EPSG:3857",minResolution:1,maxResolution:38}):"hs.format.WFS"==m.format?f=new i(h.defOptions):angular.isDefined(h.features)?((f=new ol.source.Vector({projection:p,features:h.features})).hasLine=!1,f.hasPoly=!1,f.hasPoint=!1,angular.forEach(f.getFeatures(),function(t){if(t.getGeometry())switch(t.getGeometry().getType()){case"LineString":f.hasLine=!0;break;case"Polygon":f.hasPoly=!0;break;case"Point":f.hasPoint=!0}}),(f.hasLine||f.hasPoly||f.hasPoint)&&(f.styleAble=!0),n.map.getView().fit(f.getExtent(),n.map.getSize())):f=new ol.source.Vector({format:d,url:r,projection:ol.proj.get(p),extractStyles:u,loader:function(t,e,o){this.set("loaded",!1);var i=this;s({url:r}).then(function(t){var e=t.data;"GeometryCollection"==e.type&&(e={type:"Feature",geometry:e}),i.addFeatures(d.readFeatures(e,{dataProjection:p,featureProjection:n.map.getView().getProjection().getCode()})),f.hasLine=!1,f.hasPoly=!1,f.hasPoint=!1,angular.forEach(f.getFeatures(),function(t){if(t.getGeometry())switch(t.getGeometry().getType()){case"LineString":f.hasLine=!0;break;case"Polygon":f.hasPoly=!0;break;case"Point":f.hasPoint=!0}}),(f.hasLine||f.hasPoly||f.hasPoint)&&(f.styleAble=!0),i.set("loaded",!0)},function(t){i.error=!0,i.errorMessage=t.status,i.set("loaded",!0)})},strategy:ol.loadingstrategy.all}),f.set("loaded",!0),f.set("from_composition",h.from_composition||!1);var g=new ol.layer.Vector({abstract:c,definition:m,from_composition:h.from_composition||!1,opacity:h.opacity||1,saveState:!0,source:f,style:h.style,title:l});return f.on("propertychange",function(t){"loaded"==t.key&&(0==t.oldValue?e.$broadcast("layermanager.layer_loaded",g):e.$broadcast("layermanager.layer_loading",g))}),f.on("change",function(t){if("ready"==f.getState()&&(angular.isUndefined(f.get("from_composition"))||!f.get("from_composition"))){if(0==f.getFeatures().length)return;var e=f.getExtent();isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])||n.map.getView().fit(e,n.map.getSize())}}),1!=h.from_composition&&n.map.addLayer(g),g};var u=new ol.interaction.DragAndDrop({formatConstructors:[ol.format.GPX,ol.format.GeoJSON,ol.format.IGC,ol.format.KML,ol.format.TopoJSON]});e.$on("map.loaded",function(){n.map.addInteraction(u)}),u.on("addfeatures",function(e){if(e.features.length>0){var o=new ol.format.GeoJSON,i="";try{i=l.endpointUrl()}catch(t){}console&&console.info(i,t);var r={};r.features=e.features,s({url:i,method:"POST",data:JSON.stringify({project:t.project_name,title:e.file.name,request:"saveData",dataType:"json",data:o.writeFeatures(e.features,{dataProjection:"EPSG:4326",featureProjection:n.map.getView().getProjection().getCode()})})}).then(function(t){data={},data.url=i+"?request=loadData&id="+t.data.id,console&&console.info(data.url,t.data),data.title=e.file.name,data.projection=e.projection,c.add("geojson",decodeURIComponent(data.url),data.title||"Layer","",!0,data.projection,r)},function(t){console&&console.warn(t),data={},data.title=e.file.name,data.projection=e.projection,c.add("geojson",void 0,data.title||"Layer","",!0,data.projection,r)})}})}]).controller("hs.ows.nonwms.controller",["$scope","hs.map.service","hs.styles.service","hs.ows.nonwms.service","Core",function(t,e,n,o,i){t.srs="EPSG:3857",t.title="",t.extract_styles=!1,t.add=function(){o.add(t.type,t.url,t.title,t.abstract,t.extract_styles,t.srs),i.setMainPanel("layermanager")}}])},{angular:59,"hs.source.SparqlJson":22,"hs.source.Wfs":23,ol:65,styles:39}],30:[function(t,e,n){var angular,ol,o,r;angular=t("angular"),ol=t("ol"),o=t("hs.source.Wfs"),r=t("hs.format.WFSCapabilities"),t("utils"),angular.module("hs.ows.wfs",["hs.utils"]).directive("hs.ows.wfs.capabilitiesErrorDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/ows/partials/dialog_getcapabilities_error.html",link:function(t,e,n){t.capabilitiesErrorModalVisible=!0}}}]).service("hs.ows.wfs.service_capabilities",["$http","hs.map.service","hs.utils.service","$rootScope",function(t,e,n,o){var i=this;this.getPathFromUrl=function(t){return t.indexOf("?")>-1?t.substring(0,t.indexOf("?")):t},this.params2String=function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},this.requestGetCapabilities=function(e){e=e.replace("&amp;","&"),i.service_url=e;var r=n.getParamsFromUrl(e),a=this.getPathFromUrl(e);angular.isUndefined(r.request)&&angular.isUndefined(r.REQUEST)?r.request="GetCapabilities":angular.isDefined(r.request)?r.request="GetCapabilities":angular.isDefined(r.REQUEST)&&(r.REQUEST="GetCapabilities"),angular.isUndefined(r.service)&&angular.isUndefined(r.SERVICE)&&(r.service="WFS"),angular.isUndefined(r.version)&&angular.isUndefined(r.VERSION)&&(r.version="1.1.0");var s=[a,i.params2String(r)].join("?");s=n.proxify(s);var l=t.get(s);return l.then(function(t){o.$broadcast("ows_wfs.capabilities_received",t)}),l},this.currentProjectionSupported=function(t){var n=!1;return angular.forEach(t,function(t){t.toUpperCase().indexOf(e.map.getView().getProjection().getCode().toUpperCase().replace("EPSG:","EPSG::"))>-1&&(n=!0)}),n},this.getUrl=function(t,e){return void 0!==e&&e?"/cgi-bin/proxy4ows.cgi?OWSURL="+encodeURIComponent(t)+"&owsService=WMS":t}}]).controller("hs.ows.wfs.controller",["$scope","hs.map.service","hs.ows.wfs.service_capabilities","Core","$compile","$rootScope",function(t,e,n,a,s,l){t.map_projection=e.map.getView().getProjection().getCode().toUpperCase(),t.$on("ows_wfs.capabilities_received",function(o,a){try{caps=new r(a.data),t.title=caps.ServiceIdentification.Title,t.description=(u=caps.ServiceIdentification.Abstract)?u.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1'>$1</a>"):null,t.version=caps.Version||caps.version,t.output_formats=caps.FeatureTypeList.FeatureType[0].OutputFormats,t.srss=[caps.FeatureTypeList.FeatureType[0].DefaultCRS],angular.forEach(caps.FeatureTypeList.FeatureType[0].OtherCRS,function(e){t.srss.push(e)}),t.srss.indexOf("CRS:84")>-1&&t.srss.splice(t.srss.indexOf("CRS:84"),1),n.currentProjectionSupported(t.srss)?t.srs=t.srss.indexOf(e.map.getView().getProjection().getCode())>-1?e.map.getView().getProjection().getCode():e.map.getView().getProjection().getCode().toLowerCase():t.srss.indexOf("EPSG::4326")>-1?t.srs="EPSG:4326":t.srs=t.srss[0],t.services=caps.FeatureTypeList.FeatureType,console.log(t.services),angular.forEach(caps.OperationsMetadata.Operation,function(e){switch(e.name){case"DescribeFeatureType":t.describeFeatureType=e.DCP[0].HTTP.Get;break;case"GetFeature":t.getFeature=e.DCP[0].HTTP.Get}}),t.output_format=function(t,e){for(i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return e[i];return t[0]}(t.output_formats,["text/xml; subtype=gml/3.2.1"])}catch(e){console&&console.log(e),t.error=e.toString();var l=document.getElementById("ows-wfs-capabilities-error");l&&l.parentNode.removeChild(l);var c=angular.element("<div hs.ows.wfs.capabilities_error_directive></span>");s(c)(t),document.getElementById("hs-dialog-area").appendChild(c[0])}var u}),t.selectAllLayers=function(){var e=function(t){t.checked=!0,angular.forEach(t.Layer,function(t){e(t)})};angular.forEach(t.services.Layer,function(t){e(t)})},t.tryAddLayers=function(e){t.add_all=e,t.addLayers(e)},t.addLayers=function(e){var n=function(o){e&&!o.checked||c(o,o.Title.replace(/\//g,"&#47;"),t.folder_name,t.output_format,t.srs),angular.forEach(o.Layer,function(t){n(t)})};angular.forEach(t.services,function(t){n(t)}),a.setMainPanel("layermanager")};var c=function(i,r,a,s,l){console&&console.log(i);var c=n.service_url.split("?")[0],u={};u.url=c,u.format="hs.format.WFS";var p=new ol.layer.Vector({title:r,definition:u,source:new o({url:c,typename:i.Name,projection:l,version:t.version,format:new ol.format.WFS})});e.map.addLayer(p)}}])},{angular:59,"hs.format.WFSCapabilities":10,"hs.source.Wfs":23,ol:65,utils:42}],31:[function(t,e,n){var angular,ol,o,r,a;angular=t("angular"),ol=t("ol"),t("utils"),o=t("moment-interval"),r=t("moment"),a=function(t,e){for(i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return e[i];return t[0]},angular.module("hs.ows.wms",["hs.utils"]).directive("hs.ows.wms.resampleDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/ows/partials/dialog_proxyconfirm.html",link:function(t,e,n){t.resampleModalVisible=!0}}}]).directive("hs.ows.wms.capabilitiesErrorDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/ows/partials/dialog_getcapabilities_error.html",link:function(t,e,n){t.capabilitiesErrorModalVisible=!0}}}]).service("hs.ows.wms.service_capabilities",["$http","hs.map.service","hs.utils.service","$rootScope",function(t,e,n,o){var i=this;this.getPathFromUrl=function(t){return t.indexOf("?")>-1?t.substring(0,t.indexOf("?")):t},this.params2String=function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},this.requestGetCapabilities=function(e){e=e.replace("&amp;","&");var r=n.getParamsFromUrl(e),a=this.getPathFromUrl(e);angular.isUndefined(r.request)&&angular.isUndefined(r.REQUEST)?r.request="GetCapabilities":angular.isDefined(r.request)?r.request="GetCapabilities":angular.isDefined(r.REQUEST)&&(r.REQUEST="GetCapabilities"),angular.isUndefined(r.service)&&angular.isUndefined(r.SERVICE)&&(r.service="WMS"),angular.isUndefined(r.version)&&angular.isUndefined(r.VERSION)&&(r.version="1.3.0");var s=[a,i.params2String(r)].join("?");s=n.proxify(s);var l=t.get(s);return l.then(function(t){o.$broadcast("ows.capabilities_received",t)}),l},this.service2layers=function(t){var n=(new ol.format.WMSCapabilities).read(t),o=n.Capability.Layer,i=(n.Capability.Layer.CRS,n.Capability.Request.GetMap.Format),r=n.Capability.Request.GetFeatureInfo?n.Capability.Request.GetFeatureInfo.Format:[],s=a(i,["image/png; mode=8bit","image/png","image/gif","image/jpeg"]),l=a(r,["application/vnd.esri.wms_featureinfo_xml","application/vnd.ogc.gml","application/vnd.ogc.wms_xml","text/plain","text/html"]),c=[];return angular.forEach(o,function(){console&&console.log("Load service",this),angular.forEach(this.Layer,function(){layer=this,console&&console.log("Load service",this);var t=[];layer.Attribution&&(t=[new ol.Attribution({html:'<a href="'+layer.Attribution.OnlineResource+'">'+layer.Attribution.Title+"</a>"})]);var o=new ol.layer.Tile({title:layer.Title.replace(/\//g,"&#47;"),source:new ol.source.TileWMS({url:n.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,attributions:t,styles:layer.Style&&layer.Style.length>0?layer.Style[0].Name:void 0,params:{LAYERS:layer.Name,INFO_FORMAT:layer.queryable?l:void 0,FORMAT:s},crossOrigin:"anonymous"}),abstract:layer.Abstract,useInterimTilesOnError:!1,MetadataURL:layer.MetadataURL,BoundingBox:layer.BoundingBox});e.proxifyLayerLoader(o,!0),c.push(o)})}),c},this.getUrl=function(t,e){return void 0!==e&&e?"/cgi-bin/proxy4ows.cgi?OWSURL="+encodeURIComponent(t)+"&owsService=WMS":t},this.currentProjectionSupported=function(t){var n=!1;return angular.forEach(t,function(t){e.map.getView().getProjection().getCode().toUpperCase()==t.toUpperCase()&&(n=!0)}),n}}]).service("hs.ows.wms.service_layer_producer",["hs.map.service","hs.ows.wms.service_capabilities",function(t,e){this.addService=function(n,o){e.requestGetCapabilities(n).then(function(n){var i=e.service2layers(n);angular.forEach(i,function(){void 0!==o&&o.get("layers").push(this),t.map.addLayer(this)})})}}]).service("hs.ows.wms.addLayerService",["$rootScope","hs.map.service","hs.ows.wms.service_capabilities","Core",function(t,e,n,i){var s=this;function l(t,o,i,r,a,l,c,u){var p=[];t.Attribution&&(p=[new ol.Attribution({html:'<a href="'+t.Attribution.OnlineResource+'">'+t.Attribution.Title+"</a>"})]);var h=ol.layer.Tile,d=ol.source.TileWMS;s.data.use_tiles||(h=ol.layer.Image,d=ol.source.ImageWMS);var f=t.BoundingBox;angular.isDefined(u)?(tmpbox=t.EX_GeographicBoundingBox,angular.isDefined(t.EX_GeographicBoundingBox)&&(f=t.EX_GeographicBoundingBox)):s.data.map_projection!=srs&&(f=t.LatLonBoundingBox);var m={};angular.forEach(t.Dimension,function(t){m[t.name]=t});var g=[];t.Style&&t.Style[0].LegendURL&&g.push(t.Style[0].LegendURL[0].OnlineResource);var y=new h({title:o,source:new d({url:n.getUrl(s.data.getMapUrl,!n.currentProjectionSupported(s.data.srss)),attributions:p,projection:s.data.crs||s.data.srs,styles:t.Style&&t.Style.length>0?t.Style[0].Name:void 0,params:Object.assign({LAYERS:t.Name,INFO_FORMAT:t.queryable?a:void 0,FORMAT:s.data.image_format,FROMCRS:s.data.srs,VERSION:s.data.version},function(t){var e={};return angular.forEach(t.Dimension,function(t){t.value&&(e[t.name]=t.value)}),e}(t)),crossOrigin:"anonymous"}),minResolution:t.MinScaleDenominator,maxResolution:t.MaxScaleDenominator,saveState:!0,removable:!0,abstract:t.Abstract,MetadataURL:t.MetadataURL,BoundingBox:f,path:s.data.path,dimensions:m,legends:g});e.proxifyLayerLoader(y,s.data.use_tiles),e.map.addLayer(y)}return this.data={useResampling:!1,useTiles:!0,mapProjection:void 0,registerMetadata:!0,tileSize:512},this.capabilitiesReceived=function(o){try{var i=(new ol.format.WMSCapabilities).read(o);s.data.mapProjection=e.map.getView().getProjection().getCode().toUpperCase(),s.data.title=i.Service.Title,s.data.description=(r=i.Service.Abstract)?r.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1'>$1</a>"):null,s.data.version=i.Version||i.version,s.data.image_formats=i.Capability.Request.GetMap.Format,s.data.query_formats=i.Capability.Request.GetFeatureInfo?i.Capability.Request.GetFeatureInfo.Format:[],s.data.exceptions=i.Capability.Exception,s.data.srss=[],angular.isDefined(i.Capability.Layer.CRS)?s.data.srss=i.Capability.Layer.CRS:$("Capability>Layer>SRS",o).each(function(){s.data.srss.push(this.innerHTML)}),s.data.srss.indexOf("CRS:84")>-1&&s.data.srss.splice(s.data.srss.indexOf("CRS:84"),1),n.currentProjectionSupported(s.data.srss)?s.data.srs=s.data.srss.indexOf(e.map.getView().getProjection().getCode())>-1?e.map.getView().getProjection().getCode():e.map.getView().getProjection().getCode().toLowerCase():s.data.srss.indexOf("EPSG:4326")>-1?s.data.srs="EPSG:4326":s.data.srs=s.data.srss[0],s.srsChanged(),s.data.services=i.Capability.Layer,function t(e){angular.forEach(e.Layer,function(e){s.hasNestedLayers(e)&&t(e),angular.forEach(e.Dimension,function(t){t.values=s.getDimensionValues(t)})})}(i.Capability.Layer),s.data.getMapUrl=i.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,s.data.image_format=a(s.data.image_formats,["image/png; mode=8bit","image/png","image/gif","image/jpeg"]),s.data.query_format=a(s.data.query_formats,["application/vnd.esri.wms_featureinfo_xml","application/vnd.ogc.gml","application/vnd.ogc.wms_xml","text/plain","text/html"]),t.$broadcast("wmsCapsParsed")}catch(e){t.$broadcast("wmsCapsParseError",e)}var r},t.$on("ows.capabilities_received",function(t,e){s.capabilitiesReceived(e.data)}),s.srsChanged=function(){s.data.resample_warning=!n.currentProjectionSupported([s.data.srs]),t.$$phase||t.$digest()},s.addLayers=function(t){var e=function(n){if(!t||n.checked)if(void 0===n.Layer)l(n,n.Title.replace(/\//g,"&#47;"),s.data.folder_name,s.data.image_format,s.data.query_format,s.data.single_tile,s.data.tile_size,s.data.srs);else{var o={};angular.copy(n,o),delete o.Layer,l(n,n.Title.replace(/\//g,"&#47;"),s.data.folder_name,s.data.image_format,s.data.query_format,s.data.single_tile,s.data.tile_size,s.data.srs)}angular.forEach(n.Layer,function(t){e(t)})};angular.forEach(s.data.services.Layer,function(t){e(t)}),i.setMainPanel("layermanager")},s.getDimensionValues=function(t){return r(t.default).isValid()?function(t){for(var e=t.split(","),n=[],i=0;i<e.length;i++)if(-1==e[i].indexOf("/"))n.push(new Date(e[i]).toISOString());else for(var r=e[i].split("/"),a=o.interval(r[2]),s=o.interval(r[0]+"/"+r[1]);s.start()<s.end();)n.push(s.start().toDate().toISOString()),s.start(o.utc(s.start().toDate()).add(a.period()));return n}(t.values):t.values.split(",")},s.hasNestedLayers=function(t){return!angular.isUndefined(t)&&angular.isDefined(t.Layer)},s}]).controller("hs.ows.wms.controller",["$scope","hs.map.service","Core","hs.ows.wms.addLayerService",function(t,e,n,o){t.data=o.data,t.selectAllLayers=function(){var e=function(t){t.checked=!0,angular.forEach(t.Layer,function(t){e(t)})};angular.forEach(t.data.services.Layer,function(t){e(t)})},t.addLayers=function(t){o.addLayers(t)},t.srsChanged=function(){o.srsChanged()},t.getDimensionValues=o.getDimensionValues,t.hasNestedLayers=o.hasNestedLayers}])},{angular:59,moment:64,"moment-interval":61,ol:65,utils:42}],32:[function(t,e,n){var angular,ol,o;angular=t("angular"),ol=t("ol"),t("utils"),o=function(t,e){for(i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return e[i];return t[0]},angular.module("hs.ows.wmts",["hs.utils"]).directive("hs.ows.wmts.resampleDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/ows/partials/dialog_proxyconfirm.html",link:function(t,e,n){t.resampleModalVisible=!0}}}]).directive("hs.ows.wmts.capabilitiesErrorDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/ows/partials/dialog_getcapabilities_error.html",link:function(t,e,n){t.capabilitiesErrorModalVisible=!0}}}]).service("hs.ows.wmts.service_capabilities",["$http","hs.map.service","hs.utils.service",function(t,e,n){var i=this;this.getPathFromUrl=function(t){return t.indexOf("?")>-1?t.substring(0,t.indexOf("?")):t},this.params2String=function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},this.requestGetCapabilities=function(e){e=e.replace("&amp;","&");var o=n.getParamsFromUrl(e),r=this.getPathFromUrl(e);angular.isUndefined(o.request)&&angular.isUndefined(o.REQUEST)?o.request="GetCapabilities":angular.isDefined(o.request)?o.request="GetCapabilities":angular.isDefined(o.REQUEST)&&(o.REQUEST="GetCapabilities"),angular.isUndefined(o.service)&&angular.isUndefined(o.SERVICE)&&(o.service="wmts"),angular.isUndefined(o.version)&&angular.isUndefined(o.VERSION)&&(o.version="1.3.0");var a=[r,i.params2String(o)].join("?");a=n.proxify(a);var s=t.get(a);return s.then(function(t){$rootScope.$broadcast("ows_wmts.capabilities_received",t)}),s},this.service2layers=function(t){var e=(new ol.format.wmtsCapabilities).read(t),n=e.Capability.Layer,i=(e.Capability.Layer.CRS,e.Capability.Request.GetMap.Format),r=e.Capability.Request.GetFeatureInfo?e.Capability.Request.GetFeatureInfo.Format:[],a=o(i,["image/png; mode=8bit","image/png","image/gif","image/jpeg"]),s=o(r,["application/vnd.esri.wmts_featureinfo_xml","application/vnd.ogc.gml","application/vnd.ogc.wmts_xml","text/plain","text/html"]),l=[];return angular.forEach(n,function(){console&&console.log("Load service",this),angular.forEach(this.Layer,function(){layer=this;var t=[];layer.Attribution&&(t=[new ol.Attribution({html:'<a href="'+layer.Attribution.OnlineResource+'">'+layer.Attribution.Title+"</a>"})]);var n=new ol.layer.Tile({title:layer.Title.replace(/\//g,"&#47;"),source:new ol.source.Tilewmts({url:e.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,attributions:t,styles:layer.Style&&layer.Style.length>0?layer.Style[0].Name:void 0,params:{LAYERS:layer.Name,INFO_FORMAT:layer.queryable?s:void 0,FORMAT:a},crossOrigin:"anonymous"}),abstract:layer.Abstract,useInterimTilesOnError:!1,MetadataURL:layer.MetadataURL,BoundingBox:layer.BoundingBox});l.push(n)})}),l},this.getUrl=function(t,e){return void 0!==e&&e?"/cgi-bin/proxy4ows.cgi?OWSURL="+encodeURIComponent(t)+"&owsService=wmts":t},this.currentProjectionSupported=function(t){var n=!1;return angular.forEach(t,function(t){e.map.getView().getProjection().getCode().toUpperCase()==t.toUpperCase()&&(n=!0)}),n}}]).service("hs.ows.wmts.service_layer_producer",["hs.map.service","hs.ows.wmts.service_capabilities",function(t,e){this.addService=function(n,o){e.requestGetCapabilities(n,function(n){var i=e.service2layers(n);$(i).each(function(){void 0!==o&&o.get("layers").push(this),t.map.addLayer(this)})})}}]).controller("hs.ows.wmts.controller",["$scope","hs.map.service","hs.ows.wmts.service_capabilities","Core","$compile","$rootScope",function(t,e,n,o,i,r){t.map_projection=e.map.getView().getProjection().getCode().toUpperCase(),t.style="",t.tileMatrixSet="",t.image_format="",t.capabilitiesReceived=function(e){try{var n=new ol.format.WMTSCapabilities;t.capabilities=n.read(e);var o=t.capabilities;t.title=o.ServiceIdentification.Title,t.tileURL=o.OperationsMetadata.GetTile.DCP.HTTP.Get[0].href;for(var r=0;r<o.OperationsMetadata.GetTile.DCP.HTTP.Get.length;r++)if("KVP"==o.OperationsMetadata.GetTile.DCP.HTTP.Get[r].Constraint[0].AllowedValues.Value[0]){t.tileURL=o.OperationsMetadata.GetTile.DCP.HTTP.Get[r].href;break}t.description=(l=o.ServiceIdentification.Abstract)?l.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1'>$1</a>"):null,t.version=o.Version||o.version,t.services=o.Contents}catch(e){console&&console.log(e),t.error=e.toString();var a=document.getElementById("ows-wms-capabilities-error");a&&a.parentNode.removeChild(a);var s=angular.element("<div hs.ows.wmts.capabilities_error_directive></span>");document.getElementById("hs-dialog-area").appendChild(s[0]),i(s)(t)}var l},t.$on("ows_wmts.capabilities_received",function(e,n){t.capabilitiesReceived(n.data)}),t.setCurrentLayer=function(e,n){if(t.currentLayer==e)t.currentLayer=null;else{t.currentLayer=e;var o=document.getElementsByClassName("wmtslayerpanel"),i=document.getElementById("wmtslayer-"+n);o.length>0&&(o=o[0],i.parentNode.insertBefore(o,i.nextSibling))}return!1},t.addLayer=function(n){for(var o=ol.proj.get(t.map_projection),i=o.getExtent(),r=0;r<t.services.TileMatrixSet.length;r++)t.services.TileMatrixSet[r].Identifier==t.tileMatrixSet&&(t.layerTileMatrix=t.services.TileMatrixSet[r]);for(var a=ol.extent.getWidth(i)/t.layerTileMatrix.TileMatrix[0].TileWidth,s=new Array(t.layerTileMatrix.TileMatrix.length),l=new Array(t.layerTileMatrix.TileMatrix.length),c=0;c<t.layerTileMatrix.TileMatrix.length;++c)s[c]=a/Math.pow(2,c),l[c]=c;var u={};angular.forEach(n.Dimension,function(t){u[t.name]=t});var p=new ol.layer.Tile({title:n.Title,source:new ol.source.WMTS({url:t.tileURL,layer:n.Identifier,projection:o,matrixSet:"EPSG:3857",format:t.image_format,tileGrid:new ol.tilegrid.WMTS({origin:ol.extent.getTopLeft(i),resolutions:s,matrixIds:l}),style:t.style,wrapX:!0}),saveState:!0,removable:!0,dimensions:u});e.map.addLayer(p)}}])},{angular:59,ol:65,utils:42}],33:[function(t,e,n){!function(angular){var t=angular.module("hs.permalink",["720kb.socialshare","hs.core","hs.map","hs.status_creator","hs.compositions"]);t.config(["$locationProvider",function(t){t.html5Mode({enabled:!0,requireBase:!1})}]),t.service("hs.permalink.urlService",["$rootScope","$http","$location","$window","hs.map.service","Core","hs.utils.service","hs.status_creator.service","hs.compositions.service_parser","config",function(t,e,n,o,i,r,a,s,l,c){var u=!0,p=null,h={};function d(){if(u){var e=null;t.$on("map.extent_changed",function(e,n,o){h.update(),t.$broadcast("browserurl.updated")}),i.map.getLayers().on("add",function(n){var o=n.element;null!=o.get("show_in_manager")&&0==o.get("show_in_manager")||o.on("change:visible",function(n){null!=e&&clearTimeout(e),e=setTimeout(function(){h.update(),t.$broadcast("browserurl.updated")},1e3)})}),h.getParamValue("lang")&&r.setLanguage(h.getParamValue("lang"))}}return angular.extend(h,{shareId:null,current_url:"",permalinkLayers:"",added_layers:[],params:{},customParams:{},update:function(e){var o=i.map.getView();h.id=s.generateUuid();var a=[],l=[];for(var c in i.map.getLayers().forEach(function(t){angular.isDefined(t.get("show_in_manager"))&&null!=t.get("show_in_manager")&&0==t.get("show_in_manager")||(t.getVisible()&&a.push(t.get("title")),0!=t.manuallyAdded&&l.push(t))}),h.added_layers=s.layers2json(l),r.mainpanel&&("permalink"==r.mainpanel?h.push("hs_panel","layermanager"):h.push("hs_panel",r.mainpanel)),h.push("hs_x",o.getCenter()[0]),h.push("hs_y",o.getCenter()[1]),h.push("hs_z",o.getZoom()),r.language&&h.push("lang",r.language),h.push("visible_layers",a.join(";")),r.puremapApp&&h.push("puremap","true"),h.customParams)h.push(c,h.customParams[c]);n.search(h.params),t.$$phase||t.$digest()},getPermalinkUrl:function(){var t=JSON.stringify(h.permalinkLayers);return t=t.substring(1,t.length-1),r.isMobile()&&c.permalinkLocation?(c.permalinkLocation.origin+h.current_url.replace(window.location.pathname,c.permalinkLocation.pathname)+"&permalink="+encodeURIComponent(t)).replace(window.location.pathname,c.permalinkLocation.pathname):window.location.origin+h.current_url+"&permalink="+encodeURIComponent(t)},getPureMapUrl:function(){var t={puremap:"true"};return h.getPermalinkUrl()+"&"+a.paramsToURLWoEncode(t)},parse:function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^\?/,""))?t.trim().split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),o=n[0],i=n[1];return o=decodeURIComponent(o),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(o)?Array.isArray(t[o])?t[o].push(i):t[o]=[t[o],i]:t[o]=i,t},{}):{}},parsePermalinkLayers:function(){var t=a.proxify(h.getParamValue("permalink"));e({url:t}).then(function(t){if(1==t.data.success){var e={data:{}};e.data.layers=t.data.data,l.removeCompositionLayers(),t.layers=t.data.data;for(var n=l.jsonToLayers(e),o=0;o<n.length;o++)i.addLayer(n[o])}else console&&console.log("Error loading permalink layers")},function(t){})},stringify:function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},push:function(t,e){h.params[t]=e;var n=h.stringify(h.params);h.param_string=n,h.pathname=window.location.pathname,h.current_url=h.pathname+"?"+n},getParamValue:function(t){var e=h.parse(location.search);return e[t]?e[t]:null},updateCustomParams:function(t){for(param in t)h.customParams[param]=t[param];null!=p&&clearTimeout(p),p=setTimeout(function(){h.update()},1e3)}}),angular.isDefined(i.map)?d():t.$on("map.loaded",function(){d()}),h}]),t.service("hs.permalink.shareService",["$rootScope","$http","Core","config","hs.permalink.urlService","Socialshare","hs.utils.service","hs.map.service","$q","hs.status_creator.service",function(t,e,n,o,i,r,a,s,l,c){var u={};return angular.extend(u,{data:{pureMapUrl:"",permalinkUrl:"",shareLink:"permalink",embedCode:"",shareUrlValid:!1,title:"",abstract:""},getEmbedCode:function(){return u.data.embedCode='<iframe src="'+u.getShareUrl()+'" width="1000" height="700"></iframe>',t.$$phase||t.$digest(),u.data.embedCode},getShareUrl:function(){return"permalink"==u.data.shareLink?u.data.permalinkUrl:"puremap"==u.data.shareLink?u.data.pureMapUrl:void 0},setShareType:function(t){u.data.shareLink=t,u.getEmbedCode()},invalidateShareUrl:function(){u.data.shareUrlValid=!1},shareOnSocial:function(t,n){u.data.shareUrlValid?r.share({provider:t,attrs:{socialshareText:u.data.title,socialshareUrl:u.getShareUrl(),socialsharePopupHeight:600,socialsharePopupWidth:500}}):((null==i.shareId||n)&&(i.shareId=a.generateUuid()),e({url:c.endpointUrl(),method:"POST",data:JSON.stringify({request:"socialShare",id:i.shareId,url:encodeURIComponent(u.getShareUrl()),title:u.data.title,description:u.data.abstract,image:u.data.thumbnail})}).then(function(e){a.shortUrl(c.endpointUrl()+"?request=socialshare&id="+i.shareId).then(function(e){var n=e;r.share({provider:t,attrs:{socialshareText:u.data.title,socialshareUrl:n,socialsharePopupHeight:600,socialsharePopupWidth:500}}),u.data.shareUrlValid=!0}).catch(function(){console.log("Error creating short Url")})},function(t){}))},generateThumbnail:function(t){"status_creator"!=n.mainpanel&&"permalink"!=n.mainpanel&&"shareMap"!=n.mainpanel||(t.setAttribute("crossOrigin","Anonymous"),s.map.once("postcompose",function(e){document.getElementById("my_canvas_id");var n=e.context.canvas,i=document.createElement("canvas");i.style.width="256px",i.style.height="256px",i.width=256,i.height=256,i.getContext("2d").drawImage(n,n.width/2-128,n.height/2-128,256,256,0,0,256,256);try{t.setAttribute("src",i.toDataURL("image/png")),this.data.thumbnail=i.toDataURL("image/jpeg",.8)}catch(e){t.setAttribute("src",o.hsl_path+"components/status_creator/notAvailable.png")}t.style.width="256px",t.style.height="256px"},u),s.map.renderSync())}}),t.$on("core.mainpanel_changed",function(r){if("permalink"==n.mainpanel){i.update();var a=c.endpointUrl();i.added_layers.length>0?e({url:a,method:"POST",data:JSON.stringify({data:i.added_layers,permalink:!0,id:i.id,project:o.project_name,request:"save"})}).then(function(e){i.permalinkLayers=a+"?request=load&id="+i.id,t.$broadcast("browserurl.updated")},function(t){console.log("Error saving permalink layers.")}):t.$broadcast("browserurl.updated")}}),t.$on("browserurl.updated",function(){"permalink"!=n.mainpanel&&"shareMap"!=n.mainpanel||(u.data.shareUrlValid=!1,l.all([a.shortUrl(i.getPureMapUrl()).then(function(t){u.data.pureMapUrl=t}).catch(function(){console.log("Error creating short Url"),u.data.pureMapUrl=i.getPureMapUrl()}),a.shortUrl(i.getPermalinkUrl()).then(function(t){u.data.permalinkUrl=t}).catch(function(){console.log("Error creating short Url"),u.data.permalinkUrl=i.getPermalinkUrl()})]).then(function(){u.getEmbedCode()})),t.$$phase||t.$digest()}),t.$on("core.mainpanel_changed",function(t){"permalink"==n.mainpanel&&s.map.once("postrender",function(){u.generateThumbnail(document.getElementById("hs-permalink-thumbnail"))})}),t.$on("map.extent_changed",function(t){s.map.once("postrender",function(){u.generateThumbnail(document.getElementById("hs-permalink-thumbnail"))})}),t.$on("compositions.composition_loaded",function(t,e){angular.isDefined(e.data)&&(e=e.data,u.data.title=e.title,o.social_hashtag&&(u.data.title+=" "+o.social_hashtag),u.data.abstract=e.abstract)}),u}]),t.component("hs.permalink",{templateUrl:["config",function(t){return`${t.hsl_path}components/permalink/partials/directive${t.design||""}.html`}],controller:["$scope","hs.permalink.urlService","hs.permalink.shareService",function(t,e,n){angular.extend(t,{data:n.data,new_share:!1,updateEmbedCode:function(){return n.getEmbedCode()},getShareUrl:function(){return n.getShareUrl()},setShareType:function(t){n.setShareType(t)},invalidateShareUrl:function(){n.invalidateShareUrl()},shareOnSocial:function(e){n.shareOnSocial(e,t.new_share)}}),t.$emit("scope_loaded","Permalink")}]})}(t("angular"),t("angular-socialshare"),t("map"),t("core"),t("status_creator"),t("compositions"))},{angular:59,"angular-socialshare":57,compositions:2,core:7,map:26,status_creator:38}],34:[function(t,e,n){!function(angular){var t=angular.module("hs.print",[]);t.component("hs.print",{templateUrl:["config",function(t){return`${t.hsl_path}components/print/partials/printdialog${t.design||""}.html`}],controller:["$scope","hs.print.service",function(t,e){angular.extend(t,{title:"",setTitle:function(e){t.title=e,t.$$phase||t.$digest()},print:function(){e.print(t.title)}}),t.$emit("scope_loaded","Print")}]}),t.service("hs.print.service",["$timeout",function(t){return angular.extend({},{print:function(e){var n=n=document.getElementsByTagName("canvas")[0],o=n.toDataURL("image/png"),i=window.open(),r="<html><head></head><body><h2>"+e+"</h2><br><img src='"+o+"'/></body></html>";i.document.write(r),t(function(){i.print()},250)}})}])}(t("angular"))},{angular:59}],35:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),t("map"),t("core"),t("angular-material"),t("angular-sanitize"),t("ol.popup"),angular.module("hs.query",["hs.map","hs.core","ngSanitize","ngMaterial"]).directive("hs.query.directiveInfopanel",["config",function(t){return{templateUrl:t.infopanel_template||`${t.hsl_path}components/query/partials/infopanel${t.design||""}.html`}}]).directive("hs.query.infovalue",["$compile",function(t){return{link:function(e,n,o){var i;"hstemplate"!=o.attribute&&(o.template?((i=angular.element("<span "+o.template+"></span>")).attr({attribute:o.attribute,value:o.value}),n.append(i),t(i)(e)):o.value?0==o.value.indexOf("http")?((i=angular.element("<a>")).attr({target:"_blank",href:o.value}),i.html(o.value),n.html(i)):n.html(o.value):n.html(o.attribute))}}}]).service("hs.query.baseService",["$rootScope","hs.map.service","Core","$sce","config",function(t,e,n,o,i){var r,a=this;this.queryPoint=new ol.geom.Point([0,0]),this.queryLayer=new ol.layer.Vector({title:"Point clicked",source:new ol.source.Vector({features:[new ol.Feature({geometry:a.queryPoint})]}),show_in_manager:!1,removable:!1,style:function(t){var e=new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:"rgba(255, 156, 156, 0.4)"}),stroke:new ol.style.Stroke({color:"#cc3333",width:1}),radius:5})});return angular.isDefined(i.queryPoint)&&("hidden"==i.queryPoint?e.getImage().setRadius(0):"notWithin"==i.queryPoint&&a.selector.getFeatures().getLength()>0&&e.getImage().setRadius(0)),e}}),this.data={},this.data.attributes=[],this.data.groups=[],this.data.coordinates=[],this.queryActive=!1,this.popupClassname="",this.selector=null,this.currentQuery=null;var s=!0;function l(){r=e.map,a.queryActive=!1,r.on("singleclick",function(e){a.queryActive&&(a.popupClassname="",s||a.clearData(),s=!1,a.currentQuery=(Math.random()+1).toString(36).substring(7),function(e){a.queryPoint.setCoordinates(e,"XY");var n={name:"Coordinates",projections:[{name:"EPSG:4326",value:ol.coordinate.toStringHDMS(ol.proj.transform(e,r.getView().getProjection(),"EPSG:4326"))},{name:r.getView().getProjection().getCode(),value:ol.coordinate.createStringXY(7)(e)}]};a.setData(n,"coordinates",!0),t.$$phase||t.$digest()}(e.coordinate),a.last_coordinate_clicked=e.coordinate,t.$broadcast("queryClicked",e))})}angular.isDefined(e.map)&&l(),a.deregisterOnMapLoaded&&a.deregisterOnMapLoaded(),a.deregisterOnMapLoaded=t.$on("map.loaded",l),this.setData=function(e,n,o){angular.isDefined(n)?(angular.isDefined(o)&&o&&(a.data[n].length=0),a.data[n].push(e),t.$broadcast("infopanel.updated"),t.$broadcast("query.dataUpdated")):console&&console.log("Query.BaseService.setData type not passed")},this.clearData=function(){a.data.attributes.length=0,a.data.groups.length=0,a.data.coordinates.length=0;var t=a.getInvisiblePopup();t.contentDocument.body.innerHTML="",t.style.height=0,t.style.width=0,s=!0},this.getInvisiblePopup=function(){return document.getElementById("invisible_popup")},this.fillIframeAndResize=function(t,e,n){t=a.getInvisiblePopup(),n?t.contentDocument.body.innerHTML+=e:t.contentDocument.body.innerHTML=e;var o=t.contentDocument.innerWidth;o>document.getElementById("map").clientWidth-60&&(o=document.getElementById("map").clientWidth-60),t.style.width=o+"px";var i=t.contentDocument.innerHeight;i>700&&(i=700),t.style.height=i+"px"},this.activateQueries=function(){a.queryActive=!0,r.addLayer(a.queryLayer),t.$broadcast("queryStatusChanged")},this.deactivateQueries=function(){a.queryActive=!1,r.removeLayer(a.queryLayer),t.$broadcast("queryStatusChanged")},a.deregisterVectorSelectorCreated&&a.deregisterVectorSelectorCreated(),a.deregisterVectorSelectorCreated=t.$on("vectorSelectorCreated",function(t,e){a.selector=e})}]).service("hs.query.wmsService",["$rootScope","$http","$sce","hs.query.baseService","hs.map.service","hs.utils.service","Core",function(t,e,n,o,i,r,a){var s=this;function l(e){var n=o.getInvisiblePopup();(o.data.groups.length>0||n.contentDocument.body.innerHTML.length>30)&&t.$broadcast("queryWmsResult",e)}this.request=function(t,n,i,a){var l=r.proxify(t,!0),c=o.currentQuery;e({url:l}).then(function(e){c==o.currentQuery&&s.featureInfoReceived(e.data,n,t,i,a)},function(t){c==o.currentQuery&&s.featureInfoError(i)})},this.featureInfoError=function(t){infoCounter--,0===infoCounter&&l(t)},this.featureInfoReceived=function(t,e,n,i,r){var a=!1;if(e.indexOf("xml")>0||e.indexOf("gml")>0){var s=t.getElementsByTagName("gml:featureMember")||t.getElementsByTagName("featureMember");angular.forEach(s,function(t){var e=r.get("title")||r.get("name"),n=t.getElementsByTagName("Layer");angular.forEach(n,function(t){var n=t.attributes[0].nodeValue,i=t.getElementsByTagName("Attribute"),r=[];angular.forEach(i,function(t){r.push({name:t.attributes[0].nodeValue,value:t.innerHTML}),a=!0});var s={layer:e,name:n,attributes:r};o.setData(s,"groups")})}),$("featureMember",t).each(function(){var t=$(this)[0].firstChild,e={name:"Feature",attributes:[]};for(var n in t.children)0==t.children[n].childElementCount&&(e.attributes.push({name:t.children[n].localName,value:t.children[n].innerHTML}),a=!0);a&&o.setData(e,"groups")}),$("msGMLOutput",t).each(function(){for(var t in $(this)[0].children){var e=$(this)[0].children[t],n="";if(void 0!==e.children)for(var i=0;i<e.children.length;i++){var r=e.children[i];if("gml:name"==r.nodeName)n=r.innerHTML;else{var s={name:n+" Feature",attributes:[]};for(var l in r.children)0==r.children[l].childElementCount&&(s.attributes.push({name:r.children[l].localName,value:r.children[l].innerHTML}),a=!0);a&&o.setData(s,"groups")}}}})}if(e.indexOf("html")>0){if(t.length<=1)return;o.fillIframeAndResize(o.getInvisiblePopup(),t,!0),void 0!=r.get("popupClass")&&(o.popupClassname="ol-popup "+r.get("popupClass"))}infoCounter--,0===infoCounter&&l(i)},this.queryWmsLayer=function(t,e){if(function(t){return!(!t.getVisible()||!(t instanceof ol.layer.Tile&&t.getSource()instanceof ol.source.TileWMS&&t.getSource().getParams().INFO_FORMAT||t instanceof ol.layer.Image&&t.getSource()instanceof ol.source.ImageWMS&&t.getSource().getParams().INFO_FORMAT))}(t)){var n=t.getSource(),o=i.map,r=o.getView().getResolution(),l=n.getGetFeatureInfoUrl(e,r,n.getProjection()?n.getProjection():o.getView().getProjection(),{INFO_FORMAT:n.getParams().INFO_FORMAT});angular.isDefined(t.get("featureInfoLang"))&&angular.isDefined(t.get("featureInfoLang")[a.language])&&(l=l.replace(n.getUrl(),t.get("featureInfoLang")[a.language])),l&&(console&&console.log(l),(n.getParams().INFO_FORMAT.indexOf("xml")>0||n.getParams().INFO_FORMAT.indexOf("html")>0||n.getParams().INFO_FORMAT.indexOf("gml")>0)&&(infoCounter++,s.request(l,n.getParams().INFO_FORMAT,e,t)))}},t.$on("queryClicked",function(t,e){infoCounter=0,i.map.getLayers().forEach(function(t){void 0!=t.get("queryFilter")?t.get("queryFilter")(i.map,t,e.pixel)&&s.queryWmsLayer(t,e.coordinate):s.queryWmsLayer(t,e.coordinate)})})}]).service("hs.query.vectorService",["$rootScope","hs.query.baseService","$sce","hs.map.service","config",function(t,e,n,o,i){var r=this;this.selector=new ol.interaction.Select({condition:ol.events.condition.click,multi:!(!angular.isDefined(i.query)||!i.query.multi)&&i.query.multi}),t.$broadcast("vectorSelectorCreated",r.selector),e.queryActive&&o.map.addInteraction(r.selector),t.$on("queryStatusChanged",function(){e.queryActive?o.map.addInteraction(r.selector):o.map.removeInteraction(r.selector)}),r.selector.getFeatures().on("add",function(e){t.$broadcast("vectorQuery.featureSelected",e.element,r.selector),t.$broadcast("infopanel.feature_selected",e.element,r.selector)}),r.selector.getFeatures().on("remove",function(e){t.$broadcast("vectorQuery.featureDelected",e.element),t.$broadcast("infopanel.feature_deselected",e.element)}),t.$on("queryClicked",function(i){if(e.clearData(),e.queryActive){e.data.attributes.length=0;var a=r.selector.getFeatures().getArray();angular.forEach(a,function(i){!function(i){var r=[];i.getKeys().forEach(function(t){var o;if("gid"!=t&&"geometry"!=t)if("features"==t)for(var a in i.get("features")){var s=null;i.get("features")[a].get("hstemplate")&&(s=i.get("features")[a].get("hstemplate"));var l={name:"Feature",attributes:[],hstemplate:s};i.get("features")[a].getKeys().forEach(function(t){"gid"!=t&&"geometry"!=t&&("string"==(typeof i.get("features")[a].get(t)).toLowerCase()?l.attributes.push({name:t,value:n.trustAsHtml(i.get("features")[a].get(t))}):l.attributes.push({name:t,value:i.get("features")[a].get(t)}))}),e.setData(l,"groups")}else o="string"==(typeof i.get(t)).toLowerCase()?{name:t,value:n.trustAsHtml(i.get(t))}:{name:t,value:i.get(t)},r.push(o)});var a=i.getLayer(o.map);if(!(angular.isUndefined(a)||angular.isDefined(a.get("show_in_manager"))&&!1===a.get("show_in_manager"))){var s={layer:a.get("title")||a.get("name"),name:"Feature",attributes:r};e.setData(s,"groups"),t.$broadcast("queryVectorResult")}}(i)})}})}]).controller("hs.query.controller",["$scope","$rootScope","$timeout","hs.map.service","hs.query.baseService","hs.query.wmsService","hs.query.vectorService","Core","config","$mdDialog","$mdToast",function(t,e,n,o,i,r,a,s,l,c,u){var p=new ol.Overlay.Popup;o.map?o.map.addOverlay(p):e.$on("map.loaded",function(){o.map.addOverlay(p)}),t.showQueryDialog=function(t){c.show({scope:this,preserveScope:!0,templateUrl:l.infopanel_template||`${l.hsl_path}components/query/partials/infopanel${l.design||""}.html`,parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0}).then(function(){console.log("Closed.")},function(){console.log("Cancelled.")})},t.cancelQueryDialog=function(){c.cancel()},t.data=i.data;var h=e.$on("queryStatusChanged",function(){i.queryActive?(t.deregisterVectorQuery=t.$on("queryClicked",function(e){"md"===l.design&&0===t.data.groups.length&&u.show(u.simple().textContent("No images matched the query.")),"md"===l.design&&t.data.groups.length>0?t.showQueryDialog(e):(p.hide(),(["layermanager","","permalink"].indexOf(s.mainpanel)>=0||"info"==s.mainpanel&&0==s.sidebarExpanded)&&s.setMainPanel("info"))}),t.deregisterWmsQuery=t.$on("queryWmsResult",function(t,o){n(function(){var t=i.getInvisiblePopup();t.contentDocument.body.children.length>0&&(i.popupClassname.length>0?p.getElement().className=i.popupClassname:p.getElement().className="ol-popup",p.show(o,t.contentDocument.body.innerHTML),e.$broadcast("popupOpened","hs.query"))})})):(t.deregisterVectorQuery&&t.deregisterVectorQuery(),t.deregisterWmsQuery&&t.deregisterWmsQuery())});t.$on("$destroy",function(){h&&h()}),s.current_panel_queryable?i.queryActive||i.activateQueries():i.queryActive&&i.deactivateQueries(),t.$on("queryVectorResult",function(){t.$$phase||t.$digest()}),t.$on("core.mainpanel_changed",function(t,e){angular.isDefined(e)&&"info"==e.panel_name?(p.hide(),i.deactivateQueries()):s.current_panel_queryable?i.queryActive||i.activateQueries():i.queryActive&&i.deactivateQueries()}),t.$on("popupOpened",function(t,e){angular.isDefined(e)&&"hs.query"!=e&&angular.isDefined(p)&&p.hide()}),t.$emit("scope_loaded","Query")}])},{angular:59,"angular-material":53,"angular-sanitize":55,core:7,map:26,ol:65,"ol.popup":11}],36:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),t("map"),t("permalink"),t("styles"),angular.module("hs.search",["hs.map","hs.styles"]).directive("hs.search.directiveSearchinput",["config",function(t){return{templateUrl:t.hsl_path+"components/search/partials/searchinput.html",replace:!0,link:function(t,e){}}}]).directive("hs.search.directiveSearchresults",["config",function(t){return{templateUrl:t.hsl_path+"components/search/partials/searchresults.html?bust=",replace:!0,link:function(t,e){}}}]).service("hs.search.service",["$http","$q","hs.utils.service","config","hs.map.service","hs.styles.service","$rootScope",function(t,e,n,o,i,r,a){this.data={},this.data.providers={};var s=new ol.format.WKT;this.searchResultsLayer=new ol.layer.Vector({title:"Search results",source:new ol.source.Vector({}),style:r.pin_white_blue_highlight,show_in_manager:!1}),this.canceler={};var l=this;function c(t){return"geonames"==t.provider_name?ol.proj.transform([parseFloat(t.lng),parseFloat(t.lat)],"EPSG:4326",i.map.getView().getProjection()):"sdi4apps_openapi"==t.provider_name?s.readFeature(t.FullGeom.toUpperCase()).getGeometry().transform("EPSG:4326",i.map.getView().getProjection()).getCoordinates():void 0}this.request=function(n){var i=null,r=[];angular.isUndefined(o.search_provider)?r=["geonames"]:"string"==typeof o.search_provider?r=[o.search_provider]:angular.isObject(o.search_provider)&&(r=o.search_provider),l.cleanResults(),angular.forEach(r,function(o){"geonames"==o?i="http://api.geonames.org/searchJSON?&username=raitis&name_startsWith="+n:"sdi4apps_openapi"==o&&(i="http://portal.sdi4apps.eu/openapi/search?q="+n),angular.isDefined(l.canceler[o])&&(l.canceler[o].resolve(),delete l.canceler[o]),l.canceler[o]=e.defer(),t.get(i,{timeout:l.canceler[o].promise}).then(function(t){l.searchResultsReceived(t.data,o)},function(t){})})},this.searchResultsReceived=function(t,e){angular.isUndefined(l.data.providers[e])&&(l.data.providers[e]={results:[],name:e}),provider=l.data.providers[e],"geonames"==e?function(t,e){e.results=t.geonames,function(t){var e=l.searchResultsLayer.getSource();angular.forEach(t.results,function(n){n.provider_name=t.name;var o=new ol.Feature({geometry:new ol.geom.Point(c(n)),record:n});e.addFeature(o),n.feature=o})}(e)}(t,provider):"sdi4apps_openapi"==e&&function(t,e){e.results=t.data,function(t){var e=l.searchResultsLayer.getSource();angular.forEach(t.results,function(n){s.readFeature(n.FullGeom.toUpperCase()),n.provider_name=t.name;var o=new ol.Feature({geometry:new ol.geom.Point(c(n)),record:n});e.addFeature(o),n.feature=o})}(e)}(t,provider),a.$broadcast("search.resultsReceived",{layer:l.searchResultsLayer,providers:l.data.providers})},this.hideResultsLayer=function(){i.map.removeLayer(l.searchResultsLayer)},this.showResultsLayer=function(){l.hideResultsLayer(),i.map.addLayer(l.searchResultsLayer)},this.cleanResults=function(){angular.forEach(l.data.providers,function(t){angular.isDefined(t.results)&&(t.results.length=0)}),l.searchResultsLayer.getSource().clear(),l.hideResultsLayer()},this.selectResult=function(t,e){var n=c(t);i.map.getView().setCenter(n),angular.isUndefined(e)&&(e=10),i.map.getView().setZoom(e),a.$broadcast("search.zoom_to_center",{coordinate:ol.proj.transform(n,i.map.getView().getProjection(),"EPSG:4326"),zoom:e})},l=this}]).controller("hs.search.controller",["$scope","Core","hs.search.service","hs.permalink.urlService",function(t,e,n,o){t.data=n.data,t.init=function(){t.query="",t.clearvisible=!1,o.getParamValue("search")&&(t.query=o.getParamValue("search"),e.searchVisible(!0),t.queryChanged())},t.queryChanged=function(){n.request(t.query)},t.zoomTo=function(e){t.fcode_zoom_map={PPLA:12,PPL:15,PPLC:10,ADM1:9,FRM:15,PPLF:13,LCTY:13,RSTN:15,PPLA3:9,AIRP:13,AIRF:13,HTL:17,STM:14,LK:13};var o=10;angular.isDefined(e.fcode)&&angular.isDefined(t.fcode_zoom_map[e.fcode])&&(o=t.fcode_zoom_map[e.fcode]),n.selectResult(e,o),t.clear()},t.clear=function(){t.query="",t.clearvisible=!1,n.cleanResults()},t.searchResultsReceived=function(e){t.searchResultsVisible=!0,t.clearvisible=!0,n.showResultsLayer()},t.highlightResult=function(t,e){angular.isDefined(t.feature)&&t.feature.set("highlighted",e)},t.init(),t.$on("search.resultsReceived",function(e,n){t.searchResultsReceived(n)}),t.$watch('Core.panelVisible("search")',function(t,e){t!==e&&t&&setTimeout(function(){document.getElementById("search_address").focus()},500)}),t.$emit("scope_loaded","Search")}])},{angular:59,map:26,ol:65,permalink:33,styles:39}],37:[function(t,e,n){var angular;angular=t("angular"),t("map"),t("core"),t("permalink"),t("angular-cookies"),angular.module("hs.sidebar",["hs.map","hs.core","ngCookies"]).service("hs.sidebar.service",["config","$rootScope","hs.utils.service",function(t,e,n){this.extra_buttons=[]}]).directive("hs.sidebar.directive",["$compile","config",function(t,e){return{templateUrl:e.hsl_path+"components/sidebar/partials/sidebar.html",link:function(e,n,o){angular.isDefined(e.Core.config.createExtraMenu)&&e.Core.config.createExtraMenu(t,e,n),e.$watch(function(){var t=document.getElementsByClassName("panelspace"),n=t.length>0?t[0].clientWidth:0;return[e.Core.sidebarExpanded,n]},function(t){setTimeout(function(){e.Core.updateMapSize()},0),e.$emit("sidebar_change",e.Core.sidebarExpanded)},!0)}}}]).directive("hs.minisidebar.directive",["$compile","config",function(t,e){return{templateUrl:e.hsl_path+"components/sidebar/partials/minisidebar.html",link:function(e,n,o){angular.isDefined(e.Core.config.createExtraMenu)&&e.Core.config.createExtraMenu(t,e,n),e.$watch(function(){return[e.Core.sidebarExpanded,document.getElementsByClassName("panelspace")[0].innerWidth]},function(t){setTimeout(function(){e.Core.updateMapSize()},0),e.$emit("sidebar_change",e.Core.sidebarExpanded)},!0)}}}]).controller("hs.sidebar.controller",["$scope","$timeout","hs.map.service","Core","hs.permalink.urlService","$window","$cookies","hs.sidebar.service",function(t,e,n,o,i,r,a,s){t.Core=o,t.setMainPanel=function(t,n){e(function(){o.setMainPanel(t,!0,n)})},i.getParamValue("hs_panel")&&t.setMainPanel(i.getParamValue("hs_panel")),t.service=s,t.toggleSidebar=function(){t.Core.sidebarExpanded=!t.Core.sidebarExpanded},t.$emit("scope_loaded","Sidebar")}])},{angular:59,"angular-cookies":48,core:7,map:26,permalink:33}],38:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),t("map"),t("angular-cookies"),angular.module("hs.status_creator",["hs.map","hs.core","ngCookies"]).directive("hs.statusCreator.directive",["config",function(t){return{templateUrl:t.hsl_path+"components/status_creator/partials/dialog.html"}}]).directive("hs.statusCreator.directiveForm",["config",function(t){return{templateUrl:t.hsl_path+"components/status_creator/partials/form.html"}}]).directive("hs.statusCreator.directiveSimpleform",["config",function(t){return{templateUrl:t.hsl_path+"components/status_creator/partials/simpleform.html"}}]).directive("hs.statusCreator.directivePanel",["config",function(t){return{templateUrl:`${t.hsl_path}components/status_creator/partials/panel${t.design||""}.html`}}]).directive("hs.statusCreator.resultDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/status_creator/partials/dialog_result.html",link:function(t,e,n){t.resultModalVisible=!0}}}]).directive("hs.statusCreator.saveDialogDirective",["config",function(t){return{templateUrl:t.hsl_path+"components/status_creator/partials/dialog_save.html",link:function(t,e,n){t.saveCompositionModalVisible=!0}}}]).directive("hs.statusCreator.focusName",function(t){return{link:function(t,e,n){t.$watch(n.focusName,function(o){!0===o&&(console.log("value=",o),e[0].focus(),t[n.focusName]=!1)})}}}).service("hs.status_creator.service",["hs.map.service","Core","hs.utils.service","$window","$cookies","config",function(t,e,n,o,i,r){var a={endpointUrl(){var t=location.protocol+"//"+location.host;if(angular.isDefined(r.hostname)){if(r.hostname.status_manager&&r.hostname.status_manager.url)return r.hostname.status_manager.url;r.hostname.user&&r.hostname.user.url?t=r.hostname.user.url:r.hostname.default&&r.hostname.default.url&&(t=r.hostname.default.url)}return t+(r.status_manager_url||"/wwwlibs/statusmanager2/index.php")},map2json:function(t,e,n,o){var i={};angular.forEach(o.groups,function(t){(t.r||t.w)&&(i[t.roleName]=(t.r?"r":"")+(t.w?"w":""))});var r={abstract:e.abstract,title:e.title,keywords:e.keywords,extent:e.bbox,user:{address:n.address,city:n.city,country:n.country,email:n.email,name:n.name,organization:n.organization,phone:n.phone,position:n.position,postalcode:n.postalcode,state:n.state},groups:i};r.scale=t.getView().getProjection().getMetersPerUnit(),r.projection=t.getView().getProjection().getCode().toLowerCase();var s=t.getView().getCenter();s&&(r.center=[s[0],s[1]]),r.units=t.getView().getProjection().getUnits(),t.maxExtent&&(r.maxExtent={},r.maxExtent.left=t.maxExtent.left,r.maxExtent.bottom=t.maxExtent.bottom,r.maxExtent.right=t.maxExtent.right,r.maxExtent.top=t.maxExtent.top);var l=t.getLayers().getArray();return r.layers=a.layers2json(l,e.layers),r.current_base_layer=a.getCurrentBaseLayer(t),r},getCurrentBaseLayer:function(t){var e=null;return angular.forEach(t.getLayers().getArray(),function(t){(angular.isUndefined(t.get("show_in_manager"))||1==t.get("show_in_manager"))&&1==t.get("base")&&t.getVisible()&&(e={title:t.get("title")})}),e},layers2json:function(t,e){var n=[];return t.forEach(function(t){if(angular.isDefined(e))angular.forEach(e,function(e){if(e.layer==t&&e.checked){var o=a.layer2json(t);o&&n.push(o)}});else{var o=a.layer2json(t);o&&n.push(o)}}),n},layer2string:function(t,e){var n=a.layer2json(t);return JSON.stringify(n,e)},serializeStyle:function(t){var e={};if(void 0!==t.getFill()&&null!=t.getFill()&&(e.fill=t.getFill().getColor()),void 0!==t.getStroke()&&null!=t.getStroke()&&(e.stroke={color:t.getStroke().getColor(),width:t.getStroke().getWidth()}),void 0!==t.getImage()&&null!=t.getImage()){var o=t.getImage(),i={};angular.isDefined(o.getFill)&&void 0!==o.getFill()&&null!=o.getFill()&&(i.fill=o.getFill().getColor()),angular.isDefined(o.getStroke)&&void 0!==o.getStroke()&&null!=o.getStroke()&&(i.stroke={color:o.getStroke().getColor(),width:o.getStroke().getWidth()}),angular.isDefined(o.getRadius)&&(i.radius=o.getRadius()),angular.isFunction(o.getSrc)&&angular.isString(o.getSrc())?i.src=n.proxify(o.getSrc()):angular.isFunction(o.getImage)&&null!=o.getImage()&&angular.isDefined(o.getImage().src)&&(i.src=o.getImage().src),o instanceof ol.style.Circle&&(i.type="circle"),o instanceof ol.style.Icon&&(i.type="icon"),e.image=i}return e},layer2json:function(t){var e={metadata:{}};if(!(!t instanceof ol.layer.Layer)){if(e.visibility=t.getVisible(),e.opacity=t.getOpacity(),e.title=t.get("title"),e.path=t.get("path"),t.getExtent()){var n=t.getExtent();e.maxExtent={left:n[0],bottom:n[3],right:n[2],top:n[1]}}if((t instanceof ol.layer.Tile||t instanceof ol.layer.Image)&&((r=t.getSource())instanceof ol.source.ImageWMS||r instanceof ol.source.TileWMS)){if(e.className="HSLayers.Layer.WMS",e.singleTile=r instanceof ol.source.ImageWMS,e.wmsMinScale=t.get("minScale"),e.wmsMaxScale=t.get("maxScale"),t.get("legends")){e.legends=[];for(var o=t.get("legends"),i=0;i<o.length;i++)e.legends.push(encodeURIComponent(o[i]))}e.maxResolution=t.getMaxResolution(),e.minResolution=t.getMinResolution(),r.getUrl&&(e.url=encodeURIComponent(r.getUrl())),r.getUrls&&(e.url=encodeURIComponent(r.getUrls()[0])),r.getProjection()&&(e.projection=r.getProjection().getCode().toLowerCase()),e.params=r.getParams(),e.ratio=r.get("ratio")||r.ratio_,e.displayInLayerSwitcher=t.get("show_in_manager"),e.metadata.styles=r.get("styles"),t.get("dimensions")&&(e.dimensions=t.get("dimensions"))}if(t instanceof ol.layer.Vector){var r=t.getSource();if(e.className="OpenLayers.Layer.Vector",angular.isDefined(t.get("definition")))e.protocol={url:encodeURIComponent(t.get("definition").url),format:t.get("definition").format};else try{e.features=a.serializeFeatures(r.getFeatures())}catch(n){}angular.isDefined(r.defOptions)&&(e.defOptions=r.defOptions),e.maxResolution=t.getMaxResolution(),e.minResolution=t.getMinResolution(),e.projection="epsg:4326",t.getStyle()instanceof ol.style.Style&&(e.style=a.serializeStyle(t.getStyle()))}return e}},serializeFeatures:function(t){return(new ol.format.GeoJSON).writeFeatures(t)},generateUuid:n.generateUuid,generateThumbnail:function(n,o){"status_creator"!=e.mainpanel&&"permalink"!=e.mainpanel&&"statusCreator"!=e.mainpanel||(n.setAttribute("crossOrigin","Anonymous"),t.map.once("postcompose",function(t){document.getElementById("my_canvas_id");var e=t.context.canvas,o=document.createElement("canvas");o.style.width="256px",o.style.height="256px",o.width=256,o.height=256,o.getContext("2d").drawImage(e,e.width/2-128,e.height/2-128,256,256,0,0,256,256);try{n.setAttribute("src",o.toDataURL("image/png")),this.thumbnail=o.toDataURL("image/jpeg",.8)}catch(t){n.setAttribute("src",r.hsl_path+"components/status_creator/notAvailable.png")}n.style.width="256px",n.style.height="256px"},o),t.map.renderSync())}};return o.addEventListener("beforeunload",function(e){var n={},o=[];angular.forEach(t.map.getLayers(),function(t){t.get("saveState")&&o.push(a.layer2json(t))}),n.layers=o,i.put("hs_layers",JSON.stringify(n))}),a}]).service("hs.status_creator.managerService",["$rootScope","hs.map.service","Core","hs.status_creator.service","config","$http",function(t,e,n,o,i,r){var a={compoData:{title:"",abstract:"",keywords:[],layers:[],id:"",thumbnail:void 0,bbox:void 0,currentCompositionTitle:"",currentComposition:void 0},userData:{email:"",phone:"",name:"",address:"",country:"",postalCode:"",city:"",organization:""},statusData:{titleFree:void 0,hasPermission:void 0,success:void 0,changeTitle:void 0,groups:[]},confirmSave:function(){r({method:"POST",url:o.endpointUrl(),data:JSON.stringify({project:i.project_name,title:a.compoData.title,request:"rightToSave"})}).then(function(e){var n=e.data;a.statusData.hasPermission=n.results.hasPermission,a.statusData.titleFree=n.results.titleFree,n.results.guessedTitle&&(a.statusData.guessedTitle=n.results.guessedTitle),a.statusData.titleFree||(a.statusData.changeTitle=!1),a.statusData.titleFree&&a.statusData.hasPermission?a.save(!0):t.$broadcast("StatusManager.saveResult","saveConfirm")},function(e){a.statusData.success=!1,t.$broadcast("StatusManager.saveResult","saveResult","error")})},save:function(n){(n||""==a.compoData.id)&&(a.compoData.id=o.generateUuid()),r({url:o.endpointUrl(),method:"POST",data:JSON.stringify({data:o.map2json(e.map,a.compoData,a.userData,a.statusData),permanent:!0,id:a.compoData.id,project:i.project_name,thumbnail:a.compoData.thumbnail,request:"save"})}).then(function(e){var n={},o=e.data;n.id=a.compoData.id,n.title=a.compoData.title,n.abstract=a.compoData.abstract||"",a.status=angular.isDefined(o.saved)&&!1!==o.saved,t.$broadcast("compositions.composition_loading",n),t.$broadcast("compositions.composition_loaded",n),t.$broadcast("StatusManager.saveResult","saveResult",angular.isDefined(o.saved)&&!1!==o.saved?"ok":"not-saved")},function(e){a.statusData.success=!1,t.$broadcast("StatusManager.saveResult","saveResult","error")})},open:function(){n.setMainPanel("status_creator",!0),a.refresh()},refresh:function(){a.compoData.layers=[],a.compoData.bbox=a.getCurrentExtent(),e.map.getLayers().forEach(function(t){!angular.isUndefined(t.get("show_in_manager"))&&1!=t.get("show_in_manager")||1==t.get("base")||a.compoData.layers.push({title:t.get("title"),checked:!0,layer:t})}),a.compoData.layers.sort(function(t,e){return t.layer.get("position")-e.layer.get("position")}),a.fillGroups(function(){a.statusData.groups.unshift({roleTitle:"Public",roleName:"guest",w:!1,r:!1});var t=a.compoData.currentComposition;angular.isDefined(a.compoData.currentComposition)&&""!=t&&angular.forEach(a.statusData.groups,function(e){angular.isDefined(t.groups)&&angular.isDefined(t.groups[e.roleName])&&(e.w=t.groups[e.roleName].indexOf("w")>-1,e.r=t.groups[e.roleName].indexOf("r")>-1)})}),a.loadUserDetails()},fillGroups:function(t){a.statusData.groups=[],i.advancedForm?r({url:o.endpointUrl(),method:"GET",data:{request:"getGroups"}}).then(function(e){var n=e.data;n.success&&(a.statusData.groups=n.result,angular.forEach(a.statusData.groups,function(t){t.w=!1,t.r=!1})),t()},function(t){}):t()},loadUserDetails:function(){r({url:o.endpointUrl()+"?request=getuserinfo"}).then(a.setUserDetails,function(t){})},setUserDetails:function(t){var e=t.data;e&&1==e.success&&(e.userInfo&&(a.userData.email=e.userInfo.email,a.userData.phone=e.userInfo.phone,a.userData.name=e.userInfo.firstName+" "+e.userInfo.lastName),e.userInfo&&e.userInfo.org&&(a.userData.address=e.userInfo.org.street,a.userData.country=e.userInfo.org.state,a.userData.postalcode=e.userInfo.org.zip,a.userData.city=e.userInfo.org.city,a.userData.organization=e.userInfo.org.name))},getCurrentExtent:function(){var t=e.map.getView().calculateExtent(e.map.getSize()),n=[t[0],t[1]],o=[t[2],t[3]],i=e.map.getView().getProjection().getCode();return n=ol.proj.transform(n,i,"EPSG:4326"),o=ol.proj.transform(o,i,"EPSG:4326"),[n[0].toFixed(2),n[1].toFixed(2),o[0].toFixed(2),o[1].toFixed(2)]}};return t.$on("StatusCreator.open",function(t){a.open()}),t.$on("compositions.composition_loaded",function(t,e){angular.isUndefined(e.error)&&(e.data?(a.compoData.id=e.id,a.compoData.abstract=e.data.abstract,a.compoData.title=e.data.title,a.compoData.keywords=e.data.keywords,a.compoData.currentComposition=e.data):(a.compoData.id=e.id,a.compoData.abstract=e.abstract,a.compoData.title=e.title,a.compoData.keywords=e.keywords,a.compoData.currentComposition=e),a.compoData.currentCompositionTitle=a.compoData.title)}),a.resetCompoData=function(){a.compoData.id=a.compoData.abstract=a.compoData.title=a.compoData.currentCompositionTitle=a.compoData.keywords=a.compoData.currentComposition=""},t.$on("core.map_reset",function(t,e){a.resetCompoData()}),t.$on("core.mainpanel_changed",function(t){"status_creator"!=n.mainpanel&&"statusCreator"!=n.mainpanel||(a.refresh(),o.generateThumbnail(document.getElementById("hs-stc-thumbnail"),a.compoData))}),t.$on("map.extent_changed",function(t){a.compoData.bbox=a.getCurrentExtent(),o.generateThumbnail(document.getElementById("hs-stc-thumbnail"),a.compoData)}),a}]).controller("hs.status_creator.controller",["$scope","hs.map.service","Core","hs.status_creator.service","config","$compile","hs.status_creator.managerService",function(t,e,n,o,i,r,a){t.compoData=a.compoData,t.statusData=a.statusData,t.userData=a.userData,t.panel_name="status_creator",t.config=i,t.next=function(){if($("a[href=#author]").parent().hasClass("active")){var i="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o.map2json(e.map,t.compoData,t.userData,t.statusData)));$("#stc-download").remove(),$('<a id="stc-download" class="btn btn-secondary" href="data:'+i+'" download="context.hsl">Download</a>').insertAfter("#stc-next"),$("#stc-download").click(function(){$("#stc-next").show(),$("#stc-download").hide(),$("#stc-save, #stc-saveas").hide(),$(".stc-tabs li:eq(0) a").tab("show"),n.setMainPanel("layermanager",!0)}),$("#stc-next").hide(),n.isAuthorized()&&$("#stc-save, #stc-saveas").show()}else $("a[href=#context]").parent().hasClass("active")?$(".stc-tabs li:eq(1) a").tab("show"):$("a[href=#access]").parent().hasClass("active")&&$(".stc-tabs li:eq(2) a").tab("show")},t.showResultDialog=function(){if(null==document.getElementById("status-creator-result-dialog")){var e=angular.element("<div hs.status_creator.result_dialog_directive></span>");r(e)(t),document.getElementById("hs-dialog-area").appendChild(e[0])}else t.resultModalVisible=!0},t.showSaveDialog=function(){var e=document.getElementById("status-creator-save-dialog");e&&e.parentNode.removeChild(e);var n=angular.element("<div hs.status_creator.save_dialog_directive></span>");r(n)(t),document.getElementById("hs-dialog-area").appendChild(n[0])},t.confirmSave=function(){a.confirmSave()},t.save=function(t){a.save(t)},t.$on("StatusManager.saveResult",function(e,o,i){t.resultCode=i,"saveResult"===o?(t.showResultDialog(),$("#stc-next").show(),$("#stc-download").hide(),$("#stc-save, #stc-saveas").hide(),$(".stc-tabs li:eq(0) a").tab("show"),n.setMainPanel("layermanager",!0),$(".composition-info").html($("<div>").html(t.title)).click(function(){$(".composition-abstract").toggle()}),$(".composition-info").append($("<div>").html(t.abstract).addClass("well composition-abstract"))):"saveConfirm"===o?t.showSaveDialog():"saveResult"===o&&t.showResultDialog()}),t.selectNewTitle=function(){t.compoData.title=t.statusData.guessedTitle,t.changeTitle=!0},t.focusTitle=function(){t.statusData.guessedTitle&&(t.compoData.title=t.statusData.guessedTitle),setTimeout(function(){$("#hs-stc-title").focus()},0)},t.getCurrentExtent=function(){t.compoData.bbox=a.getCurrentExtent()},t.$on("core.map_reset",function(t,e){$("#stc-next").show(),$("#stc-download").hide(),$("#stc-save, #stc-saveas").hide(),$(".stc-tabs li:eq(0) a").tab("show")}),t.$on("core.mainpanel_changed",function(t){"status_creator"==n.mainpanel&&($("#stc-next").show(),$("#stc-download").hide(),$("#stc-save, #stc-saveas").hide(),$(".stc-tabs li:eq(0) a").tab("show"))}),t.$emit("scope_loaded","StatusCreator")}])},{angular:59,"angular-cookies":48,map:26,ol:65}],39:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),angular.module("hs.styles",["hs.map"]).service("hs.styles.service",["$http","config",function(t,e){this.pin_white_blue=new ol.style.Style({image:new ol.style.Icon({src:e.hsl_path+"img/pin_white_blue32.png",crossOrigin:"anonymous",anchor:[.5,1]})}),this.pin_white_blue_highlight=function(t,n){return[new ol.style.Style({image:new ol.style.Icon({src:t.get("highlighted")?e.hsl_path+"img/pin_white_red32.png":e.hsl_path+"img/pin_white_blue32.png",crossOrigin:"anonymous",anchor:[.5,1]})})]},this.measure_style=new ol.style.Style({fill:new ol.style.Fill({color:"rgbaa(255, 255, 255, 1)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})}),this.simple_style=new ol.style.Style({fill:new ol.style.Fill({color:"rgbaa(255, 255, 255, 1)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:1}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})})}]).directive("hs.styler.directive",["config",function(t){return{templateUrl:t.hsl_path+"components/styles/partials/styler.html"}}]).directive("hs.styler.colorDirective",["config",function(t){return{scope:{color:"=info"},link:function(t,e,n){t.colors=[{"background-color":"rgba(244, 235, 55, 1)"},{"background-color":"rgba(205, 220, 57, 1)"},{"background-color":"rgba(98, 175, 68, 1)"},{"background-color":"rgba(0, 157, 87, 1)"},{"background-color":"rgba(11, 169, 204, 1)"},{"background-color":"rgba(65, 134, 240, 1)"},{"background-color":"rgba(63, 91, 169, 1)"},{"background-color":"rgba(124, 53, 146, 1)"},{"background-color":"rgba(166, 27, 74, 1)"},{"background-color":"rgba(219, 68, 54, 1)"},{"background-color":"rgba(248, 151, 27, 1)"},{"background-color":"rgba(244, 180, 0, 1)"},{"background-color":"rgba(121, 80, 70, 1)"},{"background-color":"rgba(249, 247, 166, 1)"},{"background-color":"rgba(230, 238, 163, 1)"},{"background-color":"rgba(183, 219, 171, 1)"},{"background-color":"rgba(124, 207, 169, 1)"},{"background-color":"rgba(147, 215, 232, 1)"},{"background-color":"rgba(159, 195, 255, 1)"},{"background-color":"rgba(167, 181, 215, 1)"},{"background-color":"rgba(198, 164, 207, 1)"},{"background-color":"rgba(214, 152, 173, 1)"},{"background-color":"rgba(238, 156, 150, 1)"},{"background-color":"rgba(250, 209, 153, 1)"},{"background-color":"rgba(255, 221, 94, 1)"},{"background-color":"rgba(178, 145, 137, 1)"},{"background-color":"rgba(255, 255, 255, 1)"},{"background-color":"rgba(204, 204, 204, 1)"},{"background-color":"rgba(119, 119, 119, 1)"},{"background-color":"rgba(0, 0, 0, 1)"}],t.colorSelected=function(e){t.color=e}},templateUrl:t.hsl_path+"components/styles/partials/color.html"}}]).service("hs.styler.service",[function(){this.layer=null}]).controller("hs.styler.controller",["$scope","hs.styler.service","$sce","Core","$http",function(t,e,n,o,i){function r(){var e=document.getElementsByClassName("hs-styler-selected-icon-box")[0],n=e.querySelector("path");angular.isDefined(t.iconfillcolor)&&null!=t.iconfillcolor&&(n.style.fill=t.iconfillcolor["background-color"]),angular.isDefined(t.iconlinecolor)&&null!=t.iconlinecolor&&(n.style.stroke=t.iconlinecolor["background-color"]),angular.isDefined(t.iconlinewidth)&&null!=t.iconlinewidth&&(n.style.strokeWidth=t.iconlinewidth),t.serialized_icon="data:image/svg+xml;base64,"+window.btoa(e.innerHTML)}function a(){if(null!=e.layer){var n=e.layer.getSource();angular.isUndefined(e.layer)||null==e.layer||(angular.isUndefined(n.hasLine)&&function(t){t.hasLine=!1,t.hasPoly=!1,t.hasPoint=!1,angular.forEach(t.getFeatures(),function(e){if(e.getGeometry())switch(e.getGeometry().getType()){case"LineString":t.hasLine=!0;break;case"Polygon":t.hasPoly=!0;break;case"Point":t.hasPoint=!0}})}(n),t.hasLine=n.hasLine,t.hasPoly=n.hasPoly,t.hasPoint=n.hasPoint,t.layerTitle=e.layer.get("title"))}}t.service=e,t.icons=null,t.imagetypes=[{name:"none",hrname:"None"},{name:"icon",hrname:"Icon"},{name:"circle",hrname:"Circle"}],t.imagetype=t.imagetypes[0].name,t.radius=5,t.linewidth=2,t.iconlinewidth=2,t.save=function(){if(null!=e.layer){var n={};if(angular.isDefined(t.fillcolor)&&null!=t.fillcolor&&(n.fill=new ol.style.Fill({color:t.fillcolor["background-color"]})),angular.isDefined(t.linecolor)&&null!=t.linecolor&&t.linewidth>0&&(n.stroke=new ol.style.Stroke({color:t.linecolor["background-color"],width:angular.isDefined(t.linewidth)?parseFloat(t.linewidth):1})),"none"!=t.imagetype){if("circle"==t.imagetype&&(angular.isDefined(t.iconfillcolor)||angular.isDefined(t.iconlinecolor))){var o={radius:angular.isDefined(t.radius)?parseFloat(t.radius):5};angular.isDefined(t.iconfillcolor)&&null!=t.iconfillcolor&&(o.fill=new ol.style.Fill({color:t.iconfillcolor["background-color"]})),angular.isDefined(t.iconlinecolor)&&null!=t.iconlinecolor&&angular.isDefined(t.iconlinewidth)&&t.iconlinewidth>0&&(o.stroke=new ol.style.Stroke({color:t.iconlinecolor["background-color"],width:t.iconlinewidth,radius:angular.isDefined(t.radius)?parseFloat(t.radius):5})),n.image=new ol.style.Circle(o)}if("icon"==t.imagetype&&angular.isDefined(t.serialized_icon)){var i=new Image;i.src=t.serialized_icon,i.onload=function(){var t={img:i,imgSize:[i.width,i.height],anchor:[.6,.8],crossOrigin:"anonymous"};n.image=new ol.style.Icon(t),angular.forEach(e.layer.getSource().getFeatures(),function(t){t.setStyle(null)}),e.layer.setStyle(new ol.style.Style(n))}}}if(angular.isDefined(n.fill)||angular.isDefined(n.stroke)||angular.isDefined(n.image)){var r=new ol.style.Style(n);angular.forEach(e.layer.getSource().getFeatures(),function(t){t.setStyle(null)}),e.layer.setStyle(r)}}},t.iconSelected=function(e){i({url:t.hsl_path+"components/styles/img/svg/"+e}).then(function(e){t.iconimage=n.trustAsHtml(e.data),r(),t.save()},function(t){})},t.setImageType=function(e){t.imagetype=e,t.save()},t.$watch("linecolor",t.save),t.$watch("service.layer",a),t.$watch("fillcolor",t.save),t.$watch("iconfillcolor",function(){"icon"==t.imagetype&&r(),t.save()}),t.$watch("iconlinecolor",function(){"icon"==t.imagetype&&r(),t.save()}),t.$watch("iconlinewidth",function(){"icon"==t.imagetype&&r(),t.save()}),t.$watch("radius",function(){t.save()}),t.$on("core.mainpanel_changed",function(e,n){"styler"==o.mainpanel&&null==t.icons&&(t.icons=["bag1.svg","banking4.svg","bar.svg","beach17.svg","bicycles.svg","building103.svg","bus4.svg","cabinet9.svg","camping13.svg","caravan.svg","church15.svg","church1.svg","coffee-shop1.svg","disabled.svg","favourite28.svg","football1.svg","footprint.svg","gift-shop.svg","gps40.svg","gps41.svg","gps42.svg","gps43.svg","gps5.svg","hospital.svg","hot-air-balloon2.svg","information78.svg","library21.svg","location6.svg","luggage13.svg","monument1.svg","mountain42.svg","museum35.svg","park11.svg","parking28.svg","pharmacy17.svg","port2.svg","restaurant52.svg","road-sign1.svg","sailing-boat2.svg","ski1.svg","swimming26.svg","telephone119.svg","toilets2.svg","train-station.svg","university2.svg","warning.svg","wifi8.svg"]),a()}),t.$emit("scope_loaded","styler")}])},{angular:59,ol:65}],40:[function(t,e,n){var angular;angular=t("angular"),t("map"),t("core"),t("permalink"),angular.module("hs.toolbar",["hs.map","hs.core"]).component("hs.toolbar",{templateUrl:["config",function(t){return t.hsl_path+"components/toolbar/partials/toolbar.html"}],controller:["$scope","Core","$timeout",function(t,e,n){var o=!1;angular.extend(t,{Core:e,measureButtonClicked:function(){e.setMainPanel("measure",!0,!1)},collapsed:function(t){return arguments.length>0&&(o=t),o},isMobile:function(){return $(document).width()<800?"mobile":""},compositionLoaded:function(){return angular.isDefined(t.composition_title)}}),t.$on("core.map_reset",function(e){n(function(){delete t.composition_title,delete t.composition_abstract})}),t.$emit("scope_loaded","Toolbar")}]})},{angular:59,core:7,map:26,permalink:33}],41:[function(t,e,n){angular.module("gettext").run(["gettextCatalog",function(t){t.setStrings("cs",{Abstract:"Abstrakt",Access:"Pstup",Add:"Pidat","Add external data":"Pidat extern data","Add layers":"Pidat vrstvy","Add to map":"Pidat do mapy",Address:"Adresa","Advanced options":"Rozen monosti",Altitude:"ka",Author:"Autor",Baselayers:"Zkladn vrstvy",Cancel:"Zruit","Choose format":"Vyberte formt",City:"Msto",Clear:"Vyistit",Close:"Zavt",Colour:"Barva","Colour gradient limits":"Limity gradientu barvy",Compositions:"Kompozice",Confirm:"Potvrdit",Context:"Kontext","Continue without saving":"Pokraovat bez uloen",Country:"Stt",Data:"Data",Dataset:"Datov sada","Datasource Selector":"Vbr datovch zdroj",Datasources:"Datov zdroje",Date:"Datum","Do you really want to overwrite <b>{{title}}</b>?":"Dopravdy chcete pepsat <b>{{title}}</b>?","Do you really want to remove all layers?":"Opravu chcete odebrat vechny vrstvy","Do you want to delete map":"Chcete smazat mapu",Download:"Sthnout","E-mail":"E-mail","Embed code":"Kd pro vloen","Embed map":"Kd pro vloen mapy","New map":"Nov mapa","Eurostat explorer":"Prohle eurostatu","Extended search parameters for Micka":"Rozen parametry pro hledn",Extent:"Rozsah","External data":"Extern data","External data source (URL)":"Zdroj externch dat (URL)","Extract styles":"Extrahovat styly","Failed to save to status manager":"Chyba pi ukldn",Fill:"Vpl","Fill in descriptive text about map":"Vyplnit popis o map","Fill in name":"Vyplnit jmno",Filter:"Filtr","Filter by":"Filtrovat","Filter by map extent":"Filtrovat pomoc rozsahu","Filter by value":"Filtrovat pomoc hodnoty","Filter by {{group.name}}":"Filtrovat pomoc {{group.name}}","Filter features":"Filtrovat prvky","Filter the values which are in a speciffic interval by dragging on the chart below":"Fltrovat prvky, kter jsou ve specifickm intervalu, pomoc petaen v grafu","Folder name":"Jmno adrese",Follow:"Sledovat",Format:"Formt",Fulltext:"Fulltext",Icon:"Ikona","Image format":"Formt obrzku",Info:"Info",Keywords:"Klov slova",Layer:"Vrstva","Layer manager":"Sprvce vrstev",Layers:"Vrstvy",Legend:"Legenda",Line:"Linie","Line Colour":"Barva linie","Line width":"ka linie","List available map compositions":"Seznam dostupnch mapovch kompozic","Loading:":"Nahrvn:","Make public":"Veejn","Manage and Style Layers":"Spravovat a stylovat vrstvy","Manage and style your layers in composition":"Spravovat a stylovat vrstvy v kompozici","Map Compositions":"Mapov kompozice","Map Content":"Obsah mapy","Map and layer projection do not match! Resampling will be used. This may lead to unexpectable results.":"Souadncov systm mapy a vrstvy nesouhlas. Bude pouito pevzorkovn. Vysledek me vypadat patn.","Map projection and layer projection not match. Add the layer to map and use server-side resampling program?":"Souadncov systm mapy a vrstvy nesouhlas. Pidat vrstvu do mapy a pout pevzorkovn?",Measure:"Men","Measure distance or area at map":"Men vzdlenost a ploch na map","Measure lines and polygon":"Men lini a polygon",Measurements:"Men","Merge compositions":"Spojit kompozice","Metadata for":"Metadata pro","Metadata in":"Metadata v",More:"Vce",Name:"Jmno",Next:"Dal",No:"Ne","No results":"dn vsledky","No, save as":"Ne, uloit jako",OK:"OK","Only mine":"Pouze moje",Opacity:"Prhlednost","Order by":"Seadit podle",Organization:"Organizace","Organization name":"Jmno organizace",Overwrite:"Pepsat","Overwrite existing map?":"Pepsat existujc mapu?",Person:"Osoba",Phone:"Telefon",Point:"Bod",Position:"Pozice","Postal code":"PS",Previous:"Pedchoz",Print:"Tisk","Print map":"Vytisknout mapu","Query format":"Formt dotazu",Radius:"Radius",Read:"st",Reload:"Znovu nast","Reload composition":"Znovu nast kompozici","Remove all added layers":"Odebrat vechny pidan vrstvy","Resample layer":"Pevzorkovat vrstvu","Reset map":"Resetovat mapu",Save:"Uloit","Save as":"Uloit jako","Save changes first":"Uloit nejdv zmny","Save composition":"Uloit kompozici","Save current map":"Uloit nynj mapu","Saving to status manager":"Uloit",Scale:"Mtko",Search:"Hledat","Select All Layers":"Vybrat vechny vrstvy","Select data or services for your map composition":"Vybrat data nebo sluby pro mapovou kompozici","Select new name for map.":"Vybrat nov jmno pro mapu.","Share map":"Sdlet mapu",Speed:"Rychlost",State:"Stav","Style layer":"Nastylovat vrstvu","Successfuly saved to status manager":"spn uloeno",Suggestions:"Nvrhy","There was error while parsing Capabilities response from given URL":"Nastala chyba pi ten GetCapabilities","This layer is not available":"Tato vrstva nen dostupn","This layer is not available in this scale":"Tato vrstva nen v tomto mtku dostupn","This layer is queryable":"Tato vrstva je dotazovateln","Tile size":"Velikost dladice",Title:"Nadpis","Topic category":"Nzev kategorie",Type:"Typ","Unsaved map":"Neuloen mapa","Use a different name to save the map.":"Vyberte jn jmno pro uloen mapy","Use current map extent":"Pout nynj rozsah","Use proxy":"Pout proxy","Use tiles":"Pout dladice","View, Compose and analyse spatial data":"Prohlen, komponovn a analyzovn prostorovch dat","WMS Capabilities parsing problem":"Problm se tenm WMS Capabilities",Write:"Zpis","Yes, save":"Ano, uloit","You are atempting to save map changes to":"Pokoute se uloit zmny v map do","You are not authorized to store composition. Please sign in or contact administrator for your credentials.":"Nejste autorizovan pro ukldn kompozic. Pihlate se nebo kontaktujte administrtora pro pihlaovac daje.","You are opening map <b>{{composition_name_to_be_loaded}}</b>.<br>There are currently unsaved changes.<br>What do you want to do before opening the selected map composition?":"Otevrte mapu <b>{{composition_name_to_be_loaded}}</b>.<br>Mte neuloen zmny.<br>Co chcete udlat ped otevenm vybran mapov kompozice?","You don't have sufficient rights to do so.":"Nemte prva k proveden operace.","You have unsaved changes!":"Mte neuloen zmny!","Zoom to":"Piblit na",details:"detaily",from:"z","multiple shapes":"vce tvar",to:"do"}),t.setStrings("fr_FR",{Abstract:"Rsum",Access:"Accs",Add:"Ajouter","Add external data":"Ajouter des donnes externes","Add layers":"Ajouter un fond de carte","Add to map":"Ajouter  la carte",Address:"Adresse","Advanced options":"Options avances",Altitude:"Altitude",Author:"Auteur",Baselayers:"Fond de carte de base",Cancel:"Annuler","Choose format":"Choisir le format",City:"Ville",Clear:"Effacer",Close:"Fermer",Colour:"Couleur","Colour gradient limits":"Limites des dgrads de couleur",Compositions:"Compositions",Confirm:"Confirmer",Context:"Contexte","Continue without saving":"Continuer sans sauvergarder",Country:"Pay",Data:"Donne",Dataset:"Jeu de donnes","Datasource Selector":"Slectionner des sources de donnes",Datasources:"Sources de donnes",Date:"Date","Do you really want to overwrite <b>{{title}}</b>?":"Voulez-vous vraiment effacer <b>{{title}}</b>?","Do you really want to remove all layers?":"Voulez-vous vraiment enlever tous les fonds de carte","Do you want to delete map":"Voulez-vous effacer la carte?",Download:"Tlcharger","E-mail":"E-mail","Embed code":"Code incorpor","Embed map":"Carte incorpore","New map":"Carte nouvelle","Extended search parameters for Micka":"Paramtres de recherche tendu  Micka",Extent:"Mesure","External data":"Donne externe","External data source (URL)":"Source de donnes externe (URL)","Extract styles":"Extraire les styles","Failed to save to status manager":"Votre tentative de sauvegarde a choue",Fill:"Remplir","Fill in descriptive text about map":"Inscrire ici une description de la carte","Fill in name":"Inscrire le nom",Filter:"Filtre","Filter by":"Filtrer par","Filter by map extent":"Filtrer par la superficie de la carte","Filter by value":"Filtrer par valeur","Filter by {{group.name}}":"Filtrer par {{group.name}}","Filter features":"Filtrer par fonction","Filter the values which are in a speciffic interval by dragging on the chart below":"Filtrer les valeurs qui sont dans une intervalle de valeur en faisant glisser le tableau ci-dessous ","Folder name":"Nom du dossier",Follow:"Suivre",Format:"Format",Fulltext:"Texte intgral",Icon:"Icne","Image format":"Format de l'image",Info:"Info",Keywords:"Mots cls",Layer:"Calques","Layer manager":"Gestionnaire des calques",Layers:"Calques",Legend:"Lgendes",Line:"Ligne","Line Colour":"Couleur de la ligne","Line width":"Epaisseur de la ligne","List available map compositions":"Liste des cartes disponibles","Loading:":"Charger","Make public":"Rendre public","Manage and Style Layers":"Grer et modifier les calques","Manage and style your layers in composition":"Grer et modifier vos calques en cours de composition","Map Compositions":"Compositions de carte","Map Content":"Contenu des cartes","Map and layer projection do not match! Resampling will be used. This may lead to unexpectable results.":"La projection du calque et la carte ne s'articulent pas! Nous allons ressayer de les combiner, cela peut donner des rsultats inattendus","Map projection and layer projection not match. Add the layer to map and use server-side resampling program?":"La projection de la carte et la projection du calque ne s'articulent pas. Ajouter le calque  la carte et utilisez le programme de rchantillonage  l'chelle du serveur.",Measure:"Mesure","Measure distance or area at map":"Mesurer le distance ou l'aire sur la carte","Measure lines and polygon":"Mesures les lignes et les polygones",Measurements:"Mesures","Merge compositions":"Fusionner les compositions","Metadata for":"Metadonnes pour","Metadata in":"Metadonnes dans",More:"Plus ",Name:"Nom",Next:"Suivant",No:"Non","No results":"Pas de rsultats","No, save as":"Non, enregistrer sous ",OK:"OK","Only mine":"Uniquement les miens",Opacity:"Opacit","Order by":"Trier par",Organization:"Organisation","Organization name":"Nom de l'organisation",Overwrite:"Remplacer","Overwrite existing map?":"Remplacer la carte existante?",Person:"Personne",Phone:"Tlphone",Point:"Point",Position:"Poste","Postal code":"Code postal",Previous:"Prcdent",Print:"Imprimer","Print map":"Imprimer la carte","Query format":"Format du questionnaire",Radius:"Rayon",Read:"Lire","Reduce the number of dimensions by clicking on categories in each of the charts. Otherwise you might be visualizing multiple units and years at once.":"Diminuer le nombre de paramtres en slectionnant des catgories dans chaque tableau. Dans le cas contraire vous verrez  de nombreux lments et annes sur le mme visuel.",Reload:"Recharger","Reload composition":"Recharger la composition","Remove all added layers":"Supprimer les calques ajouts","Resample layer":"Redimentionner le calque","Reset map":"Rinitialiser la carte",Save:"Enregistrer","Save as":"Enregistrer sous","Save changes first":"Enregistrer les changements en premier","Save composition":"Enregistrer la composition","Save current map":"Enregister la carte actuelle","Saving to status manager":"Enregistrer en tant que manager",Scale:"Echelle",Search:"Rechercher","Select All Layers":"Slectionner tous les calques","Select data or services for your map composition":"Slectionner des donnes ou des services pour composer votre carte","Select new name for map.":"Donnez un nouveau nom  la carte","Select the colour interval by dragging on the chart below. The regions on left side will be blue and red on the right side":"Choisir une palette de couleur en faisant glisser le tableau ci-dessous. La partie gauche apparaitra en bleu et la partie droite en rouge.","Share map":"Partager la carte","Sparql query log":"Registre des requtes Sparql",Speed:"Vitesse",State:"Etat","Style layer":"Modifier le calque","Successfuly saved to status manager":"Enregistrement en tant que manager effectu avec succs.",Suggestions:"Suggestions","There was error while parsing Capabilities response from given URL":"Une erreur est survenue lors de l'analyse de l'URL fournie","This layer is not available":"Ce calque n'est pas disponible ","This layer is not available in this scale":"Ce calque n'est pas disponible  cette chelle","This layer is queryable":"Vous pouvez slectionner ce calque","Tile size":"Taille de la tuile",Title:"Titre","Topic category":"Catgorie",Type:"Type","Unsaved map":"Carte non sauvergarde","Use a different name to save the map.":"Utiliser un autre nom pour sauvegarder la carte","Use current map extent":"Utiliser l'tendu actuel de la carte","Use proxy":"Utiliser un proxy","Use tiles":"Utiliser des tuiles","View, Compose and analyse spatial data":"Voir, composer et analyser donnes gospatiales","WMS Capabilities parsing problem":"Problme dans l'analyse des capacits WMS",Write:"Ecrire","Yes, save":"Oui, sauvegarder","You are atempting to save map changes to":"Vous voulez sauvegarder les changements effectus sur la carte","You are not authorized to store composition. Please sign in or contact administrator for your credentials.":"Vous n'avez pas l'autorisation d'enregistrer votre composition. Enregistrez vous ou contactez un administrateur pour pouvoir sauvegarder. ","You are opening map <b>{{composition_name_to_be_loaded}}</b>.<br>There are currently unsaved changes.<br>What do you want to do before opening the selected map composition?":"Vous tes en train d'ouvrir la carte <b>{{composition_name_to_be_loaded}}</b>.<br>. Certains changements n'ont pas t sauvegards sur la carte actuelle. Que souhaitez vous faire avant d'ouvrir cette carte compose? ","You don't have sufficient rights to do so.":"Vous n'avez pas les droits requis.","You have unsaved changes!":"Certaines modifications n'ont pas t sauvegardes. ","Zoom to":"Zoomer sur",details:"dtails",from:"de","multiple shapes":"formes multiples",to:""}),t.setStrings("lv_LV",{Abstract:"Apraksts",Add:"Pievienot","Add external data":"Pievienot rjus datu avotus","Add to map":"Pievienot kartei",Baselayers:"Pamatsli",Cancel:"Atcelt",Clear:"Notrt",Close:"Aizvrt",Colour:"Krsa",Compositions:"Kompozcijas",Data:"Dati",Datasources:"Datu avoti",Icon:"Ikona",Info:"Informcija",Keywords:"Atslgas vrdi",Layer:"Slnis","Layer manager":"Slu prvaldba",Layers:"Sli",Legend:"Leenda"}),t.setStrings("nl",{Abstract:"Samenvatting",Access:"Toegang",Add:"Voeg toe","Add external data":"Voeg externe data toe","Add layers":"Voeg een laag toe","Add to map":"Voeg toe aan kaart",Address:"Adres","Advanced options":"Geavanceerde mogelijkheden",Altitude:"Hoogte",Author:"Auteur",Baselayers:"Basislagen",Cancel:"Annuleer","Choose format":"Kies het formaat",City:"Stad",Clear:"Verwijder",Close:"Sluit af",Colour:"Kleur","Colour gradient limits":"Limiet kleurgradint",Compositions:"Composities",Confirm:"Bevestig",Context:"Context","Continue without saving":"Verdergaan zonder bewaren",Country:"Land",Data:"Data",Dataset:"Dataset","Datasource Selector":"Databron selector",Datasources:"Databronnen",Date:"Datum","Do you really want to overwrite <b>{{title}}</b>?":"Bent u zeker dat u <b>{{title}}</b> wilt vervangen?","Do you really want to remove all layers?":"Bent u zeker dat u alle lagen wilt verwijderen?","Do you want to delete map":"Bent u zeker dat u de kaart wilt verwijderen?",Download:"Download","E-mail":"E-mail","Embed code":"Embed code","Embed map":"Embed kaart","New map":"Nieuwe kaart","Extended search parameters for Micka":"Uitgebreide zoekparameters voor Micka",Extent:"Bereik","External data":"Externe data","External data source (URL)":"Externe databron (url)","Extract styles":"Neem styling over","Failed to save to status manager":"Opslaan naar statusmanager mislukt",Fill:"Vul in","Fill in descriptive text about map":"Vul beschrijving kaart in","Fill in name":"Vul naam in",Filter:"Filter","Filter by":"Filter op basis van:","Filter by map extent":"Filter op basis van kaartbereik:","Filter by value":"Filter op waarde","Filter by {{group.name}}":"Filter op {{group.name}}","Filter features":"Filter opties","Filter the values which are in a speciffic interval by dragging on the chart below":"Filter de waarden in een interval door in onderstaande grafiek de grenzen te slepen","Folder name":"Folder",Follow:"Volg",Format:"Formaa",Fulltext:"Volledige tekst",Icon:"Icoon","Image format":"Afbeeldingsformaat",Info:"Info",Keywords:"Trefwoorden",Layer:"Laag","Layer manager":"Beheer lagen",Layers:"Lagen",Legend:"Legenda",Line:"Lijn","Line Colour":"Lijnkleur","Line width":"Lijnbreedte","List available map compositions":"Beschikbare mapcomosities","Loading:":"Laden:","Make public":"Publiceer","Manage and Style Layers":"Beheer en stijl lagen","Manage and style your layers in composition":"Beheer en stijl lagen in mapcompositie","Map Compositions":"Mapcomposities","Map Content":"Mapinhoud","Map and layer projection do not match! Resampling will be used. This may lead to unexpectable results.":"Map en laagprojectie komen niet overeen. We proberen dit te combineren, maar dit kan tot onverwachte resultaten leiden.","Map projection and layer projection not match. Add the layer to map and use server-side resampling program?":"Map en laagprojectie komen niet overeen. Wilt u de laag alsnog toevoegen aan de map en te laten herschalen via de servertoepassing?",Measure:"Afmeting","Measure distance or area at map":"Afstand of oppervlakte meten op kaart","Measure lines and polygon":"Lijnen en polygonen meten op kaart",Measurements:"Afmetingen","Merge compositions":"Composities samenvoegen","Metadata for":"Metadata voor","Metadata in":"Metadata in",More:"Meer info",Name:"Naam",Next:"Volgende",No:"Nee","No results":"Geen resultaten","No, save as":"Nee, opslaan als",OK:"Ok","Only mine":"Enkel mijn",Opacity:"Doorzichtigheid","Order by":"Rangschik op",Organization:"Organisatie","Organization name":"Naam organisaties",Overwrite:"Vervang","Overwrite existing map?":"Vervang huidige map?",Person:"Persoon",Phone:"Telefoon",Point:"Punt",Position:"Positie","Postal code":"Postcode",Previous:"Vorige",Print:"Afdrukken","Print map":"Kaart afdrukken","Query format":"Formaal zoekopdracht",Radius:"Straal",Read:"Lees","Reduce the number of dimensions by clicking on categories in each of the charts. Otherwise you might be visualizing multiple units and years at once.":"Reduceer het aantal dimensies door op categorin te klikken in de grafieken. Anders gaat u meerdere eenheden en jaren tegelijk visualiseren.",Reload:"Opnieuw uploaden","Reload composition":"Compostie opnieuw uploaden","Remove all added layers":"Verwijder alle toegevoegde lagen","Resample layer":"Schaal wijzigen","Reset map":"Kaart resetten",Save:"Opslaan","Save as":"Opslaan als","Save changes first":"Wijzigingen eerst opslaan","Save composition":"Compositie opslaan","Save current map":"Huidige kaart opslaan","Saving to status manager":"Opslaan naar statusmanager",Scale:"Schaal",Search:"Opzoeken","Select All Layers":"Selecteer alle lagen","Select data or services for your map composition":"Selecteer data of webservices voor uw mapcompositie ","Select new name for map.":"Geef uw compositie een naam","Select the colour interval by dragging on the chart below. The regions on left side will be blue and red on the right side":"Kies het kleurenpallet door op onderstaande grafiek te slepen. De delen aan de linkerkant zullen blauw zijn, en die aan de rechterkant rood.","Share map":"Deel uw kaart","Sparql query log":"Log van Sparql queries",Speed:"Snelheid",State:"Staat","Style layer":"Stijl laag aanpassen","Successfuly saved to status manager":"Succesvol opgeslagen naar statusmanager",Suggestions:"Suggesties","There was error while parsing Capabilities response from given URL":"Er is een fout opgetreden bij het analyseren van de opgegeven url","This layer is not available":"These laag is niet beschikbaar","This layer is not available in this scale":"Deze laag is niet beschikbaar op deze schaal","This layer is queryable":"Deze laag is beschikbaar","Tile size":"Omvang tegel",Title:"Titel","Topic category":"Categorie",Type:"Type","Unsaved map":"Niet-opgeslagen kaart","Use a different name to save the map.":"Sla op onder een andere naam","Use current map extent":"Gebruik huidig kaartbereik","Use proxy":"Gebruik een proxy","Use tiles":"Gebruik een tegel","View, Compose and analyse spatial data":"Maak aan, bekijk en analyseer geodata","WMS Capabilities parsing problem":"Er is een fout opgetreden bij het inlezen van de opgegeven WMS",Write:"Schrijven","Yes, save":"Ja, opslaan","You are atempting to save map changes to":"U probeert wijzigingen in de map op te slaan naar","You are not authorized to store composition. Please sign in or contact administrator for your credentials.":"U hebt onvoldoende rechten om een compositie op te slaan. Log in of contacteer de administrator voor het aanpassen van uw rechten.","You are opening map <b>{{composition_name_to_be_loaded}}</b>.<br>There are currently unsaved changes.<br>What do you want to do before opening the selected map composition?":"U opent kaart <b>{{composition_name_to_be_loaded}}</b>.<br>Er zijn momenteel nog niet-opgeslagen wijzigingen.<br>Wat wenst u te doen alvorens de geslecteerde mapcompositie te openen?","You don't have sufficient rights to do so.":"U hebt oncoldoende rechten om deze actie uit te voeren","You have unsaved changes!":"Sommige wijzigingen zijn nog niet opgeslagen!","Zoom to":"Zoom naar",details:"Details",from:"Van","multiple shapes":"Meerdere vormen",to:"tot"})}])},{}],42:[function(t,e,n){var angular,ol;angular=t("angular"),ol=t("ol"),angular.module("hs.utils",["hs"]).service("hs.utils.service",["config","$http",function(t,e){var n=this;this.proxify=function(e,n){n=!!angular.isUndefined(n)||n;var o=e;return("http"==e.substring(0,4)&&-1==e.indexOf(window.location.origin)||function(t){var e=document.createElement("a");return e.setAttribute("href",t),e.port}(e)!=window.location.port)&&("undefined"!=typeof use_proxy&&!0!==use_proxy||(o=t.proxyPrefix||"/cgi-bin/hsproxy.cgi?",n&&(-1==e.indexOf("GetMap")||e.indexOf("GetFeatureInfo")>-1)&&(o+="toEncoding=utf-8&"),o=o+"url="+encodeURIComponent(e))),o},this.shortUrl=function(o){return t.shortenUrl?t.shortenUrl(o):new Promise(function(t,i){e.get(n.proxify("http://tinyurl.com/api-create.php?url="+o),{longUrl:o}).then(function(e){t(e.data)}).catch(function(t){i()})})},this.parseHexString=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},this.createHexString=function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},this.getParamsFromUrl=function(t){return"string"!=typeof t?{}:t.indexOf("?")>-1?(t=t.substring(t.indexOf("?")+1)).trim().split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),o=n[0],i=n[1];return o=decodeURIComponent(o),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(o)?Array.isArray(t[o])?t[o].push(i):t[o]=[t[o],i]:t[o]=i,t},{}):{}},this.paramsToURL=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},this.insertAfter=function(t,e){angular.isDefined(t.length)&&t.length>0&&(t=t[0]),e.parentNode.insertBefore(t,e.nextSibling)},this.paramsToURLWoEncode=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+t[n]);return e.join("&")},this.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},this.rainbow=function(t,e,n){var o,i,r,a=e/(1.00000001*t),s=~~(4*a),l=4*a-s,c=1-l;switch(s%4){case 2:o=l,i=1,r=0;break;case 0:o=0,i=l,r=1;break;case 3:o=1,i=c,r=0;break;case 1:o=0,i=1,r=c}return"rgba("+~~(235*o)+","+~~(235*i)+","+~~(235*r)+", "+n+")"},Date.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.monthDiff=function(t){var e;return e=12*(t.getFullYear()-this.getFullYear()),e-=this.getMonth()+1,(e+=t.getMonth())<=0?0:e},String.prototype.hashCode=function(){var t=0;if(0==this.length)return t;for(i=0;i<this.length;i++)char=this.charCodeAt(i),t=(t<<5)-t+char,t&=t;return t},String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}),String.prototype.capitalizeFirstLetter||(String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)})}]).service("hs.utils.layerUtilsService",["config",function(t){var e=this;this.layerIsZoomable=function(t){return!(void 0===t||!t.get("BoundingBox")&&!e.isLayerWMS(t)&&(!t.getSource().getExtent||!t.getSource().getExtent()||ol.extent.isEmpty(t.getSource().getExtent())))},this.layerIsStyleable=function(t){return void 0!==t&&t instanceof ol.layer.Vector},this.isLayerQueryable=function(t){return!!(t instanceof ol.layer.Tile&&t.getSource()instanceof ol.source.TileWMS&&t.getSource().getParams().INFO_FORMAT)||!!(t instanceof ol.layer.Image&&t.getSource()instanceof ol.source.ImageWMS&&t.getSource().getParams().INFO_FORMAT)},this.isLayerWMS=function(t){return t instanceof ol.layer.Tile&&t.getSource()instanceof ol.source.TileWMS||t instanceof ol.layer.Image&&t.getSource()instanceof ol.source.ImageWMS},this.layerLoaded=function(t){return t.getSource().loaded},this.layerInvalid=function(t){return t.getSource().error}}])},{angular:59,ol:65}],43:[function(t,e,n){!function(t,angular){"use strict";var e,n,o,i,r=1,a="-add",s="-remove",l="ng-",c="ng-animate",u="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?("-webkit-",e="WebkitTransition",n="webkitTransitionEnd transitionend"):(e="transition",n="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?("-webkit-",o="WebkitAnimation",i="webkitAnimationEnd animationend"):(o="animation",i="animationend");var p="Duration",h="TimingFunction",d="PlayState",f=o+"Delay",m=o+p,g=e+"Delay",y=e+p,v=angular.$$minErr("ng");function b(t,e,n){if(!t)throw v("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function w(t,e){return t||e?t?e?(Z(t)&&(t=t.join(" ")),Z(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function E(t,e,n){var o="";return t=Z(t)?t:t&&nt(t)&&t.length?t.split(/\s+/):[],X(t,function(t,i){t&&t.length>0&&(o+=i>0?" ":"",o+=n?e+t:t+e)}),o}function M(t){if(t instanceof it)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===r)return t;break;default:return it(C(t))}if(t.nodeType===r)return it(t)}function C(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===r)return n}}function _(t){return function(e,n){n.addClass&&(!function(t,e,n){X(e,function(e){t.addClass(e,n)})}(t,e,n.addClass),n.addClass=null),n.removeClass&&(!function(t,e,n){X(e,function(e){t.removeClass(e,n)})}(t,e,n.removeClass),n.removeClass=null)}}function x(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||rt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=rt},t.$$prepared=!0}return t}function S(t,e){T(t,e),k(t,e)}function T(t,e){e.from&&(t.css(e.from),e.from=null)}function k(t,e){e.to&&(t.css(e.to),e.to=null)}function A(t,e,n){var o=e.options||{},i=n.options||{},r=(o.addClass||"")+" "+(i.addClass||""),l=(o.removeClass||"")+" "+(i.removeClass||""),c=function(t,e,n){var o={};t=r(t),e=r(e),X(e,function(t,e){o[e]=1}),n=r(n),X(n,function(t,e){o[e]=1===o[e]?null:-1});var i={addClass:"",removeClass:""};function r(t){nt(t)&&(t=t.split(" "));var e={};return X(t,function(t){t.length&&(e[t]=!0)}),e}return X(o,function(e,n){var o,r;1===e?(o="addClass",r=!t[n]||t[n+s]):-1===e&&(o="removeClass",r=t[n]||t[n+a]),r&&(i[o].length&&(i[o]+=" "),i[o]+=n)}),i}(t.attr("class"),r,l);i.preparationClasses&&(o.preparationClasses=O(i.preparationClasses,o.preparationClasses),delete i.preparationClasses);var u=o.domOperation!==rt?o.domOperation:null;return K(o,i),u&&(o.domOperation=u),c.addClass?o.addClass=c.addClass:o.addClass=null,c.removeClass?o.removeClass=c.removeClass:o.removeClass=null,e.addClass=o.addClass,e.removeClass=o.removeClass,o}function P(t){return t instanceof it?t[0]:t}function D(t,e){var n=e?"paused":"",i=o+d;return I(t,[i,n]),[i,n]}function I(t,e){var n=e[0],o=e[1];t.style[n]=o}function O(t,e){return t?e?t+" "+e:t:e}var N={blockTransitions:function(t,e){var n=e?"-"+e+"s":"";return I(t,[g,n]),[g,n]}},L=["$interpolate",function(t){return{link:function(e,n,o){var i=o.ngAnimateChildren;function r(t){t="on"===t||"true"===t,n.data(u,t)}nt(i)&&0===i.length?n.data(u,!0):(r(t(i)(e)),o.$observe("ngAnimateChildren",r))}}}],R="$$animateCss",j=1e3,F=3,U=1.5,H={transitionDuration:y,transitionDelay:g,transitionProperty:e+"Property",animationDuration:m,animationDelay:f,animationIterationCount:o+"IterationCount"},V={transitionDuration:y,transitionDelay:g,animationDuration:m,animationDelay:f};function B(t,e){return[e?f:g,t+"s"]}function q(t,e,n){var o=Object.create(null),i=t.getComputedStyle(e)||{};return X(n,function(t,e){var n,r,a=i[t];if(a){var s=a.charAt(0);("-"===s||"+"===s||s>=0)&&(n=0,r=a.split(/\s*,\s*/),X(r,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),a=n),0===a&&(a=null),o[e]=a}}),o}function W(t){return 0===t||null!=t}function z(t,n){var o=e,i=t+"s";return n?o+=p:i+=" linear all",[o,i]}function G(t,e,n){X(n,function(n){t[n]=J(t[n])?t[n]:e.style.getPropertyValue(n)})}var Y,K,X,Z,J,Q,tt,et,nt,ot,it,rt,at=["$animateProvider",function(t){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,r,c,u,p,d,f,g,y){var v=_(r);var b=[];function w(t){b.push(t),g.waitUntilQuiet(function(){p.flush();for(var t=d(),e=0;e<b.length;e++)b[e](t);b.length=0})}function M(e,n,o,i){var r=function(e,n,o,i,r){var a=p.get(o);a||"infinite"===(a=q(t,e,r)).animationIterationCount&&(a.animationIterationCount=1);var s=i||a.transitionDuration>0||a.animationDuration>0;return p.put(o,a,s),a}(e,0,o,i,H),a=r.animationDelay,s=r.transitionDelay;return r.maxDelay=a&&s?Math.max(a,s):a||s,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}return function(d,g){var b=g||{};b.$$prepared||(b=x(Y(b)));var C={},_=P(d);if(!_||!_.parentNode||!y.enabled())return Pt();var A,O,L,H,K,J,Q,tt,et,nt,ot=[],it=(d.attr("class"),function(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}(b)),at=[];if(0===b.duration||!f.animations&&!f.transitions)return Pt();var st=b.event&&Z(b.event)?b.event.join(" "):b.event,lt=st&&b.structural,ct="",ut="";lt?ct=E(st,l,!0):st&&(ct=st),b.addClass&&(ut+=E(b.addClass,a)),b.removeClass&&(ut.length&&(ut+=" "),ut+=E(b.removeClass,s)),b.applyClassesEarly&&ut.length&&v(d,b);var pt=[ct,ut].join(" ").trim(),ht=it.to&&Object.keys(it.to).length>0;if(!((b.keyframeStyle||"").length>0)&&!ht&&!pt)return Pt();var dt,ft,mt=p.cacheKey(_,st,b.addClass,b.removeClass);if(p.containsCachedAnimationWithoutDuration(mt))return pt=null,Pt();if(b.stagger>0){var gt=parseFloat(b.stagger);dt={transitionDelay:gt,animationDelay:gt,transitionDuration:0,animationDuration:0}}else dt=function(e,n,o,i){var a,s="stagger-"+o;if(p.count(o)>0&&!(a=p.get(s))){var l=E(n,"-stagger");r.addClass(e,l),(a=q(t,e,i)).animationDuration=Math.max(a.animationDuration,0),a.transitionDuration=Math.max(a.transitionDuration,0),r.removeClass(e,l),p.put(s,a,!0)}return a||{}}(_,pt,mt,V);if(b.$$skipPreparationClasses||r.addClass(d,pt),b.transitionStyle){var yt=[e,b.transitionStyle];I(_,yt),ot.push(yt)}if(b.duration>=0){ft=_.style[e].length>0;var vt=z(b.duration,ft);I(_,vt),ot.push(vt)}if(b.keyframeStyle){var bt=[o,b.keyframeStyle];I(_,bt),ot.push(bt)}var wt=dt?b.staggerIndex>=0?b.staggerIndex:p.count(mt):0,Et=0===wt;Et&&!b.skipBlocking&&N.blockTransitions(_,9999);var Mt=M(_,0,mt,!lt),$t=Mt.maxDelay;J=Math.max($t,0),tt=Mt.maxDuration;var Ct={};if(Ct.hasTransitions=Mt.transitionDuration>0,Ct.hasAnimations=Mt.animationDuration>0,Ct.hasTransitionAll=Ct.hasTransitions&&"all"===Mt.transitionProperty,Ct.applyTransitionDuration=ht&&(Ct.hasTransitions&&!Ct.hasTransitionAll||Ct.hasAnimations&&!Ct.hasTransitions),Ct.applyAnimationDuration=b.duration&&Ct.hasAnimations,Ct.applyTransitionDelay=W(b.delay)&&(Ct.applyTransitionDuration||Ct.hasTransitions),Ct.applyAnimationDelay=W(b.delay)&&Ct.hasAnimations,Ct.recalculateTimingStyles=ut.length>0,(Ct.applyTransitionDuration||Ct.applyAnimationDuration)&&(tt=b.duration?parseFloat(b.duration):tt,Ct.applyTransitionDuration&&(Ct.hasTransitions=!0,Mt.transitionDuration=tt,ft=_.style[e+"Property"].length>0,ot.push(z(tt,ft))),Ct.applyAnimationDuration&&(Ct.hasAnimations=!0,Mt.animationDuration=tt,ot.push([m,tt+"s"]))),0===tt&&!Ct.recalculateTimingStyles)return Pt();var _t,xt=E(pt,"-active");null!=b.delay&&("boolean"!=typeof b.delay&&(_t=parseFloat(b.delay),J=Math.max(_t,0)),Ct.applyTransitionDelay&&ot.push(B(_t)),Ct.applyAnimationDelay&&ot.push(B(_t,!0)));return null==b.duration&&Mt.transitionDuration>0&&(Ct.recalculateTimingStyles=Ct.recalculateTimingStyles||Et),Q=J*j,et=tt*j,b.skipBlocking||(Ct.blockTransition=Mt.transitionDuration>0,Ct.blockKeyframeAnimation=Mt.animationDuration>0&&dt.animationDelay>0&&0===dt.animationDuration),b.from&&(b.cleanupStyles&&G(C,_,Object.keys(b.from)),T(d,b)),Ct.blockTransition||Ct.blockKeyframeAnimation?At(tt):b.skipBlocking||N.blockTransitions(_,!1),{$$willAnimate:!0,end:St,start:function(){if(!A)return H=new c(K={end:St,cancel:Tt,resume:null,pause:null}),w(It),H}};function St(){kt()}function Tt(){kt(!0)}function kt(t){if(!(A||L&&O)){A=!0,O=!1,pt&&!b.$$skipPreparationClasses&&r.removeClass(d,pt),xt&&r.removeClass(d,xt),D(_,!1),N.blockTransitions(_,!1),X(ot,function(t){_.style[t[0]]=""}),v(d,b),S(d,b),Object.keys(C).length&&X(C,function(t,e){t?_.style.setProperty(e,t):_.style.removeProperty(e)}),b.onDone&&b.onDone(),at&&at.length&&d.off(at.join(" "),Dt);var e=d.data(R);e&&(u.cancel(e[0].timer),d.removeData(R)),H&&H.complete(!t)}}function At(t){Ct.blockTransition&&N.blockTransitions(_,t),Ct.blockKeyframeAnimation&&D(_,!!t)}function Pt(){return H=new c({end:St,cancel:Tt}),w(rt),kt(),{$$willAnimate:!1,start:function(){return H},end:St}}function Dt(t){t.stopPropagation();var e=t.originalEvent||t;if(e.target===_){var n=e.$manualTimeStamp||Date.now(),o=parseFloat(e.elapsedTime.toFixed(F));Math.max(n-nt,0)>=Q&&o>=tt&&(L=!0,kt())}}function It(){if(!A)if(_.parentNode){var t=function(t){if(L)O&&t&&(O=!1,kt());else if(O=!t,Mt.animationDuration){var e=D(_,O);O?ot.push(e):(o=e,i=(n=ot).indexOf(o),o>=0&&n.splice(i,1))}var n,o,i},a=wt>0&&(Mt.transitionDuration&&0===dt.transitionDuration||Mt.animationDuration&&0===dt.animationDuration)&&Math.max(dt.animationDelay,dt.transitionDelay);a?u(s,Math.floor(a*wt*j),!1):s(),K.resume=function(){t(!0)},K.pause=function(){t(!1)}}else kt();function s(){if(!A){if(At(!1),X(ot,function(t){var e=t[0],n=t[1];_.style[e]=n}),v(d,b),r.addClass(d,xt),Ct.recalculateTimingStyles){if(_.getAttribute("class")+" "+pt,mt=p.cacheKey(_,st,b.addClass,b.removeClass),Mt=M(_,0,mt,!1),$t=Mt.maxDelay,J=Math.max($t,0),0===(tt=Mt.maxDuration))return void kt();Ct.hasTransitions=Mt.transitionDuration>0,Ct.hasAnimations=Mt.animationDuration>0}if(Ct.applyAnimationDelay&&($t="boolean"!=typeof b.delay&&W(b.delay)?parseFloat(b.delay):$t,J=Math.max($t,0),Mt.animationDelay=$t,_t=B($t,!0),ot.push(_t),_.style[_t[0]]=_t[1]),Q=J*j,et=tt*j,b.easing){var t,a=b.easing;Ct.hasTransitions&&(t=e+h,ot.push([t,a]),_.style[t]=a),Ct.hasAnimations&&(t=o+h,ot.push([t,a]),_.style[t]=a)}Mt.transitionDuration&&at.push(n),Mt.animationDuration&&at.push(i),nt=Date.now();var s=Q+U*et,c=nt+s,f=d.data(R)||[],m=!0;if(f.length){var g=f[0];(m=c>g.expectedEndTime)?u.cancel(g.timer):f.push(kt)}if(m){var y=u(l,s,!1);f[0]={timer:y,expectedEndTime:c},f.push(kt),d.data(R,f)}at.length&&d.on(at.join(" "),Dt),b.to&&(b.cleanupStyles&&G(C,_,Object.keys(b.to)),k(d,b))}}function l(){var t=d.data(R);if(t){for(var e=1;e<t.length;e++)t[e]();d.removeData(R)}}}}}]}],st=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",o="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,r,a,s,l,c,u){if(!l.animations&&!l.transitions)return rt;var p,h=u[0].body,d=P(s),f=it((p=d).parentNode&&11===p.parentNode.nodeType||h.contains(d)?d:h);return function(r){return r.from&&r.to?function(r,s,l,c){var u=y(r),p=y(s),d=[];if(X(c,function(r){var s=function(r,s,l){var c=it(P(s).cloneNode(!0)),u=m(w(c));s.addClass(e),l.addClass(e),c.addClass(n),f.append(c);var p,d,y=(d=t(c,{addClass:o,delay:!0,from:b(s)})).$$willAnimate?d:null;if(!y&&!(p=E()))return M();var v=y||p;return{start:function(){var t,e=v.start();return e.done(function(){if(e=null,!p&&(p=E()))return(e=p.start()).done(function(){e=null,M(),t.complete()}),e;M(),t.complete()}),t=new a({end:n,cancel:n});function n(){e&&e.end()}}};function b(t){var e={},n=P(t).getBoundingClientRect();return X(["width","height","top","left"],function(t){var o=n[t];switch(t){case"top":o+=h.scrollTop;break;case"left":o+=h.scrollLeft}e[t]=Math.floor(o)+"px"}),e}function w(t){return t.attr("class")||""}function E(){var e=m(w(l)),n=g(e,u),r=g(u,e),a=t(c,{to:b(l),addClass:i+" "+n,removeClass:o+" "+r,delay:!0});return a.$$willAnimate?a:null}function M(){c.remove(),s.removeClass(e),l.removeClass(e)}}(0,r.out,r.in);s&&d.push(s)}),!u&&!p&&0===d.length)return;return{start:function(){var t=[];u&&t.push(u.start()),p&&t.push(p.start()),X(d,function(e){t.push(e.start())});var e=new a({end:n,cancel:n});return a.all(t,function(t){e.complete(t)}),e;function n(){X(t,function(t){t.end()})}}}}(r.from,r.to,r.classes,r.anchors):y(r)};function m(t){return t.replace(/\bng-\S+\b/g,"")}function g(t,e){return nt(t)&&(t=t.split(" ")),nt(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function y(e){var n=e.element,o=e.options||{};e.structural&&(o.event=e.event,o.structural=!0,o.applyClassesEarly=!0,"leave"===e.event&&(o.onDone=o.domOperation)),o.preparationClasses&&(o.event=O(o.event,o.preparationClasses));var i=t(n,o);return i.$$willAnimate?i:null}}]}],lt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,o){var i=_(o);return function(o,r,a,s){var l=!1;3===arguments.length&&et(a)&&(s=a,a=null),s=x(s),a||(a=o.attr("class")||"",s.addClass&&(a+=" "+s.addClass),s.removeClass&&(a+=" "+s.removeClass));var c,u,p,h,d,f=s.addClass,m=s.removeClass,g=function(n){n=Z(n)?n:n.split(" ");for(var o=[],i={},r=0;r<n.length;r++){var a=n[r],s=t.$$registeredAnimations[a];s&&!i[a]&&(o.push(e.get(s)),i[a]=!0)}return o}(a);g.length&&("leave"===r?(h="leave",p="afterLeave"):(h="before"+r.charAt(0).toUpperCase()+r.substr(1),p=r),"enter"!==r&&"move"!==r&&(c=w(o,r,s,g,h)),u=w(o,r,s,g,p));if(c||u)return{$$willAnimate:!0,end:function(){return d?d.end():(v(),(d=new n).complete(!0)),d},start:function(){if(d)return d;var t;d=new n;var e=[];return c&&e.push(function(e){t=c(e)}),e.length?e.push(function(t){y(),t(!0)}):y(),u&&e.push(function(e){t=u(e)}),d.setHost({end:function(){i()},cancel:function(){i(!0)}}),n.chain(e,o),d;function o(t){v(),d.complete(t)}function i(e){l||((t||rt)(e),o(e))}}};function y(){s.domOperation(),i(o,s)}function v(){l=!0,y(),S(o,s)}function b(t,e,o,i,r){var a=[];return X(i,function(i){var s=i[r];s&&a.push(function(){var i,r,a=!1,l=function(t){a||(a=!0,(r||rt)(t),i.complete(!t))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),r=function(t,e,o,i,r){var a;switch(o){case"animate":a=[e,i.from,i.to,r];break;case"setClass":a=[e,f,m,r];break;case"addClass":a=[e,f,r];break;case"removeClass":a=[e,m,r];break;default:a=[e,r]}a.push(i);var s=t.apply(t,a);if(s)if(tt(s.start)&&(s=s.start()),s instanceof n)s.done(r);else if(tt(s))return s;return rt}(s,t,e,o,function(t){l(!1===t)}),i})}),a}function w(t,e,o,i,r){var a,s,l=b(t,e,o,i,r);0===l.length&&("beforeSetClass"===r?(a=b(t,"removeClass",o,i,"beforeRemoveClass"),s=b(t,"addClass",o,i,"beforeAddClass")):"setClass"===r&&(a=b(t,"removeClass",o,i,"removeClass"),s=b(t,"addClass",o,i,"addClass")),a&&(l=l.concat(a)),s&&(l=l.concat(s)));if(0!==l.length)return function(t){var e=[];return l.length&&X(l,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){X(e,function(e){t?e.cancel():e.end()})}}}}}]}],ct=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){return function(t){if(t.from&&t.to){var o=n(t.from),i=n(t.to);if(!o&&!i)return;return{start:function(){var t=[];o&&t.push(o.start()),i&&t.push(i.start()),e.all(t,function(t){n.complete(t)});var n=new e({end:r(),cancel:r()});return n;function r(){return function(){X(t,function(t){t.end()})}}}}}return n(t)};function n(e){var n=e.element,o=e.event,i=e.options,r=e.classes;return t(n,o,r,i)}}]}],ut="data-ng-animate",pt="$ngAnimatePin",ht=["$animateProvider",function(e){var n=1,o=2,i=" ",c=this.rules={skip:[],cancel:[],join:[]};function p(t){return{addClass:t.addClass,removeClass:t.removeClass,from:t.from,to:t.to}}function h(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(i),n=Object.create(null);return X(e,function(t){n[t]=!0}),n}(e);return t.split(i).some(function(t){return n[t]})}}function d(t,e,n){return c[t].some(function(t){return t(e,n)})}function f(t,e){var n=(t.addClass||"").length>0,o=(t.removeClass||"").length>0;return e?n&&o:n||o}c.join.push(function(t,e){return!t.structural&&f(t)}),c.skip.push(function(t,e){return!t.structural&&!f(t)}),c.skip.push(function(t,e){return"leave"===e.event&&t.structural}),c.skip.push(function(t,e){return e.structural&&e.state===o&&!t.structural}),c.cancel.push(function(t,e){return e.structural&&t.structural}),c.cancel.push(function(t,e){return e.state===o&&t.structural}),c.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,o=t.removeClass,i=e.addClass,r=e.removeClass;return!(ot(n)&&ot(o)||ot(i)&&ot(r))&&(h(n,r)||h(o,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,c,h,m,g,y,v,w,T,k,D){var I=new g,N=new g,L=null;function R(t){N.delete(t.target)}var j=c.$watch(function(){return 0===w.totalPendingRequests},function(t){t&&(j(),c.$$postDigest(function(){c.$$postDigest(function(){null===L&&(L=!0)})}))}),F=Object.create(null),U=e.customFilter(),H=e.classNameFilter(),V=function(){return!0},B=U||V,q=H?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return H.test(n)}:V,W=_(T);function z(t,e){return A(t,e,{})}var G=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function tt(t,e,n){var o=C(e);return t.filter(function(t){return!(t.node===o&&(!n||t.callback===n))})}function rt(t,e){"close"!==t||e.parentNode||at.off(e)}var at={on:function(t,e,n){var o=C(e);F[t]=F[t]||[],F[t].push({node:o,callback:n}),it(e).on("$destroy",function(){I.get(o)||at.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||nt(arguments[0])){var o=F[t];o&&(F[t]=1===arguments.length?null:tt(o,e,n))}else for(var i in e=arguments[0],F)F[i]=tt(F[i],e)},pin:function(t,e){b(Q(t),"element","not an element"),b(Q(e),"parentElement","not an element"),t.data(pt,e)},push:function(t,e,g,b){return(g=g||{}).domOperation=b,function(t,e,g){var b=Y(g),w=M(t),C=P(w),_=C&&C.parentNode;b=x(b);var T=new v,k=(R=!1,function(t){R?t():c.$$postDigest(function(){R=!0,t()})});var R;Z(b.addClass)&&(b.addClass=b.addClass.join(" "));b.addClass&&!nt(b.addClass)&&(b.addClass=null);Z(b.removeClass)&&(b.removeClass=b.removeClass.join(" "));b.removeClass&&!nt(b.removeClass)&&(b.removeClass=null);b.from&&!et(b.from)&&(b.from=null);b.to&&!et(b.to)&&(b.to=null);if(!(L&&C&&B(C,e,g)&&q(C,b)))return mt(),T;var j=["enter","move","leave"].indexOf(e)>=0,U=D(),H=U||N.get(C),V=!H&&I.get(C)||{},K=!!V.state;H||K&&V.state===n||(H=!function(t,e,n){var o,i=m[0].body,a=P(h),s=t===i||"HTML"===t.nodeName,l=t===a,c=!1,p=N.get(t),d=it.data(t,pt);d&&(e=P(d));for(;e&&(l||(l=e===a),e.nodeType===r);){var f=I.get(e)||{};if(!c){var g=N.get(e);if(!0===g&&!1!==p){p=!0;break}!1===g&&(p=!1),c=f.structural}if(ot(o)||!0===o){var y=it.data(e,u);J(y)&&(o=y)}if(c&&!1===o)break;if(s||(s=e===i),s&&l)break;e=l||!(d=it.data(e,pt))?e.parentNode:P(d)}return(!c||o)&&!0!==p&&l&&s}(C,_));if(H)return U&&ft(T,e,"start",p(b)),mt(),U&&ft(T,e,"close",p(b)),T;j&&function(t){var e=t.querySelectorAll("["+ut+"]");X(e,function(t){var e=parseInt(t.getAttribute(ut),10),i=I.get(t);if(i)switch(e){case o:i.runner.end();case n:I.delete(t)}})}(C);var Q={structural:j,element:w,event:e,addClass:b.addClass,removeClass:b.removeClass,close:mt,options:b,runner:T};if(K){var tt=d("skip",Q,V);if(tt)return V.state===o?(mt(),T):(A(w,V,Q),V.runner);var at=d("cancel",Q,V);if(at)if(V.state===o)V.runner.end();else{if(!V.structural)return A(w,V,Q),V.runner;V.close()}else{var ct=d("join",Q,V);if(ct){if(V.state!==o)return function(t,e,n,o){var i="";n&&(i=E(n,l,!0)),o.addClass&&(i=O(i,E(o.addClass,a))),o.removeClass&&(i=O(i,E(o.removeClass,s))),i.length&&(o.preparationClasses=i,e.addClass(i))}(0,w,j?e:null,b),e=Q.event=V.event,b=A(w,V,Q),V.runner;z(w,Q)}}}else z(w,Q);var ht=Q.structural;ht||(ht="animate"===Q.event&&Object.keys(Q.options.to||{}).length>0||f(Q));if(!ht)return mt(),st(C),T;var dt=(V.counter||0)+1;return Q.counter=dt,lt(C,n,Q),c.$$postDigest(function(){w=M(t);var n=I.get(C),i=!n;n=n||{};var r=(w.parent()||[]).length>0&&("animate"===n.event||n.structural||f(n));if(i||n.counter!==dt||!r)return i&&(W(w,b),S(w,b)),(i||j&&n.event!==e)&&(b.domOperation(),T.end()),void(r||st(C));e=!n.structural&&f(n,!0)?"setClass":n.event,lt(C,o);var a=y(w,e,n.options);T.setHost(a),ft(T,e,"start",p(b)),a.done(function(t){mt(!t);var n=I.get(C);n&&n.counter===dt&&st(C),ft(T,e,"close",p(b))})}),T;function ft(t,e,n,o){k(function(){var t=function(t,e,n){var o=[],i=F[n];return i&&X(i,function(i){G.call(i.node,e)?o.push(i.callback):"leave"===n&&G.call(i.node,t)&&o.push(i.callback)}),o}(_,C,e);t.length?i(function(){X(t,function(t){t(w,n,o)}),rt(n,C)}):rt(n,C)}),t.progress(e,n,o)}function mt(t){!function(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}(w,b),W(w,b),S(w,b),b.domOperation(),T.complete(!t)}}(t,e,g)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!L;else if(Q(t)){var o=P(t);1===n?e=!N.get(o):(N.has(o)||it(t).on("$destroy",R),N.set(o,!e))}else e=L=!!t;return e}};return at;function st(t){t.removeAttribute(ut),I.delete(t)}function lt(t,e,n){(n=n||{}).state=e,t.setAttribute(ut,e);var o=I.get(t),i=o?K(o,n):n;I.set(t,i)}}]}],dt=["$animateProvider",function(t){var e="ng-animate-ref",n=this.drivers=[],o="$$animationRunner",i="$$animatePrepareClasses";function r(t){return t.data(o)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(t,a,s,l,u,p,h){var d=[],f=_(t);return function(m,g,y){y=x(y);var v=["enter","move","leave"].indexOf(g)>=0,b=new l({end:function(){_()},cancel:function(){_(!0)}});if(!n.length)return _(),b;var E=w(m.attr("class"),w(y.addClass,y.removeClass)),M=y.tempClasses;return M&&(E+=" "+M,y.tempClasses=null),v&&m.data(i,"ng-"+g+"-prepare"),function(t,e){t.data(o,e)}(m,b),d.push({element:m,classes:E,event:g,structural:v,options:y,beforeStart:function(){M=(M?M+" ":"")+c,t.addClass(m,M);var e=m.data(i);e&&(t.removeClass(m,e),e=null)},close:_}),m.on("$destroy",C),d.length>1?b:(a.$$postDigest(function(){var o=[];X(d,function(t){r(t.element)?o.push(t):t.close()}),d.length=0;var a=function(t){var n=[],o={};X(t,function(t,i){var r=t.element,a=P(r),s=t.event,l=["enter","move"].indexOf(s)>=0,c=t.structural?function(t){var n="["+e+"]",o=t.hasAttribute(e)?[t]:t.querySelectorAll(n),i=[];return X(o,function(t){var n=t.getAttribute(e);n&&n.length&&i.push(t)}),i}(a):[];if(c.length){var u=l?"to":"from";X(c,function(t){var n=t.getAttribute(e);o[n]=o[n]||{},o[n][u]={animationID:i,element:it(t)}})}else n.push(t)});var i={},r={};return X(o,function(e,o){var a=e.from,s=e.to;if(a&&s){var l=t[a.animationID],c=t[s.animationID],u=a.animationID.toString();if(!r[u]){var p=r[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],o=0;o<t.length;o++){var i=t[o];if("ng-"!==i.substring(0,3))for(var r=0;r<e.length;r++)if(i===e[r]){n.push(i);break}}return n.join(" ")}(l.classes,c.classes),from:l,to:c,anchors:[]};p.classes.length?n.push(p):(n.push(l),n.push(c))}r[u].anchors.push({out:a.element,in:s.element})}else{var h=a?a.animationID:s.animationID,d=h.toString();i[d]||(i[d]=!0,n.push(t[h]))}}),n}(o),l=[];X(a,function(t){var e=t.from?t.from.element:t.element,o=y.addClass;o=(o?o+" ":"")+c;var i=h.cacheKey(e[0],t.event,o,y.removeClass);l.push({element:e,domNode:P(e),fn:function(){var e,o=t.close;if(h.containsCachedAnimationWithoutDuration(i))o();else{if(t.beforeStart(),r(t.anchors?t.from.element||t.to.element:t.element)){var a=function(t){for(var e=n.length-1;e>=0;e--){var o=n[e],i=s.get(o),r=i(t);if(r)return r}}(t);a&&(e=a.start)}if(e){var l=e();l.done(function(t){o(!t)}),function(t,e){t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element);function n(t){var n=r(t);n&&n.setHost(e)}}(t,l)}else o()}}})});for(var f=function(t){var e,n={children:[]},o=new u;for(e=0;e<t.length;e++){var i=t[e];o.set(i.domNode,t[e]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(e=0;e<t.length;e++)r(t[e]);return function(t){var e,n=[],o=[];for(e=0;e<t.children.length;e++)o.push(t.children[e]);var i=o.length,r=0,a=[];for(e=0;e<o.length;e++){var s=o[e];i<=0&&(i=r,r=0,n.push(a),a=[]),a.push(s),s.children.forEach(function(t){r++,o.push(t)}),i--}return a.length&&n.push(a),n}(n);function r(t){if(t.processed)return t;t.processed=!0;var e,i=t.domNode,a=i.parentNode;for(o.set(i,t);a;){if(e=o.get(a)){e.processed||(e=r(e));break}a=a.parentNode}return(e||n).children.push(t),t}}(l),m=0;m<f.length;m++)for(var g=f[m],v=0;v<g.length;v++){var b=g[v],w=b.element;if(f[m][v]=b.fn,0!==m){var E=w.data(i);E&&t.addClass(w,E)}else w.removeData(i)}p(f)}),b);function C(){var t=r(m);!t||"leave"===g&&y.$$domOperationFired||t.end()}function _(e){m.off("$destroy",C),function(t){t.removeData(o)}(m),f(m,y),S(m,y),y.domOperation(),M&&t.removeClass(m,M),b.complete(!e)}}}]}];angular.module("ngAnimate",[],function(){rt=angular.noop,Y=angular.copy,K=angular.extend,it=angular.element,X=angular.forEach,Z=angular.isArray,nt=angular.isString,et=angular.isObject,ot=angular.isUndefined,J=angular.isDefined,tt=angular.isFunction,Q=angular.isElement}).info({angularVersion:"1.7.8"}).directive("ngAnimateSwap",["$animate",function(t){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(e,n,o,i,r){var a,s;e.$watchCollection(o.ngAnimateSwap||o.for,function(e){a&&t.leave(a),s&&(s.$destroy(),s=null),(e||0===e)&&r(function(e,o){a=e,s=o,t.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",L).factory("$$rAFScheduler",["$$rAF",function(t){var e,n;function o(t){e=e.concat(t),i()}return e=o.queue=[],o.waitUntilQuiet=function(e){n&&n(),n=t(function(){n=null,e(),i()})},o;function i(){if(e.length){for(var o=e.shift(),r=0;r<o.length;r++)o[r]();n||t(function(){n||i()})}}}]).provider("$$animateQueue",ht).provider("$$animateCache",function(){var t="$$ngAnimateParentKey",e=0,n=Object.create(null);this.$get=[function(){return{cacheKey:function(n,o,i,r){var a=n.parentNode,s=[a[t]||(a[t]=++e),o,n.getAttribute("class")];return i&&s.push(i),r&&s.push(r),s.join(" ")},containsCachedAnimationWithoutDuration:function(t){var e=n[t];return e&&!e.isValid||!1},flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e,o){n[t]?(n[t].total++,n[t].value=e):n[t]={total:1,value:e,isValid:o}}}}]}).provider("$$animation",dt).provider("$animateCss",at).provider("$$animateCssDriver",st).provider("$$animateJs",lt).provider("$$animateJsDriver",ct)}(window,window.angular)},{}],44:[function(t,e,n){t("./angular-animate"),e.exports="ngAnimate"},{"./angular-animate":43}],45:[function(t,e,n){!function(t,angular){"use strict";var e="ngAriaDisable",n=angular.module("ngAria",["ng"]).info({angularVersion:"1.7.8"}).provider("$aria",function(){var t={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};function n(n,o,r,a){return function(s,l,c){if(!c.hasOwnProperty(e)){var u=c.$normalize(o);!t[u]||i(l,r)||c[u]||s.$watch(c[n],function(t){t=a?!t:!!t,l.attr(o,t)})}}}this.config=function(e){t=angular.extend(t,e)},this.$get=function(){return{config:function(e){return t[e]},$$watchExpr:n}}}),o=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],i=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};n.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",o,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",o,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",o,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",o,!1)}]).directive("ngModel",["$aria",function(t){function n(e,n,r,a){return t.config(n)&&!r.attr(e)&&(a||!i(r,o))&&("hidden"!==r.attr("type")||"INPUT"!==r[0].nodeName)}function r(t,e){return!e.attr("role")&&e.attr("type")===t&&!i(e,o)}return{restrict:"A",require:"ngModel",priority:200,compile:function(o,i){if(!i.hasOwnProperty(e)){var a=function(t,e){var n=t.type,o=t.role;return"checkbox"===(n||o)||"menuitemcheckbox"===o?"checkbox":"radio"===(n||o)||"menuitemradio"===o?"radio":"range"===n||"progressbar"===o||"slider"===o?"range":""}(i);return{post:function(e,o,i,s){var l=n("tabindex","tabindex",o,!1);function c(){return s.$modelValue}switch(a){case"radio":case"checkbox":r(a,o)&&o.attr("role",a),n("aria-checked","ariaChecked",o,!1)&&e.$watch(c,"radio"===a?function(t){var e=i.value==s.$viewValue;o.attr("aria-checked",e)}:function(){o.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),l&&o.attr("tabindex",0);break;case"range":if(r(a,o)&&o.attr("role","slider"),t.config("ariaValue")){var u=!o.attr("aria-valuemin")&&(i.hasOwnProperty("min")||i.hasOwnProperty("ngMin")),p=!o.attr("aria-valuemax")&&(i.hasOwnProperty("max")||i.hasOwnProperty("ngMax")),h=!o.attr("aria-valuenow");u&&i.$observe("min",function(t){o.attr("aria-valuemin",t)}),p&&i.$observe("max",function(t){o.attr("aria-valuemax",t)}),h&&e.$watch(c,function(t){o.attr("aria-valuenow",t)})}l&&o.attr("tabindex",0)}!i.hasOwnProperty("ngRequired")&&s.$validators.required&&n("aria-required","ariaRequired",o,!1)&&i.$observe("required",function(){o.attr("aria-required",!!i.required)}),n("aria-invalid","ariaInvalid",o,!0)&&e.$watch(function(){return s.$invalid},function(t){o.attr("aria-invalid",!!t)})}}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",o,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,n,o,i){o.hasOwnProperty(e)||n.attr("aria-live")||n.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,n){return{restrict:"A",compile:function(r,a){if(!a.hasOwnProperty(e)){var s=n(a.ngClick);return function(e,n,r){i(n,o)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!t.config("bindKeydown")||r.ngKeydown||r.ngKeypress||r.ngKeyup||n.on("keydown",function(t){var n=t.which||t.keyCode;13!==n&&32!==n||(-1!==o.indexOf(t.target.nodeName)||t.target.isContentEditable||t.preventDefault(),e.$apply(function(){s(e,{$event:t})}))}))}}}}}]).directive("ngDblclick",["$aria",function(t){return function(n,r,a){a.hasOwnProperty(e)||!t.config("tabindex")||r.attr("tabindex")||i(r,o)||r.attr("tabindex",0)}}])}(window,window.angular)},{}],46:[function(t,e,n){t("./angular-aria"),e.exports="ngAria"},{"./angular-aria":45}],47:[function(t,e,n){!function(t,angular){"use strict";function e(t,e,n){var o=n.baseHref(),i=t[0];return function(t,n,r){i.cookie=function(t,n,i){var r,a;a=(i=i||{}).expires,r=angular.isDefined(i.path)?i.path:o,angular.isUndefined(n)&&(a="Thu, 01 Jan 1970 00:00:00 GMT",n=""),angular.isString(a)&&(a=new Date(a));var s=encodeURIComponent(t)+"="+encodeURIComponent(n);s+=r?";path="+r:"",s+=i.domain?";domain="+i.domain:"",s+=a?";expires="+a.toUTCString():"",s+=i.secure?";secure":"";var l=(s+=i.samesite?";samesite="+i.samesite:"").length+1;return l>4096&&e.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),s}(t,n,r)}}angular.module("ngCookies",["ng"]).info({angularVersion:"1.7.8"}).provider("$cookies",[function(){var t=this.defaults={};function e(e){return e?angular.extend({},t,e):t}this.$get=["$$cookieReader","$$cookieWriter",function(t,n){return{get:function(e){return t()[e]},getObject:function(t){var e=this.get(t);return e?angular.fromJson(e):e},getAll:function(){return t()},put:function(t,o,i){n(t,o,e(i))},putObject:function(t,e,n){this.put(t,angular.toJson(e),n)},remove:function(t,o){n(t,void 0,e(o))}}}]}]),e.$inject=["$document","$log","$browser"],angular.module("ngCookies").provider("$$cookieWriter",function(){this.$get=e})}(window,window.angular)},{}],48:[function(t,e,n){t("./angular-cookies"),e.exports="ngCookies"},{"./angular-cookies":47}],49:[function(t,e,n){!function(t){var e="application/x-dnd",n="application/json",o="Text",i=["move","copy","link"];function r(t,e){return"all"==e?t:t.filter(function(t){return-1!=e.toLowerCase().indexOf(t)})}t.directive("dndDraggable",["$parse","$timeout",function(t,s){return function(l,c,u){c.attr("draggable","true"),u.dndDisableIf&&l.$watch(u.dndDisableIf,function(t){c.attr("draggable",!t)}),c.on("dragstart",function(p){if(p=p.originalEvent||p,"false"==c.attr("draggable"))return!0;a.isDragging=!0,a.itemType=u.dndType&&l.$eval(u.dndType).toLowerCase(),a.dropEffect="none",a.effectAllowed=u.dndEffectAllowed||i[0],p.dataTransfer.effectAllowed=a.effectAllowed;var h=l.$eval(u.dndDraggable),d=e+(a.itemType?"-"+a.itemType:"");try{p.dataTransfer.setData(d,angular.toJson(h))}catch(t){var f=angular.toJson({item:h,type:a.itemType});try{p.dataTransfer.setData(n,f)}catch(t){var m=r(i,a.effectAllowed);p.dataTransfer.effectAllowed=m[0],p.dataTransfer.setData(o,f)}}if(c.addClass("dndDragging"),s(function(){c.addClass("dndDraggingSource")},0),p._dndHandle&&p.dataTransfer.setDragImage&&p.dataTransfer.setDragImage(c[0],0,0),t(u.dndDragstart)(l,{event:p}),u.dndCallback){var g=t(u.dndCallback);a.callback=function(t){return g(l,t||{})}}p.stopPropagation()}),c.on("dragend",function(e){e=e.originalEvent||e,l.$apply(function(){var n=a.dropEffect;t(u[{copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"}[n]])(l,{event:e}),t(u.dndDragend)(l,{event:e,dropEffect:n})}),a.isDragging=!1,a.callback=void 0,c.removeClass("dndDragging"),c.removeClass("dndDraggingSource"),e.stopPropagation(),s(function(){c.removeClass("dndDraggingSource")},0)}),c.on("click",function(e){u.dndSelected&&(e=e.originalEvent||e,l.$apply(function(){t(u.dndSelected)(l,{event:e})}),e.stopPropagation())}),c.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),t.directive("dndList",["$parse",function(t){return function(s,l,c){var u=function(){var t;return angular.forEach(l.children(),function(e){var n=angular.element(e);n.hasClass("dndPlaceholder")&&(t=n)}),t||angular.element("<li class='dndPlaceholder'></li>")}();u.remove();var p=u[0],h=l[0],d={};function f(t){if(!t)return o;for(var i=0;i<t.length;i++)if(t[i]==o||t[i]==n||t[i].substr(0,e.length)==e)return t[i];return null}function m(t){return a.isDragging?a.itemType||void 0:t==o||t==n?null:t&&t.substr(e.length+1)||void 0}function g(t){return!d.disabled&&(!(!d.externalSources&&!a.isDragging)&&(!d.allowedTypes||null===t||t&&-1!=d.allowedTypes.indexOf(t)))}function y(t,e){var n=i;return e||(n=r(n,t.dataTransfer.effectAllowed)),a.isDragging&&(n=r(n,a.effectAllowed)),c.dndEffectAllowed&&(n=r(n,c.dndEffectAllowed)),n.length?t.ctrlKey&&-1!=n.indexOf("copy")?"copy":t.altKey&&-1!=n.indexOf("link")?"link":n[0]:"none"}function v(){return u.remove(),l.removeClass("dndDragover"),!0}function b(e,n,o,i,r,l){return t(e)(s,{callback:a.callback,dropEffect:o,event:n,external:!a.isDragging,index:void 0!==r?r:w(),item:l||void 0,type:i})}function w(){return Array.prototype.indexOf.call(h.children,p)}l.on("dragenter",function(t){t=t.originalEvent||t;var e=c.dndAllowedTypes&&s.$eval(c.dndAllowedTypes);d={allowedTypes:angular.isArray(e)&&e.join("|").toLowerCase().split("|"),disabled:c.dndDisableIf&&s.$eval(c.dndDisableIf),externalSources:c.dndExternalSources&&s.$eval(c.dndExternalSources),horizontal:c.dndHorizontalList&&s.$eval(c.dndHorizontalList)};var n=f(t.dataTransfer.types);if(!n||!g(m(n)))return!0;t.preventDefault()}),l.on("dragover",function(t){var e=f((t=t.originalEvent||t).dataTransfer.types),n=m(e);if(!e||!g(n))return!0;if(p.parentNode!=h&&l.append(u),t.target!=h){for(var i=t.target;i.parentNode!=h&&i.parentNode;)i=i.parentNode;if(i.parentNode==h&&i!=p){var r=i.getBoundingClientRect();if(d.horizontal)var a=t.clientX<r.left+r.width/2;else a=t.clientY<r.top+r.height/2;h.insertBefore(p,a?i:i.nextSibling)}}var s=e==o,w=y(t,s);return"none"==w?v():c.dndDragover&&!b(c.dndDragover,t,w,n)?v():(t.preventDefault(),s||(t.dataTransfer.dropEffect=w),l.addClass("dndDragover"),t.stopPropagation(),!1)}),l.on("drop",function(t){var e=f((t=t.originalEvent||t).dataTransfer.types),i=m(e);if(!e||!g(i))return!0;t.preventDefault();try{var r=JSON.parse(t.dataTransfer.getData(e))}catch(t){return v()}if((e==o||e==n)&&(i=r.type||void 0,r=r.item,!g(i)))return v();var l=e==o,u=y(t,l);if("none"==u)return v();var p=w();return c.dndDrop&&!(r=b(c.dndDrop,t,u,i,p,r))?v():(a.dropEffect=u,l||(t.dataTransfer.dropEffect=u),!0!==r&&s.$apply(function(){s.$eval(c.dndList).splice(p,0,r)}),b(c.dndInserted,t,u,i,p,r),v(),t.stopPropagation(),!1)}),l.on("dragleave",function(t){t=t.originalEvent||t;var e=document.elementFromPoint(t.clientX,t.clientY);h.contains(e)&&!t._dndPhShown?t._dndPhShown=!0:v()})}}]),t.directive("dndNodrag",function(){return function(t,e,n){e.attr("draggable","true"),e.on("dragstart",function(t){(t=t.originalEvent||t)._dndHandle||(t.dataTransfer.types&&t.dataTransfer.types.length||t.preventDefault(),t.stopPropagation())}),e.on("dragend",function(t){(t=t.originalEvent||t)._dndHandle||t.stopPropagation()})}}),t.directive("dndHandle",function(){return function(t,e,n){e.attr("draggable","true"),e.on("dragstart dragend",function(t){(t=t.originalEvent||t)._dndHandle=!0})}});var a={}}(angular.module("dndLists",[]))},{}],50:[function(t,e,n){angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(t){return t}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(t,e,n,o,i,r){var a,s='<span id="test" title="test" class="tested">test</span>',l=angular.element("<span>"+s+"</span>").html()!==s,c=function(t){return a.debug&&a.currentLanguage!==a.baseLanguage?a.debugPrefix+t:t},u=function(t){return a.showTranslatedMarkers?a.translatedMarkerPrefix+t+a.translatedMarkerSuffix:t};function p(){r.$broadcast("gettextLanguageChanged")}return a={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:o("strings"),setCurrentLanguage:function(t){this.currentLanguage=t,p()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(e,n){this.strings[e]||(this.strings[e]={});var o=t(e,1);for(var i in n){var r=n[i];if(l&&(i=angular.element("<span>"+i+"</span>").html()),angular.isString(r)||angular.isArray(r)){var a={};a.$$noContext=r,r=a}for(var s in this.strings[e][i]||(this.strings[e][i]={}),r){var c=r[s];angular.isArray(c)?this.strings[e][i][s]=c:(this.strings[e][i][s]=[],this.strings[e][i][s][o]=c)}}p()},getStringFormFor:function(e,n,o,i){return e?(((this.strings[e]||{})[n]||{})[i||"$$noContext"]||[])[t(e,o)]:null},getString:function(t,n,o){var r=e(this.currentLanguage);return t=this.getStringFormFor(this.currentLanguage,t,1,o)||this.getStringFormFor(r,t,1,o)||c(t),t=n?i(t)(n):t,u(t)},getPlural:function(t,n,o,r,a){var s=e(this.currentLanguage);return n=this.getStringFormFor(this.currentLanguage,n,t,a)||this.getStringFormFor(s,n,t,a)||c(1===t?n:o),r&&(r.$count=t,n=i(n)(r)),u(n)},loadRemote:function(t){return n({method:"GET",url:t,cache:a.cache}).then(function(t){var e=t.data;for(var n in e)a.setStrings(n,e[n]);return t})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(t,e,n,o,i,r){var a=parseInt((/msie (\d+)/i.exec(i.navigator.userAgent)||[])[1],10),s="translateParams";function l(t,e,n){var o=Object.keys(e).filter(function(t){return r.startsWith(t,s)&&t!==s});if(!o.length)return null;var i=t.$new(),a=[];return o.forEach(function(o){var l=t.$watch(e[o],function(t){var e=function(t){return r.lcFirst(t.replace(s,""))}(o);i[e]=t,n(i)});a.push(l)}),t.$on("$destroy",function(){a.forEach(function(t){t()}),i.$destroy()}),i}return{restrict:"AE",terminal:!0,compile:function(i,s){r.assert(!s.translatePlural||s.translateN,"translate-n","translate-plural"),r.assert(!s.translateN||s.translatePlural,"translate-plural","translate-n");var c=r.trim(i.html()),u=s.translatePlural,p=s.translateContext;return a<=8&&"\x3c!--IE fix--\x3e"===c.slice(-13)&&(c=c.slice(0,-13)),{post:function(i,a,s){var h=e(s.translateN),d=null,f=!0;function m(e){var s;e=e||null,u?((i=d||(d=i.$new())).$count=h(i),s=t.getPlural(i.$count,c,u,null,p)):s=t.getString(c,null,p);var l=a.contents();if(l||s)if(s!==r.trim(l.html())){var m=angular.element("<span>"+s+"</span>");o(m.contents())(e||i);var g=m.contents();n.enter(g,a),n.leave(l)}else f&&o(l)(i)}var g=l(i,s,m);m(g),f=!1,s.translateN&&i.$watch(s.translateN,function(){m(g)}),i.$on("gettextLanguageChanged",function(){m(g)})}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",function(){var t={},e=/([^_]+)_[^_]+$/;return function(n){if(t[n])return t[n];var o=e.exec(n);return o?(t[n]=o[1],o[1]):null}}),angular.module("gettext").filter("translate",["gettextCatalog",function(t){function e(e,n){return t.getString(e,null,n)}return e.$stateful=!0,e}]),angular.module("gettext").factory("gettextPlurals",function(){var t={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(e,n){switch(function(e){t[e]||(t[e]=e.split(/\-|_/).shift());return t[e]}(e)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return n%10!=1||n%100==11?1:0;case"jv":return 0!=n?1:0;case"mk":return 1==n||n%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return n>1?1:0;case"lv":return n%10==1&&n%100!=11?0:0!=n?1:2;case"lt":return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"mnk":return 0==n?0:1==n?1:2;case"ro":return 1==n?0:0==n||n%100>0&&n%100<20?1:2;case"pl":return 1==n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;case"cs":case"sk":return 1==n?0:n>=2&&n<=4?1:2;case"sl":return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0;case"mt":return 1==n?0:0==n||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3;case"gd":return 1==n||11==n?0:2==n||12==n?1:n>2&&n<20?2:3;case"cy":return 1==n?0:2==n?1:8!=n&&11!=n?2:3;case"kw":return 1==n?0:2==n?1:3==n?2:3;case"ga":return 1==n?0:2==n?1:n<7?2:n<11?3:4;case"ar":return 0==n?0:1==n?1:2==n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5;default:return 1!=n?1:0}}}),angular.module("gettext").factory("gettextUtil",function(){return{trim:String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t},assert:function(t,e,n){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+n+" attribute.")},startsWith:function(t,e){return 0===t.indexOf(e)},lcFirst:function(t){return t.charAt(0).toLowerCase()+t.substr(1)}}})},{}],51:[function(t,e,n){t("./dist/angular-gettext.js"),e.exports="gettext"},{"./dist/angular-gettext.js":50}],52:[function(t,e,n){!function(t,angular,e){"use strict";angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.animate","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"]),function(){function t(t,e){if(e.has("$swipe")){t.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}}function e(t,e){t.decorator("$$rAF",["$delegate",n]),t.decorator("$q",["$delegate",o]),e.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function n(t){return t.throttle=function(e){var n,o,i,r;return function(){n=arguments,r=this,i=e,o||(o=!0,t(function(){i.apply(r,Array.prototype.slice.call(n)),o=!1}))}},t}function o(t){return t.resolve||(t.resolve=t.when),t}t.$inject=["$log","$injector"],e.$inject=["$provide","$mdThemingProvider"],n.$inject=["$delegate"],o.$inject=["$delegate"],angular.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(e).run(t)}(),function(){function t(t){return{restrict:"A",link:{pre:function(e,n,o){var i=o.mdAutoFocus||o.mdAutofocus||o.mdSidenavFocus;r(t(i)(e)),i&&e.$watch(i,r);function r(t){angular.isUndefined(t)&&(t=!0),n.toggleClass("md-autofocus",!!t)}}}}}t.$inject=["$parse"],angular.module("material.core").directive("mdAutofocus",t).directive("mdAutoFocus",t).directive("mdSidenavFocus",t)}(),function(){angular.module("material.core").factory("$mdColorUtil",function(){return{rgbaToHex:function(t){return((t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"").toUpperCase()},hexToRgba:function(t){var e="#"===t[0]?t.substr(1):t,n=e.length/3,o=e.substr(0,n),i=e.substr(n,n),r=e.substr(2*n);1===n&&(o+=o,i+=i,r+=r);return"rgba("+parseInt(o,16)+","+parseInt(i,16)+","+parseInt(r,16)+",0.1)"},rgbToRgba:function(t){return t.replace(")",", 0.1)").replace("(","a(")},rgbaToRgb:function(t){return t?t.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}}})}(),function(){angular.module("material.core").factory("$mdConstant",function(){var t=document.createElement("div"),e=function(t){var e,n,o=/^(Moz|webkit|ms)(?=[A-Z])/;for(e in t.style)if(n=o.exec(e))return n[0]}(t),n=/webkit/i.test(e),o=/([:\-_]+(.))/g;function i(n){var i=e+"-"+n,a=i.replace(o,function(t,e,n,o){return o?n.toUpperCase():n}),s=a.charAt(0).toLowerCase()+a.substring(1);return r(t,n)?n:r(t,a)?a:r(t,s)?s:n}function r(t,e){return angular.isDefined(t.style[e])}var a={isInputKey:function(t){return t.keyCode>=31&&t.keyCode<=90},isNumPadKey:function(t){return 3===t.location&&t.keyCode>=97&&t.keyCode<=105},isMetaKey:function(t){return t.keyCode>=91&&t.keyCode<=93},isFnLockKey:function(t){return t.keyCode>=112&&t.keyCode<=145},isNavigationKey:function(t){var e=a.KEY_CODE,n=[e.SPACE,e.ENTER,e.UP_ARROW,e.DOWN_ARROW];return-1!=n.indexOf(t.keyCode)},hasModifierKey:function(t){return t.ctrlKey||t.metaKey||t.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:i("transform"),TRANSFORM_ORIGIN:i("transformOrigin"),TRANSITION:i("transition"),TRANSITION_DURATION:i("transitionDuration"),ANIMATION_PLAY_STATE:i("animationPlayState"),ANIMATION_DURATION:i("animationDuration"),ANIMATION_NAME:i("animationName"),ANIMATION_TIMING:i("animationTimingFunction"),ANIMATION_DIRECTION:i("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return a})}(),function(){function t(t,e){var n=function(){return!0};t&&!angular.isArray(t)&&(t=Array.prototype.slice.call(t)),e=!!e;var o=t||[];return{items:function(){return[].concat(o)},count:function(){return o.length},inRange:i,contains:a,indexOf:r,itemAt:function(t){return i(t)?o[t]:null},findBy:function(t,e){return o.filter(function(n){return n[t]===e})},add:function(t,e){if(!t)return-1;angular.isNumber(e)||(e=o.length);return o.splice(e,0,t),r(t)},remove:function(t){a(t)&&o.splice(r(t),1)},first:s,last:l,next:angular.bind(null,c,!1),previous:angular.bind(null,c,!0),hasPrevious:function(t){return!!t&&i(r(t)-1)},hasNext:function(t){return!!t&&i(r(t)+1)}};function i(t){return o.length&&t>-1&&t<o.length}function r(t){return o.indexOf(t)}function a(t){return t&&r(t)>-1}function s(){return o.length?o[0]:null}function l(){return o.length?o[o.length-1]:null}function c(t,a,c,u){c=c||n;for(var p=r(a);;){if(!i(p))return null;var h=p+(t?-1:1),d=null;if(i(h)?d=o[h]:e&&(h=r(d=t?l():s())),null===d||h===u)return null;if(c(d))return d;angular.isUndefined(u)&&(u=h),p=h}}}angular.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=t,e}])}])}(),function(){function t(t,e,n){var o={},i={},r={},a={};return s.getResponsiveAttribute=function(e,n){for(var r=0;r<t.MEDIA_PRIORITY.length;r++){var a=t.MEDIA_PRIORITY[r];if(i[o[a]].matches){var s=c(e,n+"-"+a);if(e[s])return e[s]}}return e[c(e,n)]},s.getQuery=function(t){return i[t]},s.watchResponsiveAttributes=function(e,n,o){var i=[];return e.forEach(function(e){var r=c(n,e);for(var a in angular.isDefined(n[r])&&i.push(n.$observe(r,angular.bind(void 0,o,null))),t.MEDIA)r=c(n,e+"-"+a),angular.isDefined(n[r])&&i.push(n.$observe(r,angular.bind(void 0,o,a)))}),function(){i.forEach(function(t){t()})}},s;function s(e){var a=o[e];angular.isUndefined(a)&&(a=o[e]=function(e){return t.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}(e));var s=r[a];return angular.isUndefined(s)&&(s=function(t){var e=i[t];e||(e=i[t]=n.matchMedia(t));return e.addListener(l),r[e.media]=!!e.matches}(a)),s}function l(t){e.$evalAsync(function(){r[t.media]=!!t.matches})}function c(t,e){return a[e]||(a[e]=t.$normalize(e))}}t.$inject=["$mdConstant","$rootScope","$window"],angular.module("material.core").factory("$mdMedia",t)}(),function(){function t(t,e){var n=["data","x"];return t?e?i(t):o(t):{buildList:o,buildSelector:i,hasAttribute:function(t,e){if(!(t=r(t)))return!1;for(var n=o(e),i=0;i<n.length;i++)if(t.hasAttribute(n[i]))return!0;return!1},removeAttribute:function(t,e){if(!(t=r(t)))return;o(e).forEach(function(e){t.removeAttribute(e)})}};function o(t){return(t=angular.isArray(t)?t:[t]).forEach(function(e){n.forEach(function(n){t.push(n+"-"+e)})}),t}function i(t){return o(t=angular.isArray(t)?t:[t]).map(function(t){return"["+t+"]"}).join(",")}function r(t){if((t=t[0]||t).nodeType)return t}}angular.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=t,e}])}])}(),function(){o.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var n=0;function o(o,i,r,a,s,l,c,u,p,h){var d=l.startSymbol(),f=l.endSymbol(),m="{{"===d&&"}}"===f,g=function(t,e,n){var o=!1;if(t&&t.length){var i=p.getComputedStyle(t[0]);o=angular.isDefined(i[e])&&(!n||i[e]==n)}return o};function y(t){return t?function(t){return String(t).indexOf("px")>-1}(t)||function(t){return String(t).indexOf("%")>-1}(t)?t:t+"px":"0"}var v={dom:{},now:t.performance&&t.performance.now?angular.bind(t.performance,t.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(t,e){if(t.$options){var n=t.$options;return n.getOption?n.getOption(e):n[e]}},bidi:function(t,e,n,i){var r=!("rtl"==o[0].dir||"rtl"==o[0].body.dir);if(0==arguments.length)return r?"ltr":"rtl";var a=angular.element(t);r&&angular.isDefined(n)?a.css(e,y(n)):!r&&angular.isDefined(i)&&a.css(e,y(i))},bidiProperty:function(t,e,n,i){var r=!("rtl"==o[0].dir||"rtl"==o[0].body.dir),a=angular.element(t);r&&angular.isDefined(e)?(a.css(e,y(i)),a.css(n,"")):!r&&angular.isDefined(n)&&(a.css(n,y(i)),a.css(e,""))},clientRect:function(t,e,n){var o=b(t);e=b(e||o.offsetParent||document.body);var i=o.getBoundingClientRect(),r=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-r.left,top:i.top-r.top,width:i.width,height:i.height}},offsetRect:function(t,e){return v.clientRect(t,e,!0)},nodesToArray:function(t){t=t||[];for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e},getViewportTop:function(){return t.scrollY||t.pageYOffset||0},findFocusTarget:function(t,e){var n,o=this.prefixer("md-autofocus",!0);return(n=i(t,e||o))||e==o||(n=i(t,this.prefixer("md-auto-focus",!0)))||(n=i(t,o)),n;function i(t,e){var n,o=t[0].querySelectorAll(e);return o&&o.length&&o.length&&angular.forEach(o,function(t){(t=angular.element(t)).hasClass("md-autofocus")&&(n=t)}),n}},disableScrollAround:function(t,e,n){if(n=n||{},v.disableScrollAround._count=Math.max(0,v.disableScrollAround._count||0),v.disableScrollAround._count++,v.disableScrollAround._restoreScroll)return v.disableScrollAround._restoreScroll;var i=o[0].body,r=function(){var t=o[0].documentElement,e=t.style.cssText||"",n=i.style.cssText||"",r=v.getViewportTop(),a=i.clientWidth,s=i.scrollHeight>i.clientHeight+1,l=t.scrollTop>0?t:i;s&&angular.element(i).css({position:"fixed",width:"100%",top:-r+"px"});i.clientWidth<a&&(i.style.overflow="hidden");return function(){i.style.cssText=n,t.style.cssText=e,l.scrollTop=r}}(),a=function(t){var e;t=angular.element(t||i),n.disableScrollMask?e=t:(e=angular.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),t.append(e));return e.on("wheel",o),e.on("touchmove",o),function(){e.off("wheel"),e.off("touchmove"),!n.disableScrollMask&&e[0].parentNode&&e[0].parentNode.removeChild(e[0])};function o(t){t.preventDefault()}}(e);return v.disableScrollAround._restoreScroll=function(){--v.disableScrollAround._count<=0&&(r(),a(),delete v.disableScrollAround._restoreScroll)}},enableScrolling:function(){var t=this.disableScrollAround._restoreScroll;t&&t()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===e){var t=angular.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});t.children().css("height","60px"),o[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(e){var n=e[0]||e;document.addEventListener("click",function t(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",t))},!0);var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!1,!0,t,{},0,0,0,0,!1,!1,!1,!1,0,null),o.$material=!0,o.$focus=!0,n.dispatchEvent(o)},createBackdrop:function(t,e){return r(v.supplant('<md-backdrop class="{0}">',[e]))(t)},supplant:function(t,e,n){return n=n||/\{([^{}]*)\}/g,t.replace(n,function(t,n){var o=n.split("."),i=e;try{for(var r in o)o.hasOwnProperty(r)&&(i=i[o[r]])}catch(e){i=t}return"string"==typeof i||"number"==typeof i?i:t})},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach(function(t){t()})},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(t,n,o,r){var a;return function(){var s=o,l=Array.prototype.slice.call(arguments);i.cancel(a),a=i(function(){a=e,t.apply(s,l)},n||10,r)}},throttle:function(t,e){var n;return function(){var o=arguments,i=v.now();(!n||i-n>e)&&(t.apply(this,o),n=i)}},time:function(t){var e=v.now();return t(),v.now()-e},valueOnUse:function(t,e,n){var o=null,i=Array.prototype.slice.call(arguments),r=i.length>3?i.slice(3):[];Object.defineProperty(t,e,{get:function(){return null===o&&(o=n.apply(t,r)),o}})},nextUid:function(){return""+n++},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getClosest:function(t,e,n){if(angular.isString(e)){var o=e.toUpperCase();e=function(t){return t.nodeName.toUpperCase()===o}}if(t instanceof angular.element&&(t=t[0]),n&&(t=t.parentNode),!t)return null;do{if(e(t))return t}while(t=t.parentNode);return null},elementContains:function(e,n){return(t.Node&&t.Node.prototype&&Node.prototype.contains?angular.bind(e,e.contains):angular.bind(e,function(t){return e===n||!!(16&this.compareDocumentPosition(t))}))(n)},extractElementByName:function(t,e,n,o){var i=r(t);return!i&&o&&c.warn(v.supplant("Unable to find node '{0}' in element '{1}'.",[e,t[0].outerHTML])),angular.element(i||t);function r(t){return function(t){if(t)for(var n=0,o=t.length;n<o;n++)if(t[n].nodeName.toLowerCase()===e)return t[n];return null}(t)||(n?function(t){var e;if(t)for(var n=0,o=t.length;n<o;n++){var i=t[n];if(!e)for(var a=0,s=i.childNodes.length;a<s;a++)e=e||r([i.childNodes[a]])}return e}(t):null)}},initOptionalProperties:function(t,e,n){n=n||{},angular.forEach(t.$$isolateBindings,function(o,i){if(o.optional&&angular.isUndefined(t[i])){var r=angular.isDefined(e[o.attrName]);t[i]=angular.isDefined(n[i])?n[i]:r}})},nextTick:function(t,e,n){var o=v.nextTick,r=o.timeout,s=o.queue||[];return s.push({scope:n,callback:t}),null==e&&(e=!0),o.digest=o.digest||e,o.queue=s,r||(o.timeout=i(function(){var t=o.queue,e=o.digest;o.queue=[],o.timeout=null,o.digest=!1,t.forEach(function(t){t.scope&&t.scope.$$destroyed||t.callback()}),e&&a.$digest()},0,!1))},processTemplate:function(t){return m?t:t&&angular.isString(t)?t.replace(/\{\{/g,d).replace(/}}/g,f):t},getParentWithPointerEvents:function(t){for(var e=t.parent();g(e,"pointer-events","none");)e=e.parent();return e},getNearestContentElement:function(t){for(var e=t.parent()[0];e&&e!==u[0]&&e!==document.body&&"MD-CONTENT"!==e.nodeName.toUpperCase();)e=e.parentNode;return e},checkStickySupport:function(){var t,e=angular.element("<div>");o[0].body.appendChild(e[0]);for(var n=["sticky","-webkit-sticky"],i=0;i<n.length;++i)if(e.css({position:n[i],top:0,"z-index":2}),e.css("position")==n[i]){t=n[i];break}return e.remove(),t},parseAttributeBoolean:function(t,e){return""===t||!!t&&(!1===e||"false"!==t&&"0"!==t)},hasComputedStyle:g,isParentFormSubmitted:function(t){var e=v.getClosest(t,"form"),n=e?angular.element(e).controller("form"):null;return!!n&&n.$submitted},animateScrollTo:function(t,e,n){var o=t.scrollTop,i=e-o,r=o<e,a=v.now();h(function s(){var l=(c=n||1e3,function(t,e,n,o){if(t>o)return e+n;var i=(t/=o)*t;return e+n*(i*t*-2+3*i)}(v.now()-a,o,i,c));var c;t.scrollTop=l;(r?l<e:l>e)&&h(s)})},uniq:function(t){if(t)return t.filter(function(t,e,n){return n.indexOf(t)===e})},getInnerHTML:function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(t){return e.serializeToString(t)}).join("")},getOuterHTML:function(t){return(new XMLSerializer).serializeToString(t)}};return v.dom.animator=s(v),v;function b(t){return t[0]||t}}angular.module("material.core").factory("$mdUtil",o),angular.element.prototype.focus=angular.element.prototype.focus||function(){return this.length&&this[0].focus(),this},angular.element.prototype.blur=angular.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){angular.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(e,n,o,i){return function(r){return function(e,n,o,i,r){var a;return a={translate3d:function(t,e,n,o){return r(t,{from:e,to:n,addClass:o.transitionInClass,removeClass:o.transitionOutClass,duration:o.duration}).start().then(function(){return i});function i(n){return r(t,{to:n||e,addClass:o.transitionOutClass,removeClass:o.transitionInClass,duration:o.duration}).start()}},waitTransitionEnd:function(e,r){var a=3e3;return n(function(n,s){var l;("0s"==(l=(l=(r=r||{}).cachedTransitionStyles)||t.getComputedStyle(e[0])).transitionDuration||!l.transition&&!l.transitionProperty)&&(a=0);var c=o(u,r.timeout||a);function u(t){t&&t.target!==e[0]||(t&&o.cancel(c),e.off(i.CSS.TRANSITIONEND,u),n())}e.on(i.CSS.TRANSITIONEND,u)})},calculateTransformValues:function(t,e){var n,o,i=e.element,r=e.bounds;if(i||r){var s=i?a.clientRect(i)||(n=t?t.parent():null,(o=n?n.parent():null)?a.clientRect(o):null):a.copyRect(r),l=a.copyRect(t[0].getBoundingClientRect()),c=a.centerPointFor(l),u=a.centerPointFor(s);return{centerX:u.x-c.x,centerY:u.y-c.y,scaleX:Math.round(100*Math.min(.5,s.width/l.width))/100,scaleY:Math.round(100*Math.min(.5,s.height/l.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(t,n){var o=angular.bind(null,e.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )");return o(a.calculateTransformValues(t,n))},calculateSlideToOrigin:function(t,n){var o=angular.bind(null,e.supplant,"translate3d( {centerX}px, {centerY}px, 0 )");return o(a.calculateTransformValues(t,n))},toCss:function(t){var e={};return angular.forEach(t,function(t,o){if(!angular.isUndefined(t))if("left top right bottom width height x y min-width min-height max-width max-height".indexOf(o)>=0)e[o]=t+"px";else switch(o){case"transition":n(o,i.CSS.TRANSITION,t);break;case"transform":n(o,i.CSS.TRANSFORM,t);break;case"transformOrigin":n(o,i.CSS.TRANSFORM_ORIGIN,t);break;case"font-size":e["font-size"]=t}}),e;function n(t,n,o){angular.forEach(n.split(" "),function(t){e[t]=o})}},toTransformCss:function(t,e,n){var o={};return angular.forEach(i.CSS.TRANSFORM.split(" "),function(e){o[e]=t}),e&&(n=n||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",o.transition=n),o},copyRect:function(t,e){return t?(e=e||{},angular.forEach("left top right bottom width height".split(" "),function(n){e[n]=Math.round(t[n])}),e.width=e.width||e.right-e.left,e.height=e.height||e.bottom-e.top,e):null},clientRect:function(t){var e,n=angular.element(t)[0].getBoundingClientRect();return(e=n)&&e.width>0&&e.height>0?a.copyRect(n):null},centerPointFor:function(t){return t?{x:Math.round(t.left+t.width/2),y:Math.round(t.top+t.height/2)}:{x:0,y:0}}}}(r,e,n,o,i)}}])}(),angular.version.minor>=4?angular.module("material.core.animate",[]):function(){var t=angular.forEach,e=angular.isDefined(document.documentElement.style.WebkitAppearance),n=e?"-webkit-":"",o=(e?"webkitTransitionEnd ":"")+"transitionend",i=(e?"webkitAnimationEnd ":"")+"animationend",r=["$q","$$rAFMutex",function(e,n){function o(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}return o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:angular.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(t(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o.all=function(e,n){var o=0,i=!0;function r(t){i=i&&t,++o===e.length&&n(i)}t(e,function(t){t.done(r)})},o}];function a(t){return t.replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()})}angular.module("material.core.animate",[]).factory("$$forceReflow",["$document",function(t){return function(){return t[0].body.clientWidth+1}}]).factory("$$AnimateRunner",r).factory("$$rAFMutex",["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(r,s,l,c,u,p,h){function d(t,e){e.addClass&&(u.addClass(t,e.addClass),e.addClass=null),e.removeClass&&(u.removeClass(t,e.removeClass),e.removeClass=null)}function f(e){var n=0,o=(e||"").split(/\s*,\s*/);return t(o,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),n}var m,g=[];function y(t,e){e.from&&(t.css(e.from),e.from=null)}function v(t,e){e.to&&(t.css(e.to),e.to=null)}function b(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return t[e]}function w(t,e){var o=b(t),i=a(n+"transition-delay");o.style[i]=e?"-9999s":""}return function(u,E){var M=[],C=b(u),_=C&&h.enabled(),x=!1,S=!1;_&&(E.transitionStyle&&M.push([n+"transition",E.transitionStyle]),E.keyframeStyle&&M.push([n+"animation",E.keyframeStyle]),E.delay&&M.push([n+"transition-delay",E.delay+"s"]),E.duration&&M.push([n+"transition-duration",E.duration+"s"]),x=E.keyframeStyle||E.to&&(E.duration>0||E.transitionStyle),S=!!E.addClass||!!E.removeClass,w(u,!0));var T=_&&(x||S);y(u,E);var k,A,P=!1;return{close:r.close,start:function(){var h,_=new l;return h=function(){if(w(u,!1),!T)return x();t(M,function(t){var e=t[0],n=t[1];C.style[a(e)]=n}),d(u,E);var s=function(t){var n=b(t),o=r.getComputedStyle(n),i=f(o[p("transitionDuration")]),a=f(o[p("animationDuration")]),s=f(o[p("transitionDelay")]),l=f(o[p("animationDelay")]);a*=parseInt(o[p("animationIterationCount")],10)||1;var c=Math.max(a,i),u=Math.max(l,s);return{duration:c,delay:u,animationDuration:a,transitionDuration:i,animationDelay:l,transitionDelay:s};function p(t){return e?"Webkit"+t.charAt(0).toUpperCase()+t.substr(1):t}}(u);if(0===s.duration)return x();var l=[];E.easing&&(s.transitionDuration&&l.push([n+"transition-timing-function",E.easing]),s.animationDuration&&l.push([n+"animation-timing-function",E.easing])),E.delay&&s.animationDelay&&l.push([n+"animation-delay",E.delay+"s"]),E.duration&&s.animationDuration&&l.push([n+"animation-duration",E.duration+"s"]),t(l,function(t){var e=t[0],n=t[1];C.style[a(e)]=n,M.push(t)});var c=1e3*s.delay,h=s.duration,m=1e3*h,g=Date.now();k=[],s.transitionDuration&&k.push(o),s.animationDuration&&k.push(i),k=k.join(" "),A=function(t){t.stopPropagation();var e=t.originalEvent||t,n=e.timeStamp||Date.now(),o=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-g,0)>=c&&o>=h&&x()},u.on(k,A),v(u,E),p(x,c+1.5*m,!1)},m&&m(),g.push(h),m=s(function(){m=null;for(var t=c(),e=0;e<g.length;e++)g[e](t);g.length=0}),_;function x(){if(!P)return P=!0,k&&A&&u.off(k,A),d(u,E),function(t,e){y(t,e),v(t,e)}(u,E),t(M,function(t){C.style[a(t[0])]=""}),_.complete(!0),_}}}}}])}(),function(){function t(t,e,n,o){var i=this.showWarnings;return{expect:r,expectAsync:a,expectWithText:function(t,e){var n=s(t)||"";n.indexOf(o.startSymbol())>-1?a(t,e,function(){return s(t)}):r(t,e,n)},expectWithoutText:function(t,e){var n=s(t);n.indexOf(o.startSymbol())>-1||n||r(t,e,n)},getText:s,hasAriaLabel:l,parentHasAriaLabel:function t(e,n){n=n||1;var o=angular.element(e)[0]||e;if(!o.parentNode)return!1;if(function(t){if(!l(t))return!1;if(t.hasAttribute("role"))switch(t.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(t.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}(o.parentNode))return!0;n--;if(n)return t(o.parentNode,n);return!1}};function r(t,o,r){var a=angular.element(t)[0]||t;!a||a.hasAttribute(o)&&0!==a.getAttribute(o).length||function(t,e){var o=!1;if(t.hasChildNodes())for(var i=t.childNodes,r=0;r<i.length;r++){var a=i[r];1===a.nodeType&&a.hasAttribute(e)&&(void 0,"none"!==((s=a).currentStyle?s.currentStyle:n.getComputedStyle(s)).display&&(o=!0))}var s;return o}(a,o)||((r=angular.isString(r)?r.trim():"").length?t.attr(o,r):i&&e.warn('ARIA: Attribute "',o,'", required for accessibility, is missing on node:',a))}function a(e,n,o){t(function(){r(e,n,o())})}function s(t){t=t[0]||t;for(var e,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),o="";e=n.nextNode();)i(e)||(o+=e.textContent);return o.trim()||"";function i(e){for(;e.parentNode&&(e=e.parentNode)!==t;)if(e.getAttribute&&"true"===e.getAttribute("aria-hidden"))return!0}}function l(t){var e=angular.element(t)[0]||t;return!!e.hasAttribute&&(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||e.hasAttribute("aria-describedby"))}}t.$inject=["$$rAF","$log","$window","$interpolate"],angular.module("material.core").provider("$mdAria",function(){var e={showWarnings:!0};return{disableWarnings:function(){e.showWarnings=!1},$get:["$$rAF","$log","$window","$interpolate",function(n,o,i,r){return t.apply(e,arguments)}]}})}(),function(){function t(t){var e=!1;function n(t,e,n,o,i){this.$q=t,this.$templateRequest=e,this.$injector=n,this.$compile=o,this.$controller=i}this.respectPreAssignBindingsEnabled=function(t){return angular.isDefined(t)?(e=t,this):e},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(t,e,o,i,r){return new n(t,e,o,i,r)}],n.prototype.compile=function(t){return t.contentElement?this._prepareContentElement(t):this._compileTemplate(t)},n.prototype._prepareContentElement=function(t){var e=this._fetchContentElement(t);return this.$q.resolve({element:e.element,cleanup:e.restore,locals:{},link:function(){return e.element}})},n.prototype._compileTemplate=function(t){var e=this,n=t.templateUrl,o=t.template||"",i=angular.extend({},t.resolve),r=angular.extend({},t.locals),a=t.transformTemplate||angular.identity;return angular.forEach(i,function(t,n){angular.isString(t)?i[n]=e.$injector.get(t):i[n]=e.$injector.invoke(t)}),angular.extend(i,r),i.$$ngTemplate=n?this.$templateRequest(n):this.$q.when(o),this.$q.all(i).then(function(n){var o=a(n.$$ngTemplate,t),i=t.element||angular.element("<div>").html(o.trim()).contents();return e._compileElement(n,i,t)})},n.prototype._compileElement=function(t,e,n){var o=this,i=this.$compile(e),r={element:e,cleanup:e.remove.bind(e),locals:t,link:function(a){if(t.$scope=a,n.controller){var s=angular.extend({},t,{$element:e}),l=o._createController(n,s,t);e.data("$ngControllerController",l),e.children().data("$ngControllerController",l),r.controller=l}return i(a)}};return r},n.prototype._createController=function(n,o,i){var r;if(!e||("function"==typeof t.preAssignBindingsEnabled?t.preAssignBindingsEnabled():1===angular.version.major&&angular.version.minor<6)){var a=this.$controller(n.controller,o,!0);n.bindToController&&angular.extend(a.instance,i),r=a()}else r=this.$controller(n.controller,o),n.bindToController&&angular.extend(r,i);return n.controllerAs&&(o.$scope[n.controllerAs]=r),angular.isFunction(r.$onInit)&&r.$onInit(),r},n.prototype._fetchContentElement=function(t){var e=t.contentElement,n=null;return angular.isString(e)?n=o(e=document.querySelector(e)):(e=e[0]||e,n=document.contains(e)?o(e):function(){e.parentNode&&e.parentNode.removeChild(e)}),{element:angular.element(e),restore:n};function o(t){var e=t.parentNode,n=t.nextElementSibling;return function(){n?e.insertBefore(t,n):e.appendChild(t)}}}}angular.module("material.core").provider("$mdCompiler",t),t.$inject=["$compileProvider"]}(),function(){u.$inject=["$$MdGestureHandler","$$rAF","$timeout"],h.$inject=["$mdGesture","$$MdGestureHandler"];var e,n,o={},i=6,r=!1,a=!1,s=null,l=!1;function c(){}function u(e,n,a){var s=navigator.userAgent||navigator.vendor||t.opera,l=s.match(/ipad|iphone|ipod/i),c=s.match(/android/i),u=function(){for(var t=document.createElement("div"),e=["","webkit","Moz","MS","ms","o"],n=0;n<e.length;n++){var o=e[n],i=o?o+"TouchAction":"touchAction";if(angular.isDefined(t.style[i]))return i}}(),p=void 0!==t.jQuery&&angular.element===t.jQuery,h={handler:function(t,n){var i=new e(t);return angular.extend(i,n),o[t]=i,h},register:function(t,e,n){var i=o[e.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(o).join(", "));return i.registerElement(t,n)},isAndroid:c,isIos:l,isHijackingClicks:(l||c)&&!p&&!r};function f(t){return function(e,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(e,t,n)}}return h.isHijackingClicks&&(h.handler("click",{options:{maxDistance:i},onEnd:f("click")}),h.handler("focus",{options:{maxDistance:i},onEnd:function(t,e){e.distance<this.state.options.maxDistance&&v(t.target)&&(this.dispatchEvent(t,"focus",e),t.target.focus())}}),h.handler("mouseup",{options:{maxDistance:i},onEnd:f("mouseup")}),h.handler("mousedown",{onStart:function(t){this.dispatchEvent(t,"mousedown")}})),h.handler("press",{onStart:function(t,e){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t,e){this.dispatchEvent(t,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){a.cancel(this.state.timeout)},onStart:function(t,e){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:e.x,y:e.y},this.state.timeout=a(angular.bind(this,function(){this.dispatchEvent(t,"$md.hold"),this.cancel()}),this.state.options.delay,!1)},onMove:function(t,e){u||"touchmove"!==t.type||t.preventDefault();var n=this.state.pos.x-e.x,o=this.state.pos.y-e.y;Math.sqrt(n*n+o*o)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(t,e){u&&(this.oldTouchAction=t[0].style[u],t[0].style[u]=e.horizontal?"pan-y":"pan-x")},onCleanup:function(t){this.oldTouchAction&&(t[0].style[u]=this.oldTouchAction)},onStart:function(t){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,o;u||"touchmove"!==t.type||t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,o=Math.abs(e.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(e.distanceY)>this.state.options.minDistance,o=Math.abs(e.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=d(t),g(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):o&&this.cancel())},dispatchDragMove:n.throttle(function(t){this.state.isRunning&&(g(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))}),onEnd:function(t,e){this.state.dragPointer&&(g(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){var n;Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance?(n="left"==e.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(t,n)):Math.abs(e.velocityY)>this.state.options.minVelocity&&Math.abs(e.distanceY)>this.state.options.minDistance&&(n="up"==e.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(t,n))}})}function p(t){this.name=t,this.state={}}function h(t,i){if(!a){document.contains||(document.contains=function(t){return document.body.contains(t)}),!l&&t.isHijackingClicks&&(document.addEventListener("click",function(t){var e=0===t.clientX&&0===t.clientY,n=t.target&&"submit"===t.target.type;e||t.$material||t.isIonicTap||m(t)||n?(s=null,"label"==t.target.tagName.toLowerCase()&&(s={x:t.x,y:t.y})):(t.preventDefault(),t.stopPropagation(),s=null)},!0),document.addEventListener("mouseup",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("focus",r,!0),l=!0);angular.element(document).on("mousedown touchstart pointerdown",function(t){if(e)return;var o=+Date.now();if(n&&!f(t,n)&&o-n.endTime<1500)return;e=d(t),c("start",t)}).on("mousemove touchmove pointermove",function(t){if(!e||!f(t,e))return;g(t,e),c("move",t)}).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",function(t){if(!e||!f(t,e))return;g(t,e),e.endTime=+Date.now(),"pointercancel"!==t.type&&c("end",t);n=e,e=null}).on("$$mdGestureReset",function(){n=e=null})}function r(t){!t.clientX&&!t.clientY||t.$material||t.isIonicTap||m(t)||"mousedown"===t.type&&(v(t.target)||v(document.activeElement))||(t.preventDefault(),t.stopPropagation())}function c(t,n){var r;for(var a in o)(r=o[a])instanceof i&&("start"===t&&r.cancel(),r[t](n,e))}}function d(t){var e=y(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}function f(t,e){return t&&e&&t.type.charAt(0)===e.type}function m(t){return s&&s.x==t.x&&s.y==t.y}function g(t,e){var n=y(t),o=e.x=n.pageX,i=e.y=n.pageY;e.distanceX=o-e.startX,e.distanceY=i-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=e.distanceX>0?"right":e.distanceX<0?"left":"",e.directionY=e.distanceY>0?"down":e.distanceY<0?"up":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function y(t){return(t=t.originalEvent||t).touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}function v(t){return!!t&&"-1"!==t.getAttribute("tabindex")&&!t.hasAttribute("disabled")&&(t.hasAttribute("tabindex")||t.hasAttribute("href")||t.isContentEditable||-1!==["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(t.nodeName))}angular.module("material.core.gestures",[]).provider("$mdGesture",c).factory("$$MdGestureHandler",function(){var n=void 0!==t.jQuery&&angular.element===t.jQuery;return p.prototype={options:{},dispatchEvent:n?function(t,n,o){o=o||e;var i=new angular.element.Event(n);i.$material=!0,i.pointer=o,i.srcEvent=t,angular.extend(i,{clientX:o.x,clientY:o.y,screenX:o.x,screenY:o.y,pageX:o.x,pageY:o.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),angular.element(o.target).trigger(i)}:function(n,o,i){var r;i=i||e,"click"===o||"mouseup"===o||"mousedown"===o?(r=document.createEvent("MouseEvents")).initMouseEvent(o,!0,!0,t,n.detail,i.x,i.y,i.x,i.y,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget||null):(r=document.createEvent("CustomEvent")).initCustomEvent(o,!0,!0,{}),r.$material=!0,r.pointer=i,r.srcEvent=n,i.target.dispatchEvent(r)},onSetup:angular.noop,onCleanup:angular.noop,onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,start:function(t,e){if(!this.state.isRunning){var n=this.getNearestParent(t.target),o=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},this.options,o),registeredParent:n},this.onStart(t,e)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.onEnd(t,e),this.state.isRunning=!1)},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}return null},registerElement:function(t,e){var n=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",o),n.onSetup(t,e||{}),o;function o(){delete t[0].$mdGesture[n.name],t.off("$destroy",o),n.onCleanup(t,e||{})}}},p}).run(h),c.prototype={disableAll:function(){a=!0},skipClickHijack:function(){return r=!0},setMaxClickDistance:function(t){i=parseInt(t)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(t,e,n){return new u(t,e,n)}]}}(),function(){function e(e,n,o){this.$timeout=e,this.$mdUtil=n,this.$rootScope=o,this.pointerEvent="MSPointerEvent"in t?"MSPointerDown":"PointerEvent"in t?"pointerdown":null,this.bodyElement=angular.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputHandler=this.onInputEvent.bind(this),this.bufferedInputHandler=this.onBufferInputEvent.bind(this),this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents(),this.$rootScope.$on("$destroy",this.deregister.bind(this))}e.$inject=["$timeout","$mdUtil","$rootScope"],angular.module("material.core.interaction",[]).service("$mdInteraction",e),e.prototype.deregister=function(){this.bodyElement.off("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.off("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.off(this.pointerEvent,this.inputHandler)},e.prototype.initializeEvents=function(){this.bodyElement.on("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.on(this.pointerEvent,this.inputHandler)},e.prototype.onInputEvent=function(t){if(!this.isBuffering){var e=this.inputEventMap[t.type];"pointer"===e&&(e=this.iePointerMap[t.pointerType]||t.pointerType),this.lastInteractionType=e,this.lastInteractionTime=this.$mdUtil.now()}},e.prototype.onBufferInputEvent=function(t){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(t),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},e.prototype.getLastInteractionType=function(){return this.lastInteractionType},e.prototype.isUserInvoked=function(t){var e=angular.isNumber(t)?t:15;return this.lastInteractionTime>=this.$mdUtil.now()-e}}(),function(){angular.module("material.core").provider("$$interimElement",function(){return n.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],t.$get=n,t;function t(t){r.$inject=["$$interimElement","$injector"];var e=["onHide","onShow","onRemove"],n={},o={presets:{}},i={setDefaults:function(t){return o.optionsFactory=t.options,o.methods=(t.methods||[]).concat(e),i},addPreset:function(n,r){if((r=r||{}).methods=r.methods||[],r.options=r.options||function(){return{}},/^cancel|hide|show$/.test(n))throw new Error("Preset '"+n+"' in "+t+" is reserved!");if(r.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return o.presets[n]={methods:r.methods.concat(e),optionsFactory:r.options,argOption:r.argOption},i},addMethod:function(t,e){return n[t]=e,i},$get:r};return i.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),i;function r(e,i){var r,a,s=e(),l={hide:s.hide,cancel:s.cancel,show:function(t){(t=t||{})._options&&(t=t._options);return s.show(angular.extend({},a,t))},destroy:function(t){return s.destroy(t)}};return r=o.methods||[],a=c(o.optionsFactory,{}),angular.forEach(n,function(t,e){l[e]=t}),angular.forEach(o.presets,function(t,e){var n=c(t.optionsFactory,{}),o=(t.methods||[]).concat(r);function i(t){this._options=angular.extend({},n,t)}if(angular.extend(n,{$type:e}),angular.forEach(o,function(t){i.prototype[t]=function(e){return this._options[t]=e,this}}),t.argOption){var a="show"+e.charAt(0).toUpperCase()+e.slice(1);l[a]=function(t){var n=l[e](t);return l.show(n)}}l[e]=function(e){return arguments.length&&t.argOption&&!angular.isObject(e)&&!angular.isArray(e)?(new i)[t.argOption](e):new i(e)}}),l;function c(e,n){var o={};return o[t]=l,i.invoke(e||function(){return n},{},o)}}}function n(t,n,o,i,r,a,s,l,c,u,p){return function(){var h,d=!1,f=[],m=[],g=[];return h={show:function(u){var d=new function(u){var p,d,f=n.when(!0);return u=function(t){return(t=t||{}).template&&(t.template=s.processTemplate(t.template)),angular.extend({preserveScope:!1,cancelAutoHide:angular.noop,scope:t.scope||o.$new(t.isolateScope),onShow:function(t,e,n){return a.enter(e,n.parent)},onRemove:function(t,e){return e&&a.leave(e)||n.when()}},t)}(u),p={options:u,deferred:n.defer(),show:function(){return n(function(e,o){function i(t){p.deferred.reject(t),o(t)}u.onCompiling&&u.onCompiling(u),function(t){return(t.skipCompile?null:l.compile(t))||n(function(e){e({locals:{},link:function(){return t.element}})})}(u).then(function(o){d=function(e,n){angular.extend(e.locals,n);var o=e.link(n.scope);return n.element=o,n.parent=function(e,n){var o,i=n.parent;return((i=angular.isFunction(i)?i(n.scope,e,n):angular.isString(i)?angular.element(t[0].querySelector(i)):angular.element(i))||{}).length?i:(r[0]&&r[0].querySelector&&(o=r[0].querySelector(":not(svg) > body")),o||(o=r[0]),"#comment"==o.nodeName&&(o=t[0].body),angular.element(o))}(o,n),n.themable&&c(o),o}(o,u),u.cleanupElement=o.cleanup,f=function(t,e,o){var i=e.onShowing||angular.noop,r=e.onComplete||angular.noop;try{i(e.scope,t,e,o)}catch(t){return n.reject(t)}return n(function(i,a){try{n.when(e.onShow(e.scope,t,e,o)).then(function(){r(e.scope,t,e),m(),i(t)},a)}catch(t){a(t.message)}})}(d,u,o.controller).then(e,i)}).catch(i)})},remove:function(t,e,o){return d?((u=angular.extend(u||{},o||{})).cancelAutoHide&&u.cancelAutoHide(),u.element.triggerHandler("$mdInterimElementRemove"),!0===u.$destroy?g(u.element,u).then(function(){e&&r(t)||i(t)}):(n.when(f).finally(function(){g(u.element,u).then(function(){e?r(t):i(t)},r)}),p.deferred.promise)):n.when(!1);function i(t){p.deferred.resolve(t)}function r(t){p.deferred.reject(t)}}};function m(){var t,n=angular.noop;u.hideDelay&&(t=i(h.hide,u.hideDelay),n=function(){i.cancel(t)}),u.cancelAutoHide=function(){n(),u.cancelAutoHide=e}}function g(t,e){var o=e.onRemoving||angular.noop;return n(function(i,r){try{var a=n.when(e.onRemove(e.scope,t,e)||!0);o(t,a),e.$destroy?(i(t),!e.preserveScope&&e.scope&&a.then(function(){e.scope.$destroy()})):a.then(function(){!e.preserveScope&&e.scope&&e.scope.$destroy(),i(t)},r)}catch(t){r(t.message)}})}}((u=u||{})||{}),y=u.multiple?n.resolve():n.all(f);u.multiple||(y=y.then(function(){var t=m.concat(g.map(h.cancel));return n.all(t)}));var v=y.then(function(){return d.show().then(function(){g.push(d)}).catch(function(t){return t}).finally(function(){f.splice(f.indexOf(v),1)})});return f.push(v),d.deferred.promise.catch(function(t){return t instanceof Error&&p(t),t}),d.deferred.promise},hide:y(function(t,o){if((o=o||{}).closeAll)return n.all(g.slice().reverse().map(i));if(o.closeTo!==e)return n.all(g.slice(o.closeTo).map(i));return i(g[g.length-1]);function i(e){if(!e)return n.when(t);var i=e.remove(t,!1,o||{}).catch(function(t){return t}).finally(function(){m.splice(m.indexOf(i),1)});return g.splice(g.indexOf(e),1),m.push(i),e.deferred.promise}}),cancel:y(function(t,e){var o=g.pop();if(!o)return n.when(t);var i=o.remove(t,!0,e||{}).catch(function(t){return t}).finally(function(){m.splice(m.indexOf(i),1)});return m.push(i),o.deferred.promise.catch(angular.noop)}),destroy:function(t){var e=t?null:g.shift(),o=angular.element(t).length&&angular.element(t)[0].parentNode;if(o){var i=g.filter(function(t){return t.options.element[0]===o});i.length&&(e=i[0],g.splice(g.indexOf(e),1))}return e?e.remove(d,!1,{$destroy:!0}):n.when(d)},$injector_:u};function y(t){return function(){var e=arguments;return g.length?t.apply(h,e):f.length?f[0].finally(function(){return t.apply(h,e)}):n.when("No interim elements currently showing up.")}}}}})}(),function(){var t,e,n,o=/(-gt)?-(sm|md|lg|print)/g,i=/\s+/g,r=["grow","initial","auto","none","noshrink","nogrow"],a=["row","column"],s=["","start","center","end","stretch","space-around","space-between"],l=["","start","center","end","stretch"],c={enabled:!0,breakpoints:[]};function u(){var t=!!document.querySelector("[md-layouts-disabled]");c.enabled=!t}function p(){return c.enabled=!1,{restrict:"A",priority:"900"}}function h(o){return["$mdUtil","$interpolate","$log",function(r,a,s){return t=r,e=a,n=s,{restrict:"A",compile:function(t,e){var n;return c.enabled&&(m(o,v(o,e,""),g(0,o,e)),i(0,t),n=i),n||angular.noop}}}];function i(t,e){e.addClass(o)}}function d(t){var e=t.split("-");return["$log",function(n){return n.warn(t+"has been deprecated. Please use a `"+e[0]+"-gt-<xxx>` variant."),angular.noop}]}function f(e,n,i,r){var a,s,l,c=i[0].nodeName.toLowerCase();switch(e.replace(o,"")){case"flex":"md-button"!=c&&"fieldset"!=c||(s="<"+c+" "+e+"></"+c+">",l="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",a="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",r.warn(t.supplant(a,[s,l])))}}function m(e,n,c){if(!y(n)){switch(e.replace(o,"")){case"layout":b(n,a)||(n=a[0]);break;case"flex":b(n,r)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var u=function(t){var e,n={main:"start",cross:"stretch"};return 0!==(t=t||"").indexOf("-")&&0!==t.indexOf(" ")||(t="none"+t),(e=t.toLowerCase().trim().replace(i,"-").split("-")).length&&"space"===e[0]&&(e=[e[0]+"-"+e[1],e[2]]),e.length>0&&(n.main=e[0]||n.main),e.length>1&&(n.cross=e[1]||n.cross),s.indexOf(n.main)<0&&(n.main="start"),l.indexOf(n.cross)<0&&(n.cross="stretch"),n}(n);n=t.supplant("{main}-{cross}",u);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":n=""}void 0!=n&&(c||angular.noop)(n)}return n?n.trim():""}function g(t,e,n){return function(t){y(t)||(n[n.$normalize(e)]=t)}}function y(t){return(t||"").indexOf(e.startSymbol())>-1}function v(t,e,n){var o=e.$normalize(t);return e[o]?e[o].trim().replace(i,"-"):n||null}function b(t,e,n){var o=!1;return(t=n&&t?t.replace(i,n):t)&&e.forEach(function(e){e=n?e.replace(i,n):e,o=o||e===t}),o}!function(o){var r,a=/^((?:x|data)[:\-_])/i,s=/([:\-_]+(.))/g,l=["layout","flex","flex-order","flex-offset","layout-align"],y=["show","hide","layout-padding","layout-margin"];function b(t){return t.replace(a,"").replace(s,function(t,e,n,o){return o?n.toUpperCase():n})}angular.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],function(r){angular.forEach(l,function(a){var s=r?a+"-"+r:a;o.directive(b(s),function(o){return["$mdUtil","$interpolate","$log",function(i,a,s){return t=i,e=a,n=s,{restrict:"A",compile:function(t,e){var i;return c.enabled&&(f(o,0,t,n),m(o,v(o,e,""),g(0,o,e)),i=r),i||angular.noop}}}];function r(t,e,n){var r=function(t,e){var n;return function(o){var r=m(e,o||"");angular.isDefined(r)&&(n&&t.removeClass(n),n=r?e+"-"+r.trim().replace(i,"-"):e,t.addClass(n))}}(e,o),a=n.$observe(n.$normalize(o),r);r(v(o,n,"")),t.$on("$destroy",function(){a()})}}(s))}),angular.forEach(y,function(t){var e=r?t+"-"+r:t;o.directive(b(e),h(e))})}),o.provider("$$mdLayout",function(){return{$get:angular.noop,validateAttributeValue:m,validateAttributeUsage:f,disableLayouts:function(t){c.enabled=!0!==t}}}).directive("mdLayoutCss",p).directive("ngCloak",(r="ng-cloak",["$timeout",function(t){return{restrict:"A",priority:-10,compile:function(e){return c.enabled?(e.addClass(r),function(e,n){t(function(){n.removeClass(r)},10,!1)}):angular.noop}}}])).directive("layoutWrap",h("layout-wrap")).directive("layoutNowrap",h("layout-nowrap")).directive("layoutNoWrap",h("layout-no-wrap")).directive("layoutFill",h("layout-fill")).directive("layoutLtMd",d("layout-lt-md")).directive("layoutLtLg",d("layout-lt-lg")).directive("flexLtMd",d("flex-lt-md")).directive("flexLtLg",d("flex-lt-lg")).directive("layoutAlignLtMd",d("layout-align-lt-md")).directive("layoutAlignLtLg",d("layout-align-lt-lg")).directive("flexOrderLtMd",d("flex-order-lt-md")).directive("flexOrderLtLg",d("flex-order-lt-lg")).directive("offsetLtMd",d("flex-offset-lt-md")).directive("offsetLtLg",d("flex-offset-lt-lg")).directive("hideLtMd",d("hide-lt-md")).directive("hideLtLg",d("hide-lt-lg")).directive("showLtMd",d("show-lt-md")).directive("showLtLg",d("show-lt-lg")).config(u)}(angular.module("material.core.layout",["ng"]))}(),function(){function t(t){this._$timeout=t,this._liveElement=this._createLiveElement(),this._announceTimeout=100}t.$inject=["$timeout"],angular.module("material.core").service("$mdLiveAnnouncer",t),t.prototype.announce=function(t,e){e||(e="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",e),n._$timeout(function(){n._liveElement.textContent=t},n._announceTimeout,!1)},t.prototype._createLiveElement=function(){var t=document.createElement("div");return t.classList.add("md-visually-hidden"),t.setAttribute("role","status"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),document.body.appendChild(t),t}}(),angular.module("material.core.meta",[]).provider("$$mdMeta",function(){var t=angular.element(document.head),e={};function n(t){if(e[t])return!0;var n=document.getElementsByName(t)[0];return!!n&&(e[t]=angular.element(n),!0)}var o={setMeta:function(o,i){if(n(o),e[o])e[o].attr("content",i);else{var r=angular.element('<meta name="'+o+'" content="'+i+'"/>');t.append(r),e[o]=r}return function(){e[o].attr("content",""),e[o].remove(),delete e[o]}},getMeta:function(t){if(!n(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return e[t].attr("content")}};return angular.extend({},o,{$get:function(){return o}})}),function(){function t(t,n){var o,i=[],r={};return o={notFoundError:function(e,n){t.error((n||"")+"No instance found for handle",e)},getInstances:function(){return i},get:function(t){if(!a(t))return null;var e,n,o;for(e=0,n=i.length;e<n;e++)if((o=i[e]).$$mdHandle===t)return o;return null},register:function(t,e){return e?(t.$$mdHandle=e,i.push(t),(n=r[e])&&(n.forEach(function(e){e.resolve(t)}),delete r[e]),function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}):angular.noop;var n},when:function(t){if(a(t)){var i=n.defer(),s=o.get(t);return s?i.resolve(s):(r[t]===e&&(r[t]=[]),r[t].push(i)),i.promise}return n.reject("Invalid `md-component-id` value.")}};function a(t){return t&&""!==t}}t.$inject=["$log","$q"],angular.module("material.core").factory("$mdComponentRegistry",t)}(),function(){function t(t){return{attach:function(e,n,o){return o=angular.extend(function(t){return t.hasClass("md-icon-button")?{isMenuItem:t.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:t.hasClass("md-menu-item"),dimBackground:!0}}(n),o),t.attach(e,n,o)}}}t.$inject=["$mdInkRipple"],angular.module("material.core").factory("$mdButtonInkRipple",t)}(),function(){function t(t){return{attach:function(e,n,o){return t.attach(e,n,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},o))}}}t.$inject=["$mdInkRipple"],angular.module("material.core").factory("$mdCheckboxInkRipple",t)}(),function(){function t(t){return{attach:function(e,n,o){return t.attach(e,n,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}}}t.$inject=["$mdInkRipple"],angular.module("material.core").factory("$mdListInkRipple",t)}(),function(){e.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],t.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],angular.module("material.core").provider("$mdInkRipple",function(){var t=!1;return{disableInkRipple:function(){t=!0},$get:["$injector",function(n){return{attach:function(o,i,r){return t||i.controller("mdNoInk")?angular.noop:n.instantiate(e,{$scope:o,$element:i,rippleOptions:r})}}}]}}).directive("mdInkRipple",t).directive("mdNoInk",o).directive("mdNoBar",o).directive("mdNoStretch",o);function t(t,e){return{controller:angular.noop,link:function(n,o,i){i.hasOwnProperty("mdInkRippleCheckbox")?e.attach(n,o):t.attach(n,o)}}}function e(t,e,n,o,i,r,a){this.$window=o,this.$timeout=i,this.$mdUtil=r,this.$mdColorUtil=a,this.$scope=t,this.$element=e,this.options=n,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,r.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(e.controller("mdInkRipple")||{}).createRipple=angular.bind(this,this.createRipple),(e.controller("mdInkRipple")||{}).setColor=angular.bind(this,this.color),this.bindEvents()}function n(t,e){(t.mousedown||t.lastRipple)&&(t.mousedown=!1,t.$mdUtil.nextTick(angular.bind(t,e),!1))}function o(){return{controller:angular.noop}}e.prototype.color=function(t){var e,n,o=this;return angular.isDefined(t)&&(o._color=o._parseColor(t)),o._color||o._parseColor(o.inkRipple())||o._parseColor((e=o.options&&o.options.colorElement?o.options.colorElement:[],(n=e.length?e[0]:o.$element[0])?o.$window.getComputedStyle(n).color:"rgb(0,0,0)"))},e.prototype.calculateColor=function(){return this.color()},e.prototype._parseColor=function(t,e){e=e||1;var n=this.$mdColorUtil;if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,(.1*e).toString()+")"):0===t.indexOf("rgb")?n.rgbToRgba(t):0===t.indexOf("#")?n.hexToRgba(t):void 0},e.prototype.bindEvents=function(){this.$element.on("mousedown",angular.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",angular.bind(this,this.handleMouseup)),this.$element.on("mouseleave",angular.bind(this,this.handleMouseup)),this.$element.on("touchmove",angular.bind(this,this.handleTouchmove))},e.prototype.handleMousedown=function(t){if(!this.mousedown)if(t.hasOwnProperty("originalEvent")&&(t=t.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(t.srcElement!==this.$element[0]){var e=this.$element[0].getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;this.createRipple(n,o)}else this.createRipple(t.offsetX,t.offsetY)},e.prototype.handleMouseup=function(){this.$timeout(function(){n(this,this.clearRipples)}.bind(this))},e.prototype.handleTouchmove=function(){n(this,this.deleteRipples)},e.prototype.deleteRipples=function(){for(var t=0;t<this.ripples.length;t++)this.ripples[t].remove()},e.prototype.clearRipples=function(){for(var t=0;t<this.ripples.length;t++)this.fadeInComplete(this.ripples[t])},e.prototype.createContainer=function(){var t=angular.element('<div class="md-ripple-container"></div>');return this.$element.append(t),t},e.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},e.prototype.isRippleAllowed=function(){var t=this.$element[0];do{if(!t.tagName||"BODY"===t.tagName)break;if(t&&angular.isFunction(t.hasAttribute)){if(t.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(t=t.parentNode);return!0},e.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},e.prototype.createRipple=function(t,e){if(this.isRippleAllowed()){var n=this,o=n.$mdColorUtil,i=angular.element('<div class="md-ripple"></div>'),r=this.$element.prop("clientWidth"),a=this.$element.prop("clientHeight"),s=2*Math.max(Math.abs(r-t),t),l=2*Math.max(Math.abs(a-e),e),c=function(t,e,n){return t?Math.max(e,n):Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}(this.options.fitRipple,s,l),u=this.calculateColor();i.css({left:t+"px",top:e+"px",background:"black",width:c+"px",height:c+"px",backgroundColor:o.rgbaToRgb(u),borderColor:o.rgbaToRgb(u)}),this.lastRipple=i,this.clearTimeout(),this.timeout=this.$timeout(function(){n.clearTimeout(),n.mousedown||n.fadeInComplete(i)},157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:u}),this.container.append(i),this.ripples.push(i),i.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){i.addClass("md-ripple-scaled md-ripple-active"),n.$timeout(function(){n.clearRipples()},450,!1)},!1)}},e.prototype.fadeInComplete=function(t){this.lastRipple===t&&(this.timeout||this.mousedown)||this.removeRipple(t)},e.prototype.removeRipple=function(t){var e=this;this.ripples.indexOf(t)<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("md-ripple-active"),t.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){e.fadeOutComplete(t)},450,!1))},e.prototype.fadeOutComplete=function(t){t.remove(),this.lastRipple=null}}(),function(){function t(t){return{attach:function(e,n,o){return t.attach(e,n,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}}}t.$inject=["$mdInkRipple"],angular.module("material.core").factory("$mdTabInkRipple",t)}(),angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),function(angular){function t(t){var e=!!document.querySelector("[md-themes-disabled]");t.disableTheming(e)}t.$inject=["$mdThemingProvider"],v.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],b.$inject=["$mdTheming"],y.$inject=["$mdColorPalette","$$mdMetaProvider"],M.$inject=["$injector","$mdTheming"],angular.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",v).directive("mdThemable",b).directive("mdThemesDisabled",function(){return g.disableTheming=!0,{restrict:"A",priority:"900"}}).provider("$mdTheming",y).config(t).run(M);var n,o={},i={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},r={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},a="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",s="",l=_("rgba(0,0,0,0.87)"),c=_("rgba(255,255,255,0.87)"),u=_("rgb(255,255,255)"),p=["primary","accent","warn","background"],h="primary",d={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},f={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};p.forEach(function(t){var e={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};d[t]||(d[t]=e),f[t]||(f[t]=e)});var m=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],g={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null};function y(t,o){E.$inject=["$rootScope","$mdUtil","$q","$log"],n={};var l,c={},u=!1,h="default";angular.extend(n,t);var y=function(t){var e=(t=angular.isObject(t)?t:{}).theme||"default",i=t.hue||"800",r=n[t.palette]||n[c[e].colors[t.palette||"primary"].name],a=angular.isObject(r[i])?r[i].hex:r[i];return"#"!==a.substr(0,1)&&(a="#"+a),function(t){var e=o.setMeta("theme-color",t),n=o.setMeta("msapplication-navbutton-color",t);return function(){e(),n()}}(a)};return l={definePalette:function(t,e){return e=e||{},n[t]=v(t,e),l},extendPalette:function(t,e){return v(t,angular.extend({},n[t]||{},e))},theme:b,configuration:function(){return angular.extend({},g,{defaultTheme:h,alwaysWatchTheme:u,registeredStyles:[].concat(g.registeredStyles)})},disableTheming:function(t){g.disableTheming=angular.isUndefined(t)||!!t},registerStyles:function(t){g.registeredStyles.push(t)},setNonce:function(t){g.nonce=t},generateThemesOnDemand:function(t){g.generateOnDemand=t},setDefaultTheme:function(t){h=t},alwaysWatchTheme:function(t){u=t},enableBrowserColor:y,$get:E,_LIGHT_DEFAULT_HUES:d,_DARK_DEFAULT_HUES:f,_PALETTES:n,_THEMES:c,_parseRules:w,_rgba:x};function v(t,e){var n=m.filter(function(t){return!e[t]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function b(t,e){if(c[t])return c[t];var n="string"==typeof(e=e||"default")?c[e]:e,o=new function(t){var e=this;function n(t){if((t=0===arguments.length||!!t)!==e.isDark){e.isDark=t,e.foregroundPalette=e.isDark?r:i,e.foregroundShadow=e.isDark?a:s;var n=e.isDark?f:d,o=e.isDark?d:f;return angular.forEach(n,function(t,n){var i=e.colors[n],r=o[n];if(i)for(var a in i.hues)i.hues[a]===r[a]&&(i.hues[a]=t[a])}),e}}e.name=t,e.colors={},e.dark=n,n(!1),p.forEach(function(t){var n=(e.isDark?f:d)[t];e[t+"Palette"]=function(o,i){var r=e.colors[t]={name:o,hues:angular.extend({},n,i)};return Object.keys(r.hues).forEach(function(t){if(!n[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",e.name).replace("%3",o).replace("%4",Object.keys(n).join(", ")))}),Object.keys(r.hues).map(function(t){return r.hues[t]}).forEach(function(n){if(-1==m.indexOf(n))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",n).replace("%2",e.name).replace("%3",t).replace("%4",o).replace("%5",m.join(", ")))}),e},e[t+"Color"]=function(){var n=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),e[t+"Palette"].apply(e,n)}})}(t);return n&&angular.forEach(n.colors,function(t,e){o.colors[e]={name:t.name,hues:angular.extend({},t.hues)}}),c[t]=o,o}function E(t,o,i,r){var a=function(n,o){o===e&&(o=n,n=e),n===e&&(n=t),a.inherit(o,o)};return Object.defineProperty(a,"THEMES",{get:function(){return angular.extend({},c)}}),Object.defineProperty(a,"PALETTES",{get:function(){return angular.extend({},n)}}),Object.defineProperty(a,"ALWAYS_WATCH",{get:function(){return u}}),a.inherit=function(t,n){var i=n.controller("mdTheme")||t.data("$mdThemeController"),a=t.scope();if(d(i&&i.$mdTheme||("default"===h?"":h)),i){var l=u||i.$shouldWatch||o.parseAttributeBoolean(t.attr("md-theme-watch"));if(l||i.isAsyncTheme){var c=function(){p&&(p(),p=e)},p=i.registerChanges(function(t){d(t),l||c()});a?a.$on("$destroy",c):t.on("$destroy",c)}}function d(e){if(e){s(e)||r.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var n=t.data("$mdThemeName");n&&t.removeClass("md-"+n+"-theme"),t.addClass("md-"+e+"-theme"),t.data("$mdThemeName",e),i&&t.data("$mdThemeController",i)}}},a.registered=s,a.defaultTheme=function(){return h},a.generateTheme=function(t){C(c[t],t,g.nonce)},a.defineTheme=function(t,e){e=e||{};var n=b(t);return e.primary&&n.primaryPalette(e.primary,e.primaryHues),e.accent&&n.accentPalette(e.accent,e.accentHues),e.warn&&n.warnPalette(e.warn,e.warnHues),e.background&&n.backgroundPalette(e.background,e.backgroundHues),e.dark&&n.dark(),this.generateTheme(t),i.resolve(t)},a.setBrowserColor=y,a;function s(t){return t===e||""===t||a.THEMES[t]!==e}}}function v(t,e,n,o,i,r){return{priority:101,link:{pre:function(a,s,l){var c=[],u=e.startSymbol(),p=e.endSymbol(),h=l.mdTheme.trim(),d=h.substr(0,u.length)===u&&h.lastIndexOf(p)===h.length-p.length,f="::"===l.mdTheme.split(u).join("").split(p).join("").trim().substr(0,"::".length),m=function(){var t=e(l.mdTheme)(a);return n(t)(a)||t},g={isAsyncTheme:angular.isFunction(m())||angular.isFunction(m().then),registerChanges:function(t,e){return e&&(t=angular.bind(e,t)),c.push(t),function(){var e=c.indexOf(t);e>-1&&c.splice(e,1)}},$setTheme:function(e){t.registered(e)||r.warn("attempted to use unregistered theme '"+e+"'"),g.$mdTheme=e;for(var n=c.length;n--;)c[n](e)},$shouldWatch:o.parseAttributeBoolean(s.attr("md-theme-watch"))||t.ALWAYS_WATCH||d&&!f};s.data("$mdThemeController",g);var y=function(t){if("string"==typeof t)return g.$setTheme(t);i.when(angular.isFunction(t)?t():t).then(function(t){g.$setTheme(t)})};y(m());var v=a.$watch(m,function(t){t&&(y(t),g.$shouldWatch||v())})}}}}function b(t){return t}function w(t,e,o){!function(t,e){if(!n[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(n).join(", ")))}(t,e),o=o.replace(/THEME_NAME/g,t.name);var i=new RegExp("\\.md-"+t.name+"-theme","g");o=o.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,function(e,o,i,r,a){return"foreground"===o?"shadow"==i?t.foregroundShadow:t.foregroundPalette[i]||t.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=t.colors[o].hues[i]),x((n[t.colors[o].name][i]||"")[a?"contrast":"value"],r))});var r=new RegExp("('|\")?{{\\s*([a-zA-Z]+)-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),a=[];return angular.forEach(["default","hue-1","hue-2","hue-3"],function(e){var s=o.replace(r,function(o,i,r,a,s){var l=t.colors[r];return x(n[l.name][l.hues[e]]["color"===a?"value":"contrast"],s)});"default"!==e&&(s=s.replace(i,".md-"+t.name+"-theme.md-"+e)),"default"==t.name&&(s=s.replace(/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,function(t,e,n){return t+", "+e+n})),a.push(s)}),a}var E={};function M(t,e){var i=document.head,r=i?i.firstElementChild:null,a=!g.disableTheming&&t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(a+=g.registeredStyles.join(""),r&&0!==a.length){angular.forEach(n,function(t,e){var n=t.contrastDefaultColor,o=t.contrastLightColors||[],i=t.contrastStrongLightColors||[],r=t.contrastDarkColors||[];"string"==typeof o&&(o=o.split(" ")),"string"==typeof i&&(i=i.split(" ")),"string"==typeof r&&(r=r.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,angular.forEach(t,function(e,a){if(!angular.isObject(e)){var s=_(e);if(!s)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",e).replace("%2",t.name).replace("%3",a));t[a]={hex:t[a],value:s,contrast:"light"===n?r.indexOf(a)>-1?l:i.indexOf(a)>-1?u:c:o.indexOf(a)>-1?i.indexOf(a)>-1?u:c:l}}})});var s=a.split(/\}(?!(\}|'|"|;))/).filter(function(t){return t&&t.trim().length}).map(function(t){return t.trim()+"}"});p.forEach(function(t){E[t]=""}),s.forEach(function(t){for(var e,n=0;e=p[n];n++)if(t.indexOf(".md-"+e)>-1)return E[e]+=t;for(n=0;e=p[n];n++)if(t.indexOf(e)>-1)return E[e]+=t;return E[h]+=t}),g.generateOnDemand||angular.forEach(e.THEMES,function(t){o[t.name]||"default"!==e.defaultTheme()&&"default"===t.name||C(t,t.name,g.nonce)})}}function C(t,e,n){var i=document.head,r=i?i.firstElementChild:null;o[e]||(p.forEach(function(e){for(var o=w(t,e,E[e]);o.length;){var a=o.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode(a)),i.insertBefore(s,r)}}}),o[t.name]=!0)}function _(t){if(angular.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var e=t.length/3,n=t.substr(0,e),o=t.substr(e,e),i=t.substr(2*e);return 1===e&&(n+=n,o+=o,i+=i),[parseInt(n,16),parseInt(o,16),parseInt(i,16)]}}function x(t,e){return t?(4==t.length&&(t=angular.copy(t),e?t.pop():e=t.pop()),e&&("number"==typeof e||"string"==typeof e&&e.length)?"rgba("+t.join(",")+","+e+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}}(t.angular),angular.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){s.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",s);var t=48,n=5,o=8,i=2,r="standard",a="virtual";function s(s,l,c,u,p,h,d,f,m,g,y,v){var b,w,E,M=this,C=s.itemsExpr.split(/ in /i),_=C[1],x=null,S={},T=!1,k=[],A=!1,P=0,D=null,I=null,O=c.debounce(function(){M.hidden||F()}),N=a;b="hidden",w=function(t,e){!t&&e?(F(),rt(!0,R.Count|R.Selected),x&&(c.disableScrollAround(x.ul),D=function(t){function e(t){t.preventDefault()}return t.on("wheel",e),t.on("touchmove",e),function(){t.off("wheel",e),t.off("touchmove",e)}}(angular.element(x.wrap)))):t&&!e&&(c.enableScrolling(),D&&(D(),D=null))},E=!0,Object.defineProperty(M,b,{get:function(){return E},set:function(t){var e=E;E=t,w(t,e)}}),M.scope=s,M.parent=s.$parent,M.itemName=C[0],M.matches=[],M.loading=!1,M.hidden=!0,M.index=null,M.id=c.nextUid(),M.isDisabled=null,M.isRequired=null,M.isReadonly=null,M.hasNotFound=!1,M.selectedMessage=s.selectedMessage||"selected",M.keydown=function(t){switch(t.keyCode){case u.KEY_CODE.DOWN_ARROW:if(M.loading||Q())return;t.stopPropagation(),t.preventDefault(),M.index=Math.min(M.index+1,M.matches.length-1),at(),rt(!1,R.Selected);break;case u.KEY_CODE.UP_ARROW:if(M.loading||Q())return;t.stopPropagation(),t.preventDefault(),M.index=M.index<0?M.matches.length-1:Math.max(0,M.index-1),at(),rt(!1,R.Selected);break;case u.KEY_CODE.TAB:if(V(),M.hidden||M.loading||M.index<0||M.matches.length<1)return;nt(M.index);break;case u.KEY_CODE.ENTER:if(M.hidden||M.loading||M.index<0||M.matches.length<1)return;if(Q())return;t.stopImmediatePropagation(),t.preventDefault(),nt(M.index);break;case u.KEY_CODE.ESCAPE:if(t.preventDefault(),!(Z("blur")||!M.hidden||M.loading||Z("clear")&&s.searchText))return;t.stopPropagation(),ot(),s.searchText&&Z("clear")&&it(),M.hidden=!0,Z("blur")&&function(t){t&&(T=!1,A=!1);x.input.blur()}(!0)}},M.blur=function(t){A=!1,T||(M.hidden=K(),pt("ngBlur",{$event:t}))},M.focus=function(t){A=!0,X()&&et()&&ct();M.hidden=K(),pt("ngFocus",{$event:t})},M.clear=function(){ot(),it()},M.select=nt,M.listEnter=function(){T=!0},M.listLeave=V,M.mouseUp=function(){x.input.focus()},M.getCurrentDisplayValue=tt,M.registerSelectedItemWatcher=function(t){-1===k.indexOf(t)&&k.push(t)},M.unregisterSelectedItemWatcher=function(t){var e=k.indexOf(t);-1!==e&&k.splice(e,1)},M.notFoundVisible=lt,M.loadingIsVisible=function(){return M.loading&&!Q()},M.positionDropdown=F;var L,R={Count:1,Selected:2};return c.initOptionalProperties(s,m,{searchText:"",selectedItem:null,clearButton:!1,disableVirtualRepeat:!1}),p(l),L=parseInt(s.delay,10)||0,m.$observe("disabled",function(t){M.isDisabled=c.parseAttributeBoolean(t,!1)}),m.$observe("required",function(t){M.isRequired=c.parseAttributeBoolean(t,!1)}),m.$observe("readonly",function(t){M.isReadonly=c.parseAttributeBoolean(t,!1)}),s.$watch("searchText",L?c.debounce(q,L):q),s.$watch("selectedItem",B),angular.element(h).on("resize",O),s.$on("$destroy",H),void c.nextTick(function(){var t;t=function(){var t,e;for(t=l;t.length&&(e=t.attr("md-autocomplete-snap"),!angular.isDefined(e));t=t.parent());if(t.length)return{snap:t[0],wrap:"width"===e.toLowerCase()?t[0]:l.find("md-autocomplete-wrap")[0]};var n=l.find("md-autocomplete-wrap")[0];return{snap:n,wrap:n}}(),(x={main:l[0],scrollContainer:l[0].querySelector(".md-virtual-repeat-container, .md-standard-list-container"),scroller:l[0].querySelector(".md-virtual-repeat-scroller, .md-standard-list-scroller"),ul:l.find("ul")[0],input:l.find("input")[0],wrap:t.wrap,snap:t.snap,root:document.body}).li=x.ul.getElementsByTagName("li"),x.$=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=angular.element(t[n]));return e}(x),N=x.scrollContainer.classList.contains("md-standard-list-container")?r:a,I=x.$.input.controller("ngModel"),x.$.root.length&&(p(x.$.scrollContainer),x.$.scrollContainer.detach(),x.$.root.append(x.$.scrollContainer),d.pin&&d.pin(x.$.scrollContainer,f)),s.autofocus&&l.on("focus",U),s.inputAriaDescribedBy&&x.input.setAttribute("aria-describedby",s.inputAriaDescribedBy),s.floatingLabel||(s.inputAriaLabel?x.input.setAttribute("aria-label",s.inputAriaLabel):s.inputAriaLabelledBy?x.input.setAttribute("aria-labelledby",s.inputAriaLabelledBy):s.placeholder&&x.input.setAttribute("aria-label",s.placeholder))});function j(){s.requireMatch&&I&&I.$setValidity("md-require-match",!!s.selectedItem||!s.searchText)}function F(){if(!x)return c.nextTick(F,!1,s);var e,r=(s.dropdownItems||n)*t,a=x.wrap.getBoundingClientRect(),u=x.snap.getBoundingClientRect(),p=x.root.getBoundingClientRect(),h=u.bottom-p.top,d=p.bottom-u.top,f=a.left-p.left,g=a.width,y=function(){var t=0,e=l.find("md-input-container");if(e.length){var n=e.find("input");t=e.prop("offsetHeight"),t-=n.prop("offsetTop"),t-=n.prop("offsetHeight"),t+=e.prop("offsetTop")}return t}(),v=s.dropdownPosition;if(v||(v=u.top+o>r?"top":"bottom"),m.mdFloatingLabel&&(f+=i,g-=2*i),e={left:f+"px",minWidth:g+"px",maxWidth:Math.max(a.right-p.left,p.right-a.left)-o+"px"},"top"===v)e.top="auto",e.bottom=d+"px",e.maxHeight=Math.min(r,a.top-p.top-o)+"px";else{var b=p.bottom-a.bottom-o+c.getViewportTop();e.top=h-y+"px",e.bottom="auto",e.maxHeight=Math.min(r,b)+"px"}x.$.scrollContainer.css(e),c.nextTick(function(){var t=x.scrollContainer.getBoundingClientRect(),e={};t.right>p.right-o&&(e.left=a.right-t.width+"px");x.$.scrollContainer.css(e)},!1)}function U(){x.input.focus()}function H(){if(M.hidden||c.enableScrolling(),angular.element(h).off("resize",O),x){angular.forEach(["ul","scroller","scrollContainer","input"],function(t){x.$[t].remove()})}}function V(){A||M.hidden||x.input.focus(),T=!1,M.hidden=K()}function B(t,e){j(),t?z(t).then(function(n){s.searchText=n,function(t,e){k.forEach(function(n){n(t,e)})}(t,e)}):e&&s.searchText&&z(e).then(function(t){angular.isString(s.searchText)&&t.toString().toLowerCase()===s.searchText.toLowerCase()&&(s.searchText="")}),t!==e&&angular.isFunction(s.itemChange)&&s.itemChange(G(s.selectedItem))}function q(t,e){M.index=s.autoselect?0:-1,t!==e&&(j(),z(s.selectedItem).then(function(n){t!==n&&(s.selectedItem=null,t!==e&&angular.isFunction(s.textChange)&&s.textChange(),et()?ct():(M.matches=[],Y(!1),rt(!0,R.Count)))}))}function W(){return angular.isNumber(s.minLength)?s.minLength:1}function z(t){return g.when(function(t){return t&&s.itemText?s.itemText(G(t)):null}(t)||t).then(function(t){return t&&!angular.isString(t)&&y.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),t})}function G(t){if(!t)return e;var n={};return M.itemName&&(n[M.itemName]=t),n}function Y(t){M.loading!==t&&(M.loading=t),M.hidden=K()}function K(){return!function(){if(M.isReadonly)return!1;if(!X())return!1;return et()&&J()||lt()}()}function X(){return!(M.loading&&!J())&&(!Q()&&!!A)}function Z(t){return!s.escapeOptions||-1!==s.escapeOptions.toLowerCase().indexOf(t)}function J(){return!!M.matches.length}function Q(){return!!M.scope.selectedItem}function tt(){return z(M.matches[M.index])}function et(){return(s.searchText||"").length>=W()}function nt(t){c.nextTick(function(){z(M.matches[t]).then(function(t){var e=x.$.input.controller("ngModel");v.announce(t+" "+M.selectedMessage,"assertive"),e.$setViewValue(t),e.$render()}).finally(function(){s.selectedItem=M.matches[t],Y(!1)})},!1)}function ot(){M.index=0,M.matches=[]}function it(){Y(!0),s.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),x.input.dispatchEvent(t),x.input.blur(),s.searchText="",x.input.focus()}function rt(t,e){var n=t?"polite":"assertive",o=[];e&R.Selected&&-1!==M.index&&o.push(tt()),e&R.Count&&o.push(g.resolve(function(){switch(M.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+M.matches.length+" matches available."}}())),g.all(o).then(function(t){v.announce(t.join(" "),n)})}function at(){var t,e,n,o,i;x.li[0]&&(N===r?(t=x.li[M.index]||x.li[0],e=x.scrollContainer.offsetHeight,n=t&&t.offsetTop||0,o=n+t.clientHeight,i=x.scrollContainer.scrollTop,n<i?st(n):o>i+e&&st(o-e)):function(){var t=x.li[0].offsetHeight,e=t*M.index,n=e+t,o=x.scroller.clientHeight,i=x.scroller.scrollTop;e<i?st(e):n>i+o&&st(n-o)}())}function st(t){N===r?x.scrollContainer.scrollTop=t:x.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(t)}function lt(){var t=(M.scope.searchText||"").length;return M.hasNotFound&&!J()&&(!M.loading||0!==P)&&t>=W()&&(A||T)&&!Q()}function ct(){var t=s.searchText||"",e=t.toLowerCase();!s.noCache&&S[e]?ut(S[e]):function(t){var e=s.$parent.$eval(_),n=t.toLowerCase(),o=angular.isArray(e),i=!!e.then;function r(e){S[n]=e,(t||"")===(s.searchText||"")&&ut(e)}o?r(e):i&&function(t){t&&(t=g.when(t),P++,Y(!0),c.nextTick(function(){t.then(r).finally(function(){0==--P&&Y(!1)})},!0,s))}(e)}(t),M.hidden=K()}function ut(t){var e,n,o;M.matches=t,M.hidden=K(),M.loading&&Y(!1),s.selectOnMatch&&(e=s.searchText,n=M.matches,o=n[0],1===n.length&&z(o).then(function(t){var n=e===t;s.matchInsensitive&&!n&&(n=e.toLowerCase()===t.toLowerCase()),n&&nt(0)})),F(),rt(!0,R.Count)}function pt(t,e){m[t]&&s.$parent.$eval(m[t],e||{})}}}(),function(){function t(t){var e="virtual",n=["standard",e];function o(t){return t?(t=t.toLowerCase(),n.indexOf(t)>-1?t:e):e}return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?inputAriaLabel",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",menuContainerClass:"@?mdMenuContainerClass",inputClass:"@?mdInputClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton",selectedMessage:"@?mdSelectedMessage",mdMode:"=?mdMode"},compile:function(t,e){var n=t.find("input");return["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"].forEach(function(t){var o=e[e.$normalize(t)];null!==o&&n.attr(t,o)}),function(t,e,n,i){i.hasNotFound=!!e.attr("md-has-not-found"),angular.isDefined(n.mdClearButton)||t.floatingLabel||(t.clearButton=!0),t.mdMode=o(n.mdMode)}},template:function(n,i){var r,a,s=(r=n.find("md-not-found").detach(),(a=r.length?r.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+a+"</li>":""),l=function(){var t=n.find("md-item-template").detach(),e=t.length?t.html():n.html();t.length||n.empty();return"<md-autocomplete-parent-scope md-autocomplete-replace>"+e+"</md-autocomplete-parent-scope>"}(),c=n.html(),u=i.tabindex;return s&&n.attr("md-has-not-found",!0),n.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+(i.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                '+(null!=u?'tabindex="'+u+'"':"")+'                id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-class="::inputClass"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-model-options="{ allowInvalid: true }"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                aria-label="{{floatingLabel}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                ng-attr-aria-activedescendant="{{$mdAutocompleteCtrl.index >= 0 ? \'selected_option\' : undefined}}">              <div md-autocomplete-parent-scope md-autocomplete-replace>'+c+"</div>            </md-input-container>":'            <input type="search"              '+(null!=u?'tabindex="'+u+'"':"")+'              id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"              name="{{inputName}}"              ng-class="::inputClass"              ng-if="!floatingLabel"              autocomplete="off"              ng-required="$mdAutocompleteCtrl.isRequired"              ng-disabled="$mdAutocompleteCtrl.isDisabled"              ng-readonly="$mdAutocompleteCtrl.isReadonly"              ng-minlength="inputMinlength"              ng-maxlength="inputMaxlength"              ng-model="$mdAutocompleteCtrl.scope.searchText"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              ng-blur="$mdAutocompleteCtrl.blur($event)"              ng-focus="$mdAutocompleteCtrl.focus($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              aria-autocomplete="list"              role="combobox"              aria-haspopup="true"              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"              aria-owns="ul-{{$mdAutocompleteCtrl.id}}"              ng-attr-aria-activedescendant="{{$mdAutocompleteCtrl.index >= 0 ? \'selected_option\' : undefined}}">')+'          <button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+t.mdClose+'"></md-icon></button>          <md-progress-linear              class="'+(i.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          '+function(t,e){if(t=t?" "+t:"",p(e))return'            <div                 ng-hide="$mdAutocompleteCtrl.hidden"                class="md-standard-list-container md-autocomplete-suggestions-container md-whiteframe-z1'+t+'"                ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"                role="presentation">              <div class="md-standard-list-scroller" role="presentation">';return'          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-virtual-repeat-container md-autocomplete-suggestions-container md-whiteframe-z1'+t+'"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">'}(i.mdMenuContainerClass,i.mdMode)+'            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}"                ng-mouseenter="$mdAutocompleteCtrl.listEnter()"                ng-mouseleave="$mdAutocompleteCtrl.listLeave()"                ng-mouseup="$mdAutocompleteCtrl.mouseUp()"                role="listbox">              <li '+(p(i.mdMode)?"ng-repeat":"md-virtual-repeat")+' ="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-attr-id="{{$index === $mdAutocompleteCtrl.index ? \'selected_option\' : undefined}}"                  ng-click="$mdAutocompleteCtrl.select($index)"                  role="option"                  aria-setsize="{{$mdAutocompleteCtrl.matches.length}}"                  aria-posinset="{{$index+1}}"                  aria-selected="{{$index === $mdAutocompleteCtrl.index ? true : false}}"                   md-extra-name="$mdAutocompleteCtrl.itemName">                  '+l+"                  </li>"+s+"            </ul>          "+function(t){return p(t)?"   </div>              </div>            </div>":"</md-virtual-repeat-container>"}(i.mdMode)+"        </md-autocomplete-wrap>";function p(t){return o(t)!==e}}}}t.$inject=["$$mdSvgRegistry"],angular.module("material.components.autocomplete").directive("mdAutocomplete",t)}(),function(){function t(t,e){return{restrict:"AE",compile:function(t,n,o){return function(t,n,i){var r,a,s=t.$mdAutocompleteCtrl,l=s.parent.$new(),c=s.itemName;function u(n,o){l[o]=t[n],t.$watch(n,function(t){e.nextTick(function(){l[o]=t})})}u("$index","$index"),u("item",c),r=!1,a=!1,t.$watch(function(){a||r||(r=!0,t.$$postDigest(function(){a||l.$digest(),r=a=!1}))}),l.$watch(function(){a=!0}),o(l,function(t){n.after(t)})}},terminal:!0,transclude:"element"}}t.$inject=["$compile","$mdUtil"],angular.module("material.components.autocomplete").directive("mdAutocompleteParentScope",t)}(),function(){function t(t,e,n){this.$scope=t,this.$element=e,this.$attrs=n,this.regex=null}t.$inject=["$scope","$element","$attrs"],angular.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.prototype.init=function(t,e){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:t(n),contentText:e(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},t.prototype.onRender=function(t,e){var n=t.contentText;null!==this.regex&&t.term===e.term||(this.regex=this.createRegex(t.term,this.flags)),t.term?this.applyRegex(n):this.$element.text(n)},t.prototype.applyRegex=function(t){var e=this.resolveTokens(t);this.$element.empty(),e.forEach(function(t){if(t.isMatch){var e=angular.element('<span class="highlight">').text(t.text);this.$element.append(e)}else this.$element.append(document.createTextNode(t))}.bind(this))},t.prototype.resolveTokens=function(t){var e=[],n=0;return t.replace(this.regex,function(t,i){o(n,i),e.push({text:t,isMatch:!0}),n=i+t.length}),o(n),e;function o(n,o){var i=t.slice(n,o);i&&e.push(i)}},t.prototype.createRegex=function(t,e){var n="",o="",i=this.sanitizeRegex(t);return e.indexOf("^")>=0&&(n="^"),e.indexOf("$")>=0&&(o="$"),new RegExp(n+i+o,e.replace(/[$^]/g,""))},t.prototype.sanitizeRegex=function(t){return t&&t.toString().replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")}}(),function(){function t(t,e){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,o){var i=e(o.mdHighlightText),r=t(n.html());return function(t,e,n,o){o.init(i,r)}}}}t.$inject=["$interpolate","$parse"],angular.module("material.components.autocomplete").directive("mdHighlightText",t)}(),angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(t,e,n,o,i,r,a,s){var l="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:function(c,u,p){var h;function d(){var t=parseInt(h.height,10)+Math.abs(parseInt(h.top,10));u.css("height",t+"px")}n.pin&&n.pin(u,o),a(function(){if("fixed"===(h=i.getComputedStyle(s[0].body)).position){var n=e.debounce(function(){h=i.getComputedStyle(s[0].body),d()},60,null,!1);d(),angular.element(i).on("resize",n),c.$on("$destroy",function(){angular.element(i).off("resize",n)})}var o=u.parent();if(o.length){"BODY"===o[0].nodeName&&u.css("position","fixed");var a=i.getComputedStyle(o[0]);"static"===a.position&&r.warn(l),t.inherit(u,o)}})}}}]),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",function(){t.destroy()})}}}function e(t){o.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var e=.5,n=80;return t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:o});function o(t,o,i,r,a,s,l,c){var u;return{themable:!0,onShow:function(p,h,d,f){if((h=i.extractElementByName(h,"md-bottom-sheet")).attr("tabindex","-1"),h.hasClass("ng-cloak")){c.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak>` will affect the bottom-sheet opening animations.",h[0])}d.isLockedOpen?(d.clickOutsideToClose=!1,d.escapeToClose=!1):d.cleanupGestures=function(t,r){var s=l.register(r,"drag",{horizontal:!1});return r.on("$md.dragstart",c).on("$md.drag",u).on("$md.dragend",p),function(){s(),r.off("$md.dragstart",c),r.off("$md.drag",u),r.off("$md.dragend",p)};function c(){t.css(o.CSS.TRANSITION_DURATION,"0ms")}function u(e){var i=e.pointer.distanceY;i<5&&(i=Math.max(-n,i/2)),t.css(o.CSS.TRANSFORM,"translate3d(0,"+(n+i)+"px,0)")}function p(n){if(n.pointer.distanceY>0&&(n.pointer.distanceY>20||Math.abs(n.pointer.velocityY)>e)){var r=t.prop("offsetHeight")-n.pointer.distanceY,s=Math.min(r/n.pointer.velocityY*.75,500);t.css(o.CSS.TRANSITION_DURATION,s+"ms"),i.nextTick(a.cancel,!0)}else t.css(o.CSS.TRANSITION_DURATION,""),t.css(o.CSS.TRANSFORM,"")}}(h,d.parent);d.disableBackdrop||((u=i.createBackdrop(p,"md-bottom-sheet-backdrop md-opaque"))[0].tabIndex=-1,d.clickOutsideToClose&&u.on("click",function(){i.nextTick(a.cancel,!0)}),r.inherit(u,d.parent),t.enter(u,d.parent,null));r.inherit(h,d.parent),d.disableParentScroll&&(d.restoreScroll=i.disableScrollAround(h,d.parent));return t.enter(h,d.parent,u).then(function(){var t=i.findFocusTarget(h)||angular.element(h[0].querySelector("button")||h[0].querySelector("a")||h[0].querySelector(i.prefixer("ng-click",!0)))||u;d.escapeToClose&&(d.rootElementKeyupCallback=function(t){t.keyCode===o.KEY_CODE.ESCAPE&&i.nextTick(a.cancel,!0)},s.on("keyup",d.rootElementKeyupCallback),t&&t.focus())})},onRemove:function(e,n,o){o.disableBackdrop||t.leave(u);return t.leave(n).then(function(){o.disableParentScroll&&(o.restoreScroll(),delete o.restoreScroll),o.cleanupGestures&&o.cleanupGestures()})},disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0,isLockedOpen:!1}}}t.$inject=["$mdBottomSheet"],e.$inject=["$$interimElementProvider"],angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",e)}(),function(){function t(t){return{restrict:"E",link:function(e,n){t(n)}}}function e(t,e,n,o){return{restrict:"EA",replace:!0,transclude:!0,template:function(t,e){if(i(e))return'<a class="md-button" ng-transclude></a>';var n=void 0===e.type?"button":e.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'},link:function(r,a,s){e(a),t.attach(r,a),n.expectWithoutText(a,"aria-label"),i(s)&&angular.isDefined(s.ngDisabled)&&!a.hasClass("_md-nav-button")&&r.$watch(s.ngDisabled,function(t){a.attr("tabindex",t?-1:0)});a.on("click",function(t){!0===s.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),a.hasClass("md-no-focus")||(a.on("focus",function(){o.isUserInvoked()&&"keyboard"!==o.getLastInteractionType()||a.addClass("md-focused")}),a.on("blur",function(){a.removeClass("md-focused")}))}};function i(t){return angular.isDefined(t.href)||angular.isDefined(t.ngHref)||angular.isDefined(t.ngLink)||angular.isDefined(t.uiSref)}}e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],t.$inject=["$mdTheming"],angular.module("material.components.button",["material.core"]).directive("mdButton",e).directive("a",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n,o){n.addClass("_md"),t(n)}}}t.$inject=["$mdTheming"],angular.module("material.components.card",["material.core"]).directive("mdCard",t)}(),function(){function t(t,e,n,o,i,r){return t=t[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:n.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:function(a,s){return s.$set("tabindex",s.tabindex||"0"),s.$set("type","checkbox"),s.$set("role",s.type),{pre:function(t,e){e.on("click",function(t){this.hasAttribute("disabled")&&t.stopImmediatePropagation()})},post:function(a,s,l,c){var u,p,h,d,f=c[0],m=c[1]||i.fakeNgModel(),g=c[2];if(f){var y=f.isErrorGetter||function(){return m.$invalid&&(m.$touched||g&&g.$submitted)};f.input=s,a.$watch(y,f.setInvalid)}function v(t){s[0].hasAttribute("disabled")||a.skipToggle||a.$apply(function(){var e=l.ngChecked&&l.ngClick?l.checked:!m.$viewValue;m.$setViewValue(e,t&&t.type),m.$render()})}function b(t){(u=!1!==t)&&s.attr("aria-checked","mixed"),s.toggleClass("md-indeterminate",u)}o(s),s.children().on("focus",function(){s.focus()}),i.parseAttributeBoolean(l.mdIndeterminate)&&(b(),a.$watch(l.mdIndeterminate,b)),l.ngChecked&&a.$watch(a.$eval.bind(a,l.ngChecked),function(t){m.$setViewValue(t),m.$render()}),p="ngDisabled",h="tabindex",d={true:"-1",false:l.tabindex},l[p]&&a.$watch(l[p],function(t){d[t]&&s.attr(h,d[t])}),e.expectWithText(s,"aria-label"),t.link.pre(a,{on:angular.noop,0:{}},l,[m]),s.on("click",v).on("keypress",function(t){var e,o,r=t.which||t.keyCode;switch(t.preventDefault(),r){case n.KEY_CODE.SPACE:s.addClass("md-focused"),v(t);break;case n.KEY_CODE.ENTER:(o=i.getClosest(t.target,"form"))&&(e=o.querySelector('button[type="submit"]:enabled, input[type="submit"]:enabled'))&&e.click()}}).on("focus",function(){"keyboard"===r.getLastInteractionType()&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")}),m.$render=function(){s.toggleClass("md-checked",!!m.$viewValue&&!u)}}}}}}t.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t)}(),angular.module("material.components.chips",["material.core","material.components.autocomplete"]),function(){function n(t,n,o,i,r){this.$scope=t,this.$element=n,this.$mdConstant=o,this.$timeout=i,this.$mdUtil=r,this.isEditing=!1,this.parentController=e,this.enableChipEdit=!1}n.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],angular.module("material.components.chips").controller("MdChipCtrl",n),n.prototype.init=function(t){this.parentController=t,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("dblclick",this.chipMouseDoubleClick.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},n.prototype.getChipContent=function(){var t=this.$element[0].getElementsByClassName("md-chip-content");return angular.element(t[0])},n.prototype.getContentElement=function(){var t=angular.element(this.getChipContent().children()[0]);return t&&0!==t.length||(t=angular.element(this.getChipContent().contents()[0])),t},n.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},n.prototype.goOutOfEditMode=function(){if(this.isEditing){this.isEditing=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var t=this.getChipIndex(),e=this.getContentElement().text();e?(this.parentController.updateChipContents(t,e),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===t&&this.parentController.focusChip(t)}.bind(this))):this.parentController.removeChipAndFocusInput(t)}},n.prototype.selectNodeContents=function(e){var n,o;document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(e),n.select()):t.getSelection&&(o=t.getSelection(),(n=document.createRange()).selectNodeContents(e),o.removeAllRanges(),o.addRange(n))},n.prototype.goInEditMode=function(){this.isEditing=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},n.prototype.chipKeyDown=function(t){this.isEditing||t.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&t.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditing&&t.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(t.preventDefault(),this.goOutOfEditMode()):(t.preventDefault(),this.goInEditMode())},n.prototype.chipMouseDoubleClick=function(){this.enableChipEdit&&!this.isEditing&&this.goInEditMode()}}(),function(){function t(t,e,n,o){return{restrict:"E",require:["^?mdChips","mdChip"],link:function(e,n,i,r){var a=r.shift(),s=r.shift(),l=angular.element(n[0].querySelector(".md-chip-content"));t(n),a&&(s.init(a),l.on("blur",function(){a.resetSelectedChip(),a.$scope.$applyAsync()}));o(function(){a&&a.shouldFocusLastChip&&a.focusLastChipThenInput()})},controller:"MdChipCtrl"}}t.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],angular.module("material.components.chips").directive("mdChip",t)}(),function(){function t(t){return{restrict:"A",require:"^mdChips",scope:!1,link:function(e,n,o,i){n.on("click",function(t){e.$apply(function(){i.removeChip(e.$$replacedScope.$index)})}),t(function(){n.attr({tabindex:"-1","aria-hidden":"true"}),n.find("button").attr("tabindex","-1")})}}}t.$inject=["$timeout"],angular.module("material.components.chips").directive("mdChipRemove",t)}(),function(){function t(t){return{restrict:"EA",terminal:!0,link:function(e,n,o){var i=e.$parent.$mdChipsCtrl,r=i.parent.$new(!1,i.parent);r.$$replacedScope=e,r.$chip=e.$chip,r.$index=e.$index,r.$mdChipsCtrl=i;var a=i.$scope.$eval(o.mdChipTransclude);n.html(a),t(n.contents())(r)},scope:!1}}t.$inject=["$compile"],angular.module("material.components.chips").directive("mdChipTransclude",t)}(),function(){e.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil","$mdLiveAnnouncer","$exceptionHandler"];var t=300;function e(e,n,o,i,r,a,s,l,c){this.$timeout=a,this.$mdConstant=o,this.$scope=e,this.parent=e.$parent,this.$mdUtil=s,this.$log=i,this.$mdLiveAnnouncer=l,this.$exceptionHandler=c,this.$element=r,this.$attrs=n,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(n.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(n.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.containerEmptyHint="Chips container. Enter the text area, then type text, and press enter to add a chip.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=t,this.deRegister=[],this.addedMessage="added",this.removedMessage="removed",this.init()}angular.module("material.components.chips").controller("MdChipsCtrl",e),e.prototype.init=function(){var e=this;this.wrapperId="_md-chips-wrapper-"+this.$mdUtil.nextUid(),this.$element.attr("ng-model")||this.setupStaticChips(),this.deRegister.push(this.$scope.$watchCollection("$mdChipsCtrl.items",function(){e.setupInputAria(),e.setupWrapperAria()})),this.deRegister.push(this.$attrs.$observe("mdChipAppendDelay",function(n){e.chipAppendDelay=parseInt(n)||t}))},e.prototype.$onDestroy=function(){for(var t;t=this.deRegister.pop();)t.call(this)},e.prototype.setupInputAria=function(){var t=this.$element.find("input");t&&(t.attr("role","textbox"),t.attr("aria-multiline",!0),this.inputAriaDescribedBy&&t.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy?(t.attr("aria-labelledby",this.inputAriaLabelledBy),t.removeAttr("aria-label")):t.attr("aria-label",this.inputAriaLabel))},e.prototype.setupWrapperAria=function(){var t=this,e=this.$element.find("md-chips-wrap");this.items&&this.items.length?(e.attr("role","listbox"),this.contentIds=this.items.map(function(){return t.wrapperId+"-chip-"+t.$mdUtil.nextUid()}),e.attr("aria-owns",this.contentIds.join(" ")),e.attr("aria-label",this.containerHint)):(e.removeAttr("role"),e.removeAttr("aria-owns"),e.attr("aria-label",this.containerEmptyHint))},e.prototype.setupStaticChips=function(){var t,e,n=this,o=this.$element.find("md-chips-wrap");this.$timeout(function(){for(o.attr("role","list"),e=o[0].children,t=0;t<e.length;t++)e[t].setAttribute("role","listitem"),e[t].setAttribute("aria-setsize",e.length);n.inputAriaDescribedBy&&o.attr("aria-describedby",n.inputAriaDescribedBy),n.inputAriaLabelledBy?(o.attr("aria-labelledby",n.inputAriaLabelledBy),o.removeAttr("aria-label")):o.attr("aria-label",n.inputAriaLabel)},10)},e.prototype.inputKeydown=function(t){var e=this.getChipBuffer();if(!(this.autocompleteCtrl&&t.isDefaultPrevented&&t.isDefaultPrevented())){if(t.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(t.target))return;return t.preventDefault(),t.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(t.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!e)return;if(t.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(e.trim()),this.resetChipBuffer(),!1}}},e.prototype.getCursorPosition=function(t){try{if(t.selectionStart===t.selectionEnd)return t.selectionStart}catch(e){if(!t.value)return 0}},e.prototype.updateChipContents=function(t,e){t>=0&&t<this.items.length&&(this.items[t]=e,this.updateNgModel(!0))},e.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},e.prototype._isChipObject=function(t){return angular.isObject(t)},e.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!angular.isDefined(this.removable)||this.removable)},e.prototype.chipKeydown=function(t){if(!this.getChipBuffer()&&!this.isEditingChip())switch(t.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(t.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip,t);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:t.preventDefault(),(this.selectedChip<0||this.readonly&&0===this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:t.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;t.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""===this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(t,e){var n=this,o=n.getAdjacentChipIndex(t);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+t+'"]');n.removeChip(t,e),n.$timeout(function(){n.$timeout(function(){n.selectAndFocusChipSafe(o)})})},e.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},e.prototype.getAdjacentChipIndex=function(t){var e=this.items.length-1;return 0===e?-1:t===e?t-1:t},e.prototype.appendChip=function(t){if(this.shouldFocusLastChip=!this.addOnBlur,this.useTransformChip&&this.transformChip){var e=this.transformChip({$chip:t});angular.isDefined(e)&&(t=e)}if(angular.isObject(t)&&this.items.some(function(e){return angular.equals(t,e)}))return;if(!(null==t||this.items.indexOf(t)+1)){var n=this.items.push(t)-1;this.updateNgModel();var o=angular.isObject(t)?"":t;this.$mdLiveAnnouncer.announce(o+" "+this.addedMessage,"assertive"),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:t,$index:n})}},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){var t=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return angular.isString(t)?t:""},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.hasMaxChipsReached=function(){return angular.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},e.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached()),this.ngModelCtrl.$validate()},e.prototype.updateNgModel=function(t){t||this.validateModel(),angular.forEach(this.ngModelCtrl.$viewChangeListeners,function(t){try{t()}catch(t){this.$exceptionHandler(t)}})},e.prototype.removeChip=function(t,e){var n=this.items.splice(t,1);this.updateNgModel(),this.ngModelCtrl.$setDirty();var o=angular.isObject(n[0])?"":n[0];this.$mdLiveAnnouncer.announce(o+" "+this.removedMessage,"assertive"),n&&n.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:n[0],$index:t,$event:e})},e.prototype.removeChipAndFocusInput=function(t,e){this.removeChip(t,e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},e.prototype.selectAndFocusChipSafe=function(t){if(!this.items.length||-1===t)return this.focusInput();if(t>=this.items.length){if(!this.readonly)return this.onFocus();t=0}t=Math.max(t,0),t=Math.min(t,this.items.length-1),this.selectChip(t),this.focusChip(t)},e.prototype.focusLastChipThenInput=function(){var t=this;t.shouldFocusLastChip=!1,t.focusChip(this.items.length-1),t.$timeout(function(){t.focusInput()},t.chipAppendDelay)},e.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},e.prototype.selectChip=function(t){t>=-1&&t<=this.items.length?(this.selectedChip=t,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[t]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(t){this.selectChip(t),-1!==t&&this.focusChip(t)},e.prototype.focusChip=function(t){var e=this.$element[0].querySelector('md-chip[index="'+t+'"] .md-chip-content');this.ariaTabIndex=t,e.focus()},e.prototype.configureNgModel=function(t){this.ngModelCtrl=t;var e=this;t.$isEmpty=function(t){return!t||0===t.length},t.$render=function(){e.items=e.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var t=this.$element[0].querySelector("input");t&&t.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},e.prototype.configureInput=function(t){var e=t.controller("ngModel"),n=this;e&&(this.deRegister.push(this.$scope.$watch(function(){return e.$touched},function(t){t&&n.ngModelCtrl.$setTouched()})),this.deRegister.push(this.$scope.$watch(function(){return e.$dirty},function(t){t&&n.ngModelCtrl.$setDirty()})))},e.prototype.configureUserInput=function(t){this.userInputElement=t;var e=t.controller("ngModel");e!==this.ngModelCtrl&&(this.userInputNgModelCtrl=e);var n=this.$scope,o=this,i=function(t,e){n.$evalAsync(angular.bind(o,e,t))};t.attr({tabindex:0}).on("keydown",function(t){i(t,o.inputKeydown)}).on("focus",function(t){i(t,o.onInputFocus)}).on("blur",function(t){i(t,o.onInputBlur)})},e.prototype.configureAutocomplete=function(t){t&&(this.autocompleteCtrl=t,this.$element.attr("container-empty-hint")||(this.containerEmptyHint="Chips container with autocompletion. Enter the text area, type text to search, and then use the up and down arrow keys to select an option. Press enter to add the selected option as a chip.",this.setupWrapperAria()),t.registerSelectedItemWatcher(angular.bind(this,function(t){if(t){if(this.hasMaxChipsReached())return;this.appendChip(t),this.resetChipBuffer()}})),this.$element.find("input").on("focus",angular.bind(this,this.onInputFocus)).on("blur",angular.bind(this,this.onInputBlur)))},e.prototype.shouldAddOnBlur=function(){this.validateModel();var t=this.getChipBuffer().trim(),e=this.ngModelCtrl.$isEmpty(this.ngModelCtrl.$modelValue)||this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(e=e&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&t&&e&&!n},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},e.prototype.contentIdFor=function(t){return this.contentIds[t]}}(),function(){i.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],angular.module("material.components.chips").directive("mdChips",i);var t='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"             ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex === $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip === $index}}"              aria-setsize="{{$mdChipsCtrl.items.length}}"              aria-posinset="{{$index+1}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              aria-label="{{$mdChipsCtrl._isChipObject($chip) ? \'\' : $chip + \'. \'}}{{$mdChipsCtrl.isRemovable() ? \'\' + $mdChipsCtrl.deleteHint : \'\'}}"               ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',e='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',n="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index, $event)"          type="button"          tabindex="-1"          aria-label="{{$mdChipsCtrl.deleteButtonLabel}}{{$mdChipsCtrl._isChipObject($chip) ? \'\' : \' \' + $chip}}">        <md-icon md-svg-src="{{$mdChipsCtrl.mdCloseIcon}}" aria-hidden="true"></md-icon>      </button>';function i(i,r,a,s,l,c){var u={chips:r.processTemplate(t),input:r.processTemplate(e),default:r.processTemplate(n),remove:r.processTemplate(o)};return{template:function(t,e){return e.$mdUserTemplate=t.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:function(t,e){var n=e.$mdUserTemplate;e.$mdUserTemplate=null;var o=m("md-chips>md-chip-template"),p=m(r.prefixer().buildList("md-chip-remove").map(function(t){return"md-chips>*["+t+"]"}).join(","))||u.remove,h=o||u.default,d=m("md-chips>md-autocomplete")||m("md-chips>input")||u.input,f=n.find("md-chip");n[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template.");function m(t){if(e.ngModel){var o=n[0].querySelector(t);return o&&o.outerHTML}}return function(t,n,s,m){r.initOptionalProperties(t,e),i(n);var g=m[0];if(o&&(g.enableChipEdit=!1),g.chipContentsTemplate=h,g.chipRemoveTemplate=p,g.chipInputTemplate=d,g.mdCloseIcon=c.mdClose,n.attr({tabindex:-1}).on("focus",function(){g.onFocus()}).on("click",function(){g.readonly||-1!==g.selectedChip||g.onFocus()}),e.ngModel&&(g.configureNgModel(n.controller("ngModel")),s.mdTransformChip&&g.useTransformChipExpression(),s.mdOnAppend&&g.useOnAppendExpression(),s.mdOnAdd&&g.useOnAddExpression(),s.mdOnRemove&&g.useOnRemoveExpression(),s.mdOnSelect&&g.useOnSelectExpression(),d!==u.input&&t.$watch("$mdChipsCtrl.readonly",function(t){t||r.nextTick(function(){if(0===d.indexOf("<md-autocomplete")){var t=n.find("md-autocomplete");g.configureAutocomplete(t.controller("mdAutocomplete"))}g.configureUserInput(n.find("input"))})}),r.nextTick(function(){var t=n.find("input");t&&(g.configureInput(t),t.toggleClass("md-input",!0))})),f.length>0){var y=a(f.clone())(t.$parent);l(function(){n.find("md-chips-wrap").prepend(y)})}}},scope:{readonly:"=?readonly",removable:"=?mdRemovable",placeholder:"@?",secondaryPlaceholder:"@?",maxChips:"@?mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&?mdOnAppend",onAdd:"&?mdOnAdd",onRemove:"&?mdOnRemove",addedMessage:"@?mdAddedMessage",removedMessage:"@?mdRemovedMessage",onSelect:"&?mdOnSelect",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?",deleteButtonLabel:"@?",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay",ngChange:"&?"}}}}(),function(){function t(t,e,n){this.$element=e,this.$attrs=t,this.$timeout=n,this.selectedItem=null,this.searchText="",this.deRegister=[],this.init()}t.$inject=["$attrs","$element","$timeout"],angular.module("material.components.chips").controller("MdContactChipsCtrl",t),t.prototype.init=function(){var t=this,e=this.deRegister,n=this.$element;this.$timeout(function(){e.push(n.find("md-chips").scope().$watchCollection("$mdChipsCtrl.items",function(){t.setupChipsAria(),t.setupAutocompleteAria()}))})},t.prototype.setupChipsAria=function(){var t=this.$element.find("md-chips"),e=t.controller("mdChips");this.removedMessage&&(e.removedMessage=this.removedMessage),this.containerHint&&(e.containerHint=this.containerHint),this.containerEmptyHint&&(t.attr("container-empty-hint",this.containerEmptyHint),e.containerEmptyHint=this.containerEmptyHint),this.deleteHint&&(e.deleteHint=this.deleteHint),this.inputAriaLabel&&(e.inputAriaLabel=this.inputAriaLabel)},t.prototype.setupAutocompleteAria=function(){var t=this.$element.find("md-chips-wrap").find("md-autocomplete").find("input");this.inputAriaDescribedBy&&t.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy&&(t.removeAttr("aria-label"),t.attr("aria-labelledby",this.inputAriaLabelledBy))},t.prototype.queryContact=function(t){return this.contactQuery({$query:t})},t.prototype.inputKeydown=function(t){if(this.separatorKeys&&!(this.separatorKeys.indexOf(t.keyCode)<0)){t.stopPropagation(),t.preventDefault();var e=angular.element(t.target).controller("mdAutocomplete");e.select(e.index)}},t.prototype.itemName=function(t){return t[this.contactName]},t.prototype.$onDestroy=function(){for(var t;t=this.deRegister.pop();)t.call(this)}}(),function(){e.$inject=["$mdTheming","$mdUtil"],angular.module("material.components.chips").directive("mdContactChips",e);var t='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          ng-change="$mdContactChipsCtrl.ngChange($mdContactChipsCtrl.contacts)"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"          md-separator-keys="$mdContactChipsCtrl.separatorKeys"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              ng-keydown="$mdContactChipsCtrl.inputKeydown($event)"              placeholder="{{$mdContactChipsCtrl.contacts.length === 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function e(e,n){return{template:function(e,n){return t},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:function(t,o){return function(t,i,r,a){var s=a;n.initOptionalProperties(t,o),e(i),i.attr("tabindex","-1"),r.$observe("mdChipAppendDelay",function(t){s.chipAppendDelay=t})}},scope:{contactQuery:"&mdContacts",placeholder:"@?",secondaryPlaceholder:"@?",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",ngChange:"&?",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay",separatorKeys:"=?mdSeparatorKeys",removedMessage:"@?mdRemovedMessage",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?"}}}}(),function(){o.$inject=["$mdColors","$mdUtil","$log","$parse"],n.$inject=["$mdTheming","$mdUtil","$log"];var t=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,e=null;function n(t,n,o){return e=e||Object.keys(t.PALETTES),{applyThemeColors:function(t,e){try{e&&t.css((a={},s=(n=e).hasOwnProperty("color"),angular.forEach(n,function(t,e){var n=r(t),o=e.indexOf("background")>-1;a[e]=i(n),o&&!s&&(a.color=i(n,!0))}),a))}catch(t){o.error(t.message)}var n,a,s},getThemeColor:function(t){return i(r(t))},hasTheme:function(e){return angular.isDefined(t.THEMES[e.split("-")[0]])}};function i(e,o){o=o||!1;var i=t.PALETTES[e.palette][e.hue];return i=o?i.contrast:i.value,n.supplant("rgba({0}, {1}, {2}, {3})",[i[0],i[1],i[2],i[3]||e.opacity])}function r(o){var i=o.split("-"),r=angular.isDefined(t.THEMES[i[0]])?i.splice(0,1)[0]:t.defaultTheme();return{theme:r,palette:function(o,i){var r=o.length>1&&-1!==e.indexOf(o[1]),a=o[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(r&&(a=o[0]+"-"+o.splice(1,1)),-1===e.indexOf(a)){var s=t.THEMES[i].colors[a];if(!s)throw new Error(n.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}(i,r),hue:function(e,o){var i=t.THEMES[o].colors;if("hue"===e[1]){var r=parseInt(e.splice(2,1)[0],10);if(r<1||r>3)throw new Error(n.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:r}));if(e[1]="hue-"+r,!(e[0]in i))throw new Error(n.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(i).join(", "),usedTheme:e[0]}));return i[e[0]].hues[e[1]]}return e[1]||i[e[0]in i?e[0]:"primary"].hues.default}(i,r),opacity:i[2]||1}}}function o(e,n,o,i){return{restrict:"A",require:["^?mdTheme"],compile:function(r,a){var s=function(){var e=a.mdColors,o=e.indexOf("::")>-1,i=!!o||t.test(a.mdColors);a.mdColors=e.replace("::","");var r=angular.isDefined(a.mdColorsWatch);return!o&&!i&&(!r||n.parseAttributeBoolean(a.mdColorsWatch))}();return function(t,n,r,a){var l=a[0],c={},u=function(n){"string"!=typeof n&&(n=""),r.mdColors||(r.mdColors="{}");var o=i(r.mdColors)(t);return l&&Object.keys(o).forEach(function(t){var i=o[t];e.hasTheme(i)||(o[t]=(n||l.$mdTheme)+"-"+i)}),p(o),o},p=function(t){if(!angular.equals(t,c)){var e=Object.keys(c);c.background&&!e.color&&e.push("color"),e.forEach(function(t){n.css(t,"")})}c=t},h=angular.noop;l&&(h=l.registerChanges(function(t){e.applyThemeColors(n,u(t))})),t.$on("$destroy",function(){h()});try{s?t.$watch(u,angular.bind(this,e.applyThemeColors,n),!0):e.applyThemeColors(n,u())}catch(t){o.error(t.message)}}}}}angular.module("material.components.colors",["material.core"]).directive("mdColors",o).service("$mdColors",n)}(),function(){function t(t){return{restrict:"E",controller:["$scope","$element",function(t,e){this.$scope=t,this.$element=e}],link:function(e,n){var o;n.addClass("_md"),t(n),e.$broadcast("$mdContentLoaded",n),o=n[0],angular.element(o).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===o.scrollTop?o.scrollTop=1:o.scrollHeight===o.scrollTop+o.offsetHeight&&(o.scrollTop-=1)))})}}}t.$inject=["$mdTheming"],angular.module("material.components.content",["material.core"]).directive("mdContent",t)}(),angular.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){o.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],angular.module("material.components.datepicker").directive("mdCalendar",function(){return{template:function(t,e){var n=e.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"',o='<div ng-switch="calendarCtrl.currentView" '+n+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return o},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:o,controllerAs:"calendarCtrl",bindToController:!0,link:function(t,e,n,o){var i=o[0],r=o[1];r.configureNgModel(i)}}});var t=340,e=0,n={day:"month",month:"year"};function o(t,n,o,i,r,a,s,l,c){a(t),this.$element=t,this.$scope=n,this.dateUtil=o,this.$mdUtil=i,this.keyCode=r.KEY_CODE,this.$$rAF=s,this.$mdDateLocale=c,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=e++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,l.tabindex||t.attr("tabindex","-1");var u,p=angular.bind(this,this.handleKeyEvent);(u=t.parent().hasClass("md-datepicker-calendar")?angular.element(document.body):t).on("keydown",p),n.$on("$destroy",function(){u.off("keydown",p)}),1===angular.version.major&&angular.version.minor<=4&&this.$onInit()}o.prototype.$onInit=function(){this._mode&&n.hasOwnProperty(this._mode)?(this.currentView=n[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null);var t=this.$mdDateLocale;this.minDate&&this.minDate>t.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=t.firstRenderableDate,this.maxDate&&this.maxDate<t.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=t.lastRenderableDate},o.prototype.configureNgModel=function(t){var e=this;e.ngModelCtrl=t,e.$mdUtil.nextTick(function(){e.isInitialized=!0}),t.$render=function(){var t=this.$viewValue;e.$scope.$broadcast("md-calendar-parent-changed",t),e.selectedDate||(e.selectedDate=t),e.displayDate||(e.displayDate=e.selectedDate||e.today)}},o.prototype.setNgModelValue=function(t){var e=this.dateUtil.createDateAtMidnight(t);return this.focus(e),this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render(),e},o.prototype.setCurrentView=function(t,e){var n=this;n.$mdUtil.nextTick(function(){n.currentView=t,e&&(n.displayDate=angular.isDate(e)?e:new Date(e))})},o.prototype.focus=function(t){if(this.dateUtil.isValidDate(t)){var e=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);e&&e.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(t,this.currentView),o=document.getElementById(n);o&&(o.classList.add(this.FOCUSED_DATE_CLASS),o.focus(),this.displayDate=t)}else{var i=this.$element[0].querySelector("[ng-switch]");i&&i.focus()}},o.prototype.changeSelectedDate=function(t){var e=this.SELECTED_DATE_CLASS,n=this.$element[0].querySelector("."+e);if(n&&(n.classList.remove(e),n.setAttribute("aria-selected","false")),t){var o=document.getElementById(this.getDateId(t,this.currentView));o&&(o.classList.add(e),o.setAttribute("aria-selected","true"))}this.selectedDate=t},o.prototype.getActionFromKeyEvent=function(t){var e=this.keyCode;switch(t.which){case e.ENTER:return"select";case e.RIGHT_ARROW:return"move-right";case e.LEFT_ARROW:return"move-left";case e.DOWN_ARROW:return t.metaKey?"move-page-down":"move-row-down";case e.UP_ARROW:return t.metaKey?"move-page-up":"move-row-up";case e.PAGE_DOWN:return"move-page-down";case e.PAGE_UP:return"move-page-up";case e.HOME:return"start";case e.END:return"end";default:return null}},o.prototype.handleKeyEvent=function(t){var e=this;this.$scope.$apply(function(){if(t.which==e.keyCode.ESCAPE||t.which==e.keyCode.TAB)return e.$scope.$emit("md-calendar-close"),void(t.which==e.keyCode.TAB&&t.preventDefault());var n=e.getActionFromKeyEvent(t);n&&(t.preventDefault(),t.stopPropagation(),e.$scope.$broadcast("md-calendar-parent-action",n))})},o.prototype.hideVerticalScrollbar=function(e){var n=this,o=e.$element[0],i=o.querySelector(".md-calendar-scroll-mask");function r(){var o=n.width||t,r=n.scrollbarWidth,a=e.calendarScroller;i.style.width=o+"px",a.style.width=o+r+"px",a.style.paddingRight=r+"px"}n.width>0?r():n.$$rAF(function(){var t=e.calendarScroller;n.scrollbarWidth=t.offsetWidth-t.clientWidth,n.width=o.querySelector("table").offsetWidth,r()})},o.prototype.getDateId=function(t,e){if(!e)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,e,t.getFullYear(),t.getMonth(),t.getDate()].join("-")},o.prototype.updateVirtualRepeat=function(){var t=this.$scope,e=t.$on("$md-resize-enable",function(){t.$$phase||t.$apply(),e()})}}(),function(){n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],angular.module("material.components.datepicker").directive("mdCalendarMonth",function(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(e-t)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+t+'"><tr aria-hidden="true" md-force-height="\''+t+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:n,controllerAs:"monthCtrl",bindToController:!0,link:function(t,e,n,o){var i=o[0],r=o[1];r.initialize(i)}}});var t=265,e=45;function n(t,e,n,o,i,r){this.$element=t,this.$scope=e,this.$animate=n,this.$q=o,this.dateUtil=i,this.dateLocale=r,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var t=i.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(t)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",i.getTimestampFromNode(this))}}n.prototype.initialize=function(t){this.items={length:this.dateUtil.getMonthDistance(t.firstRenderableDate,t.lastRenderableDate)+2},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},n.prototype.getSelectedMonthIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getMonthDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},n.prototype.changeDisplayDate=function(t){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(t)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var e=this.animateDateChange(t);this.calendarCtrl.displayDate=t;var n=this;return e.then(function(){n.isMonthTransitionInProgress=!1}),e},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var n=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=n*t}return this.$q.when()},n.prototype.buildWeekHeader=function(){for(var t=this.dateLocale.firstDayOfWeek,e=this.dateLocale.shortDays,n=document.createElement("tr"),o=0;o<7;o++){var i=document.createElement("th");i.textContent=e[(o+t)%7],n.appendChild(i)}this.$element.find("thead").append(n)},n.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",function(e,n){t.calendarCtrl.changeSelectedDate(n),t.changeDisplayDate(n)}),t.$scope.$on("md-calendar-parent-action",angular.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,o=n.displayDate;if("select"===e)n.setNgModelValue(o);else{var i=null,r=this.dateUtil;switch(e){case"move-right":i=r.incrementDays(o,1);break;case"move-left":i=r.incrementDays(o,-1);break;case"move-page-down":i=r.incrementMonths(o,1);break;case"move-page-up":i=r.incrementMonths(o,-1);break;case"move-row-down":i=r.incrementDays(o,7);break;case"move-row-up":i=r.incrementDays(o,-7);break;case"start":i=r.getFirstDateOfMonth(o);break;case"end":i=r.getLastDateOfMonth(o)}i&&(i=this.dateUtil.clampDate(i,n.minDate,n.maxDate),this.changeDisplayDate(i).then(function(){n.focus(i)}))}}}(),function(){function t(t,n){var o=t('<md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:e,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(t,e,n,i){var r=i[0],a=i[1],s=i[2];s.calendarCtrl=r,s.monthCtrl=a,s.arrowIcon=o.cloneNode(!0),t.$watch(function(){return s.offset},function(t){angular.isNumber(t)&&s.generateContent()})}}}function e(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$compile","$$mdSvgRegistry"],e.$inject=["$element","$$mdDateUtil","$mdDateLocale"],angular.module("material.components.datepicker").directive("mdCalendarMonthBody",t),e.prototype.generateContent=function(){var t=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},e.prototype.buildDateCell=function(t){var e=this.monthCtrl,n=this.calendarCtrl,o=document.createElement("td");if(o.tabIndex=-1,o.classList.add("md-calendar-date"),o.setAttribute("role","gridcell"),t){o.setAttribute("tabindex","-1"),o.setAttribute("aria-label",this.dateLocale.longDateFormatter(t)),o.id=n.getDateId(t,"month"),o.setAttribute("data-timestamp",t.getTime()),this.dateUtil.isSameDay(t,n.today)&&o.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(t,n.selectedDate)&&(o.classList.add(n.SELECTED_DATE_CLASS),o.setAttribute("aria-selected","true"));var i=this.dateLocale.dates[t.getDate()];if(this.isDateEnabled(t)){var r=document.createElement("span");r.classList.add("md-calendar-date-selection-indicator"),r.textContent=i,o.appendChild(r),o.addEventListener("click",e.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(t,n.displayDate)&&(this.focusAfterAppend=o)}else o.classList.add("md-calendar-date-disabled"),o.textContent=i}return o},e.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!angular.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(t))},e.prototype.buildDateRow=function(t){var e=document.createElement("tr");return e.setAttribute("role","row"),e.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(t)),e},e.prototype.buildCalendarForMonth=function(t){var e=this.dateUtil.isValidDate(t)?t:new Date,n=this.dateUtil.getFirstDateOfMonth(e),o=this.getLocaleDay_(n),i=this.dateUtil.getNumberOfDaysInMonth(e),r=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);r.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),p=document.createElement("span"),h=this.calendarCtrl;if(p.textContent=this.dateLocale.monthHeaderFormatter(e),u.appendChild(p),u.classList.add("md-calendar-month-label"),h.maxDate&&n>h.maxDate?u.classList.add("md-calendar-month-label-disabled"):h.mode||(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(e)),u.classList.add("md-calendar-label-clickable"),u.appendChild(this.arrowIcon.cloneNode(!0))),o<=2){u.setAttribute("colspan","7");var d=this.buildDateRow();if(d.appendChild(u),r.insertBefore(d,s),l)return r}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var f=c;f<o;f++)s.appendChild(this.buildDateCell());for(var m=o,g=n,y=1;y<=i;y++){if(7===m){if(l)return r;m=0,a++,s=this.buildDateRow(a),r.appendChild(s)}g.setDate(y);var v=this.buildDateCell(g);s.appendChild(v),m++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;r.childNodes.length<6;){for(var b=this.buildDateRow(),w=0;w<7;w++)b.appendChild(this.buildDateCell());r.appendChild(b)}return r},e.prototype.getLocaleDay_=function(t){return(t.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}(),function(){e.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdUtil"],angular.module("material.components.datepicker").directive("mdCalendarYear",function(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+t+'"><tr aria-hidden="true" md-force-height="\''+t+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:e,controllerAs:"yearCtrl",bindToController:!0,link:function(t,e,n,o){var i=o[0],r=o[1];r.initialize(i)}}});var t=88;function e(t,e,n,o,i,r){this.$element=t,this.$scope=e,this.$animate=n,this.$q=o,this.dateUtil=i,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1,this.$mdUtil=r;var a=this;this.cellClickHandler=function(){a.onTimestampSelected(i.getTimestampFromNode(this))}}e.prototype.initialize=function(t){this.items={length:this.dateUtil.getYearDistance(t.firstRenderableDate,t.lastRenderableDate)+1},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},e.prototype.getFocusedYearIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getYearDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},e.prototype.changeDate=function(t){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(t)&&!this.isMonthTransitionInProgress){var e=this,n=this.animateDateChange(t);return e.isMonthTransitionInProgress=!0,e.calendarCtrl.displayDate=t,n.then(function(){e.isMonthTransitionInProgress=!1})}},e.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var n=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=n*t}return this.$q.when()},e.prototype.handleKeyEvent=function(t,e){var n=this,o=n.calendarCtrl,i=o.displayDate;if("select"===e)n.changeDate(i).then(function(){n.onTimestampSelected(i)});else{var r=null,a=n.dateUtil;switch(e){case"move-right":r=a.incrementMonths(i,1);break;case"move-left":r=a.incrementMonths(i,-1);break;case"move-row-down":r=a.incrementMonths(i,6);break;case"move-row-up":r=a.incrementMonths(i,-6)}if(r){var s=o.minDate?a.getFirstDateOfMonth(o.minDate):null,l=o.maxDate?a.getFirstDateOfMonth(o.maxDate):null;r=a.getFirstDateOfMonth(n.dateUtil.clampDate(r,s,l)),n.changeDate(r).then(function(){o.focus(r)})}}},e.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",function(e,n){t.calendarCtrl.changeSelectedDate(n?t.dateUtil.getFirstDateOfMonth(n):n),t.changeDate(n)}),t.$scope.$on("md-calendar-parent-action",angular.bind(t,t.handleKeyEvent))},e.prototype.onTimestampSelected=function(t){var e=this.calendarCtrl;e.mode?this.$mdUtil.nextTick(function(){e.setNgModelValue(t)}):e.setCurrentView("month",t)}}(),function(){function t(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$element","$$mdDateUtil","$mdDateLocale"],angular.module("material.components.datepicker").directive("mdCalendarYearBody",function(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:t,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(t,e,n,o){var i=o[0],r=o[1],a=o[2];a.calendarCtrl=i,a.yearCtrl=r,t.$watch(function(){return a.offset},function(t){angular.isNumber(t)&&a.generateContent()})}}}),t.prototype.generateContent=function(){var t=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},t.prototype.buildMonthCell=function(t,e){var n=this.calendarCtrl,o=this.yearCtrl,i=this.buildBlankCell(),r=new Date(t,e,1);i.setAttribute("aria-label",this.dateLocale.monthFormatter(r)),i.id=n.getDateId(r,"year"),i.setAttribute("data-timestamp",String(r.getTime())),this.dateUtil.isSameMonthAndYear(r,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(r,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[e];if(!this.dateUtil.isMonthWithinRange(r,n.minDate,n.maxDate)||angular.isFunction(this.calendarCtrl.dateFilter)&&!this.calendarCtrl.dateFilter(r))i.classList.add("md-calendar-date-disabled"),i.textContent=a;else{var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,i.appendChild(s),i.addEventListener("click",o.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(r,n.displayDate)&&(this.focusAfterAppend=i)}return i},t.prototype.buildBlankCell=function(){var t=document.createElement("td");return t.tabIndex=-1,t.classList.add("md-calendar-date"),t.setAttribute("role","gridcell"),t.setAttribute("tabindex","-1"),t},t.prototype.buildCalendarForYear=function(t){var e,n=t.getFullYear(),o=document.createDocumentFragment(),i=document.createElement("tr"),r=document.createElement("td");for(r.className="md-calendar-month-label",r.textContent=n,i.appendChild(r),e=0;e<6;e++)i.appendChild(this.buildMonthCell(n,e));o.appendChild(i);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),e=6;e<12;e++)a.appendChild(this.buildMonthCell(n,e));return o.appendChild(a),o}}(),angular.module("material.components.datepicker").config(["$provide",function(t){function e(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.isDateComplete=null,this.msgCalendar="",this.msgOpenCalendar=""}e.prototype.$get=function(t,e){for(var n=t.DATETIME_FORMATS.SHORTDAY.map(function(t){return t.substring(0,1)}),o=Array(32),i=1;i<=31;i++)o[i]=i;var r=new Date(1880,0,1),a=new Date(r.getFullYear()+250,0,1),s={months:this.months||t.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||t.DATETIME_FORMATS.SHORTMONTH,days:this.days||t.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||o,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||function(t,n){if(!t)return"";var o=t.toLocaleTimeString(),i=t;return 0!==t.getHours()||-1===o.indexOf("11:")&&-1===o.indexOf("23:")||(i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1,0,0)),e("date")(i,"M/d/yyyy",n)},parseDate:this.parseDate||function(t){return new Date(t)},isDateComplete:this.isDateComplete||function(t){return t=t.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(t)},monthHeaderFormatter:this.monthHeaderFormatter||function(t){return s.shortMonths[t.getMonth()]+" "+t.getFullYear()},monthFormatter:this.monthFormatter||function(t){return s.months[t.getMonth()]+" "+t.getFullYear()},weekNumberFormatter:this.weekNumberFormatter||function(t){return"Week "+t},longDateFormatter:this.longDateFormatter||function(t){return[s.days[t.getDay()],s.months[t.getMonth()],s.dates[t.getDate()],t.getFullYear()].join(" ")},msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||r,lastRenderableDate:this.lastRenderableDate||a};return s},e.prototype.$get.$inject=["$locale","$filter"],t.provider("$mdDateLocale",new e)}]),angular.module("material.components.datepicker").factory("$$mdDateUtil",function(){return{getFirstDateOfMonth:t,getNumberOfDaysInMonth:e,getDateInNextMonth:n,getDateInPreviousMonth:o,isInNextMonth:function(t,e){return i(n(t),e)},isInPreviousMonth:function(t,e){var n=o(t);return i(e,n)},getDateMidpoint:function(t,e){return l((t.getTime()+e.getTime())/2)},isSameMonthAndYear:i,getWeekOfMonth:function(e){var n=t(e);return Math.floor((n.getDay()+e.getDate()-1)/7)},incrementDays:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},incrementMonths:r,getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),e(t))},isSameDay:function(t,e){return t.getDate()==e.getDate()&&i(t,e)},getMonthDistance:function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())},isValidDate:a,setDateTimeToMidnight:s,createDateAtMidnight:l,isDateWithinRange:function(t,e,n){var o=l(t),i=a(e)?l(e):null,r=a(n)?l(n):null;return(!i||i<=o)&&(!r||r>=o)},incrementYears:function(t,e){return r(t,12*e)},getYearDistance:function(t,e){return e.getFullYear()-t.getFullYear()},clampDate:function(t,e,n){var o=t;return e&&t<e&&(o=new Date(e.getTime())),n&&t>n&&(o=new Date(n.getTime())),o},getTimestampFromNode:function(t){if(t&&t.hasAttribute("data-timestamp"))return Number(t.getAttribute("data-timestamp"))},isMonthWithinRange:function(t,e,n){var o=t.getMonth(),i=t.getFullYear();return(!e||e.getFullYear()<i||e.getMonth()<=o)&&(!n||n.getFullYear()>i||n.getMonth()>=o)}};function t(t){return new Date(t.getFullYear(),t.getMonth(),1)}function e(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function n(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function o(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function i(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function r(t,n){var o=new Date(t.getFullYear(),t.getMonth()+n,1),i=e(o);return i<t.getDate()?o.setDate(i):o.setDate(t.getDate()),o}function a(t){return t&&t.getTime&&!isNaN(t.getTime())}function s(t){a(t)&&t.setHours(0,0,0,0)}function l(t){var e;return s(e=angular.isUndefined(t)?new Date:new Date(t)),e}}),function(){function e(t,e,n,a){return{template:function(e,n){var o=n.mdHideIcons,i=n.ariaLabel||n.mdPlaceholder,a="all"===o||"calendar"===o?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+t.mdCalendar+'"></md-icon></md-button>',s="";return"all"!==o&&"triangle"!==o&&(s='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',e.addClass(r)),a+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(i?'aria-label="'+i+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+s+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}" md-mode="{{::ctrl.mode}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate" md-date-filter="ctrl.dateFilter" ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:s,controllerAs:"ctrl",bindToController:!0,link:function(t,r,s,l){var c=l[0],u=l[1],p=l[2],h=l[3],d=e.parseAttributeBoolean(s.mdNoAsterisk);if(u.configureNgModel(c,p,a),p){var f=r[0].querySelector(".md-errors-spacer");f&&r.after(angular.element("<div>").append(f)),p.setHasPlaceholder(s.mdPlaceholder),p.input=r,p.element.addClass(o).toggleClass(i,"calendar"!==s.mdHideIcons&&"all"!==s.mdHideIcons),p.label?d||s.$observe("required",function(t){p.label.toggleClass("md-required",!!t)}):n.expect(r,"aria-label",s.mdPlaceholder),t.$watch(p.isErrorGetter||function(){return c.$invalid&&(c.$touched||h&&h.$submitted)},p.setInvalid)}else if(h)var m=t.$watch(function(){return h.$submitted},function(t){t&&(u.updateErrorState(),m())})}}}s.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter","$timeout"],e.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],angular.module("material.components.datepicker").directive("mdDatepicker",e);var n="md-datepicker-open",o="_md-datepicker-floating-label",i="_md-datepicker-has-calendar-icon",r="_md-datepicker-has-triangle-icon",a=/ipad|iphone|ipod|android/i;function s(e,n,o,i,r,s,l,c,u,p,h,d){this.$window=i,this.dateUtil=u,this.$mdConstant=r,this.$mdUtil=l,this.$$rAF=p,this.$mdDateLocale=c,this.$timeout=d,this.documentElement=angular.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=n[0].querySelector("input"),this.ngInputElement=angular.element(this.inputElement),this.inputContainer=n[0].querySelector(".md-datepicker-input-container"),this.calendarPane=n[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=n[0].querySelector(".md-datepicker-button"),this.inputMask=angular.element(n[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=n,this.$attrs=o,this.$scope=e,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(n[0].disabled||angular.isString(o.disabled)),this.isCalendarOpen=!1,this.openOnFocus=o.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+l.nextUid(),this.bodyClickHandler=angular.bind(this,this.handleBodyClick),this.windowEventName=a.test(navigator.userAgent||navigator.vendor||t.opera)?"orientationchange":"resize",this.windowEventHandler=l.debounce(angular.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=angular.bind(this,this.handleWindowBlur),this.ngDateFilter=h("date"),this.leftMargin=20,this.topMargin=null,o.tabindex?(this.ngInputElement.attr("tabindex",o.tabindex),o.$set("tabindex",null)):o.$set("tabindex","-1"),o.$set("aria-owns",this.calendarPaneId),s(n),s(angular.element(this.calendarPane));var f=this;e.$on("$destroy",function(){f.detachCalendarPane()}),o.mdIsOpen&&e.$watch("ctrl.isOpen",function(t){t?f.openCalendarPane({target:f.inputElement}):f.closeCalendarPane()}),1===angular.version.major&&angular.version.minor<=4&&this.$onInit()}s.prototype.$onInit=function(){this.locale=this.dateLocale?angular.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},s.prototype.configureNgModel=function(t,e,n){this.ngModelCtrl=t,this.mdInputContainer=e,this.$attrs.$set("type","date"),n[0].link.pre(this.$scope,{on:angular.noop,val:angular.noop,0:{}},this.$attrs,[t]);var o=this;o.ngModelCtrl.$formatters.push(function(t){var e=angular.isDefined(t)?t:null;if(!(t instanceof Date)&&(e=Date.parse(t),!isNaN(e)&&angular.isNumber(e)&&(t=new Date(e)),t&&!(t instanceof Date)))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof t);return o.onExternalChange(t),t}),t.$viewChangeListeners.unshift(angular.bind(this,this.updateErrorState));var i=o.$mdUtil.getModelOption(t,"updateOn");i&&this.ngInputElement.on(i,angular.bind(this.$element,this.$element.triggerHandler,i))},s.prototype.attachChangeListeners=function(){var t=this;t.$scope.$on("md-calendar-change",function(e,n){t.setModelValue(n),t.onExternalChange(n),t.closeCalendarPane()}),t.ngInputElement.on("input",angular.bind(t,t.resizeInputElement));var e=angular.isDefined(this.debounceInterval)?this.debounceInterval:500;t.ngInputElement.on("input",t.$mdUtil.debounce(t.handleInputEvent,e,t))},s.prototype.attachInteractionListeners=function(){var t=this,e=this.$scope,n=this.$mdConstant.KEY_CODE;t.ngInputElement.on("keydown",function(o){o.altKey&&o.keyCode==n.DOWN_ARROW&&(t.openCalendarPane(o),e.$digest())}),t.openOnFocus&&(t.ngInputElement.on("focus",angular.bind(t,t.openCalendarPane)),angular.element(t.$window).on("blur",t.windowBlurHandler),e.$on("$destroy",function(){angular.element(t.$window).off("blur",t.windowBlurHandler)})),e.$on("md-calendar-close",function(){t.closeCalendarPane()})},s.prototype.installPropertyInterceptors=function(){var t=this;if(this.$attrs.ngDisabled){var e=this.$scope.$parent;e&&e.$watch(this.$attrs.ngDisabled,function(e){t.setDisabled(e)})}Object.defineProperty(this,"placeholder",{get:function(){return t.inputElement.placeholder},set:function(e){t.inputElement.placeholder=e||""}})},s.prototype.setDisabled=function(t){this.isDisabled=t,this.inputElement.disabled=t,this.calendarButton&&(this.calendarButton.disabled=t)},s.prototype.updateErrorState=function(t){var e=t||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(e)){if(e=this.dateUtil.createDateAtMidnight(e),this.dateUtil.isValidDate(this.minDate)){var n=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",e>=n)}if(this.dateUtil.isValidDate(this.maxDate)){var o=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",e<=o)}angular.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(e))}else this.ngModelCtrl.$setValidity("valid",null==e);var i=this.inputElement.value,r=this.locale.parseDate(i);!this.isInputValid(i,r)&&this.ngModelCtrl.$valid&&this.ngModelCtrl.$setValidity("valid",null==e),angular.element(this.inputContainer).toggleClass("md-datepicker-invalid",!this.ngModelCtrl.$valid)},s.prototype.isInputValid=function(t,e){return""===t||this.dateUtil.isValidDate(e)&&this.locale.isDateComplete(t)&&this.isDateEnabled(e)},s.prototype.clearErrorState=function(){this.inputContainer.classList.remove("md-datepicker-invalid"),["mindate","maxdate","filtered","valid"].forEach(function(t){this.ngModelCtrl.$setValidity(t,!0)},this)},s.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},s.prototype.handleInputEvent=function(){var t=this.inputElement.value,e=t?this.locale.parseDate(t):null;this.dateUtil.setDateTimeToMidnight(e),this.isInputValid(t,e)&&(this.setModelValue(e),this.date=e),this.updateErrorState(e)},s.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.minDate,this.maxDate)&&(!angular.isFunction(this.dateFilter)||this.dateFilter(t))},s.prototype.attachCalendarPane=function(){var t=this.calendarPane,e=document.body;t.style.transform="",this.$element.addClass(n),this.mdInputContainer&&this.mdInputContainer.element.addClass(n),angular.element(e).addClass("md-datepicker-is-showing");var o=this.inputContainer.getBoundingClientRect(),i=e.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var r=o.top-i.top-this.topMargin,a=o.left-i.left-this.leftMargin,s=i.top<0&&0==document.body.scrollTop?-i.top:document.body.scrollTop,l=i.left<0&&0==document.body.scrollLeft?-i.left:document.body.scrollLeft,c=s+this.$window.innerHeight,u=l+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:o.width-1+"px",height:o.height-2+"px"}),a+360>u){if(u-360>0)a=u-360;else{a=l;var p=this.$window.innerWidth/360;t.style.transform="scale("+p+")"}t.classList.add("md-datepicker-pos-adjusted")}r+368>c&&c-368>s&&(r=c-368,t.classList.add("md-datepicker-pos-adjusted")),t.style.left=a+"px",t.style.top=r+"px",document.body.appendChild(t),this.$$rAF(function(){t.classList.add("md-pane-open")})},s.prototype.detachCalendarPane=function(){this.$element.removeClass(n),this.mdInputContainer&&this.mdInputContainer.element.removeClass(n),angular.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},s.prototype.openCalendarPane=function(e){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=e.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$timeout(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},100),t.addEventListener(this.windowEventName,this.windowEventHandler)}},s.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var e=this;e.detachCalendarPane(),e.ngModelCtrl.$setTouched(),e.evalAttr("ngBlur"),e.documentElement.off("click touchstart",e.bodyClickHandler),t.removeEventListener(e.windowEventName,e.windowEventHandler),e.calendarPaneOpenedFrom.focus(),e.calendarPaneOpenedFrom=null,e.openOnFocus?e.$timeout(n):n()}function n(){e.isCalendarOpen=e.isOpen=!1}},s.prototype.getCalendarCtrl=function(){return angular.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},s.prototype.focusCalendar=function(){var t=this;this.$mdUtil.nextTick(function(){t.getCalendarCtrl().focus()},!1)},s.prototype.setFocused=function(t){t||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(t?"ngFocus":"ngBlur"),this.isFocused=t},s.prototype.handleBodyClick=function(t){this.isCalendarOpen&&(this.$mdUtil.getClosest(t.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest())},s.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},s.prototype.evalAttr=function(t){this.$attrs[t]&&this.$scope.$parent.$eval(this.$attrs[t])},s.prototype.setModelValue=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(t,"yyyy-MM-dd",e))},s.prototype.onExternalChange=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=t,this.inputElement.value=this.locale.formatDate(t,e),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!t),this.resizeInputElement(),this.updateErrorState()}}(),function(){function t(t,e,n){return{restrict:"E",link:function(o,i){i.addClass("_md"),e(i),t(function(){var t,e=i[0].querySelector("md-dialog-content");function r(){i.toggleClass("md-content-overflow",e.scrollHeight>e.clientHeight)}e&&(t=e.getElementsByTagName("img"),r(),angular.element(t).on("load",r)),o.$on("$destroy",function(){n.destroy(i)})})}}}function n(t){var n,o;return r.$inject=["$mdDialog","$mdConstant"],a.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"],t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:a}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:i});function i(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:r,controllerAs:"dialog",bindToController:!0}}function r(t,e){this.$onInit=function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){t.hide(!n||this.result)},this.abort=function(){t.cancel()},this.keypress=function(o){var i=n&&this.required&&!angular.isDefined(this.result);o.keyCode!==e.KEY_CODE.ENTER||i||t.hide(this.result)}}}function a(t,i,r,a,s,l,c,u,p,h,d,f,m){return{hasBackdrop:!0,isolateScope:!0,onCompiling:function(t){t.defaultTheme=d.defaultTheme(),function(t){var e;t.targetEvent&&t.targetEvent.target&&(e=angular.element(t.targetEvent.target));var n=e&&e.controller("mdTheme");if(t.hasTheme=!!n,!t.hasTheme)return;t.themeWatch=n.$shouldWatch;var o=t.theme||n.$mdTheme;o&&(t.scope.theme=o);var i=n.registerChanges(function(e){t.scope.theme=e,t.themeWatch||i()})}(t)},onShow:function(h,d,f,v){angular.element(l[0].body).addClass("md-dialog-is-showing");var b=d.find("md-dialog");if(b.hasClass("ng-cloak")){p.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",d[0])}return function(t){function n(t,n){var o=angular.element(t||{});if(o&&o.length){var i=angular.isFunction(o[0].getBoundingClientRect);return angular.extend(n||{},{element:i?o:e,bounds:i?o[0].getBoundingClientRect():angular.extend({},{top:0,left:0,height:0,width:0},o[0]),focus:angular.bind(o,o.focus)})}}function o(t,e){return angular.isString(t)&&(t=l[0].querySelector(t)),angular.element(t||e)}t.origin=angular.extend({element:null,bounds:null,focus:angular.noop},t.origin||{}),t.parent=o(t.parent,u),t.closeTo=n(o(t.closeTo)),t.openFrom=n(o(t.openFrom)),t.targetEvent&&(t.origin=n(t.targetEvent.target,t.origin),t.originInteraction=m.getLastInteractionType())}(f),function(t,e){var a="alert"===e.$type?"alertdialog":"dialog",s=t.find("md-dialog-content"),l=t.attr("id"),c="dialogContent_"+(l||r.nextUid());t.attr({role:a,tabIndex:"-1"}),0===s.length&&(s=t,l&&(c=l)),s.attr("id",c),t.attr("aria-describedby",c),e.ariaLabel?i.expect(t,"aria-label",e.ariaLabel):i.expectAsync(t,"aria-label",function(){if(e.title)return e.title;var t=s.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")}),(n=document.createElement("div")).classList.add("md-dialog-focus-trap"),n.tabIndex=0,o=n.cloneNode(!1);var u=function(){t.focus()};n.addEventListener("focus",u),o.addEventListener("focus",u),t[0].parentNode.insertBefore(n,t[0]),t.after(o)}(b,f),function(t,e,n){n.disableParentScroll&&(n.restoreScroll=r.disableScrollAround(e,n.parent)),n.hasBackdrop&&(n.backdrop=r.createBackdrop(t,"md-dialog-backdrop md-opaque"),s.enter(n.backdrop,n.parent)),n.hideBackdrop=function(t){n.backdrop&&(t?n.backdrop.remove():s.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}(h,d,f),function(e,n){var o=angular.element(c),i=r.debounce(function(){g(e,n)},60),s=[],l=function(){var e="alert"==n.$type?t.hide:t.cancel;r.nextTick(e,!0)};if(n.escapeToClose){var u=n.parent,p=function(t){t.keyCode===a.KEY_CODE.ESCAPE&&(t.stopImmediatePropagation(),t.preventDefault(),l())};e.on("keydown",p),u.on("keydown",p),s.push(function(){e.off("keydown",p),u.off("keydown",p)})}if(o.on("resize",i),s.push(function(){o.off("resize",i)}),n.clickOutsideToClose){var h,d=e,f=function(t){h=t.target},m=function(t){h===d[0]&&t.target===d[0]&&(t.stopPropagation(),t.preventDefault(),l())};d.on("mousedown",f),d.on("mouseup",m),s.push(function(){d.off("mousedown",f),d.off("mouseup",m)})}n.deactivateListeners=function(){s.forEach(function(t){t()}),n.deactivateListeners=null}}(d,f),function(t,e){e.parent.append(t),e.reverseContainerStretch=g(t,e);var n=t.find("md-dialog"),o=r.dom.animator,i=o.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=o.toTransformCss(i(n,e.openFrom||e.origin)),l=o.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!e.fullscreen),o.translate3d(n,s,l,a).then(function(t){return e.reverseAnimate=function(){return delete e.reverseAnimate,e.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=o.toTransformCss(i(n,e.closeTo)),o.translate3d(n,s,l,a)):t(l=o.toTransformCss(i(n,e.origin)))},e.clearAnimate=function(){return delete e.clearAnimate,n.removeClass([a.transitionOutClass,a.transitionInClass].join(" ")),o.translate3d(n,l,o.toTransformCss(""),{})},!0})}(d,f).then(function(){!function(t,e){var n=!0;function o(t){for(var e=function(t){for(var e=[];t.parentNode;){if(t===document.body)return e;for(var n=t.parentNode.children,o=0;o<n.length;o++)t===n[o]||y(n[o],["SCRIPT","STYLE"])||n[o].hasAttribute("aria-live")||e.push(n[o]);t=t.parentNode}return e}(t),o=0;o<e.length;o++)e[o].setAttribute("aria-hidden",n)}o(t[0]),e.unlockScreenReader=function(){n=!1,o(t[0]),e.unlockScreenReader=null}}(d,f),d[0].querySelector(".md-actions")&&p.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>."),function(){if(f.focusOnOpen){var t=r.findFocusTarget(d)||d[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||b;t.focus()}}()})},onShowing:function(t,e,n,o){if(o){var i=o.htmlContent||n.htmlContent||"",r=o.textContent||n.textContent||o.content||n.content||"";if(i&&!h.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i&&r)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");o.mdHtmlContent=i,o.mdTextContent=r}},onRemove:function(t,e,i){i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),n&&n.parentNode&&n.parentNode.removeChild(n);o&&o.parentNode&&o.parentNode.removeChild(o);return i.$destroy?r():function(t,e){return e.reverseAnimate().then(function(){e.contentElement&&e.clearAnimate()})}(0,i).then(r);function r(){angular.element(l[0].body).removeClass("md-dialog-is-showing"),i.contentElement&&i.reverseContainerStretch(),i.cleanupElement(),i.$destroy||"keyboard"!==i.originInteraction||i.origin.focus()}},clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(t,e){var n=f.startSymbol(),o=f.endSymbol(),i=n+(e.themeWatch?"":"::")+"theme"+o;return'<div class="md-dialog-container" tabindex="-1" '+(e.hasTheme?'md-theme="'+i+'"':"")+">"+function(t){return e.autoWrap&&!/<\/md-dialog>/g.test(t)?"<md-dialog>"+(t||"")+"</md-dialog>":t||""}(t)+"</div>"}};function g(t,e){var n="fixed"==c.getComputedStyle(l[0].body).position,o=e.backdrop?c.getComputedStyle(e.backdrop[0]):null,i=o?Math.min(l[0].body.clientHeight,Math.ceil(Math.abs(parseInt(o.height,10)))):0,r={top:t.css("top"),height:t.css("height")},a=Math.abs(e.parent[0].getBoundingClientRect().top);return t.css({top:(n?a:0)+"px",height:i?i+"px":"100%"}),function(){t.css(r)}}function y(t,e){if(-1!==e.indexOf(t.nodeName))return!0}}}t.$inject=["$$rAF","$mdTheming","$mdDialog"],n.$inject=["$$interimElementProvider"],angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",n)}(),function(){function t(t){return{restrict:"E",link:t}}t.$inject=["$mdTheming"],angular.module("material.components.divider",["material.core"]).directive("mdDivider",t)}(),function(){function t(t){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var o=e.children();t.prefixer().hasAttribute(o,"ng-repeat")?o.addClass("md-fab-action-item"):o.wrap('<div class="md-fab-action-item">')}}}t.$inject=["$mdUtil"],angular.module("material.components.fabActions",["material.core"]).directive("mdFabActions",t)}(),function(){function t(t,e,n,o,i,r){var a,s=this,l=0;function c(t){"click"==t.type&&function(t){var e;e=t.target,o.getClosest(e,"md-fab-trigger")&&s.toggle(),function(t){return o.getClosest(t,"md-fab-actions")}(t.target)&&s.close()}(t),"focusout"!=t.type||a||(a=r(function(){s.close()},100,!1)),"focusin"==t.type&&a&&(r.cancel(a),a=null)}function u(){s.currentActionIndex=-1}function p(){e[0].scrollHeight>0?n.addClass(e,"_md-animations-ready").then(function(){e.removeClass("md-animations-waiting")}):l<10&&(r(p,100),l+=1)}function h(){e.off("keydown",f),angular.element(document).off("click touchend",d)}function d(t){if(t.target){var e=o.getClosest(t.target,"md-fab-trigger"),n=o.getClosest(t.target,"md-fab-actions");e||n||s.close()}}function f(t){switch(t.which){case i.KEY_CODE.ESCAPE:return s.close(),t.preventDefault(),!1;case i.KEY_CODE.LEFT_ARROW:return function(t){"left"===s.direction?g(t):m(t)}(t),!1;case i.KEY_CODE.UP_ARROW:return function(t){"down"===s.direction?m(t):g(t)}(t),!1;case i.KEY_CODE.RIGHT_ARROW:return function(t){"left"===s.direction?m(t):g(t)}(t),!1;case i.KEY_CODE.DOWN_ARROW:return function(t){"up"===s.direction?m(t):g(t)}(t),!1}}function m(t){y(t,-1)}function g(t){y(t,1)}function y(t,e){var n=function(){var t=v()[0].querySelectorAll(".md-fab-action-item");return angular.forEach(t,function(t){angular.element(angular.element(t).children()[0]).attr("tabindex",-1)}),t}();s.currentActionIndex=s.currentActionIndex+e,s.currentActionIndex=Math.min(n.length-1,s.currentActionIndex),s.currentActionIndex=Math.max(0,s.currentActionIndex);var o=angular.element(n[s.currentActionIndex]).children()[0];angular.element(o).attr("tabindex",0),o.focus(),t.preventDefault(),t.stopImmediatePropagation()}function v(){return e.find("md-fab-actions")}s.open=function(){t.$evalAsync("vm.isOpen = true")},s.close=function(){t.$evalAsync("vm.isOpen = false"),e.find("md-fab-trigger")[0].focus()},s.toggle=function(){t.$evalAsync("vm.isOpen = !vm.isOpen")},s.$onInit=function(){var i,r,a;s.direction=s.direction||"down",s.isOpen=s.isOpen||!1,u(),e.addClass("md-animations-waiting"),i=["click","focusin","focusout"],angular.forEach(i,function(t){e.on(t,c)}),t.$on("$destroy",function(){angular.forEach(i,function(t){e.off(t,c)}),h()}),t.$watch("vm.direction",function(t,o){n.removeClass(e,"md-"+o),n.addClass(e,"md-"+t),u()}),t.$watch("vm.isOpen",function(t){u(),r&&a||(r=e.find("md-fab-trigger"),a=v()),t?(e.on("keydown",f),o.nextTick(function(){angular.element(document).on("click touchend",d)})):h();var i=t?"md-is-open":"",s=t?"":"md-is-open";r.attr("aria-haspopup",!0),r.attr("aria-expanded",t),a.attr("aria-hidden",!t),n.setClass(e,i,s)}),p()},1===angular.version.major&&angular.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],angular.module("material.components.fabShared",["material.core"]).controller("MdFabController",t)}(),function(){n.$inject=["$timeout"],o.$inject=["$timeout"];var e=300;function n(n){function o(t){n(t,e,!1)}function i(e){if(!e.hasClass("md-animations-waiting")||e.hasClass("_md-animations-ready")){var n=e[0],o=e.controller("mdFabSpeedDial"),i=n.querySelectorAll(".md-fab-action-item"),r=n.querySelector("md-fab-trigger"),a=n.querySelector("._md-css-variables"),s=parseInt(t.getComputedStyle(a).zIndex);angular.forEach(i,function(t,e){var n=t.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=i.length-e+s}),r.style.zIndex=s+i.length+1,o.isOpen||angular.forEach(i,function(t,e){var n,i,a=t.style,s=(r.clientHeight-t.clientHeight)/2,l=(r.clientWidth-t.clientWidth)/2;switch(o.direction){case"up":n=t.scrollHeight*(e+1)+s,i="Y";break;case"down":n=-(t.scrollHeight*(e+1)+s),i="Y";break;case"left":n=t.scrollWidth*(e+1)+l,i="X";break;case"right":n=-(t.scrollWidth*(e+1)+l),i="X"}var c="translate"+i+"("+n+"px)";a.transform=a.webkitTransform=c})}}return{addClass:function(t,e,n){t.hasClass("md-fling")?(i(t),o(n)):n()},removeClass:function(t,e,n){i(t),o(n)}}}function o(n){function o(t){n(t,e,!1)}var i=65;function r(e){var n=e[0],o=e.controller("mdFabSpeedDial"),r=n.querySelectorAll(".md-fab-action-item"),a=n.querySelector("._md-css-variables"),s=parseInt(t.getComputedStyle(a).zIndex);angular.forEach(r,function(t,e){var n=t.style,a=e*i;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(o.isOpen?a:r.length-a)+"ms",n.zIndex=r.length-e+s})}return{addClass:function(t,e,n){r(t),o(n)},removeClass:function(t,e,n){r(t),o(n)}}}angular.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e){e.prepend('<div class="_md-css-variables"></div>')}}}).animation(".md-fling",n).animation(".md-scale",o).service("mdFabSpeedDialFlingAnimation",n).service("mdFabSpeedDialScaleAnimation",o)}(),function(){function e(){function e(e,n,o){if(n){var i=e[0],r=e.controller("mdFabToolbar"),a=i.querySelector(".md-fab-toolbar-background"),s=i.querySelector("md-fab-trigger button"),l=i.querySelector("md-toolbar"),c=i.querySelector("md-fab-trigger button md-icon"),u=e.find("md-fab-actions").children();if(s&&a){var p=t.getComputedStyle(s).getPropertyValue("background-color"),h=i.offsetWidth,d=(i.offsetHeight,h/s.offsetWidth*2);a.style.backgroundColor=p,a.style.borderRadius=h+"px",r.isOpen?(l.style.pointerEvents="inherit",a.style.width=s.offsetWidth+"px",a.style.height=s.offsetHeight+"px",a.style.transform="scale("+d+")",a.style.transitionDelay="0ms",c&&(c.style.transitionDelay=".3s"),angular.forEach(u,function(t,e){t.style.transitionDelay=25*(u.length-e)+"ms"})):(l.style.pointerEvents="none",a.style.transform="scale(1)",a.style.top="0",e.hasClass("md-right")&&(a.style.left="0",a.style.right=null),e.hasClass("md-left")&&(a.style.right="0",a.style.left=null),a.style.transitionDelay="200ms",c&&(c.style.transitionDelay="0ms"),angular.forEach(u,function(t,e){t.style.transitionDelay=200+25*e+"ms"}))}}}return{addClass:function(t,n,o){e(t,n),o()},removeClass:function(t,n,o){e(t,n),o()}}}angular.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",function(){return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e,n){e.addClass("md-fab-toolbar"),e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}}).animation(".md-fab-toolbar",e).service("mdFabToolbarAnimation",e)}(),function(){function t(t,n,o,i){return{restrict:"E",controller:e,scope:{mdOnLayout:"&"},link:function(e,r,a,s){r.addClass("_md"),r.attr("role","list"),s.layoutDelegate=function(t){var n=[].filter.call(r.children(),function(t){return"MD-GRID-TILE"==t.tagName&&!t.$$mdDestroyed}),s={tileSpans:(c=n,[].map.call(c,function(t){var e=angular.element(t).controller("mdGridTile");return{row:parseInt(i.getResponsiveAttribute(e.$attrs,"md-rowspan"),10)||1,col:parseInt(i.getResponsiveAttribute(e.$attrs,"md-colspan"),10)||1}})),colCount:function(){var t=parseInt(i.getResponsiveAttribute(a,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}(),rowMode:v(),rowHeight:function(){var t=i.getResponsiveAttribute(a,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";switch(v()){case"fixed":return b(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}(),gutter:b(i.getResponsiveAttribute(a,"md-gutter")||1)};var c;if(!t&&angular.equals(s,l))return;var u=o(s.colCount,s.tileSpans,n).map(function(t,e){return{grid:{element:r,style:function(t,e,n,o,i){var r={};switch(o){case"fixed":r.height=y({unit:i,span:e,gutter:n}),r.paddingBottom="";break;case"ratio":var a=1===t?0:(t-1)/t,s=1/t*100,l=s*(1/i),c=m({share:l,gutterShare:a,gutter:n});r.height="",r.paddingBottom=y({unit:c,span:e,gutter:n})}return r}(s.colCount,e,s.gutter,s.rowMode,s.rowHeight)},tiles:t.map(function(t,o){return{element:angular.element(n[o]),style:function(t,e,n,o,i,r,a){var s=1/n*100,l=(n-1)/n,c=m({share:s,gutterShare:l,gutter:i}),u="rtl"!=document.dir&&"rtl"!=document.body.dir?{left:g({unit:c,offset:t.col,gutter:i}),width:y({unit:c,span:e.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""}:{right:g({unit:c,offset:t.col,gutter:i}),width:y({unit:c,span:e.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(r){case"fixed":u.top=g({unit:a,offset:t.row,gutter:i}),u.height=y({unit:a,span:e.row,gutter:i});break;case"ratio":var p=s/a,h=m({share:p,gutterShare:l,gutter:i});u.paddingTop=y({unit:h,span:e.row,gutter:i}),u.marginTop=g({unit:h,offset:t.row,gutter:i});break;case"fit":var d=(o-1)/o;h=m({share:p=1/o*100,gutterShare:d,gutter:i}),u.top=g({unit:h,offset:t.row,gutter:i}),u.height=y({unit:h,span:e.row,gutter:i})}return u}(t.position,t.spans,s.colCount,e,s.gutter,s.rowMode,s.rowHeight)}})}}).reflow().performance();e.mdOnLayout({$event:{performance:u}}),l=s};var l,c=angular.bind(s,s.invalidateLayout),u=function(){for(var t in n.MEDIA)i(t),i.getQuery(n.MEDIA[t]).addListener(c);return i.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],a,p)}();function p(t){null==t?s.invalidateLayout():i(t)&&s.invalidateLayout()}e.$on("$destroy",function(){for(var t in s.layoutDelegate=angular.noop,u(),n.MEDIA)i.getQuery(n.MEDIA[t]).removeListener(c)});var h=t.startSymbol(),d=t.endSymbol();function f(t){return h+t+d}var m=t(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),g=t("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),y=t("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")");function v(){var t=i.getResponsiveAttribute(a,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";return"fit"==t?"fit":-1!==t.indexOf(":")?"ratio":"fixed"}function b(t){return/\D$/.test(t)?t:t+"px"}}}}function e(t){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=t.nextTick,this.layoutDelegate=angular.noop}function n(t){var e=o;return n.animateWith=function(t){e=angular.isFunction(t)?t:o},n;function n(n,o){var i,r,a,s,l,c;return s=t.time(function(){r=function(t,e){var n=0,o=0,i=function(){for(var e=[],n=0;n<t;n++)e.push(0);return e}();return{positioning:e.map(function(e,l){return{spans:e,position:function(e,l){if(e.col>t)throw"md-grid-list: Tile at position "+l+" has a colspan ("+e.col+") that exceeds the column count ("+t+")";var c=0,u=0;for(;u-c<e.col;)n>=t?r():-1!==(c=i.indexOf(0,n))&&-1!==(u=s(c+1))?n=u+1:(c=u=0,r());return a(c,e.col,e.row),n=c+e.col,{col:c,row:o}}(e,l)}}),rowCount:o+Math.max.apply(Math,i)};function r(){n=0,o++,a(0,t,-1)}function a(t,e,n){for(var o=t;o<t+e;o++)i[o]=Math.max(i[o]+n,0)}function s(t){var e;for(e=t;e<i.length;e++)if(0!==i[e])return e;if(e===i.length)return e}}(n,o)}),i={layoutInfo:function(){return r},map:function(e){return l=t.time(function(){var t=i.layoutInfo();a=e(t.positioning,t.rowCount)}),i},reflow:function(n){return c=t.time(function(){(n||e)(a.grid,a.tiles)}),i},performance:function(){return{tileCount:o.length,layoutTime:s,mapTime:l,reflowTime:c,totalTime:s+l+c}}}}function o(t,e){t.element.css(t.style),e.forEach(function(t){t.element.css(t.style)})}}function o(t){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(t){this.$attrs=t}],link:function(e,n,o,i){n.attr("role","listitem");var r=t.watchResponsiveAttributes(["md-colspan","md-rowspan"],o,angular.bind(i,i.invalidateLayout));i.invalidateTiles(),e.$on("$destroy",function(){n[0].$$mdDestroyed=!0,r(),i.invalidateLayout()}),angular.isDefined(e.$parent.$index)&&e.$watch(function(){return e.$parent.$index},function(t,e){t!==e&&i.invalidateTiles()})}}}function i(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}e.$inject=["$mdUtil"],n.$inject=["$mdUtil"],t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],o.$inject=["$mdMedia"],angular.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",o).directive("mdGridTileFooter",i).directive("mdGridTileHeader",i).factory("$mdGridLayout",n),e.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),angular.module("material.components.icon",["material.core"]),function(){angular.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",function(t,e,n,o){return{restrict:"E",link:function(o,i,r){e(i);var a=r.mdFontIcon,s=t.fontSet(r.mdFontSet);r.mdSvgIcon||r.mdSvgSrc||(r.mdFontIcon&&i.addClass("md-font "+r.mdFontIcon),i.addClass(s)),r.$observe("mdFontIcon",u),r.$observe("mdFontSet",u);i[0].getAttribute(r.$attr.mdSvgSrc);var l,c=r.$normalize(r.$attr.mdSvgIcon||r.$attr.mdSvgSrc||"");r.role||(n.expect(i,"role","img"),r.role="img");"img"!==r.role||r.ariaHidden||n.hasAriaLabel(i)||(r.alt?n.expect(i,"aria-label",r.alt):n.parentHasAriaLabel(i,2)?n.expect(i,"aria-hidden","true"):(l=r.mdFontIcon||r.mdSvgIcon||i.text())?n.expect(i,"aria-label",l):n.expect(i,"aria-hidden","true"));c&&r.$observe(c,function(e){i.empty(),e&&t(e).then(function(t){i.empty(),i.append(t)})});function u(){if(!r.mdSvgIcon&&!r.mdSvgSrc){r.mdFontIcon&&(i.removeClass(a),i.addClass(r.mdFontIcon),a=r.mdFontIcon);var e=t.fontSet(r.mdFontSet);s!==e&&(i.removeClass(s),i.addClass(e),s=e)}}}}}])}(),function(){r.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],angular.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",o);var n={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function o(){}function i(t,e){this.url=t,this.viewBoxSize=e||n.defaultViewBoxSize}function r(n,o,i,r,a,s){var l={},c={},u=/[-\w@:%+.~#?&//=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&//=]*)?/i,p=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;return v.prototype={clone:function(){return this.element.cloneNode(!0)},prepare:function(){var t=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;angular.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+t+" "+t,focusable:!1},function(t,e){this.element.setAttribute(e,t)},this)}},h.fontSet=function(t){if(angular.isUndefined(t)||!t||!t.length)return n.defaultFontSet;var e=t;return angular.forEach(n.fontSets,function(n){n.alias===t&&(e=n.fontSet||e)}),e},h;function h(t){return t=t||"",angular.isString(t)||(t=s.getTrustedUrl(t)),l[t]?i.when(function(t){var n,o,i,r,s=t.clone(),l=a.nextUid(),c=["clip-path","color-profile","cursor","fill","filter","href","marker-start","marker-mid","marker-end","mask","stroke","style","vector-effect"],u=s.innerHTML===e;if(!isFinite(Number(l)))throw new Error("Unsafe and unexpected non-number result from $mdUtil.nextUid().");n="_cache"+l,s.id&&(s.id+=n);return angular.forEach(s.querySelectorAll("[id]"),function(t){for(o="",i=0;i<c.length;i++)o+="["+c[i]+'="url(#'+t.id+')"]',i+1<c.length&&(o+=", ");angular.forEach(s.querySelectorAll(o),function(e){d(t,e,u,l)}),angular.forEach(s.querySelectorAll("style"),function(e){d(t,e,u,l)}),angular.forEach(s.querySelectorAll("[*|href]:not([href])"),function(e){(r=e.getAttribute("xlink:href"))&&(r=r.replace("#"+t.id,"#"+t.id+n),e.setAttribute("xlink:href",r))}),t.id+=n}),s}(l[t])):u.test(t)||p.test(t)?y(t).then(f(t)):(-1===t.indexOf(":")&&(t="$default:"+t),(n[t]?m:g)(t).then(f(t)))}function d(t,e,n,o){var i,r;if(!isFinite(Number(o)))throw new Error("Unsafe and unexpected non-number result for newUid.");r="_cache"+o,n?(i=(i=a.getOuterHTML(e)).replace("url(#"+t.id+")","url(#"+t.id+r+")"),e.textContent=angular.element(i)[0].innerHTML):e.outerHTML=e.outerHTML.replace("url(#"+t.id+")","url(#"+t.id+r+")")}function f(t){return function(e){var o;return l[t]=(o=e,angular.isDefined(o.element)&&angular.isDefined(o.config)?e:new v(e,n[t])),l[t].clone()}}function m(t){var e=n[t];return y(e.url).then(function(t){return new v(t,e)})}function g(t){var e=t.substring(0,t.lastIndexOf(":"))||"$default",o=n[e];return o?y(o.url).then(function(e){var n=t.slice(t.lastIndexOf(":")+1),i=e.querySelector("#"+n);return i?new v(i,o):a(t)}):a(t);function a(t){var e="icon "+t+" not found";return r.warn(e),i.reject(e||t)}}function y(e){return p.test(e)?function(e){var n=p.exec(e),o=/base64/i.test(e)?t.atob(n[2]):n[2];return i.when(angular.element(o)[0])}(e):function(t){return i(function(e,n){o(t,!0).then(function(n){c[t]||(c[t]=angular.element("<div>").append(n)[0].querySelector("svg")),e(c[t])},function(t){var e=angular.isString(t)?t:t.message||t.data||t.statusText;r.warn(e),n(t)})})}(e)}function v(t,e){var n;if(t&&"symbol"===t.tagName.toLowerCase()){var o=t.getAttribute("viewBox");n=t.innerHTML?t.innerHTML:a.getInnerHTML(t),t=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(n)[0],o&&t.setAttribute("viewBox",o)}t&&"svg"!==t.tagName.toLowerCase()&&(t=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t.cloneNode(!0))[0]),t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=e,this.prepare()}}o.prototype={icon:function(t,e,o){return-1==t.indexOf(":")&&(t="$default:"+t),n[t]=new i(e,o),this},iconSet:function(t,e,o){return n[t]=new i(e,o),this},defaultIconSet:function(t,e){return n.$default||(n.$default=new i(t,e)),n.$default.viewBoxSize=e||n.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return n.defaultViewBoxSize=t,this},fontSet:function(t,e){return n.fontSets.push({alias:t,fontSet:e||t}),this},defaultFontSet:function(t){return n.defaultFontSet=t||"",this},defaultIconSize:function(t){return n.defaultIconSize=t,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(t,e,o,i,a){return r(n,t,e,o,i,a)}]}}(),function(){o.$inject=["$mdTheming","$parse","$$rAF"],i.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],r.$inject=["$animate","$mdUtil"],a.$inject=["$compile"],h.$inject=["$mdUtil"],s.$inject=["$document","$timeout"],d.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],f.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],m.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var n=angular.module("material.components.input",["material.core"]).directive("mdInputContainer",o).directive("label",function(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,o){!o||n.mdNoFloat||e.hasClass("md-container-ignore")||(o.label=e,t.$on("$destroy",function(){o.label=null}))}}}).directive("input",i).directive("textarea",i).directive("mdMaxlength",r).directive("placeholder",a).directive("ngMessages",function(){return{restrict:"EA",link:function(t,e,n,o){if(!o)return;e.toggleClass("md-input-messages-animation",!0),e.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||function(t){return p.some(function(e){return t[e]})}(n))&&e.toggleClass("md-auto-hide",!1)},require:"^^?mdInputContainer"}}).directive("ngMessage",h).directive("ngMessageExp",h).directive("mdSelectOnFocus",s).animation(".md-input-invalid",d).animation(".md-input-messages-animation",f).animation(".md-input-message-animation",m);function o(t,e,n){a.$inject=["$scope","$element","$attrs","$animate"];var o=["INPUT","TEXTAREA","SELECT","MD-SELECT"],i=o.reduce(function(t,e){return t.concat(["md-icon ~ "+e,".md-icon ~ "+e])},[]).join(","),r=o.reduce(function(t,e){return t.concat([e+" ~ md-icon",e+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:function(e){var o=e[0].querySelector(i),a=e[0].querySelector(r);return function(e,i){t(i),(o||a)&&n(function(){var t=i[0].querySelector("md-icon")||i[0].querySelector(".md-icon");o&&t&&i.addClass("md-icon-left"),a&&t&&i.addClass("md-icon-right")})}},controller:a};function a(t,n,o,i){var r=this;r.isErrorGetter=o.mdIsError&&e(o.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=n,r.setFocused=function(t){n.toggleClass("md-input-focused",!!t)},r.setHasValue=function(t){n.toggleClass("md-input-has-value",!!t)},r.setHasPlaceholder=function(t){n.toggleClass("md-input-has-placeholder",!!t)},r.setInvalid=function(t){t?i.addClass(n,"md-input-invalid"):i.removeClass(n,"md-input-invalid")},t.$watch(function(){return r.label&&r.input},function(t){t&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}}function i(t,e,n,o,i){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:function(r,a,s,l){var c=l[0],u=!!l[1],p=l[1]||t.fakeNgModel(),h=l[2],d=angular.isDefined(s.readonly),f=t.parseAttributeBoolean(s.mdNoAsterisk),m=a[0].tagName.toLowerCase();if(!c)return;if("hidden"===s.type)return void a.attr("aria-hidden","true");if(c.input){if(c.input[0].contains(a[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}c.input=a,c.label&&s.$observe("required",function(t){c.label.toggleClass("md-required",t&&!f)});var g=angular.element('<div class="md-errors-spacer">');a.after(g);var y=angular.isString(s.placeholder)?s.placeholder.trim():"";c.label||y.length||n.expect(a,"aria-label");a.addClass("md-input"),a.attr("id")||a.attr("id","input_"+t.nextUid());"input"===m&&"number"===s.type&&s.min&&s.max&&!s.step?a.attr("step","any"):"textarea"===m&&function(){var n=!s.hasOwnProperty("mdNoAutogrow");if(function(){if(!s.hasOwnProperty("mdNoResize")){var t=angular.element('<div class="md-resize-handle"></div>'),e=!1,n=0,o=c.element,l=i.register(t,"drag",{horizontal:!1});a.wrap('<div class="md-resize-wrapper">').after(t),t.on("mousedown",u),o.on("$md.dragstart",p).on("$md.drag",h).on("$md.dragend",d),r.$on("$destroy",function(){t.off("mousedown",u).remove(),o.off("$md.dragstart",p).off("$md.drag",h).off("$md.dragend",d),l(),t=null,o=null,l=null})}function u(t){t.preventDefault(),e=!0,t.clientY,n=parseFloat(a.css("height"))||a.prop("offsetHeight")}function p(t){e&&(t.preventDefault(),v(),o.addClass("md-input-resized"))}function h(t){e&&a.css("height",n+t.pointer.distanceY+"px")}function d(t){e&&(e=!1,o.removeClass("md-input-resized"))}}(),!n)return;var l=s.hasOwnProperty("rows")?parseInt(s.rows):NaN,h=s.hasOwnProperty("maxRows")?parseInt(s.maxRows):NaN,d=r.$on("md-resize-textarea",g),f=null,m=a[0];o(function(){t.nextTick(g)},10,!1),a.on("input",g),u&&p.$formatters.push(y);l||a.attr("rows",1);function g(){a.attr("rows",1).css("height","auto").addClass("md-no-flex");var t,e,n=(t=m.offsetHeight,e=m.scrollHeight-t,t+Math.max(e,0));if(!f){var o=a[0].style.padding||"";f=a.css("padding",0).prop("offsetHeight"),a[0].style.padding=o}if(l&&f&&(n=Math.max(n,f*l)),h&&f){var i=f*h;i<n?(a.attr("md-no-autogrow",""),n=i):a.removeAttr("md-no-autogrow")}f&&a.attr("rows",Math.round(n/f)),a.css("height",n+"px").removeClass("md-no-flex")}function y(e){return t.nextTick(g),e}function v(){if(n&&(n=!1,angular.element(e).off("resize",g),d&&d(),a.attr("md-no-autogrow","").off("input",g),u)){var t=p.$formatters.indexOf(y);t>-1&&p.$formatters.splice(t,1)}}if(angular.element(e).on("resize",g),r.$on("$destroy",v),s.hasOwnProperty("mdDetectHidden")){var b=(w=!1,function(){var t=0===m.offsetHeight;!1===t&&!0===w&&g(),w=t});r.$watch(function(){return t.nextTick(b,!1),!0})}var w}();u||w();var v=c.isErrorGetter||function(){return p.$invalid&&(p.$touched||h&&h.$submitted)};r.$watch(v,c.setInvalid),s.ngValue&&s.$observe("value",w);p.$parsers.push(b),p.$formatters.push(b),a.on("input",w),d||a.on("focus",function(e){t.nextTick(function(){c.setFocused(!0)})}).on("blur",function(e){t.nextTick(function(){c.setFocused(!1),w()})});function b(t){return c.setHasValue(!p.$isEmpty(t)),t}function w(){c.setHasValue(a.val().length>0||(a[0].validity||{}).badInput)}r.$on("$destroy",function(){c.setFocused(!1),c.setHasValue(!1),c.input=null})}}}function r(t,n){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:function(o,i,r,a){var s=parseInt(r.mdMaxlength);isNaN(s)&&(s=-1);var l,c,u=a[0],p=a[1],h=!angular.isDefined(r.ngTrim)||n.parseAttributeBoolean(r.ngTrim),d="password"===r.type;function f(t){return(t=h&&!d&&angular.isString(t)?t.trim():t)!==e&&null!==t||(t=""),String(t).length}function m(){l&&l.parent()&&l.text(f(i.val())+" / "+s)}o.$watch(r.mdMaxlength,function(t){s=t}),u.$validators["md-maxlength"]=function(t,n){if(!angular.isNumber(s)||s<0)return!0;m();var o=i.val()||n;return o!==e&&null!==o||(o=""),o=h&&!d&&angular.isString(o)?o.trim():o,String(o).length<=s},u.$isEmpty=function(t){return 0===f(t)},n.nextTick(function(){c=angular.element(p.element[0].querySelector(".md-errors-spacer")),l=angular.element('<div class="md-char-counter">'),c.append(l),r.$observe("ngTrim",function(t){h=!angular.isDefined(t)||n.parseAttributeBoolean(t)}),o.$watch(r.mdMaxlength,function(e){angular.isNumber(e)&&e>0?(l.parent().length||t.enter(l,c),m()):t.leave(l)})})}}}function a(t){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(e,n,o,i){if(!i)return;var r=i.element.find("label"),a=i.element.attr("md-no-float");if(r&&r.length||""===a||e.$eval(a))return void i.setHasPlaceholder(!0);if("MD-SELECT"!==n[0].nodeName){var s=angular.element('<label ng-click="delegateClick()" tabindex="-1" aria-hidden="true">'+o.placeholder+"</label>");o.$set("placeholder",null),i.element.addClass("md-icon-float").prepend(s),t(s)(e)}}}}}function s(t,e){return{restrict:"A",link:function(n,o,i){if("INPUT"!==o[0].nodeName&&"TEXTAREA"!==o[0].nodeName)return;var r=!1;function a(){r=!0,e(function(){t[0].activeElement===o[0]&&o[0].select(),r=!1},1,!1)}function s(t){r&&t.preventDefault()}o.on("focus",a).on("mouseup",s),n.$on("$destroy",function(){o.off("focus",a).off("mouseup",s)})}}}t._mdMocksIncluded&&n.service("$$mdInput",function(){return{messages:{getElement:w}}}).service("mdInputInvalidAnimation",d).service("mdInputMessagesAnimation",f).service("mdInputMessageAnimation",m);var l,c,u,p=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];function h(t){return{restrict:"EA",compile:function(e){if(n(e))o(e);else if(function(){var t=e[0];for(;t=t.parentNode;)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}())return function(t,i){n(i)&&o(e)};function n(e){return!!t.getClosest(e,"md-input-container")}function o(t){t.toggleClass("md-input-message-animation",!0)}},priority:100}}function d(t,e,n){return E(t,e,n),{addClass:function(t,e,n){g(t,n)}}}function f(t,e,n){return E(t,e,n),{enter:function(t,e){g(t,e)},leave:function(t,e){y(t,e)},addClass:function(t,e,n){"ng-hide"==e?y(t,n):n()},removeClass:function(t,e,n){"ng-hide"==e?g(t,n):n()}}}function m(t,e,n,o){return E(t,e,n),{enter:function(t,e){v(t).start().done(e)},leave:function(t,e){b(t).start().done(e)}}}function g(t,e){var n,o=[],i=w(t),r=i.children();0!=i.length&&0!=r.length?(angular.forEach(r,function(t){n=v(angular.element(t)),o.push(n.start())}),l.all(o,e)):e()}function y(t,e){var n,o=[],i=w(t),r=i.children();0!=i.length&&0!=r.length?(angular.forEach(r,function(t){n=b(angular.element(t)),o.push(n.start())}),l.all(o,e)):e()}function v(e){var n=parseInt(t.getComputedStyle(e[0]).height),o=parseInt(t.getComputedStyle(e[0]).marginTop),i=w(e),r=function(t){return t.controller("mdInputContainer").element}(e);return o>-n||i.hasClass("md-auto-hide")&&!r.hasClass("md-input-invalid")?c(e,{}):c(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function b(e){var n=e[0].offsetHeight,o=t.getComputedStyle(e[0]);return 0===parseInt(o.opacity)?c(e,{}):c(e,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function w(t){return t.hasClass("md-input-messages-animation")?t:t.hasClass("md-input-message-animation")?angular.element(u.getClosest(t,function(t){return t.classList.contains("md-input-messages-animation")})):angular.element(t[0].querySelector(".md-input-messages-animation"))}function E(t,e,n){l=t,c=e,u=n}}(),function(){function t(t){return{restrict:"E",compile:function(e){return e[0].setAttribute("role","list"),t}}}function e(t,e,n,o){var i=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(r,a){var s,l,c,u=r[0].querySelectorAll(".md-secondary"),p=r;if(r[0].setAttribute("role","listitem"),a.ngClick||a.ngDblclick||a.ngHref||a.href||a.uiSref||a.ngAttrUiSref)f("button");else if(!r.hasClass("md-no-proxy")){for(var h,d=0;h=i[d];++d)if(l=r[0].querySelector(h)){s=!0;break}s?f("div"):r.addClass("md-no-proxy")}function f(e){if("div"==e)(p=angular.element('<div class="md-no-style md-list-item-inner">')).append(r.contents()),r.addClass("md-proxy-focus");else{p=angular.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var n=angular.element('<md-button class="md-no-style"></md-button>');m(r[0],n[0]),n.attr("aria-label")||n.attr("aria-label",t.getText(r)),r.hasClass("md-no-focus")&&n.addClass("md-no-focus"),p.prepend(n),p.children().eq(1).append(r.contents()),r.addClass("_md-button-wrap")}r[0].setAttribute("tabindex","-1"),r.append(p)}function m(t,e,o){var i=n.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts","download"]);o&&(i=i.concat(n.prefixer(o))),angular.forEach(i,function(n){t.hasAttribute(n)&&(e.setAttribute(n,t.getAttribute(n)),t.removeAttribute(n))})}function g(t){for(var e=t.attributes,n=0;n<e.length;n++)if("ngClick"===a.$normalize(e[n].name))return!0;return!1}return c=angular.element('<div class="md-secondary-container">'),angular.forEach(u,function(e){!function(e,n){if(e&&("MD-BUTTON"!=(s=e.nodeName.toUpperCase())&&"BUTTON"!=s)&&e.hasAttribute("ng-click")){t.expect(e,"aria-label");var o=angular.element('<md-button class="md-secondary md-icon-button">');m(e,o[0],["ng-if","ng-hide","ng-show"]),e.setAttribute("tabindex","-1"),o.append(e),e=o[0]}var s;e&&(!g(e)||!a.ngClick&&function(t){return-1!=i.indexOf(t.nodeName.toLowerCase())}(e))&&angular.element(e).removeClass("md-secondary"),r.addClass("md-with-secondary"),n.append(e)}(e,c)}),p.append(c),function(){for(var t,e,n=["md-switch","md-checkbox"],o=0;e=n[o];++o)if((t=r.find(e)[0])&&!t.hasAttribute("aria-label")){var i=r.find("p")[0];if(!i)return;t.setAttribute("aria-label","Toggle "+i.textContent)}}(),s&&"MD-MENU"===l.nodeName&&function(){var t=angular.element(l),e="left";(t.parent().hasClass("md-secondary-container")||l.parentNode.firstElementChild!==l)&&(e="right");t.attr("md-position-mode")||t.attr("md-position-mode",e+" target");var n=t.children().eq(0);g(n[0])||n.attr("ng-click","$mdMenu.open($event)");n.attr("aria-label")||n.attr("aria-label","Open List Menu")}(),function(t,r,a,s){r.addClass("_md");var l=[],c=r[0].firstElementChild,u=r.hasClass("_md-button-wrap")?c.firstElementChild:c,p=u&&g(u),h=r.hasClass("md-no-proxy");c&&c.children&&!p&&!h&&angular.forEach(i,function(t){angular.forEach(c.querySelectorAll(t+":not(.md-secondary)"),function(t){l.push(t)})}),(1==l.length||p)&&(r.addClass("md-clickable"),p||s.attachRipple(t,angular.element(r[0].querySelector(".md-no-style")))),l.length&&angular.forEach(l,function(e){e=angular.element(e),t.mouseActive=!1,e.on("mousedown",function(){t.mouseActive=!0,o(function(){t.mouseActive=!1},100)}).on("focus",function(){!1===t.mouseActive&&r.addClass("md-focused"),e.on("blur",function t(){r.removeClass("md-focused"),e.off("blur",t)})})});var d=function(t){if("INPUT"!=t.target.nodeName&&"TEXTAREA"!=t.target.nodeName&&!t.target.isContentEditable){var n=t.which||t.keyCode;n==e.KEY_CODE.SPACE&&u&&(u.click(),t.preventDefault(),t.stopPropagation())}};p||l.length||u&&u.addEventListener("keypress",d);r.off("click"),r.off("keypress"),1==l.length&&u&&r.children().eq(0).on("click",function(t){if(!function(t){var e=["md-slider"];if(!t.path)return-1!==e.indexOf(t.target.tagName.toLowerCase());for(var n=t.path.indexOf(r.children()[0]),o=0;o<n;o++)if(-1!==e.indexOf(t.path[o].tagName.toLowerCase()))return!0}(t)){var e=n.getClosest(t.target,"BUTTON");!e&&u.contains(t.target)&&angular.forEach(l,function(e){t.target===e||e.contains(t.target)||("MD-MENU"===e.nodeName&&(e=e.children[0]),angular.element(e).triggerHandler("click"))})}});t.$on("$destroy",function(){u&&u.removeEventListener("keypress",d)})}}}}function n(t,e,n){this.attachRipple=function(t,e){n.attach(t,e,{})}}n.$inject=["$scope","$element","$mdListInkRipple"],t.$inject=["$mdTheming"],e.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],angular.module("material.components.list",["material.core"]).controller("MdListController",n).directive("mdList",t).directive("mdListItem",e)}(),angular.module("material.components.menu",["material.core","material.components.backdrop"]),function(){function t(t,n,o,i,r,a,s,l,c){var u,p,h=r.prefixer(),d=this;this.nestLevel=parseInt(n.mdNestLevel,10)||0,this.init=function(e,n){n=n||{},u=e,(p=o[0].querySelector(h.buildSelector(["ng-click","ng-mouseenter"]))).setAttribute("aria-expanded","false"),this.isInMenuBar=n.isInMenuBar,this.nestedMenus=r.nodesToArray(u[0].querySelectorAll(".md-nested-menu")),u.on("$mdInterimElementRemove",function(){d.isOpen=!1,r.nextTick(function(){d.onIsOpenChanged(d.isOpen)})}),r.nextTick(function(){d.onIsOpenChanged(d.isOpen)});var a="menu_container_"+r.nextUid();u.attr("id",a),angular.element(p).attr({"aria-owns":a,"aria-haspopup":"true"}),i.$on("$destroy",angular.bind(this,function(){this.disableHoverListener(),t.destroy()})),u.on("$destroy",function(){t.destroy()})};var f,m,g=[];this.enableHoverListener=function(){g.push(s.$on("$mdMenuOpen",function(t,e){u[0].contains(e[0])&&(d.currentlyOpenMenu=e.controller("mdMenu"),d.isAlreadyOpening=!1,d.currentlyOpenMenu.registerContainerProxy(d.triggerContainerProxy.bind(d)))})),g.push(s.$on("$mdMenuClose",function(t,n){u[0].contains(n[0])&&(d.currentlyOpenMenu=e)})),(m=angular.element(r.nodesToArray(u[0].children[0].children))).on("mouseenter",d.handleMenuItemHover),m.on("mouseleave",d.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;g.length;)g.shift()();m&&m.off("mouseenter",d.handleMenuItemHover),m&&m.off("mouseleave",d.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(t){if(!d.isAlreadyOpening){var e=t.target.querySelector("md-menu")||r.getClosest(t.target,"MD-MENU");f=a(function(){if(e&&(e=angular.element(e).controller("mdMenu")),d.currentlyOpenMenu&&d.currentlyOpenMenu!=e){var t=d.nestLevel+1;d.currentlyOpenMenu.close(!0,{closeTo:t}),d.isAlreadyOpening=!!e,e&&e.open()}else e&&!e.isOpen&&e.open&&(d.isAlreadyOpening=!!e,e&&e.open())},e?100:250);var n=t.currentTarget.querySelector(".md-button:not([disabled])");n&&n.focus()}},this.handleMenuItemMouseLeave=function(){f&&(a.cancel(f),f=e)},this.open=function(e){e&&e.stopPropagation(),e&&e.preventDefault(),d.isOpen||(d.enableHoverListener(),d.isOpen=!0,r.nextTick(function(){d.onIsOpenChanged(d.isOpen)}),(p=p||(e?e.target:o[0])).setAttribute("aria-expanded","true"),i.$emit("$mdMenuOpen",o),t.show({scope:i,mdMenuCtrl:d,nestLevel:d.nestLevel,element:u,target:p,preserveElement:!0,parent:"body"}).finally(function(){p.setAttribute("aria-expanded","false"),d.disableHoverListener()}))},this.onIsOpenChanged=function(t){t?(u.attr("aria-hidden","false"),o[0].classList.add("md-open"),angular.forEach(d.nestedMenus,function(t){t.classList.remove("md-open")})):(u.attr("aria-hidden","true"),o[0].classList.remove("md-open")),i.$mdMenuIsOpen=d.isOpen},this.focusMenuContainer=function(){var t=u[0].querySelector(h.buildSelector(["md-menu-focus-target","md-autofocus"]));t||(t=u[0].querySelector(".md-button:not([disabled])")),t.focus()},this.registerContainerProxy=function(t){this.containerProxy=t},this.triggerContainerProxy=function(t){this.containerProxy&&this.containerProxy(t)},this.destroy=function(){return d.isOpen?t.destroy():l.when(!1)},this.close=function(e,n){if(d.isOpen){d.isOpen=!1,r.nextTick(function(){d.onIsOpenChanged(d.isOpen)});var a=angular.extend({},n,{skipFocus:e});if(i.$emit("$mdMenuClose",o,a),t.hide(null,n),!e){var s=d.restoreFocusTo||o.find("button")[0];s instanceof angular.element&&(s=s[0]),s&&s.focus()}}},this.positionMode=function(){var t=(n.mdPositionMode||"target").split(" ");return 1===t.length&&t.push(t[0]),{left:t[0],top:t[1]}},this.offsets=function(){var t=(n.mdOffset||"0 0").split(" ").map(parseFloat);if(2===t.length)return{left:t[0],top:t[1]};if(1===t.length)return{top:t[0],left:t[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},i.$mdMenu={open:this.open,close:this.close},i.$mdOpenMenu=angular.bind(this,function(){return c.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}t.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],angular.module("material.components.menu").controller("mdMenuCtrl",t)}(),function(){function t(t){var e="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:function(o){o.addClass("md-menu");var i=o.children()[0],r=t.prefixer();r.hasAttribute(i,"ng-click")||(i=i.querySelector(r.buildSelector(["ng-click","ng-mouseenter"]))||i);var a="MD-BUTTON"===i.nodeName||"BUTTON"===i.nodeName;i&&a&&!i.hasAttribute("type")&&i.setAttribute("type","button");if(!i)throw Error(e+"Expected the menu to have a trigger element.");if(2!==o.children().length)throw Error(e+"Expected two children elements. The second element must have a `md-menu-content` element.");i&&i.setAttribute("aria-haspopup","true");var s=o[0].querySelectorAll("md-menu"),l=parseInt(o[0].getAttribute("md-nest-level"),10)||0;s&&angular.forEach(t.nodesToArray(s),function(t){t.hasAttribute("md-position-mode")||t.setAttribute("md-position-mode","cascade"),t.classList.add("_md-nested-menu"),t.setAttribute("md-nest-level",l+1)});return n}};function n(t,e,n,o){var i=o[0],r=!!o[1],a=angular.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),s=e.children()[1];e.addClass("_md"),s.hasAttribute("role")||s.setAttribute("role","menu"),a.append(s),e.on("$destroy",function(){a.remove()}),e.append(a),a[0].style.display="none",i.init(a,{isInMenuBar:r})}}t.$inject=["$mdUtil"],angular.module("material.components.menu").directive("mdMenu",t)}(),function(){function t(t){o.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var n=8;return t("$mdMenu").setDefaults({methods:["target"],options:o});function o(t,o,r,a,s,l,c,u,p,h){var d=t.prefixer(),f=t.dom.animator;return{parent:"body",onShow:function(e,n,i){(function(){if(!i.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");angular.extend(i,{alreadyOpen:!1,isRemoved:!1,target:angular.element(i.target),parent:angular.element(i.parent),menuContentEl:angular.element(n[0].querySelector("md-menu-content"))})})(),i.menuContentEl[0]?o.inherit(i.menuContentEl,i.target):h.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",n);return i.cleanupResizing=(g=n,v=i,b=c.throttle(function(){if(!i.isRemoved){var t=y(g,v);g.css(f.toCss(t))}}),s.addEventListener("resize",b),s.addEventListener("orientationchange",b),function(){s.removeEventListener("resize",b),s.removeEventListener("orientationchange",b)}),i.hideBackdrop=function(e,n,o){return o.nestLevel?angular.noop:(o.disableParentScroll&&!t.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=t.disableScrollAround(o.element,o.parent):o.disableParentScroll=!1,o.hasBackdrop&&(o.backdrop=t.createBackdrop(e,"md-menu-backdrop md-click-catcher"),p.enter(o.backdrop,a[0].body)),function(){o.backdrop&&o.backdrop.remove(),o.disableParentScroll&&o.restoreScroll()})}(e,0,i),(i.parent.append(n),n[0].style.display="",l(function(t){var e=y(n,i);n.removeClass("md-leave"),u(n,{addClass:"md-active",from:f.toCss(e),to:f.toCss({transform:""})}).start().then(t)})).then(function(o){return i.alreadyOpen=!0,i.cleanupInteraction=function(){if(!i.menuContentEl[0])return angular.noop;i.menuContentEl.on("keydown",l),i.menuContentEl[0].addEventListener("click",c,!0);var n=i.menuContentEl[0].querySelector(d.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!n)for(var o=i.menuContentEl[0].children.length,a=0;a<o;a++){var s=i.menuContentEl[0].children[a];if(n=s.querySelector(".md-button:not([disabled])"))break;if(s.firstElementChild&&!s.firstElementChild.disabled){n=s.firstElementChild;break}}return n&&n.focus(),function(){i.menuContentEl.off("keydown",l),i.menuContentEl[0].removeEventListener("click",c,!0)};function l(e){var n;switch(e.keyCode){case r.KEY_CODE.ESCAPE:i.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case r.KEY_CODE.TAB:i.mdMenuCtrl.close(!1,{closeAll:!0}),n=!1;break;case r.KEY_CODE.UP_ARROW:m(e,i.menuContentEl,i,-1)||i.nestLevel||i.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case r.KEY_CODE.DOWN_ARROW:m(e,i.menuContentEl,i,1)||i.nestLevel||i.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case r.KEY_CODE.LEFT_ARROW:i.nestLevel?i.mdMenuCtrl.close():i.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case r.KEY_CODE.RIGHT_ARROW:var o=t.getClosest(e.target,"MD-MENU");o&&o!=i.parent[0]?e.target.click():i.mdMenuCtrl.triggerContainerProxy(e),n=!0}n&&(e.preventDefault(),e.stopImmediatePropagation())}function c(n){var o=n.target;do{if(o==i.menuContentEl[0])return;if((a(o,["ng-click","ng-href","ui-sref"])||"BUTTON"==o.nodeName||"MD-BUTTON"==o.nodeName)&&!a(o,["md-prevent-menu-close"])){var r=t.getClosest(o,"MD-MENU");o.hasAttribute("disabled")||r&&r!=i.parent[0]||e.$apply(function(){i.mdMenuCtrl.close(!0,{closeAll:!0})});break}}while(o=o.parentNode);function a(t,e){if(!t)return!1;for(var n,o=0;n=e[o];++o)if(d.hasAttribute(t,n))return!0;return!1}}}(),i.cleanupBackdrop=i.backdrop?(i.backdrop.on("click",w),function(){i.backdrop.off("click",w)}):angular.noop,n.addClass("md-clickable"),o});var g,v,b;function w(t){t.preventDefault(),t.stopPropagation(),e.$apply(function(){i.mdMenuCtrl.close(!0,{closeAll:!0})})}},onRemove:function(t,e,n){return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),e.removeClass("md-clickable"),!0===n.$destroy?o():u(e,{addClass:"md-leave"}).start().then(o);function o(){e.removeClass("md-active"),function(t,e){e.preserveElement?i(t).style.display="none":i(t).parentNode===i(e.parent)&&i(e.parent).removeChild(i(t))}(e,n),n.alreadyOpen=!1}},hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0};function m(e,n,o,i){for(var r,a=t.getClosest(e.target,"MD-MENU-ITEM"),s=t.nodesToArray(n[0].children),l=s.indexOf(a)+i;l>=0&&l<s.length;l+=i){if(r=g(s[l].querySelector(".md-button")))break}return r}function g(t){if(t&&-1!=t.getAttribute("tabindex"))return t.focus(),a[0].activeElement==t}function y(o,i){var r,l=o[0],c=o[0].firstElementChild,u=c.getBoundingClientRect(),p=a[0].body.getBoundingClientRect(),h=s.getComputedStyle(c),f=i.target[0].querySelector(d.buildSelector("md-menu-origin"))||i.target[0],m=f.getBoundingClientRect(),g={left:p.left+n,top:Math.max(p.top,0)+n,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-n,right:p.right-n},y={top:0,left:0,right:0,bottom:0},v={top:0,left:0,right:0,bottom:0},b=i.mdMenuCtrl.positionMode();"target"!==b.top&&"target"!==b.left&&"target-right"!==b.left||(r=function(){for(var t=0;t<c.children.length;++t)if("none"!=s.getComputedStyle(c.children[t]).display)return c.children[t]}())&&(y=(r=(r=r.firstElementChild||r).querySelector(d.buildSelector("md-menu-align-target"))||r).getBoundingClientRect(),v={top:parseFloat(l.style.top||0),left:parseFloat(l.style.left||0)});var w={},E="top ";switch(b.top){case"target":w.top=v.top+m.top-y.top;break;case"cascade":w.top=m.top-parseFloat(h.paddingTop)-f.style.top;break;case"bottom":w.top=m.top+m.height;break;default:throw new Error('Invalid target mode "'+b.top+'" specified for md-menu on Y axis.')}var M="rtl"===t.bidi();switch(b.left){case"target":w.left=v.left+m.left-y.left,E+=M?"right":"left";break;case"target-left":w.left=m.left,E+="left";break;case"target-right":w.left=m.right-u.width+(u.right-y.right),E+="right";break;case"cascade":var C=M?m.left-u.width<g.left:m.right+u.width<g.right;w.left=C?m.right-f.style.left:m.left-f.style.left-u.width,E+=C?"left":"right";break;case"right":M?(w.left=m.right-m.width,E+="left"):(w.left=m.right-u.width,E+="right");break;case"left":M?(w.left=m.right-u.width,E+="right"):(w.left=m.left,E+="left");break;default:throw new Error('Invalid target mode "'+b.left+'" specified for md-menu on X axis.')}var _,x=i.mdMenuCtrl.offsets();w.top+=x.top,w.left+=x.left,(_=w).top=Math.max(Math.min(_.top,g.bottom-l.offsetHeight),g.top),_.left=Math.max(Math.min(_.left,g.right-l.offsetWidth),g.left);var S=Math.round(100*Math.min(m.width/l.offsetWidth,1))/100,T=Math.round(100*Math.min(m.height/l.offsetHeight,1))/100;return{top:Math.round(w.top),left:Math.round(w.left),transform:i.alreadyOpen?e:t.supplant("scale({0},{1})",[S,T]),transformOrigin:E}}}function i(t){return t instanceof angular.element&&(t=t[0]),t}}t.$inject=["$$interimElementProvider"],angular.module("material.components.menu").provider("$mdMenu",t)}(),angular.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]),function(){n.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],angular.module("material.components.menuBar").controller("MenuBarController",n);var t=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function n(e,n,o,i,r,a,s,l){this.$element=o,this.$attrs=i,this.$mdConstant=r,this.$mdUtil=s,this.$document=a,this.$scope=e,this.$rootScope=n,this.$timeout=l;var c=this;angular.forEach(t,function(t){c[t]=angular.bind(c,c[t])})}n.prototype.init=function(){var t=this.$element,n=this.$mdUtil,o=this.$scope,i=this,r=[];t.on("keydown",this.handleKeyDown),this.parentToolbar=n.getClosest(t,"MD-TOOLBAR"),r.push(this.$rootScope.$on("$mdMenuOpen",function(e,n){-1!=i.getMenus().indexOf(n[0])&&(t[0].classList.add("md-open"),n[0].classList.add("md-open"),i.currentlyOpenMenu=n.controller("mdMenu"),i.currentlyOpenMenu.registerContainerProxy(i.handleKeyDown),i.enableOpenOnHover())})),r.push(this.$rootScope.$on("$mdMenuClose",function(o,r,a){var s=i.getMenus();if(-1!=s.indexOf(r[0])&&(t[0].classList.remove("md-open"),r[0].classList.remove("md-open")),t[0].contains(r[0])){for(var l=r[0];l&&-1==s.indexOf(l);)l=n.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),i.currentlyOpenMenu=e,i.disableOpenOnHover(),i.setKeyboardMode(!0))}})),o.$on("$destroy",function(){for(i.disableOpenOnHover();r.length;)r.shift()()}),this.setKeyboardMode(!0)},n.prototype.setKeyboardMode=function(t){t?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},n.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var t=this;t.openOnHoverEnabled=!0,t.parentToolbar&&(t.parentToolbar.classList.add("md-has-open-menu"),t.$mdUtil.nextTick(function(){angular.element(t.parentToolbar).on("click",t.handleParentClick)},!1)),angular.element(t.getMenus()).on("mouseenter",t.handleMenuHover)}},n.prototype.handleMenuHover=function(t){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(t)},n.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),angular.element(this.parentToolbar).off("click",this.handleParentClick)),angular.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},n.prototype.scheduleOpenHoveredMenu=function(t){var e=angular.element(t.currentTarget).controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(e)},n.prototype.scheduleOpenMenu=function(t){var n=this,o=this.$timeout;t!=n.currentlyOpenMenu&&(o.cancel(n.pendingMenuOpen),n.pendingMenuOpen=o(function(){n.pendingMenuOpen=e,n.currentlyOpenMenu&&n.currentlyOpenMenu.close(!0,{closeAll:!0}),t.open()},200,!1))},n.prototype.handleKeyDown=function(t){var e,n,o,i=this.$mdConstant.KEY_CODE,r=this.currentlyOpenMenu,a=r&&r.isOpen;switch(this.setKeyboardMode(!0),t.keyCode){case i.DOWN_ARROW:r?r.focusMenuContainer():this.openFocusedMenu(),e=!0;break;case i.UP_ARROW:r&&r.close(),e=!0;break;case i.LEFT_ARROW:n=this.focusMenu(-1),a&&(o=angular.element(n).controller("mdMenu"),this.scheduleOpenMenu(o)),e=!0;break;case i.RIGHT_ARROW:n=this.focusMenu(1),a&&(o=angular.element(n).controller("mdMenu"),this.scheduleOpenMenu(o)),e=!0}e&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopImmediatePropagation&&t.stopImmediatePropagation())},n.prototype.focusMenu=function(t){var e=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var o=!1;if(-1==n?(n=0,o=!0):(t<0&&n>0||t>0&&n<e.length-t)&&(n+=t,o=!0),o)return e[n].querySelector("button").focus(),e[n]},n.prototype.openFocusedMenu=function(){var t=this.getFocusedMenu();t&&angular.element(t).controller("mdMenu").open()},n.prototype.getMenus=function(){var t=this.$element;return this.$mdUtil.nodesToArray(t[0].children).filter(function(t){return"MD-MENU"==t.nodeName})},n.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},n.prototype.getFocusedMenuIndex=function(){var t=this.$mdUtil.getClosest(this.$document[0].activeElement,"MD-MENU");return t?this.getMenus().indexOf(t):-1},n.prototype.getOpenMenuIndex=function(){for(var t=this.getMenus(),e=0;e<t.length;++e)if(t[e].classList.contains("md-open"))return e;return-1},n.prototype.handleParentClick=function(t){var e=this.querySelector("md-menu.md-open");e&&!e.contains(t.target)&&angular.element(e).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function t(t,e){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(n,o){return o.ariaRole||n[0].setAttribute("role","menubar"),angular.forEach(n[0].children,function(e){if("MD-MENU"==e.nodeName){e.hasAttribute("md-position-mode")||(e.setAttribute("md-position-mode","left bottom"),e.querySelector("button, a, md-button").setAttribute("role","menuitem"));var n=t.nodesToArray(e.querySelectorAll("md-menu-content"));angular.forEach(n,function(t){t.classList.add("md-menu-bar-menu"),t.classList.add("md-dense"),t.hasAttribute("width")||t.setAttribute("width",5)})}}),n.find("md-menu-item").addClass("md-in-menu-bar"),function(t,n,o,i){n.addClass("_md"),e(t,n),i.init()}}}}t.$inject=["$mdUtil","$mdTheming"],angular.module("material.components.menuBar").directive("mdMenuBar",t)}(),function(){angular.module("material.components.menuBar").directive("mdMenuDivider",function(){return{restrict:"E",compile:function(t,e){e.role||t[0].setAttribute("role","separator")}}})}(),function(){function t(t,e,n){this.$element=e,this.$attrs=n,this.$scope=t}t.$inject=["$scope","$element","$attrs"],angular.module("material.components.menuBar").controller("MenuItemController",t),t.prototype.init=function(t){var e=this.$element,n=this.$attrs;this.ngModel=t,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=e[0].children[0],this.buttonEl=e[0].children[1],t&&this.initClickListeners())},t.prototype.clearNgAria=function(){var t=this.$element[0];angular.forEach(["role","tabindex","aria-invalid","aria-checked"],function(e){t.removeAttribute(e)})},t.prototype.initClickListeners=function(){var t=this,e=this.ngModel,n=this.$scope,o=this.$attrs,i=(this.$element,this.mode);this.handleClick=angular.bind(this,this.handleClick);var r=this.iconEl,a=angular.element(this.buttonEl),s=this.handleClick;function l(t){t?a.off("click",s):a.on("click",s)}o.$observe("disabled",l),l(o.disabled),e.$render=function(){t.clearNgAria(),!function(){if("radio"==i){var t=o.ngValue?n.$eval(o.ngValue):o.value;return e.$modelValue==t}return e.$modelValue}()?(r.style.display="none",a.attr("aria-checked","false")):(r.style.display="",a.attr("aria-checked","true"))},n.$$postDigest(e.$render)},t.prototype.handleClick=function(t){var e,n=this.mode,o=this.ngModel,i=this.$attrs;"checkbox"==n?e=!o.$modelValue:"radio"==n&&(e=i.ngValue?this.$scope.$eval(i.ngValue):i.value),o.$setViewValue(e),o.$render()}}(),function(){function t(t,e,n){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:e.BEFORE_NG_ARIA,compile:function(e,o){var i,r,a=o.type;if("checkbox"!=a&&"radio"!=a||!e.hasClass("md-in-menu-bar"))u("role","menuitem",e[0].querySelector("md-button, button, a"));else{var s=e[0].textContent,l=angular.element('<md-button type="button"></md-button>'),c='<md-icon md-svg-src="'+n.mdChecked+'"></md-icon>';l.html(s),l.attr("tabindex","0"),e.html(""),e.append(angular.element(c)),e.append(l),e.addClass("md-indent").removeClass("md-in-menu-bar"),u("role","checkbox"==a?"menuitemcheckbox":"menuitemradio",l),i="ng-disabled",r=t.prefixer(i),angular.forEach(r,function(t){if(e[0].hasAttribute(t)){var n=e[0].getAttribute(t);l[0].setAttribute(t,n),e[0].removeAttribute(t)}})}return function(t,e,n,o){var i=o[0],r=o[1];i.init(r)};function u(t,n,o){(o=o||e)instanceof angular.element&&(o=o[0]),o.hasAttribute(t)||o.setAttribute(t,n)}}}}t.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],angular.module("material.components.menuBar").directive("mdMenuItem",t)}(),function(){function t(t,e){return{restrict:"E",transclude:!0,controller:n,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="tablist" ng-focus="ctrl.onFocus()" aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(n,o,i,r){e(o),r.navBarAriaLabel||t.expectAsync(o,"aria-label",angular.noop)}}}function n(t,e,n,o){this._$timeout=n,this._$scope=e,this._$mdConstant=o,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=t[0],this._inkbar;var i=this,r=this._$scope.$watch(function(){return i._navBarEl.querySelectorAll("._md-nav-button").length},function(t){t>0&&(i._initTabs(),r())})}function o(t,n,o,r){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:i,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(t,n){var o,i,r=n.mdNavClick,a=n.mdNavHref,s=n.mdNavSref,l=n.srefOpts;if((r?1:0)+(a?1:0)+(s?1:0)>1)throw Error("Please do not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");if(r!==e&&null!==r)o='ng-click="ctrl.mdNavClick()"';else if(a!==e&&null!==a)o='ng-href="{{ctrl.mdNavHref}}"';else{if(s===e||null===s)throw Error("Please specify at least one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");o='ui-sref="{{ctrl.mdNavSref}}"'}return o&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" ng-disabled="ctrl.disabled" tabindex="-1" role="tab" ng-attr-aria-label="{{ctrl.navItemAriaLabel ? ctrl.navItemAriaLabel : undefined}}" aria-selected="{{ctrl.isSelected()}}" '+(l?'ui-sref-opts="{{ctrl.srefOpts}}" ':"")+o+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="presentation">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@",navItemAriaLabel:"@?"},link:function(e,i,a,s){var l,c,u,p;n(function(){if(c=s[0],u=s[1],p=angular.element(i[0].querySelector("._md-nav-button")),c.name||(c.name=angular.element(i[0].querySelector("._md-nav-button-text")).text().trim()),p.on("keydown",function(t){u.onKeydown(t)}),p.on("focus",function(){u.getFocusedTab()||u.onFocus()}),p.on("click",function(){u.mdSelectedNavItem=c.name,e.$apply()}),c.disabled=o.parseAttributeBoolean(a.disabled,!1),"MutationObserver"in r){var n=i[0],h=new MutationObserver(function(t){o.nextTick(function(){c.disabled=o.parseAttributeBoolean(a[t[0].attributeName],!1)})});h.observe(n,{attributes:!0,attributeFilter:["disabled"]}),l=h.disconnect.bind(h)}else a.$observe("disabled",function(t){c.disabled=o.parseAttributeBoolean(t,!1)});c.navItemAriaLabel||t.expectWithText(p,"aria-label")}),e.$on("destroy",function(){p.off("keydown"),p.off("focus"),p.off("click"),l()})}}}function i(t){this._$element=t,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this.navItemAriaLabel,this._selected=!1,this._focused=!1}t.$inject=["$mdAria","$mdTheming"],n.$inject=["$element","$scope","$timeout","$mdConstant"],o.$inject=["$mdAria","$$rAF","$mdUtil","$window"],i.$inject=["$element"],angular.module("material.components.navBar",["material.core"]).controller("MdNavBarController",n).directive("mdNavBar",t).controller("MdNavItemController",i).directive("mdNavItem",o),n.prototype._initTabs=function(){this._inkbar=angular.element(this._navBarEl.querySelector("md-nav-ink-bar"));var t=this;this._$timeout(function(){t._updateTabs(t.mdSelectedNavItem,e)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(e,n){t._$timeout(function(){t._updateTabs(e,n)})})},n.prototype._updateTabs=function(t,e){var n=this,o=this._getTabs(),i=t===e;if(o){var r=-1,a=-1,s=this._getTabByName(t),l=this._getTabByName(e);l&&(l.setSelected(!1),r=o.indexOf(l)),s&&(s.setSelected(!0),a=o.indexOf(s)),this._$timeout(function(){n._updateInkBarStyles(s,a,r),s&&l&&!i&&n._moveFocus(l,s)})}},n.prototype._updateInkBarStyles=function(t,e,n){if(this._inkbar.toggleClass("_md-left",e<n).toggleClass("_md-right",e>n),this._inkbar.css({display:e<0?"none":""}),t){var o=t.getButtonEl(),i=o.offsetLeft;this._inkbar.css({left:i+"px",width:o.offsetWidth+"px"})}},n.prototype._getTabs=function(){var t=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(t){return angular.element(t).controller("mdNavItem")});return t.indexOf(e)?t:null},n.prototype._getTabByName=function(t){return this._findTab(function(e){return e.getName()===t})},n.prototype._getSelectedTab=function(){return this._findTab(function(t){return t.isSelected()})},n.prototype.getFocusedTab=function(){return this._findTab(function(t){return t.hasFocus()})},n.prototype._findTab=function(t,n){var o=this._getTabs();n!==e&&null!==n||(n=0);for(var i=n;i<o.length;i++)if(t(o[i]))return o[i];return null},n.prototype._findTabReverse=function(t,n){var o=this._getTabs();n!==e&&null!==n||(n=o.length-1);for(var i=n;i>=0;i--)if(t(o[i]))return o[i];return null},n.prototype.onFocus=function(){var t=this._getSelectedTab();t&&t.setFocused(!0)},n.prototype._moveFocus=function(t,e){t.setFocused(!1),e.setFocused(!0)},n.prototype._focusFirstTab=function(){if(this._getTabs()){var t=this._findTab(function(t){return t._isEnabled()});t&&this._moveFocus(this.getFocusedTab(),t)}},n.prototype._focusLastTab=function(){if(this._getTabs()){var t=this._findTabReverse(function(t){return t._isEnabled()});t&&this._moveFocus(this.getFocusedTab(),t)}},n.prototype._focusNextTab=function(t){if(this._getTabs()){var e=this._findTab(function(t){return t._isEnabled()},t+1);e?this._moveFocus(this.getFocusedTab(),e):this._focusFirstTab()}},n.prototype._focusPreviousTab=function(t){if(this._getTabs()){var e=this._findTabReverse(function(t){return t._isEnabled()},t-1);e?this._moveFocus(this.getFocusedTab(),e):this._focusLastTab()}},n.prototype.onKeydown=function(t){var e=this._$mdConstant.KEY_CODE,n=this._getTabs(),o=this.getFocusedTab();if(o&&n){var i=n.indexOf(o);switch(t.keyCode){case e.UP_ARROW:case e.LEFT_ARROW:t.preventDefault(),this._focusPreviousTab(i);break;case e.DOWN_ARROW:case e.RIGHT_ARROW:t.preventDefault(),this._focusNextTab(i);break;case e.SPACE:case e.ENTER:this._$timeout(function(){o.getButtonEl().click()});break;case e.HOME:t.preventDefault(),this._focusFirstTab();break;case e.END:t.preventDefault(),this._focusLastTab()}}},i.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},i.prototype.getName=function(){return this.name},i.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},i.prototype.setSelected=function(t){this._selected=t,t?this.getButtonEl().setAttribute("tabindex","0"):this.getButtonEl().setAttribute("tabindex","-1")},i.prototype.isSelected=function(){return this._selected},i.prototype.setFocused=function(t){this._focused=t,t&&this.getButtonEl().focus()},i.prototype.hasFocus=function(){return this._focused},i.prototype._isEnabled=function(){return!this._$element.attr("disabled")}}(),function(){s.$inject=["presets","$rootElement","$rootScope","$injector","$window"],angular.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",function(){return{definePreset:i,getAllPresets:r,clearPresets:a,$get:["$rootElement","$rootScope","$injector","$window",function(t,e,n,i){return new s(o,t,e,n,i)}]}});var t=80,n=angular.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),o={};function i(t,e){if(!t||!e)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(o.hasOwnProperty(t))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete e.id,delete e.position,delete e.animation,o[t]=e}function r(){return angular.copy(o)}function a(){o={}}function s(e,n,o,i,r){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:angular.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:t},this._config={},this._presets=e,this._$rootElement=n,this._$rootScope=o,this._$injector=i,this._$window=r,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=u.animation,this.xPosition=c.xPosition,this.yPosition=c.yPosition,this.interceptorTypes=l.interceptorTypes,this.closeReasons=l.closeReasons,this.absPosition=c.absPosition}function l(t,e){this._$q=e.get("$q"),this._$mdCompiler=e.get("$mdCompiler"),this._$mdConstant=e.get("$mdConstant"),this._$mdUtil=e.get("$mdUtil"),this._$mdTheming=e.get("$mdTheming"),this._$rootScope=e.get("$rootScope"),this._$animate=e.get("$animate"),this._$mdPanel=e.get("$mdPanel"),this._$log=e.get("$log"),this._$window=e.get("$window"),this._$$rAF=e.get("$$rAF"),this.id=t.id,this.config=t,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function c(t){this._$window=t.get("$window"),this._isRTL="rtl"===t.get("$mdUtil").bidi(),this._$mdConstant=t.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function u(t){this._$mdUtil=t.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function p(t){var e=angular.isString(t)?document.querySelector(t):t;return angular.element(e)}function h(t){return angular.isNumber(t)?t+"px":t}s.prototype.create=function(t,e){if("string"==typeof t?t=this._getPresetByName(t):"object"!=typeof t||!angular.isUndefined(e)&&e||(e=t,t={}),t=t||{},e=e||{},angular.isDefined(e.id)&&this._trackedPanels[e.id]){var n=this._trackedPanels[e.id];return angular.extend(n.config,e),n}this._config=angular.extend({id:e.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,e,t);var o=new l(this._config,this._$injector);return this._trackedPanels[this._config.id]=o,this._config.groupName&&(angular.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),angular.forEach(this._config.groupName,function(t){o.addToGroup(t)})),this._config.scope.$on("$destroy",angular.bind(o,o.detach)),o},s.prototype.open=function(t,e){var n=this.create(t,e);return n.open().then(function(){return n})},s.prototype._getPresetByName=function(t){if(!this._presets[t])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[t]},s.prototype.newPanelPosition=function(){return new c(this._$injector)},s.prototype.newPanelAnimation=function(){return new u(this._$injector)},s.prototype.newPanelGroup=function(t,e){if(!this._groups[t]){var n={panels:[],openPanels:[],maxOpen:(e=e||{}).maxOpen>0?e.maxOpen:1/0};this._groups[t]=n}return this._groups[t]},s.prototype.setGroupMaxOpen=function(t,e){if(!this._groups[t])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[t].maxOpen=e},s.prototype._openCountExceedsMaxOpen=function(t){if(this._groups[t]){var e=this._groups[t];return e.maxOpen>0&&e.openPanels.length>e.maxOpen}return!1},s.prototype._closeFirstOpenedPanel=function(t){this._groups[t].openPanels[0].close()},s.prototype._wrapTemplate=function(t){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(t||"")+"</div></div>"},s.prototype._wrapContentElement=function(t){var e=angular.element('<div class="md-panel-outer-wrapper">');return t.addClass("md-panel _md-panel-offscreen"),e.append(t),e},l.interceptorTypes={CLOSE:"onClose"},l.prototype.open=function(){var t=this;return this._$q(function(e,n){var o=t._done(e,t),i=t._simpleBind(t.show,t);t.attach().then(i).then(function(){t.config.groupName&&angular.forEach(t.config.groupName,function(e){t._$mdPanel._openCountExceedsMaxOpen(e)&&t._$mdPanel._closeFirstOpenedPanel(e)})}).then(o).catch(n)})},l.prototype.close=function(t){var e=this;return this._$q(function(n,o){e._callInterceptors(l.interceptorTypes.CLOSE).then(function(){var i=e._done(n,e),r=e._simpleBind(e.detach,e),a=e.config.onCloseSuccess||angular.noop;a=angular.bind(e,a,e,t),e.hide().then(r).then(i).then(a).catch(o)},o)})},l.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var t=this;return this._$q(function(e,n){var o=t._done(e,t),i=t.config.onDomAdded||angular.noop;t._$q.all([t._createBackdrop(),t._createPanel().then(function(e){return t.isAttached=!0,t._addEventListeners(),e}).catch(n)]).then(i).then(o).catch(n)})},l.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var t=this,e=t.config.onDomRemoved||angular.noop;return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(n,o){var i=t._done(n,t);t._$q.all([(t._removeEventListeners(),t._topFocusTrap&&t._topFocusTrap.parentNode&&t._topFocusTrap.parentNode.removeChild(t._topFocusTrap),t._bottomFocusTrap&&t._bottomFocusTrap.parentNode&&t._bottomFocusTrap.parentNode.removeChild(t._bottomFocusTrap),t._restoreCache.classes&&(t.panelEl[0].className=t._restoreCache.classes),t.panelEl[0].style.cssText=t._restoreCache.styles||"",t._compilerCleanup(),t.panelContainer.remove(),t.isAttached=!1,t._$q.when(t)),!t._backdropRef||t._backdropRef.detach()]).then(e).then(i).catch(o)})},l.prototype.destroy=function(){var t=this;this.config.groupName&&angular.forEach(this.config.groupName,function(e){t.removeFromGroup(e)}),this.config.scope.$destroy(),this.config.locals=null,this.config.onDomAdded=null,this.config.onDomRemoved=null,this.config.onRemoving=null,this.config.onOpenComplete=null,this._interceptors=null},l.prototype.show=function(){if(!this.panelContainer)return this._$q(function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var t=this;return this._$q(function(e,n){var o=t._done(e,t),i=t.config.onOpenComplete||angular.noop;t._$q.all([t._backdropRef?t._backdropRef.show():t,(t.panelContainer.removeClass("_md-panel-hidden"),t._animateOpen()).then(function(){t._focusOnOpen()},n)]).then(i).then(function(){t.config.groupName&&angular.forEach(t.config.groupName,function(e){t._$mdPanel._groups[e].openPanels.push(t)})}).then(o).catch(n)})},l.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var t=this;return this._$q(function(e,n){var o=t._done(e,t),i=t.config.onRemoving||angular.noop;t._$q.all([t._backdropRef?t._backdropRef.hide():t,t._animateClose().then(i).then(function(){t.panelContainer.addClass("_md-panel-hidden")}).then(function(){var e;t.config.groupName&&angular.forEach(t.config.groupName,function(n){n=t._$mdPanel._groups[n],(e=n.openPanels.indexOf(t))>-1&&n.openPanels.splice(e,1)})}).then(function(){var e=t.config.origin;e&&p(e).focus()}).catch(n)]).then(o,n)})},l.prototype.addClass=function(t,e){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e||this.panelContainer.hasClass(t)?e&&!this.panelEl.hasClass(t)&&this.panelEl.addClass(t):this.panelContainer.addClass(t)},l.prototype.removeClass=function(t,e){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!e&&this.panelContainer.hasClass(t)?this.panelContainer.removeClass(t):e&&this.panelEl.hasClass(t)&&this.panelEl.removeClass(t)},l.prototype.toggleClass=function(t,e){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e?this.panelEl.toggleClass(t):this.panelContainer.toggleClass(t)},l.prototype._compile=function(){var t=this;return t._$mdCompiler.compile(t.config).then(function(e){var n=t.config;if(n.contentElement){var o=e.element;t._restoreCache.styles=o[0].style.cssText,t._restoreCache.classes=o[0].className,t.panelContainer=t._$mdPanel._wrapContentElement(o),t.panelEl=o}else t.panelContainer=e.link(n.scope),t.panelEl=angular.element(t.panelContainer[0].querySelector(".md-panel"));return t._compilerCleanup=e.cleanup,p(t.config.attachTo).append(t.panelContainer),t})},l.prototype._createPanel=function(){var t=this;return this._$q(function(e,n){t.config.locals||(t.config.locals={}),t.config.locals.mdPanelRef=t,t._compile().then(function(){t.config.disableParentScroll&&(t._restoreScroll=t._$mdUtil.disableScrollAround(null,t.panelContainer,{disableScrollMask:!0})),t.config.panelClass&&t.panelEl.addClass(t.config.panelClass),t.config.propagateContainerEvents&&(t.panelContainer.css("pointer-events","none"),t.panelEl.css("pointer-events","all")),t._$animate.pin&&t._$animate.pin(t.panelContainer,p(t.config.attachTo)),t._configureTrapFocus(),t._addStyles().then(function(){e(t)},n)},n)})},l.prototype._addStyles=function(){var t=this;return this._$q(function(e){t.panelContainer.css("z-index",t.config.zIndex),t.panelEl.css("z-index",t.config.zIndex+1);var n=function(){t._setTheming(),t.panelEl.removeClass("_md-panel-offscreen"),t.panelContainer.addClass("_md-panel-hidden"),e(t)};if(t.config.fullscreen)return t.panelEl.addClass("_md-panel-fullscreen"),void n();t.config.position?t._$rootScope.$$postDigest(function(){t._updatePosition(!0),t._setTheming(),e(t)}):n()})},l.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},l.prototype.updatePosition=function(t){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=t,this._updatePosition()},l.prototype._updatePosition=function(t){var e=this.config.position;e&&(e._setPanelPosition(this.panelEl),t&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass("_md-panel-hidden")),this.panelEl.css(c.absPosition.TOP,e.getTop()),this.panelEl.css(c.absPosition.BOTTOM,e.getBottom()),this.panelEl.css(c.absPosition.LEFT,e.getLeft()),this.panelEl.css(c.absPosition.RIGHT,e.getRight()))},l.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var t=this;this._$rootScope.$$postDigest(function(){(t._$mdUtil.findFocusTarget(t.panelEl)||t.panelEl).focus()})}},l.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var t=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&t.duration(this.config.animation._rawDuration);var e={animation:t,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(e)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},l.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},l.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(t){t()}),this._removeListeners=[]},l.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var t=p(this.config.attachTo),e=this,n=function(t){t.keyCode===e._$mdConstant.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),e.close(l.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),t.on("keydown",n),this._removeListeners.push(function(){e.panelContainer.off("keydown",n),t.off("keydown",n)})}},l.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var t,e=this.config.propagateContainerEvents?angular.element(document.body):this.panelContainer,n=function(e){t=e.target},o=this,i=function(n){o.config.propagateContainerEvents?t===o.panelEl[0]||o.panelEl[0].contains(t)||o.close():t===e[0]&&n.target===e[0]&&(n.stopPropagation(),n.preventDefault(),o.close(l.closeReasons.CLICK_OUTSIDE))};e.on("mousedown",n),e.on("mouseup",i),this._removeListeners.push(function(){e.off("mousedown",n),e.off("mouseup",i)})}},l.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var t=angular.bind(this,this._updatePosition),e=this._$$rAF.throttle(t),n=this,o=function(){e()};this._$window.addEventListener("scroll",o,!0),this._removeListeners.push(function(){n._$window.removeEventListener("scroll",o,!0)})}},l.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var t=this.panelEl;this._topFocusTrap=n.clone()[0],this._bottomFocusTrap=n.clone()[0];var e=function(){t.focus()};this._topFocusTrap.addEventListener("focus",e),this._bottomFocusTrap.addEventListener("focus",e),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",e),this._bottomFocusTrap.removeEventListener("focus",e)},this)),t[0].parentNode.insertBefore(this._topFocusTrap,t[0]),t.after(this._bottomFocusTrap)}},l.prototype.updateAnimation=function(t){this.config.animation=t,this._backdropRef&&this._backdropRef.config.animation.duration(t._rawDuration)},l.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var t=this.config.animation;if(!t)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q(function(n){var o=e._done(n,e);t.animateOpen(e.panelEl).then(o,function(){e._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),o()})})},l.prototype._animateClose=function(){var t=this.config.animation;if(!t)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q(function(n){var o=function(){e.panelContainer.removeClass("md-panel-is-showing"),n(e)};t.animateClose(e.panelEl).then(o,function(){e._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),o()})})},l.prototype.registerInterceptor=function(t,e){var n=null;if(angular.isString(t)?angular.isFunction(e)||(n="Interceptor callback must be a function, instead got "+typeof e):n="Interceptor type must be a string, instead got "+typeof t,n)throw new Error("MdPanel: "+n);var o=this._interceptors[t]=this._interceptors[t]||[];return-1===o.indexOf(e)&&o.push(e),this},l.prototype.removeInterceptor=function(t,e){var n=this._interceptors[t]?this._interceptors[t].indexOf(e):-1;return n>-1&&this._interceptors[t].splice(n,1),this},l.prototype.removeAllInterceptors=function(t){return t?this._interceptors[t]=[]:this._interceptors=Object.create(null),this},l.prototype._callInterceptors=function(t){var e=this,n=e._$q;return(e._interceptors&&e._interceptors[t]||[]).reduceRight(function(t,o){var i=o&&angular.isFunction(o.then)?o:null;return t.then(function(){if(!i)try{i=o(e)}catch(t){i=n.reject(t)}return i})},n.resolve(e))},l.prototype._simpleBind=function(t,e){return function(n){return t.apply(e,n)}},l.prototype._done=function(t,e){return function(){t(e)}},l.prototype.addToGroup=function(t){this._$mdPanel._groups[t]||this._$mdPanel.newPanelGroup(t);var e=this._$mdPanel._groups[t];e.panels.indexOf(this)<0&&e.panels.push(this)},l.prototype.removeFromGroup=function(t){if(!this._$mdPanel._groups[t])throw new Error("mdPanel: The group "+t+" does not exist.");var e=this._$mdPanel._groups[t],n=e.panels.indexOf(this);n>-1&&e.panels.splice(n,1)},l.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},c.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},c.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},c.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c.viewportMargin=8,c.prototype.absolute=function(){return this._absolute=!0,this},c.prototype._setPosition=function(t,e){if(t===c.absPosition.RIGHT||t===c.absPosition.LEFT)this._left=this._right="";else{if(t!==c.absPosition.BOTTOM&&t!==c.absPosition.TOP){var n=Object.keys(c.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+n+".")}this._top=this._bottom=""}return this["_"+t]=angular.isString(e)?e:"0",this},c.prototype.top=function(t){return this._setPosition(c.absPosition.TOP,t)},c.prototype.bottom=function(t){return this._setPosition(c.absPosition.BOTTOM,t)},c.prototype.start=function(t){var e=this._isRTL?c.absPosition.RIGHT:c.absPosition.LEFT;return this._setPosition(e,t)},c.prototype.end=function(t){var e=this._isRTL?c.absPosition.LEFT:c.absPosition.RIGHT;return this._setPosition(e,t)},c.prototype.left=function(t){return this._setPosition(c.absPosition.LEFT,t)},c.prototype.right=function(t){return this._setPosition(c.absPosition.RIGHT,t)},c.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},c.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},c.prototype.center=function(){return this.centerHorizontally().centerVertically()},c.prototype.relativeTo=function(t){return this._absolute=!1,this._relativeToEl=p(t),this},c.prototype.addPanelPosition=function(t,e){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(t),this._validateYPosition(e),this._positions.push({x:t,y:e}),this},c.prototype._validateYPosition=function(t){if(null!=t){for(var e,n=Object.keys(c.yPosition),o=[],i=0;e=n[i];i++){var r=c.yPosition[e];if(o.push(r),r===t)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+o.join(" | "))}},c.prototype._validateXPosition=function(t){if(null!=t){for(var e,n=Object.keys(c.xPosition),o=[],i=0;e=n[i];i++){var r=c.xPosition[e];if(o.push(r),r===t)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+o.join(" | "))}},c.prototype.withOffsetX=function(t){return this._translateX.push(h(t)),this},c.prototype.withOffsetY=function(t){return this._translateY.push(h(t)),this},c.prototype.getTop=function(){return this._top},c.prototype.getBottom=function(){return this._bottom},c.prototype.getLeft=function(){return this._left},c.prototype.getRight=function(){return this._right},c.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},c.prototype._setTransform=function(t){return t.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},c.prototype._isOnscreen=function(t){var e=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var o=function(t,e){var n=getComputedStyle(t[0]||t)[e],o=n.indexOf("("),i=n.lastIndexOf(")"),r={x:0,y:0};if(o>-1&&i>-1){var a=n.substring(o+1,i).split(", ").slice(-2);r.x=parseInt(a[0]),r.y=parseInt(a[1])}return r}(t,this._$mdConstant.CSS.TRANSFORM);e+=o.x,n+=o.y}var i=e+t[0].offsetWidth,r=n+t[0].offsetHeight;return e>=0&&n>=0&&r<=this._$window.innerHeight&&i<=this._$window.innerWidth},c.prototype.getActualPosition=function(){return this._actualPosition},c.prototype._reduceTranslateValues=function(t,e){return e.map(function(e){var n=angular.isFunction(e)?h(e(this)):e;return t+"("+n+")"},this).join(" ")},c.prototype._setPanelPosition=function(t){if(t.removeClass("_md-panel-position-adjusted"),this._absolute)this._setTransform(t);else{if(this._actualPosition)return this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),void this._constrainToViewport(t);for(var e=0;e<this._positions.length;e++)if(this._actualPosition=this._positions[e],this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),this._isOnscreen(t))return;this._constrainToViewport(t)}},c.prototype._constrainToViewport=function(t){var e=c.viewportMargin,n=this._top,o=this._left;if(this.getTop()){var i=parseInt(this.getTop()),r=t[0].offsetHeight+i,a=this._$window.innerHeight;i<e?this._top=e+"px":r>a&&(this._top=i-(r-a+e)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=t[0].offsetWidth+s,u=this._$window.innerWidth;s<e?this._left=e+"px":l>u&&(this._left=s-(l-u+e)+"px")}t.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==o)},c.prototype._reverseXPosition=function(t){if(t===c.xPosition.CENTER)return t;return t.indexOf("start")>-1?t.replace("start","end"):t.replace("end","start")},c.prototype._bidi=function(t){return this._isRTL?this._reverseXPosition(t):t},c.prototype._calculatePanelPosition=function(t,e){var n=t[0].getBoundingClientRect(),o=Math.max(n.width,t[0].clientWidth),i=Math.max(n.height,t[0].clientHeight),r=this._relativeToEl[0].getBoundingClientRect(),a=r.left,s=r.right,l=r.width;switch(this._bidi(e.x)){case c.xPosition.OFFSET_START:this._left=a-o+"px";break;case c.xPosition.ALIGN_END:this._left=s-o+"px";break;case c.xPosition.CENTER:var u=a+.5*l-.5*o;this._left=u+"px";break;case c.xPosition.ALIGN_START:this._left=a+"px";break;case c.xPosition.OFFSET_END:this._left=s+"px"}var p=r.top,h=r.bottom,d=r.height;switch(e.y){case c.yPosition.ABOVE:this._top=p-i+"px";break;case c.yPosition.ALIGN_BOTTOMS:this._top=h-i+"px";break;case c.yPosition.CENTER:var f=p+.5*d-.5*i;this._top=f+"px";break;case c.yPosition.ALIGN_TOPS:this._top=p+"px";break;case c.yPosition.BELOW:this._top=h+"px"}},u.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},u.prototype.openFrom=function(t){return t=t.target?t.target:t,this._openFrom=this._getPanelAnimationTarget(t),this._closeTo||(this._closeTo=this._openFrom),this},u.prototype.closeTo=function(t){return this._closeTo=this._getPanelAnimationTarget(t),this},u.prototype.duration=function(t){return t&&(angular.isNumber(t)?this._openDuration=this._closeDuration=e(t):angular.isObject(t)&&(this._openDuration=e(t.open),this._closeDuration=e(t.close))),this._rawDuration=t,this;function e(t){if(angular.isNumber(t))return t/1e3}},u.prototype._getPanelAnimationTarget=function(t){return angular.isDefined(t.top)||angular.isDefined(t.left)?{element:e,bounds:{top:t.top||0,left:t.left||0}}:this._getBoundingClientRect(p(t))},u.prototype.withAnimation=function(t){return this._animationClass=t,this},u.prototype.animateOpen=function(t){var e=this._$mdUtil.dom.animator;this._fixBounds(t);var n={},o=t[0].style.transform||"",i=e.toTransformCss(o),r=e.toTransformCss(o);switch(this._animationClass){case u.animation.SLIDE:t.css("opacity","1"),n={transitionInClass:"_md-panel-animate-enter"};var a=e.calculateSlideToOrigin(t,this._openFrom)||"";i=e.toTransformCss(a+" "+o);break;case u.animation.SCALE:n={transitionInClass:"_md-panel-animate-enter"};var s=e.calculateZoomToOrigin(t,this._openFrom)||"";i=e.toTransformCss(s+" "+o);break;case u.animation.FADE:n={transitionInClass:"_md-panel-animate-enter"};break;default:n=angular.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return n.duration=this._openDuration,e.translate3d(t,i,r,n)},u.prototype.animateClose=function(t){var e=this._$mdUtil.dom.animator,n={},o=t[0].style.transform||"",i=e.toTransformCss(o),r=e.toTransformCss(o);switch(this._animationClass){case u.animation.SLIDE:t.css("opacity","1"),n={transitionInClass:"_md-panel-animate-leave"};var a=e.calculateSlideToOrigin(t,this._closeTo)||"";r=e.toTransformCss(a+" "+o);break;case u.animation.SCALE:n={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var s=e.calculateZoomToOrigin(t,this._closeTo)||"";r=e.toTransformCss(s+" "+o);break;case u.animation.FADE:n={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:n=angular.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return n.duration=this._closeDuration,e.translate3d(t,i,r,n)},u.prototype._fixBounds=function(t){var e=t[0].offsetWidth,n=t[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=e),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=e)},u.prototype._getBoundingClientRect=function(t){if(t instanceof angular.element)return{element:t,bounds:t[0].getBoundingClientRect()}}}(),angular.module("material.components.progressCircular",["material.core"]),function(){function t(t,e,n,o,i,r){var a=t.requestAnimationFrame||t.webkitRequestAnimationFrame||angular.noop,s=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||angular.noop,l="determinate",c="indeterminate",u="_md-progress-circular-disabled",p="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(t,e){if(t.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),angular.isUndefined(e.mdMode)){var n=e.hasOwnProperty("value")?l:c;e.$set("mdMode",n)}else e.$set("mdMode",e.mdMode.trim());return h}};function h(r,h,v){var b,w,E=h[0],M=angular.element(E.querySelector("svg")),C=angular.element(E.querySelector("path")),_=e.startIndeterminate,x=e.endIndeterminate,S=0,T=0;function k(n,i,s,l,c,u){var p=++T,h=o.now(),d=i-n,m=g(r.mdDiameter),v=y(m),w=s||e.easeFn,E=l||e.duration,M=-90*(c||0),_=u||100;function x(t){C.attr("stroke-dashoffset",f(m,v,t,_)),C.attr("transform","rotate("+M+" "+m/2+" "+m/2+")")}i===n?x(i):b=a(function e(){var i=t.Math.max(0,t.Math.min(o.now()-h,E));x(w(i,n,d,E)),p===T&&i<E&&(b=a(e))})}function A(){k(_,x,e.easeFnIndeterminate,e.durationIndeterminate,S,75),S=++S%4}function P(){w||(w=i(A,e.durationIndeterminate,0,!1),A(),h.addClass(p).removeAttr("aria-valuenow"))}function D(){w&&(i.cancel(w),w=null,h.removeClass(p))}n(h),h.toggleClass(u,v.hasOwnProperty("disabled")),r.mdMode===c&&P(),r.$on("$destroy",function(){D(),b&&s(b)}),r.$watchGroup(["value","mdMode",function(){var t=E.disabled;return!0===t||!1===t?t:angular.isDefined(h.attr("disabled"))}],function(e,n){var o=e[1],i=e[2],a=0,s=0;if(i!==n[2]&&h.toggleClass(u,!!i),i)D();else if(o!==l&&o!==c&&(o=c,v.$set("mdMode",o)),o===c)n[1]===l&&(s=y(a=g(r.mdDiameter)),C.attr("d",d(a,s,!0)),C.attr("stroke-dasharray",(a-s)*t.Math.PI*.75)),P();else{var p=m(e[0]),f=m(n[0]);D(),n[1]===c&&(s=y(a=g(r.mdDiameter)),C.attr("d",d(a,s,!1)),C.attr("stroke-dasharray",(a-s)*t.Math.PI)),h.attr("aria-valuenow",p),k(f,p)}}),r.$watch("mdDiameter",function(e){var n=g(e),o=y(n),i=m(r.value),a=n/2+"px",s={width:n+"px",height:n+"px"};M[0].setAttribute("viewBox","0 0 "+n+" "+n),M.css(s).css("transform-origin",a+" "+a+" "+a),h.css(s),C.attr("stroke-width",o),C.attr("stroke-linecap","square"),r.mdMode==c?(C.attr("d",d(n,o,!0)),C.attr("stroke-dasharray",(n-o)*t.Math.PI*.75),C.attr("stroke-dashoffset",f(n,o,1,75))):(C.attr("d",d(n,o,!1)),C.attr("stroke-dasharray",(n-o)*t.Math.PI),C.attr("stroke-dashoffset",f(n,o,0,100)),k(i,i))})}function d(t,e,n){var o=t/2,i=e/2,r=o+","+i,a=o-i;return"M"+r+"A"+a+","+a+" 0 1 1 "+(i+","+o)+(n?"":"A"+a+","+a+" 0 0 1 "+r)}function f(e,n,o,i){return(e-n)*t.Math.PI*(3*(i||100)/100-o/100)}function m(e){return t.Math.max(0,t.Math.min(e||0,100))}function g(t){var n=e.progressSize;if(t){var o=parseFloat(t);return t.lastIndexOf("%")===t.length-1&&(o=o/100*n),o}return n}function y(t){return e.strokeWidth/100*t}}t.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],angular.module("material.components.progressCircular").directive("mdProgressCircular",t)}(),function(){angular.module("material.components.progressCircular").provider("$mdProgressCircular",function(){var t={progressSize:50,strokeWidth:10,duration:100,easeFn:e,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:e,materialEase:n}};return{configure:function(e){return t=angular.extend(t,e||{})},$get:function(){return t}};function e(t,e,n,o){return n*t/o+e}function n(t,e,n,o){var i=(t/=o)*t,r=i*t;return e+n*(6*r*i+-15*i*i+10*r)}})}(),function(){function t(t,e,n){var o="determinate",i="indeterminate",r="buffer",a="query",s="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:function(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),l}};function l(n,l,u){var p;t(l);var h=u.hasOwnProperty("disabled"),d=e.dom.animator.toCss,f=angular.element(l[0].querySelector(".md-bar1")),m=angular.element(l[0].querySelector(".md-bar2")),g=angular.element(l[0].querySelector(".md-container"));function y(){var t=(u.mdMode||"").trim();if(t)switch(t){case o:case i:case r:case a:break;default:t=i}return t}function v(t,n){if(!h&&y()){var o=e.supplant("translateX({0}%) scale({1},1)",[(n-100)/2,n/100]),i=d({transform:o});angular.element(t).css(i)}}l.attr("md-mode",y()).toggleClass(s,h),function(){if(angular.isUndefined(u.mdMode)){var t=angular.isDefined(u.value),e=t?o:i;l.attr("md-mode",e),u.mdMode=e}}(),u.$observe("value",function(t){var e=c(t);l.attr("aria-valuenow",e),y()!=a&&v(m,e)}),u.$observe("mdBufferValue",function(t){v(f,c(t))}),u.$observe("disabled",function(t){h=!0===t||!1===t?!!t:angular.isDefined(t),l.toggleClass(s,h),g.toggleClass(p,!h)}),u.$observe("mdMode",function(t){switch(p&&g.removeClass(p),t){case a:case r:case o:case i:g.addClass(p="md-mode-"+t);break;default:g.addClass(p="md-mode-"+i)}})}function c(t){return Math.max(0,Math.min(t||0,100))}}t.$inject=["$mdTheming","$mdUtil","$log"],angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t)}(),function(){function t(t,e,n,o){return i.prototype={init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return r(this.$element,1)},selectPrevious:function(){return r(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}},{restrict:"E",controller:["$element",i],require:["mdRadioGroup","?ngModel"],link:{pre:function(i,r,a,s){r.addClass("_md"),n(r);var l=s[0],c=s[1]||t.fakeNgModel();function u(){r.hasClass("md-focused")||r.addClass("md-focused")}l.init(c),i.mouseActive=!1,r.attr({role:"radiogroup",tabIndex:r.attr("tabindex")||"0"}).on("keydown",function(n){var o=n.which||n.keyCode;if(o!=e.KEY_CODE.ENTER&&n.currentTarget!=n.target)return;switch(o){case e.KEY_CODE.LEFT_ARROW:case e.KEY_CODE.UP_ARROW:n.preventDefault(),l.selectPrevious(),u();break;case e.KEY_CODE.RIGHT_ARROW:case e.KEY_CODE.DOWN_ARROW:n.preventDefault(),l.selectNext(),u();break;case e.KEY_CODE.ENTER:var i=angular.element(t.getClosest(r[0],"form"));i.length>0&&i.triggerHandler("submit")}}).on("mousedown",function(t){i.mouseActive=!0,o(function(){i.mouseActive=!1},100)}).on("focus",function(){!1===i.mouseActive&&l.$element.addClass("md-focused")}).on("blur",function(){l.$element.removeClass("md-focused")})}}};function i(t){this._radioButtonRenderFns=[],this.$element=t}function r(e,n){var o=t.iterator(e[0].querySelectorAll("md-radio-button"),!0);if(o.count()){var i=e[0].querySelector("md-radio-button.md-checked"),r=o[n<0?"previous":"next"](i,function(t){return!angular.element(t).attr("disabled")})||o.first();angular.element(r).triggerHandler("click")}}}function e(t,e,n){var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:function(i,r,a,s){var l;n(r),function(n,o){n.attr({id:a.id||"radio_"+e.nextUid(),role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}(r),a.ngValue?e.nextTick(c,!1):c();function c(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(p),a.$observe("value",p),r.on("click",u).on("$destroy",function(){s.remove(p)})}function u(t){r[0].hasAttribute("disabled")||s.isDisabled()||i.$apply(function(){s.setViewValue(a.value,t&&t.type)})}function p(){var t=s.getViewValue()==a.value;t!==l&&("md-radio-group"!==r[0].parentNode.nodeName.toLowerCase()&&r.parent().toggleClass(o,t),t&&s.setActiveDescendant(r.attr("id")),l=t,r.attr("aria-checked",t).toggleClass(o,t))}}}}t.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],e.$inject=["$mdAria","$mdUtil","$mdTheming"],angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",e)}(),function(){r.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],a.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],s.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],l.$inject=["$$interimElementProvider"];var n=8,o=0,i=angular.element('<div class="md-container"><div class="md-icon"></div></div>');function r(t,n,o,i,r,a,s,l){var u=o.KEY_CODE;u.SPACE,u.ENTER,u.UP_ARROW,u.DOWN_ARROW;return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:function(l,u){var p=angular.element("<md-select-value><span></span></md-select-value>");p.append('<span class="md-select-icon" aria-hidden="true"></span>'),p.addClass("md-select-value"),p[0].hasAttribute("id")||p.attr("id","select_value_label_"+n.nextUid());var h=l.find("md-content");h.length||l.append(angular.element("<md-content>").append(l.contents()));h.attr("role","presentation"),u.mdOnOpen&&(l.find("md-content").prepend(angular.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),l.find("md-option").attr("ng-show","$$loadingAsyncDone"));if(u.name){var d=angular.element('<select class="md-visually-hidden"></select>');d.attr({name:u.name,"aria-hidden":"true",tabindex:"-1"});var f=l.find("md-option");angular.forEach(f,function(t){var e=angular.element("<option>"+t.innerHTML+"</option>");t.hasAttribute("ng-value")?e.attr("ng-value",t.getAttribute("ng-value")):t.hasAttribute("value")&&e.attr("value",t.getAttribute("value")),d.append(e)}),d.append('<option ng-value="'+u.ngModel+'" selected></option>'),l.parent().append(d)}var m=n.parseAttributeBoolean(u.multiple),g=m?"multiple":"",y='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';y=n.supplant(y,[g,l.html()]),l.empty().append(p),l.append(y),u.tabindex||u.$set("tabindex",0);return function(l,u,p,h){var d,f,g,y,v,b=!0,w=h[0],E=h[1],M=h[2],C=h[3],_=u.find("md-select-value"),x=angular.isDefined(p.readonly),S=n.parseAttributeBoolean(p.mdNoAsterisk);if(S&&u.addClass("md-no-asterisk"),w){var T=w.isErrorGetter||function(){return M.$invalid&&(M.$touched||C&&C.$submitted)};if(w.input&&u.find("md-select-header").find("input")[0]!==w.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");w.input=u,w.label||r.expect(u,"aria-label",u.attr("placeholder")),l.$watch(T,w.setInvalid)}!function(){if(g=angular.element(u[0].querySelector(".md-select-menu-container")),y=l,p.mdContainerClass){var t=g[0].getAttribute("class")+" "+p.mdContainerClass;g[0].setAttribute("class",t)}(v=g.find("md-select-menu").controller("mdSelectMenu")).init(M,p.ngModel),u.on("$destroy",function(){g.remove()})}(),i(u);var k,A=M.$render;function P(){g&&(v=v||g.find("md-select-menu").controller("mdSelectMenu"),E.setLabelText(v.selectedLabels()))}function D(){if(f){var t=v.selectedLabels({mode:"aria"});u.attr("aria-label",t.length?f+": "+t:f)}}M.$render=function(){A(),P(),D(),N()},p.$observe("placeholder",M.$render),w&&w.label&&p.$observe("required",function(t){w.label.toggleClass("md-required",t&&!S)}),E.setLabelText=function(t){E.setIsPlaceholder(!t);var e=!1;if(p.mdSelectedText&&p.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(p.mdSelectedText||p.mdSelectedHtml)t=a(p.mdSelectedText||p.mdSelectedHtml)(l),e=!0;else if(!t){var n=p.placeholder||(w&&w.label?w.label.text():"");t=n||"",e=!0}var o=_.children().eq(0);p.mdSelectedHtml?o.html(s.getTrustedHtml(t)):e?o.text(t):o.html(t)},E.setIsPlaceholder=function(t){t?(_.addClass("md-select-placeholder"),w&&w.label&&w.label.addClass("md-placeholder")):(_.removeClass("md-select-placeholder"),w&&w.label&&w.label.removeClass("md-placeholder"))},x||(u.on("focus",function(t){w&&w.setFocused(!0)}),u.on("blur",function(t){b&&(b=!1,y._mdSelectIsOpen&&t.stopImmediatePropagation()),y._mdSelectIsOpen||(w&&w.setFocused(!1),N())})),E.triggerClose=function(){a(p.mdOnClose)(l)},l.$$postDigest(function(){!function(){var t=u.attr("aria-label")||u.attr("placeholder");!t&&w&&w.label&&(t=w.label.text());f=t,r.expect(u,"aria-label",t)}(),P(),D()}),l.$watch(function(){return v.selectedLabels()},P),p.$observe("ngMultiple",function(t){k&&k();var n=a(t);k=l.$watch(function(){return n(l)},function(t,n){t===e&&n===e||(t?u.attr("multiple","multiple"):u.removeAttr("multiple"),u.attr("aria-multiselectable",t?"true":"false"),g&&(v.setMultiple(t),A=M.$render,M.$render=function(){A(),P(),D(),N()},M.$render()))})}),p.$observe("disabled",function(t){angular.isString(t)&&(t=!0),d!==e&&d===t||(d=t,t?u.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",R).off("keydown",L):u.attr({tabindex:p.tabindex,"aria-disabled":"false"}).on("click",R).on("keydown",L))}),p.hasOwnProperty("disabled")||p.hasOwnProperty("ngDisabled")||(u.attr({"aria-disabled":"false"}),u.on("click",R),u.on("keydown",L));var I={role:"listbox","aria-expanded":"false","aria-multiselectable":m&&!p.ngMultiple?"true":"false"};u[0].hasAttribute("id")||(I.id="select_"+n.nextUid());var O="select_container_"+n.nextUid();function N(){n.nextTick(function(){w&&w.setHasValue(v.selectedLabels().length>0||(u[0].validity||{}).badInput)})}function L(t){if(o.isNavigationKey(t))t.preventDefault(),R();else if(c(t,o)){t.preventDefault();var e=v.optNodeForKeyboardSearch(t);if(!e||e.hasAttribute("disabled"))return;var n=angular.element(e).controller("mdOption");v.isMultiple||v.deselect(Object.keys(v.selected)[0]),v.select(n.hashKey,n.value),v.refreshViewValue()}}function R(){y._mdSelectIsOpen=!0,u.attr("aria-expanded","true"),t.show({scope:y,preserveScope:!0,skipCompile:!0,element:g,target:u[0],selectCtrl:E,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!p.mdOnOpen&&(l.$eval(p.mdOnOpen)||!0)}).finally(function(){y._mdSelectIsOpen=!1,u.focus(),u.attr("aria-expanded","false"),M.$setTouched()})}g.attr("id",O),u.find("md-select-menu").length||(I["aria-owns"]=O),u.attr(I),l.$on("$destroy",function(){t.destroy().finally(function(){w&&(w.setFocused(!1),w.setHasValue(!1),w.input=null),M.$setTouched()})})}},controller:function(){}}}function a(t,n,i,r){return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:a,link:{pre:function(t,e,o,i){var a=i[0];function s(e){var o=n.getClosest(e.target,"md-option"),i=o&&angular.element(o).data("$mdOptionController");if(o&&i){if(o.hasAttribute("disabled"))return e.stopImmediatePropagation(),!1;var r=a.hashGetter(i.value),s=angular.isDefined(a.selected[r]);t.$apply(function(){a.isMultiple?s?a.deselect(r):a.select(r,i.value):s||(a.deselect(Object.keys(a.selected)[0]),a.select(r,i.value)),a.refreshViewValue()})}}e.addClass("_md"),r(e),e.on("click",s),e.on("keypress",function(t){13!=t.keyCode&&32!=t.keyCode||s(t)})}}};function a(i,r,a){var s,l=this;l.isMultiple=angular.isDefined(r.multiple),l.selected={},l.options={},i.$watchCollection(function(){return l.options},function(){l.ngModel.$render()}),l.setMultiple=function(t){var e=l.ngModel;if(s=s||e.$isEmpty,l.isMultiple=t,l.isMultiple){var o=!1,r=function(t){o?d():n.nextTick(function(){d(),o=!0})};e.$validators["md-multiple"]=a,e.$render=r,i.$watchCollection(l.modelBinding,function(t){a(t)&&r()}),e.$isEmpty=function(t){return!t||0===t.length}}else delete e.$validators["md-multiple"],e.$render=f;function a(t,e){return angular.isArray(t||e||[])}};var c,u,p,h="";function d(){var t=l.ngModel.$modelValue||l.ngModel.$viewValue||[];if(angular.isArray(t)){var e=Object.keys(l.selected),n=t.map(l.hashGetter);e.filter(function(t){return-1===n.indexOf(t)}).forEach(l.deselect),n.forEach(function(e,n){l.select(e,t[n])})}}function f(){var t=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect),l.select(l.hashGetter(t),t)}l.optNodeForKeyboardSearch=function(t){c&&clearTimeout(c),c=setTimeout(function(){c=e,h="",p=e,u=e},300),h+=t.key;var n=new RegExp("^"+h,"i");u||(u=a.find("md-option"),p=new Array(u.length),angular.forEach(u,function(t,e){p[e]=t.textContent.trim()}));for(var o=0;o<p.length;++o)if(n.test(p[o]))return u[o]},l.init=function(e,r){l.ngModel=e,l.modelBinding=r,l.ngModel.$isEmpty=function(t){return!l.options[l.hashGetter(t)]};var a=n.getModelOption(e,"trackBy");if(a){var s={},c=t(a);l.hashGetter=function(t,e){return s.$value=t,c(e||i,s)}}else l.hashGetter=function(t){return angular.isObject(t)?"object_"+(t.$$mdSelectId||(t.$$mdSelectId=++o)):t};l.setMultiple(l.isMultiple)},l.selectedLabels=function(t){var e,o=(t=t||{}).mode||"html",i=n.nodesToArray(a[0].querySelectorAll("md-option[selected]"));return i.length?("html"==o?e=function(t){if(t.hasAttribute("md-option-empty"))return"";var e=t.innerHTML,n=t.querySelector(".md-ripple-container");n&&(e=e.replace(n.outerHTML,""));var o=t.querySelector(".md-container");return o&&(e=e.replace(o.outerHTML,"")),e}:"aria"==o&&(e=function(t){return t.hasAttribute("aria-label")?t.getAttribute("aria-label"):t.textContent}),n.uniq(i.map(e)).join(", ")):""},l.select=function(t,e){var n=l.options[t];n&&n.setSelected(!0),l.selected[t]=e},l.deselect=function(t){var e=l.options[t];e&&e.setSelected(!1),delete l.selected[t]},l.addOption=function(t,e){if(angular.isDefined(l.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+e.value+'" found.');l.options[t]=e,angular.isDefined(l.selected[t])&&(l.select(t,e.value),angular.isDefined(l.ngModel.$modelValue)&&l.hashGetter(l.ngModel.$modelValue)===t&&l.ngModel.$validate(),l.refreshViewValue())},l.removeOption=function(t){delete l.options[t]},l.refreshViewValue=function(){var t,e=[];for(var o in l.selected)(t=l.options[o])?e.push(t.value):e.push(l.selected[o]);var i=n.getModelOption(l.ngModel,"trackBy"),r=l.isMultiple?e:e[0],a=l.ngModel.$modelValue;(i?angular.equals(a,r):a+""===r)||(l.ngModel.$setViewValue(r),l.ngModel.$render())}}}function s(t,e,n){return r.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:r,compile:function(t,e){t.append(angular.element('<div class="md-text">').append(t.contents())),t.attr("tabindex",e.tabindex||"0"),function(t){var e=t.value,n=t.ngValue;return e||n}(e)||t.attr("md-option-empty","");return o}};function o(o,r,a,s){var l=s[0],c=s[1];function u(t,e,n){if(c.hashGetter){var i=c.hashGetter(e,o),r=c.hashGetter(t,o);l.hashKey=r,l.value=t,c.removeOption(i,l),c.addOption(r,l)}else n||o.$$postDigest(function(){u(t,e,!0)})}n(r),c.isMultiple&&(r.addClass("md-checkbox-enabled"),r.prepend(i.clone())),angular.isDefined(a.ngValue)?o.$watch(a.ngValue,u):angular.isDefined(a.value)?u(a.value):o.$watch(function(){return r.text().trim()},u),a.$observe("disabled",function(t){t?r.attr("tabindex","-1"):r.attr("tabindex","0")}),o.$$postDigest(function(){a.$observe("selected",function(t){angular.isDefined(t)&&("string"==typeof t&&(t=!0),t?(c.isMultiple||c.deselect(Object.keys(c.selected)[0]),c.select(l.hashKey,l.value)):c.deselect(l.hashKey),c.refreshViewValue())})}),t.attach(o,r),function(){var t={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(t.id="select_option_"+e.nextUid());r.attr(t)}(),o.$on("$destroy",function(){c.removeOption(l.hashKey,l)})}function r(t){this.selected=!1,this.setSelected=function(e){e&&!this.selected?t.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(t.removeAttr("selected"),t.attr("aria-selected","false")),this.selected=e}}}function l(o){return i.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],o("$mdSelect").setDefaults({methods:["target"],options:i});function i(o,i,a,s,l,u,p,h,d){var f="$mdSelect.show() expected a target element in options.target but got '{0}'!",m=a.dom.animator,g=i.KEY_CODE;return{parent:"body",themable:!0,onShow:function(t,n,r){return r.loadingAsync&&!r.isRemoved&&(t.$$loadingAsyncDone=!1,l.when(r.loadingAsync).then(function(){t.$$loadingAsyncDone=!0,delete r.loadingAsync}).then(function(){u(v)})),function(t,e){var o=n.find("md-select-menu");if(!e.target)throw new Error(a.supplant(f,[e.target]));angular.extend(e,{isRemoved:!1,target:angular.element(e.target),parent:angular.element(e.parent),selectEl:o,contentEl:n.find("md-content"),optionNodes:o[0].getElementsByTagName("md-option")})}(0,r),r.hideBackdrop=function(t,e,n){return n.disableParentScroll&&!a.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=a.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=a.createBackdrop(t,"md-select-backdrop md-click-catcher"),h.enter(n.backdrop,d[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}(t,0,r),function(t,e,n){return n.parent!==e.parent()&&e.parent().attr("aria-owns",e.attr("id")),e.parent().find("md-select-value").attr("aria-hidden","true"),n.parent.append(e),l(function(t,n){try{p(e,{removeClass:"md-leave",duration:0}).start().then(v).then(t)}catch(t){n(t)}})}(0,n,r).then(function(t){var l,u,p,h,d;return n.attr("aria-hidden","false"),r.alreadyOpen=!0,r.cleanupInteraction=function(){if(!r.isRemoved){var t=r.selectEl,s=t.controller("mdSelectMenu")||{};return n.addClass("md-clickable"),r.backdrop&&r.backdrop.on("click",l),t.on("keydown",u),t.on("click",h),function(){r.backdrop&&r.backdrop.off("click",l),t.off("keydown",u),t.off("click",h),n.removeClass("md-clickable"),r.isRemoved=!0}}function l(t){t.preventDefault(),t.stopPropagation(),r.restoreFocus=!1,a.nextTick(o.hide,!0)}function u(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case g.UP_ARROW:return void p("prev");case g.DOWN_ARROW:return void p("next");case g.SPACE:case g.ENTER:var n=a.getClosest(e.target,"md-option");n&&(t.triggerHandler({type:"click",target:n}),e.preventDefault()),h(e);break;case g.TAB:case g.ESCAPE:e.stopPropagation(),e.preventDefault(),r.restoreFocus=!0,a.nextTick(o.hide,!0);break;default:if(c(e,i)){var s=t.controller("mdSelectMenu").optNodeForKeyboardSearch(e);r.focusedNode=s||r.focusedNode,s&&s.focus()}}}function p(t){var n,o=a.nodesToArray(r.optionNodes),i=o.indexOf(r.focusedNode);do{-1===i?i=0:"next"===t&&i<o.length-1?i++:"prev"===t&&i>0&&i--,(n=o[i]).hasAttribute("disabled")&&(n=e)}while(!n&&i<o.length-1&&i>0);n&&n.focus(),r.focusedNode=n}function h(e){if(!(e&&"click"==e.type&&e.currentTarget!=t[0]||function(){var t=!1;if(e&&e.currentTarget.children.length>0){var n=e.currentTarget.children[0],o=n.scrollHeight>n.clientHeight;if(o&&n.children.length>0){var i=e.pageX-e.currentTarget.getBoundingClientRect().left;i>n.querySelector("md-option").offsetWidth&&(t=!0)}}return t}())){var n=a.getClosest(e.target,"md-option");n&&n.hasAttribute&&!n.hasAttribute("disabled")&&(e.preventDefault(),e.stopPropagation(),s.isMultiple||(r.restoreFocus=!0,a.nextTick(function(){o.hide(s.ngModel.$viewValue)},!0)))}}}(),r.cleanupResizing=(p=p,h=n,d=r,l=function(){if(!d.isRemoved){var t=y(p,h,d),e=t.container,n=t.dropDown;e.element.css(m.toCss(e.styles)),n.element.css(m.toCss(n.styles))}},(u=angular.element(s)).on("resize",l),u.on("orientationchange",l),function(){u.off("resize",l),u.off("orientationchange",l)}),b(r.focusedNode),t},r.hideBackdrop);function v(){return l(function(e){if(r.isRemoved)return l.reject(!1);var o=y(t,n,r);o.container.element.css(m.toCss(o.container.styles)),o.dropDown.element.css(m.toCss(o.dropDown.styles)),u(function(){n.addClass("md-active"),o.dropDown.element.css(m.toCss({transform:""})),b(r.focusedNode),e()})})}function b(t){t&&!t.hasAttribute("disabled")&&t.focus()}},onRemove:function(t,e,n){var o=null,i=t.$on("$destroy",function(){o.end()});return(n=n||{}).cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?r():(o=p(e,{addClass:"md-leave"})).start().then(r);function r(){i(),e.removeClass("md-active").attr("aria-hidden","true").css({display:"none",top:"",right:"",bottom:"",left:"","font-size":"","min-width":""}),e.parent().find("md-select-value").removeAttr("aria-hidden"),function(t){var e=t.selectCtrl;if(e){var n=t.selectEl.controller("mdSelectMenu");e.setLabelText(n?n.selectedLabels():""),e.triggerClose()}}(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}},hasBackdrop:!0,disableParentScroll:!0};function y(e,o,i){var l,c,u=o[0],p=i.target[0].children[0],h=d[0].body,f=i.selectEl[0],m=i.contentEl[0],g=h.getBoundingClientRect(),y=p.getBoundingClientRect(),v={left:g.left+n,top:n,bottom:g.height-n,right:g.width-n-(a.floatingScrollbars()?16:0)},b=y.top-v.top,w=(y.left,y.left,y.width,v.bottom-(y.top+y.height)),E=g.width-2*n,M=f.querySelector("md-option[selected]"),C=f.getElementsByTagName("md-option"),_=f.getElementsByTagName("md-optgroup"),x=function(t,e){var n=!1;try{var o=t[0].style.display;t[0].style.display="block",n=e.scrollHeight>e.offsetHeight,t[0].style.display=o}finally{}return n}(o,m);l=(c=i.loadingAsync)&&angular.isFunction(c.then)?m.firstElementChild||m:M||(_.length?_[0]:C.length?C[0]:m.firstElementChild||m),m.offsetWidth>E?m.style["max-width"]=E+"px":m.style.maxWidth=null,x&&f.classList.add("md-overflow");var S=l;"MD-OPTGROUP"===(S.tagName||"").toUpperCase()&&(l=S=C[0]||m.firstElementChild||m),i.focusedNode=S,u.style.display="block";var T,k,A,P,D,I,O=f.getBoundingClientRect(),N=(T=l)?{left:T.offsetLeft,top:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}:{left:0,top:0,width:0,height:0};if(l){var L=s.getComputedStyle(l);N.paddingLeft=parseInt(L.paddingLeft,10)||0,N.paddingRight=parseInt(L.paddingRight,10)||0}if(x){var R=m.offsetHeight/2;m.scrollTop=N.top+N.height/2-R,b<R?m.scrollTop=Math.min(N.top,m.scrollTop+R-b):w<R&&(m.scrollTop=Math.max(N.top+N.height-O.height,m.scrollTop-R+w))}k=y.left+N.left-N.paddingLeft+2,A=Math.floor(y.top+y.height/2-N.height/2-N.top+m.scrollTop)+2,P=N.left+y.width/2+"px "+(N.top+N.height/2-m.scrollTop)+"px 0px",D=Math.min(y.width+N.paddingLeft+N.paddingRight,E),I=t.getComputedStyle(p)["font-size"];var j=u.getBoundingClientRect(),F=Math.round(100*Math.min(y.width/O.width,1))/100,U=Math.round(100*Math.min(y.height/O.height,1))/100;return{container:{element:angular.element(u),styles:{left:Math.floor(r(v.left,k,v.right-j.width)),top:Math.floor(r(v.top,A,v.bottom-j.height)),"min-width":D,"font-size":I}},dropDown:{element:angular.element(f),styles:{transformOrigin:P,transform:i.alreadyOpen?"":a.supplant("scale({0},{1})",[F,U])}}}}}function r(t,e,n){return Math.max(t,Math.min(e,n))}}function c(t,e){var n=String.fromCharCode(t.keyCode),o=t.keyCode<=31;return n&&n.length&&!o&&!e.isMetaKey(t)&&!e.isFnLockKey(t)&&!e.hasModifierKey(t)}angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",r).directive("mdSelectMenu",a).directive("mdOption",s).directive("mdOptgroup",function(){return{restrict:"E",compile:function(t,e){t.parent().find("md-select-header").length||function(){var n=t.find("label");n.length||(n=angular.element("<label>"),t.prepend(n));n.addClass("md-container-ignore"),n.attr("aria-hidden","true"),e.label&&n.text(e.label)}()}}}).directive("mdSelectHeader",function(){return{restrict:"E"}}).provider("$mdSelect",l)}(),function(){function t(t,e){return["$mdUtil","$window",function(n,o){return{restrict:"A",multiElement:!0,link:function(i,r,a){var s=i.$on("$md-resize-enable",function(){s();var l=r[0],c=l.nodeType===o.Node.ELEMENT_NODE?o.getComputedStyle(l):{};i.$watch(a[t],function(t){if(!!t===e){n.nextTick(function(){i.$broadcast("$md-resize")});var o={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(r,o).then(function(){i.$broadcast("$md-resize")})}})})}}}]}angular.module("material.components.showHide",["material.core"]).directive("ngShow",t("ngShow",!0)).directive("ngHide",t("ngHide",!1))}(),function(){function t(t,n,o,i){var r="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",a={find:function(o,a){var s=t.get(o);if(!s&&!a)return i.error(n.supplant(r,[o||""])),e;return s},waitFor:s};return function(t,e){if(angular.isUndefined(t))return a;var i=!0===e,l=a.find(t,i);return!l&&i?a.waitFor(t):!l&&angular.isUndefined(e)?function(t,e){var i=function(){return!1},a=function(){return o.when(n.supplant(r,[e||""]))};return angular.extend({isLockedOpen:i,isOpen:i,toggle:a,open:a,close:a,onClose:angular.noop,then:function(t){return s(e).then(t||angular.noop)}},t)}(a,t):l};function s(e){return t.when(e).catch(i.error)}}function n(t,n,o,i,r,a,s,l,c,u,p,h,d){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed").attr("tabIndex","-1"),f}};function f(s,f,m,g){var y,v,b,w,E,M=null,C=null,_=u.when(!0),x=l(m.mdIsLockedOpen),S=angular.element(h);function T(t){return t.keyCode===o.KEY_CODE.ESCAPE?k(t):u.when(!0)}function k(t){return t.preventDefault(),g.close()}m.mdDisableScrollTarget&&((M=p[0].querySelector(m.mdDisableScrollTarget))?M=angular.element(M):c.warn(n.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:m.mdDisableScrollTarget}))),M||(M=f.parent()),m.hasOwnProperty("mdDisableBackdrop")||(v=n.createBackdrop(s,"md-sidenav-backdrop md-opaque ng-enter")),m.hasOwnProperty("mdDisableCloseEvents")&&(b=!0),f.addClass("_md"),i(f),v&&i.inherit(v,f),f.on("$destroy",function(){v&&v.remove(),g.destroy()}),s.$on("$destroy",function(){v&&v.remove()}),s.$watch(function(){return x(s.$parent,{$media:function(e){return c.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),t(e)},$mdMedia:t})},function(t,e){s.isLockedOpen=t,t===e?f.toggleClass("md-locked-open",!!t):a[t?"addClass":"removeClass"](f,"md-locked-open");v&&v.toggleClass("md-locked-open",!!t)}),s.$watch("isOpen",function(t){var o,i=n.findFocusTarget(f)||n.findFocusTarget(f,"[md-sidenav-focus]")||f,l=f.parent();b||(l[t?"on":"off"]("keydown",T),v&&v[t?"on":"off"]("click",k));o=function(t,e){var n=f[0],o=t[0].scrollTop;if(e&&o){E={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var i={top:o+"px",bottom:"auto",height:t[0].clientHeight+"px"};f.css(i),v.css(i)}if(!e&&E)return function(){n.style.top=E.top,n.style.bottom=E.bottom,n.style.height=E.height,v[0].style.top=null,v[0].style.bottom=null,v[0].style.height=null,E=null}}(l,t),t&&(C=p[0].activeElement,w=r.getLastInteractionType());return c=t,c&&!y?(y=M.css("overflow"),M.css("overflow","hidden")):angular.isDefined(y)&&(M.css("overflow",y),y=e),_=u.all([t&&v?a.enter(v,l):v?a.leave(v):u.when(!0),a[t?"removeClass":"addClass"](f,"md-closed")]).then(function(){s.isOpen&&(d(function(){S.triggerHandler("resize")}),i&&i.focus()),o&&o()});var c}),g.$toggleOpen=function(t){return s.isOpen===t?u.when(!0):(s.isOpen&&g.onCloseCb&&g.onCloseCb(),u(function(e){s.isOpen=t,n.nextTick(function(){_.then(function(t){!s.isOpen&&C&&"keyboard"===w&&(C.focus(),C=null),e(t)})})}))}}}function o(t,e,n,o,i){var r=this;r.isOpen=function(){return!!t.isOpen},r.isLockedOpen=function(){return!!t.isLockedOpen},r.onClose=function(t){return r.onCloseCb=t,r},r.open=function(){return r.$toggleOpen(!0)},r.close=function(){return r.$toggleOpen(!1)},r.toggle=function(){return r.$toggleOpen(!t.isOpen)},r.$toggleOpen=function(e){return o.when(t.isOpen=e)};var a=e.mdComponentId,s=a&&a.indexOf(i.startSymbol())>-1,l=s?i(a)(t.$parent):a;r.destroy=n.register(r,l),s&&e.$observe("mdComponentId",function(t){t&&t!==r.$$mdHandle&&(r.destroy(),r.destroy=n.register(r,t))})}t.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],n.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],o.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",n).directive("mdSidenavFocus",function(){return{restrict:"A",require:"^mdSidenav",link:function(t,e,n,o){}}}).controller("$mdSidenavController",o)}(),function(){o.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],angular.module("material.components.slider",["material.core"]).directive("mdSlider",o).directive("mdSliderContainer",function(){return{controller:function(){},compile:function(t){var n=t.find("md-slider");if(n){var o=n.attr("md-vertical");return o!==e&&t.attr("md-vertical",""),n.attr("flex")||n.attr("flex",""),function(t,e,n,o){function i(t){e.children().attr("disabled",t),e.find("input").attr("disabled",t)}e.addClass("_md");var r,a=angular.noop;n.disabled?i(!0):n.ngDisabled&&(a=t.$watch(n.ngDisabled,function(t){i(t)})),t.$on("$destroy",function(){a()}),o.fitInputWidthToTextLength=function(t){var n=e[0].querySelector("md-input-container");if(n){var o=getComputedStyle(n),i=parseInt(o.minWidth),a=parseInt(o.paddingLeft)+parseInt(o.paddingRight);r=r||parseInt(o.maxWidth);var s=Math.max(r,i+a+i/2*t);n.style.maxWidth=s+"px"}}}}}}});var t=10,n=4;function o(e,o,i,r,a,s,l,c,u,p){return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:function(t,e){var n=angular.element(t[0].getElementsByClassName("md-slider-wrapper")),o=e.tabindex||0;n.attr("tabindex",o),(e.disabled||e.ngDisabled)&&n.attr("tabindex",-1);return t.attr("role","slider"),i.expect(t,"aria-label"),h}};function h(i,h,d,f){s(h);var m=f[0]||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach(function(t){t()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},g=f[1],y=(angular.element(r.getClosest(h,"_md-slider-container",!0)),d.ngDisabled?angular.bind(null,c(d.ngDisabled),i.$parent):function(){return h[0].hasAttribute("disabled")}),v=angular.element(h[0].querySelector(".md-thumb")),b=angular.element(h[0].querySelector(".md-thumb-text")),w=v.parent(),E=angular.element(h[0].querySelector(".md-track-container")),M=angular.element(h[0].querySelector(".md-track-fill")),C=angular.element(h[0].querySelector(".md-track-ticks")),_=angular.element(h[0].getElementsByClassName("md-slider-wrapper")),x=(angular.element(h[0].getElementsByClassName("md-slider-content")),r.throttle(B,5e3)),S=angular.isDefined(d.mdVertical),T=angular.isDefined(d.mdDiscrete),k=angular.isDefined(d.mdInvert);angular.isDefined(d.min)?d.$observe("min",j):j(0),angular.isDefined(d.max)?d.$observe("max",F):F(100),angular.isDefined(d.step)?d.$observe("step",U):U(1),angular.isDefined(d.round)?d.$observe("round",H):H(3);angular.noop;function A(){B(),G()}d.ngDisabled&&i.$parent.$watch(d.ngDisabled,function(){h.attr("aria-disabled",!!y())}),l.register(_,"drag",{horizontal:!S}),i.mouseActive=!1,_.on("keydown",function(e){if(y())return;var o,i=a.KEY_CODE;switch(e.keyCode){case i.DOWN_ARROW:case i.LEFT_ARROW:e.preventDefault(),o=-I;break;case i.UP_ARROW:case i.RIGHT_ARROW:e.preventDefault(),o=I;break;case i.PAGE_DOWN:e.preventDefault(),o=-I*t;break;case i.PAGE_UP:e.preventDefault(),o=I*t;break;case i.HOME:e.preventDefault(),e.stopPropagation(),W(P);break;case i.END:e.preventDefault(),e.stopPropagation(),W(D)}o&&(o=k?-o:o,(e.metaKey||e.ctrlKey||e.altKey)&&(o*=n),e.preventDefault(),e.stopPropagation(),W(m.$viewValue+o))}).on("mousedown",function(){(function(){if(!T||y())return;if(angular.isUndefined(I))return;if(I<=0){var t="Slider step value must be greater than zero when in discrete mode";throw u.error(t),new Error(t)}var e=Math.floor((D-P)/I);N||(N=angular.element("<canvas>").css("position","absolute"),C.append(N),L=N[0].getContext("2d"));var n,i=q();!i||i.height||i.width||(B(),i=V);N[0].width=i.width,N[0].height=i.height;for(var r=0;r<=e;r++){var a=o.getComputedStyle(C[0]);L.fillStyle=a.color||"black",n=Math.floor((S?i.height:i.width)*(r/e)),L.fillRect(S?0:n-1,S?n-1:0,S?i.width:2,S?2:i.height)}})(),i.mouseActive=!0,_.removeClass("md-focused"),p(function(){i.mouseActive=!1},100)}).on("focus",function(){!1===i.mouseActive&&_.addClass("md-focused")}).on("blur",function(){_.removeClass("md-focused"),h.removeClass("md-active"),function(){if(N&&L){var t=q();L.clearRect(0,0,t.width,t.height)}}()}).on("$md.pressdown",function(t){if(y())return;h.addClass("md-active"),h[0].focus(),B();var e=Y(K(tt(Q(S?t.pointer.y:t.pointer.x))));i.$apply(function(){z(e),X(et(e))})}).on("$md.pressup",function(t){if(y())return;h.removeClass("md-dragging");var e=Y(K(tt(Q(S?t.pointer.y:t.pointer.x))));i.$apply(function(){z(e),G()})}).on("$md.dragstart",function(t){if(y())return;Z=!0,t.stopPropagation(),h.addClass("md-dragging"),J(t)}).on("$md.drag",function(t){if(!Z)return;t.stopPropagation(),J(t)}).on("$md.dragend",function(t){if(!Z)return;t.stopPropagation(),Z=!1}),setTimeout(A,0);var P,D,I,O,N,L,R=e.throttle(A);function j(t){P=parseFloat(t),m.$viewValue=Y(m.$modelValue,P,D),h.attr("aria-valuemin",t),A()}function F(t){D=parseFloat(t),m.$viewValue=Y(m.$modelValue,P,D),h.attr("aria-valuemax",t),A()}function U(t){I=parseFloat(t)}function H(t){O=Y(parseInt(t),0,6)}angular.element(o).on("resize",R),i.$on("$destroy",function(){angular.element(o).off("resize",R)}),m.$render=G,m.$viewChangeListeners.push(G),m.$formatters.push(Y),m.$formatters.push(K);var V={};function B(){V=E[0].getBoundingClientRect()}function q(){return x(),V}function W(t){i.$evalAsync(function(){z(t)})}function z(t){m.$setViewValue(Y(K(t)))}function G(){isNaN(m.$viewValue)&&(m.$viewValue=m.$modelValue),m.$viewValue=Y(m.$viewValue);var t=et(m.$viewValue);i.modelValue=m.$viewValue,h.attr("aria-valuenow",m.$viewValue),X(t),b.text(m.$viewValue)}function Y(t,e,n){if(angular.isNumber(t))return e=angular.isNumber(e)?e:P,n=angular.isNumber(n)?n:D,Math.max(e,Math.min(n,t))}function K(t){if(angular.isNumber(t)){var e=Math.round((t-P)/I)*I+P;return e=Math.round(e*Math.pow(10,O))/Math.pow(10,O),g&&g.fitInputWidthToTextLength&&r.debounce(function(){g.fitInputWidthToTextLength(e.toString().length)},100)(),e}}function X(t){var e;e=t;var n=100*(t=Math.max(0,Math.min(e||0,1)))+"%",o=k?100*(1-t)+"%":n;S?w.css("bottom",n):r.bidiProperty(w,"left","right",n),M.css(S?"height":"width",o),h.toggleClass(k?"md-max":"md-min",0===t),h.toggleClass(k?"md-min":"md-max",1===t)}B();var Z=!1;function J(t){var e,n;T?(e=S?t.pointer.y:t.pointer.x,n=Y(K(tt(Q(e)))),X(Q(e)),b.text(n)):function(t){i.$evalAsync(function(){z(tt(Q(t)))})}(S?t.pointer.y:t.pointer.x)}function Q(t){var e=(t-(S?V.top:V.left))/(S?V.height:V.width);return S||"rtl"!==r.bidi()||(e=1-e),Math.max(0,Math.min(1,S?1-e:e))}function tt(t){return P+(k?1-t:t)*(D-P)}function et(t){var e=(t-P)/(D-P);return k?1-e:e}}}}(),function(){function t(t,n,o,i){var r=o.checkStickySupport();return function(a,s,l){var c=s.controller("mdContent");if(c)if(r)s.css({position:r,top:0,"z-index":2});else{var u=c.$element.data("$$sticky");u||(u=function(i){var r,a=i.$element,s=n.throttle(l);return function(t){var e,i,r=200;function a(){+o.now()-i>r?(e=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),n.throttle(a))}t.on("scroll touchmove",function(){e||(e=!0,n.throttle(a),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),i=+o.now()})}(a),a.on("$scrollstart",s),a.on("$scroll",function t(){var e=a.prop("scrollTop"),n=e>(t.prevScrollTop||0);if(t.prevScrollTop=e,0!==e){if(n){if(r.next&&r.next.top<=e)return void u(r.next);if(r.current&&r.next&&r.next.top-e<=r.next.height)return void h(r.current,e+(r.next.top-r.next.height-e))}if(!n){if(r.current&&r.prev&&e<r.current.top)return void u(r.prev);if(r.next&&r.current&&e>=r.next.top-r.current.height)return void h(r.current,e+(r.next.top-e-r.current.height))}r.current&&h(r.current,e)}else u(null)}),r={prev:null,current:null,next:null,items:[],add:function(t,e){e.addClass("md-sticky-clone");var n={element:t,clone:e};return r.items.push(n),o.nextTick(function(){a.prepend(n.clone)}),s(),function(){r.items.forEach(function(e,n){e.element[0]===t[0]&&(r.items.splice(n,1),e.clone.remove())}),s()}},refreshElements:l};function l(){var t;r.items.forEach(c),r.items=r.items.sort(function(t,e){return t.top<e.top?-1:1});for(var e=a.prop("scrollTop"),n=r.items.length-1;n>=0;n--)if(e>r.items[n].top){t=r.items[n];break}u(t)}function c(t){var n=t.element[0];for(t.top=0,t.left=0,t.right=0;n&&n!==a[0];)t.top+=n.offsetTop,t.left+=n.offsetLeft,n.offsetParent&&(t.right+=n.offsetParent.offsetWidth-n.offsetWidth-n.offsetLeft),n=n.offsetParent;t.height=t.element.prop("offsetHeight");var i=o.floatingScrollbars()?"0":e;o.bidi(t.clone,"margin-left",t.left,i),o.bidi(t.clone,"margin-right",i,t.right)}function u(t){if(r.current!==t){r.current&&(h(r.current,null),p(r.current,null)),t&&p(t,"active"),r.current=t;var e=r.items.indexOf(t);r.next=r.items[e+1],r.prev=r.items[e-1],p(r.next,"next"),p(r.prev,"prev")}}function p(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function h(n,i){n&&(null===i||i===e?n.translateY&&(n.translateY=null,n.clone.css(t.CSS.TRANSFORM,"")):(n.translateY=i,o.bidi(n.clone,t.CSS.TRANSFORM,"translate3d("+n.left+"px,"+i+"px,0)","translateY("+i+"px)")))}}(c),c.$element.data("$$sticky",u));var p=l||i(s.clone())(a),h=u.add(s,p);a.$on("$destroy",h)}}}t.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t)}(),function(){function t(t,e,n,o,i){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(r,a,s,l,c){n(a),a.addClass("_md"),o.prefixer().removeAttribute(a,"ng-repeat");var u=a[0].outerHTML;function p(t){return angular.element(t[0].querySelector(".md-subheader-content"))}s.$set("role","heading"),i.expect(a,"aria-level","2"),c(r,function(t){p(a).append(t)}),a.hasClass("md-no-sticky")||c(r,function(n){var i=e('<div class="md-subheader-wrapper" aria-hidden="true">'+u+"</div>")(r);o.nextTick(function(){p(i).append(n)}),t(r,a,i)})}}}t.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t)}(),function(){function t(t){o.$inject=["$parse"];var e="md"+t,n="$md."+t.toLowerCase();return o;function o(t){return{restrict:"A",link:function(o,i,r){var a=t(r[e]);i.on(n,function(t){var e=t.currentTarget;o.$applyAsync(function(){a(o,{$event:t,$target:{current:e}})})})}}}}angular.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",t("SwipeLeft")).directive("mdSwipeRight",t("SwipeRight")).directive("mdSwipeUp",t("SwipeUp")).directive("mdSwipeDown",t("SwipeDown"))}(),function(){function t(t,e,n,o,i,r,a){var s=t[0];return{restrict:"E",priority:n.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:function(t,l){var c=s.compile(t,l).post;return t.addClass("md-dragging"),function(t,s,l,u){u[0];var p=u[1]||e.fakeNgModel(),h=(u[2],null);null!=l.disabled?h=function(){return!0}:l.ngDisabled&&(h=o(l.ngDisabled));var d,f=angular.element(s[0].querySelector(".md-thumb-container")),m=angular.element(s[0].querySelector(".md-container")),g=angular.element(s[0].querySelector(".md-label"));i(function(){s.removeClass("md-dragging")}),c(t,s,l,u),h&&t.$watch(h,function(t){s.attr("tabindex",t?-1:0)}),l.$observe("mdInvert",function(t){var n=e.parseAttributeBoolean(t);n?s.prepend(g):s.prepend(m),s.toggleClass("md-inverted",n)}),r.register(m,"drag"),m.on("$md.dragstart",function(e){h&&h(t)||(e.stopPropagation(),s.addClass("md-dragging"),d={width:f.prop("offsetWidth")})}).on("$md.drag",function(t){if(d){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/d.width,o=p.$viewValue?1+e:e;o=Math.max(0,Math.min(1,o)),f.css(n.CSS.TRANSFORM,"translate3d("+100*o+"%,0,0)"),d.translate=o}}).on("$md.dragend",function(e){var o;d&&(e.stopPropagation(),s.removeClass("md-dragging"),f.css(n.CSS.TRANSFORM,""),(p.$viewValue?d.translate<.5:d.translate>.5)&&(o=!p.$viewValue,t.$apply(function(){p.$setViewValue(o),p.$render()})),d=null,t.skipToggle=!0,a(function(){t.skipToggle=!1},1))})}}}}t.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t)}(),angular.module("material.components.tabs",["material.core","material.components.icon"]),function(){angular.module("material.components.tabs").service("MdTabsPaginationService",function(){return{decreasePageOffset:function(e,n){var o,i,r=e.canvas,a=t(e);for(o=0;o<a.length;o++)if(a[o]>=n){i=a[o];break}return Math.max(0,i-r.clientWidth)},increasePageOffset:function(n,o){var i,r,a=n.canvas,s=e(n)-a.clientWidth,l=t(n);for(i=0;l.length,l[i]<=o+a.clientWidth;i++)r=l[i];return Math.min(s,r)},getTabOffsets:t,getTotalTabsWidth:e};function t(t){var e,n,o=0,i=[];for(e=0;e<t.tabs.length;e++)n=t.tabs[e],i.push(o),o+=n.offsetWidth;return i}function e(t){var e,n,o=0;for(e=0;e<t.tabs.length;e++)n=t.tabs[e],o+=n.offsetWidth;return o}})}(),function(){angular.module("material.components.tabs").directive("mdTab",function(){return{require:"^?mdTabs",terminal:!0,compile:function(n,o){var i=e(n,"md-tab-label"),r=e(n,"md-tab-body");if(0===i.length&&(i=angular.element("<md-tab-label></md-tab-label>"),o.label?i.text(o.label):i.append(n.contents()),0===r.length)){var a=n.contents().detach();(r=angular.element("<md-tab-body></md-tab-body>")).append(a)}return n.append(i),r.html()&&n.append(r),t},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect",tabClass:"@mdTabClass"}};function t(t,n,o,i){if(i){var r=i.getTabElementIndex(n),a=e(n,"md-tab-body").remove(),s=e(n,"md-tab-label").remove(),l=i.insertTab({scope:t,parent:t.$parent,index:r,element:n,template:a.html(),label:s.html()},r);t.select=t.select||angular.noop,t.deselect=t.deselect||angular.noop,t.$watch("active",function(t){t&&i.select(l.getIndex(),!0)}),t.$watch("disabled",function(){i.refreshIndex()}),t.$watch(function(){return i.getTabElementIndex(n)},function(t){l.index=t,i.updateTabOrder()}),t.$on("$destroy",function(){i.removeTab(l)})}}function e(t,e){for(var n=t[0].children,o=0,i=n.length;o<i;o++){var r=n[o];if(r.tagName===e.toUpperCase())return angular.element(r)}return angular.element()}})}(),function(){angular.module("material.components.tabs").directive("mdTabItem",function(){return{require:"^?mdTabs",link:function(t,e,n,o){o&&o.attachRipple(t,e)}}})}(),function(){angular.module("material.components.tabs").directive("mdTabLabel",function(){return{terminal:!0}})}(),function(){function t(t){return{restrict:"A",compile:function(e,n){var o=t(n.mdTabScroll,null,!0);return function(t,e){e.on("mousewheel",function(e){t.$apply(function(){o(t,{$event:e})})})}}}}t.$inject=["$parse"],angular.module("material.components.tabs").directive("mdTabScroll",t)}(),function(){function t(t,n,o,i,r,a,s,l,c,u,p,h,d){var f=this,m=!1,g=[],y=!1,v=!1;function b(t,e){var n=l.$normalize("md-"+t);function o(e){f[t]="false"!==e}e&&R(t,e),l.hasOwnProperty(n)&&o(l[n]),l.$observe(n,o)}function w(){y=!0,angular.element(o).off("resize",P)}function E(){var t=O();angular.element(t.wrapper).toggleClass("md-stretch-tabs",function(){switch(f.stretchTabs){case"always":return!0;case"never":return!1;default:return!f.shouldPaginate&&o.matchMedia("(max-width: 600px)").matches}}()),z()}function M(){f.shouldCenterTabs=N()}function C(t,e){if(t!==e){var n=O();angular.forEach(n.tabs,function(e){e.style.maxWidth=t+"px"}),angular.forEach(n.dummies,function(e){e.style.maxWidth=t+"px"}),a.nextTick(f.updateInkBarStyles)}}function _(t,e){t!==e&&(f.maxTabWidth=U(),f.shouldCenterTabs=N(),a.nextTick(function(){f.maxTabWidth=U(),B(f.selectedIndex)}))}function x(t){n[t?"removeClass":"addClass"]("md-no-tab-content")}function S(e){var n=O(),o=(f.shouldCenterTabs||Y()?"":"-")+e+"px";o=o.replace("--",""),angular.element(n.paging).css(i.CSS.TRANSFORM,"translate("+o+", 0)"),t.$broadcast("$mdTabsPaginationChanged")}function T(t,e){t!==e&&O().tabs[t]&&(B(),V())}function k(e,n){e!==n&&(f.selectedIndex=L(e),f.lastSelectedIndex=n,f.updateInkBarStyles(),W(),B(e),t.$broadcast("$mdTabsChanged"),f.tabs[n]&&f.tabs[n].scope.deselect(),f.tabs[e]&&f.tabs[e].scope.select())}function A(t,e){m||(f.focusIndex=f.selectedIndex=t),e&&f.noSelectClick||a.nextTick(function(){f.tabs[t].element.triggerHandler("click")},!1)}function P(){f.lastSelectedIndex=f.selectedIndex,f.offsetLeft=G(f.offsetLeft),a.nextTick(function(){f.updateInkBarStyles(),j()})}function D(t){angular.element(O().inkBar).toggleClass("ng-hide",t)}function I(t){n.toggleClass("md-dynamic-height",t)}function O(){var t={},e=n[0];return t.wrapper=e.querySelector("md-tabs-wrapper"),t.canvas=t.wrapper.querySelector("md-tabs-canvas"),t.paging=t.canvas.querySelector("md-pagination-wrapper"),t.inkBar=t.paging.querySelector("md-ink-bar"),t.nextButton=e.querySelector("md-next-button"),t.prevButton=e.querySelector("md-prev-button"),t.contents=e.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),t.tabs=t.paging.querySelectorAll("md-tab-item"),t.dummies=t.canvas.querySelectorAll("md-dummy-tab"),t}function N(){return f.centerTabs&&!f.shouldPaginate}function L(t){if(-1===t)return-1;var e,n,o=Math.max(f.tabs.length-t,t);for(e=0;e<=o;e++){if((n=f.tabs[t+e])&&!0!==n.scope.disabled)return n.getIndex();if((n=f.tabs[t-e])&&!0!==n.scope.disabled)return n.getIndex()}return t}function R(t,e,n){Object.defineProperty(f,t,{get:function(){return n},set:function(t){var o=n;n=t,e&&e(t,o)}})}function j(){f.maxTabWidth=U(),f.shouldPaginate=function(){var t;if(f.noPagination||!v)return!1;var o=n.prop("clientWidth");return angular.forEach(O().tabs,function(t){o-=t.offsetWidth}),t=o<0,O().paging.style.width=t?"999999px":e,t}()}function F(t){var e=0;return angular.forEach(t,function(t){e+=Math.max(t.offsetWidth,t.getBoundingClientRect().width)}),Math.ceil(e)}function U(){var t=O().canvas.clientWidth;return Math.max(0,Math.min(t-1,264))}function H(t,e){var n,o=e?"focusIndex":"selectedIndex",i=f[o];for(n=i+t;f.tabs[n]&&f.tabs[n].scope.disabled;n+=t);n=(i+t+f.tabs.length)%f.tabs.length,f.tabs[n]&&(f[o]=n)}function V(){f.styleTabItemFocus="keyboard"===p.getLastInteractionType();var t=O().tabs[f.focusIndex];t&&t.focus()}function B(t){var e=O();if(angular.isNumber(t)||(t=f.focusIndex),e.tabs[t]&&!f.shouldCenterTabs){var n=e.tabs[t],o=n.offsetLeft,i=n.offsetWidth+o;if(0!==t)if(Y()){var r=F(Array.prototype.slice.call(e.tabs,0,t)),a=F(Array.prototype.slice.call(e.tabs,0,t+1));f.offsetLeft=Math.min(f.offsetLeft,G(r)),f.offsetLeft=Math.max(f.offsetLeft,G(a-e.canvas.clientWidth))}else f.offsetLeft=Math.max(f.offsetLeft,G(i-e.canvas.clientWidth+32)),f.offsetLeft=Math.min(f.offsetLeft,G(o));else f.offsetLeft=0}}function q(){f.selectedIndex=L(f.selectedIndex),f.focusIndex=L(f.focusIndex)}function W(){if(!f.dynamicHeight)return n.css("height","");if(!f.tabs.length)return g.push(W);var t=O(),o=t.contents[f.selectedIndex],i=o?o.offsetHeight:0,r=t.wrapper.offsetHeight,l=i+r,c=n.prop("clientHeight");if(c!==l){"bottom"===n.attr("md-align-tabs")&&(c-=r,l-=r,n.attr("md-border-bottom")!==e&&++c),m=!0;var u={height:c+"px"},p={height:l+"px"};n.css(u),s(n,{from:u,to:p,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){n.css({transition:"none",height:""}),a.nextTick(function(){n.css("transition","")}),m=!1})}}function z(e,o){if(!f.noInkBar){var i=O();if(i.tabs[f.selectedIndex])if(f.tabs.length)if(n.prop("offsetParent")){var r=f.selectedIndex,s=i.paging.offsetWidth,l=i.tabs[r],c=l.offsetLeft,u=s-c-l.offsetWidth;if(f.shouldCenterTabs){var p=F(i.tabs);s>p&&e!==s&&o!==p&&h(z,0,!0,s,p)}!function(){var t=O(),e=f.selectedIndex,n=f.lastSelectedIndex,o=angular.element(t.inkBar);if(!angular.isNumber(n))return;o.toggleClass("md-left",e<n).toggleClass("md-right",e>n)}(),angular.element(i.inkBar).css({left:c+"px",right:u+"px"})}else(function e(){e.watcher||(e.watcher=t.$watch(function(){a.nextTick(function(){e.watcher&&n.prop("offsetParent")&&(e.watcher(),e.watcher=null,P())},!1)}))})();else g.push(f.updateInkBarStyles);else angular.element(i.inkBar).css({left:"auto",right:"auto"})}}function G(t){var e=O();if(!e.tabs.length||!f.shouldPaginate)return 0;var n=e.tabs[e.tabs.length-1],o=n.offsetLeft+n.offsetWidth;return Y()?(t=Math.min(e.paging.offsetWidth-e.canvas.clientWidth,t),t=Math.max(0,t)):(t=Math.max(0,t),t=Math.min(o-e.canvas.clientWidth,t)),t}function Y(){return"rtl"===a.bidi()}f.$onInit=function(){(function(t,e){var n=l.$normalize("md-"+t);e&&R(t,e);l.$observe(n,function(e){f[t]=e})})("stretchTabs",E),R("focusIndex",T,f.selectedIndex||0),R("offsetLeft",S,0),R("hasContent",x,!1),R("maxTabWidth",C,U()),R("shouldPaginate",_,!1),b("noInkBar",D),b("dynamicHeight",I),b("noPagination"),b("swipeContent"),b("noDisconnect"),b("autoselect"),b("noSelectClick"),b("centerTabs",M),b("enableDisconnect"),f.scope=t,f.parent=t.$parent,f.tabs=[],f.lastSelectedIndex=null,f.hasFocus=!1,f.styleTabItemFocus=!1,f.shouldCenterTabs=N(),f.tabContentPrefix="tab-content-",f.navigationHint="Use the left and right arrow keys to navigate between tabs",f.selectedIndex=f.selectedIndex||0,e=l.$mdTabsTemplate,i=angular.element(n[0].querySelector("md-tab-data")),i.html(e),c(i.contents())(f.parent),delete l.$mdTabsTemplate,t.$watch("$mdTabsCtrl.selectedIndex",k),angular.element(o).on("resize",P),t.$on("$destroy",w),u(n),a.nextTick(function(){W(),B(),z(),f.tabs[f.selectedIndex]&&f.tabs[f.selectedIndex].scope.select(),v=!0,j()});var e,i},f.updatePagination=a.debounce(j,100),f.redirectFocus=V,f.attachRipple=function(t,e){var n=O(),o={colorElement:angular.element(n.inkBar)};r.attach(t,e,o)},f.insertTab=function(t,e){var o=v,i={getIndex:function(){return f.tabs.indexOf(r)},isActive:function(){return this.getIndex()===f.selectedIndex},isLeft:function(){return this.getIndex()<f.selectedIndex},isRight:function(){return this.getIndex()>f.selectedIndex},shouldRender:function(){return!f.noDisconnect||this.isActive()},hasFocus:function(){return f.styleTabItemFocus&&f.hasFocus&&this.getIndex()===f.focusIndex},id:a.nextUid(),hasContent:!(!t.template||!t.template.trim())},r=angular.extend(i,t);angular.isDefined(e)?f.tabs.splice(e,0,r):f.tabs.push(r);return g.forEach(function(t){a.nextTick(t)}),g=[],function(){var t,e=!1;for(t=0;t<f.tabs.length;t++)if(f.tabs[t].hasContent){e=!0;break}f.hasContent=e}(),a.nextTick(function(){j(),function(t){if(t.hasContent){var e=n[0].querySelectorAll('[md-tab-id="'+t.id+'"]');angular.element(e).attr("aria-controls",f.tabContentPrefix+t.id)}}(r),o&&f.autoselect&&a.nextTick(function(){a.nextTick(function(){A(f.tabs.indexOf(r))})})}),r},f.removeTab=function(t){if(y)return;var e=f.selectedIndex,n=f.tabs.splice(t.getIndex(),1)[0];q(),f.selectedIndex===e&&(n.scope.deselect(),f.tabs[f.selectedIndex]&&f.tabs[f.selectedIndex].scope.select());a.nextTick(function(){j(),f.offsetLeft=G(f.offsetLeft)})},f.select=A,f.scroll=function(t){if(!f.shouldPaginate)return;t.preventDefault(),f.offsetLeft=G(f.offsetLeft-t.wheelDelta)},f.nextPage=function(){if(!f.canPageForward())return;var t=d.increasePageOffset(O(),f.offsetLeft);f.offsetLeft=G(t)},f.previousPage=function(){if(!f.canPageBack())return;var t=d.decreasePageOffset(O(),f.offsetLeft);f.offsetLeft=G(t)},f.keydown=function(t){switch(t.keyCode){case i.KEY_CODE.LEFT_ARROW:t.preventDefault(),H(-1,!0);break;case i.KEY_CODE.RIGHT_ARROW:t.preventDefault(),H(1,!0);break;case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:t.preventDefault(),m||A(f.focusIndex);break;case i.KEY_CODE.TAB:f.focusIndex!==f.selectedIndex&&(f.focusIndex=f.selectedIndex)}},f.canPageForward=function(){var t=O(),e=t.tabs[t.tabs.length-1];if(Y())return f.offsetLeft<t.paging.offsetWidth-t.canvas.offsetWidth;return e&&e.offsetLeft+e.offsetWidth>t.canvas.clientWidth+f.offsetLeft},f.canPageBack=function(){return f.offsetLeft>0},f.refreshIndex=q,f.incrementIndex=H,f.getTabElementIndex=function(t){var e=n[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(e,t[0])},f.updateInkBarStyles=a.debounce(z,100),f.updateTabOrder=a.debounce(function(){var t=f.tabs[f.selectedIndex],e=f.tabs[f.focusIndex];f.tabs=f.tabs.sort(function(t,e){return t.index-e.index}),f.selectedIndex=f.tabs.indexOf(t),f.focusIndex=f.tabs.indexOf(e)},100),f.getFocusedTabId=function(){var t=f.tabs[f.focusIndex];if(!t||!t.id)return null;return"tab-item-"+t.id},1===angular.version.major&&angular.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","$timeout","MdTabsPaginationService"],angular.module("material.components.tabs").controller("MdTabsController",t)}(),function(){function t(t){return{scope:{navigationHint:"@?mdNavigationHint",selectedIndex:"=?mdSelected"},template:function(e,n){return n.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist" aria-label="{{::$mdTabsCtrl.navigationHint}}"><md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab {{::tab.scope.tabClass}}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.$inject=["$$mdSvgRegistry"],angular.module("material.components.tabs").directive("mdTabs",t)}(),function(){function t(t,e){return{require:"^?mdTabs",link:function(n,o,i,r){if(r){var a,s,l=function(){r.updatePagination(),r.updateInkBarStyles()};if("MutationObserver"in e){(a=new MutationObserver(l)).observe(o[0],{childList:!0,subtree:!0,characterData:!0}),s=a.disconnect.bind(a)}else{var c=t.debounce(l,15,null,!1);o.on("DOMSubtreeModified",c),s=o.off.bind(o,"DOMSubtreeModified",c)}n.$on("$destroy",function(){s()})}}}}t.$inject=["$mdUtil","$window"],angular.module("material.components.tabs").directive("mdTabsDummyWrapper",t)}(),function(){function t(t,e){return{restrict:"A",link:function(n,o,i,r){if(!r)return;var a=r.enableDisconnect?n.compileScope.$new():n.compileScope;return o.html(n.template),t(o.contents())(a),e.nextTick(function(){n.$watch("connected",function(t){!1===t?r.enableDisconnect&&e.disconnectScope(a):s()}),n.$on("$destroy",s)});function s(){r.enableDisconnect&&e.reconnectScope(a)}},scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.$inject=["$compile","$mdUtil"],angular.module("material.components.tabs").directive("mdTabsTemplate",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",function(){t.destroy()})}}}function n(t){r.$inject=["$mdToast","$scope","$log"],a.$inject=["$animate","$mdToast","$mdUtil","$mdMedia","$document"];var n,o="ok";function i(t){n=t}return t("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:a}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","actionKey","actionHint","highlightAction","highlightClass","theme","parent","dismissHint"],options:["$mdToast","$mdTheming",function(t,e){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content" aria-live="polite" aria-relevant="all">    <span class="md-toast-text">      {{ toast.content }}    </span>    <span class="md-visually-hidden">{{ toast.dismissHint }}</span>    <span class="md-visually-hidden" ng-if="toast.action && toast.actionKey">      {{ toast.actionHint }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"                ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:r,theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",i).addMethod("updateContent",i);function r(t,e,i){this.$onInit=function(){var r=this;r.highlightAction&&(e.highlightClasses=["md-highlight",r.highlightClass]),r.action&&!r.actionKey&&i.warn("Toasts with actions should define an actionKey for accessibility.","Details: https://material.angularjs.org/latest/api/service/$mdToast#mdtoast-simple"),r.actionKey&&!r.actionHint&&(r.actionHint='Press Control-"'+r.actionKey+'" to '),r.dismissHint||(r.dismissHint="Press Escape to dismiss."),e.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){t.hide(o)}}}function a(t,i,r,a,s){var l="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:function(c,u,p){n=p.textContent||p.content;var h=!a("gt-sm");u=r.extractElementByName(u,"md-toast",!0),p.element=u,p.onSwipe=function(t,e){var n=t.type.replace("$md.",""),o=n.replace("swipe","");"down"===o&&-1!==p.position.indexOf("top")&&!h||"up"===o&&(-1!==p.position.indexOf("bottom")||h)||("left"!==o&&"right"!==o||!h)&&(u.addClass("md-"+n),r.nextTick(i.cancel))},p.openClass=(d=p.position,a("gt-xs")?"md-toast-open-"+(d.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"),u.addClass(p.toastClass),p.parent.addClass(p.openClass),r.hasComputedStyle(p.parent,"position","static")&&p.parent.css("position","relative");var d;f=c.toast&&c.toast.actionKey?c.toast.actionKey:e,s.on("keydown",function(t){"Escape"===t.key&&i.hide(!1),f&&t.key===f&&t.ctrlKey&&i.hide(o)}),u.on(l,p.onSwipe),u.addClass(h?"md-bottom":p.position.split(" ").map(function(t){return"md-"+t}).join(" ")),p.parent&&p.parent.addClass("md-toast-animating");var f;return t.enter(u,p.parent).then(function(){p.parent&&p.parent.removeClass("md-toast-animating")})},onRemove:function(e,n,o){e.toast&&e.toast.actionKey&&s.off("keydown");n.off(l,o.onSwipe),o.parent&&o.parent.addClass("md-toast-animating");o.openClass&&o.parent.removeClass(o.openClass);return(!0===o.$destroy?n.remove():t.leave(n)).then(function(){o.parent&&o.parent.removeClass("md-toast-animating"),r.hasComputedStyle(o.parent,"position","static")&&o.parent.css("position","")})},toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(t,e){if(e.autoWrap&&t&&!/md-toast-content/g.test(t)){var n=document.createElement("md-template");n.innerHTML=t;for(var o=0;o<n.children.length;o++)if("MD-TOAST"===n.children[o].nodeName){var i=angular.element('<div class="md-toast-content">');i.append(angular.element(n.children[o].childNodes)),n.children[o].appendChild(i[0])}return n.innerHTML}return t||""}}}}t.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"],angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",n)}(),function(){function t(t,e,n,o,i){var r=angular.bind(null,n.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(a,s,l){s.addClass("_md"),o(s),n.nextTick(function(){s.addClass("_md-toolbar-transitions")},!1),angular.isDefined(l.mdScrollShrink)&&function(){var o,c,u=angular.noop,p=0,h=0,d=l.mdShrinkSpeedFactor||.5,f=t.throttle(y),m=n.debounce(b,5e3);a.$on("$mdContentLoaded",g),l.$observe("mdScrollShrink",function(t){var e=s.parent().find("md-content");!c&&e.length&&g(null,e),!1===(t=a.$eval(t))?u():u=v()}),l.ngShow&&a.$watch(l.ngShow,b);l.ngHide&&a.$watch(l.ngHide,b);function g(t,e){e&&s.parent()[0]===e.parent()[0]&&(c&&c.off("scroll",f),c=e,u=v())}function y(t){var a=t?t.target.scrollTop:h;m(),p=Math.min(o/d,Math.max(0,p+a-h)),s.css(e.CSS.TRANSFORM,r([-p*d])),c.css(e.CSS.TRANSFORM,r([(o-p)*d])),h=a,n.nextTick(function(){var t=s.hasClass("md-whiteframe-z1");t&&!p?i.removeClass(s,"md-whiteframe-z1"):!t&&p&&i.addClass(s,"md-whiteframe-z1")})}function v(){return c?(c.on("scroll",f),c.attr("scroll-shrink","true"),n.nextTick(b,!1),function(){c.off("scroll",f),c.attr("scroll-shrink","false"),b()}):angular.noop}function b(){var t=-(o=s.prop("offsetHeight"))*d+"px";c.css({"margin-top":t,"margin-bottom":t}),y()}a.$on("$destroy",u)}()}}}t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t)}(),function(){function e(t,e,n,o,i,r,a,s){var l="focus touchstart mouseenter",c="blur touchcancel mouseleave",u=100,p=0,h="bottom",d={top:{x:a.xPosition.CENTER,y:a.yPosition.ABOVE},right:{x:a.xPosition.OFFSET_END,y:a.yPosition.CENTER},bottom:{x:a.xPosition.CENTER,y:a.yPosition.BELOW},left:{x:a.xPosition.OFFSET_START,y:a.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:function(f,m,g){var y,v,b,w,E,M="md-tooltip-"+r.nextUid(),C=r.getParentWithPointerEvents(m),_=n.throttle(A),x=!1,S=null;function T(){f.mdZIndex=f.mdZIndex||u,f.mdDelay=f.mdDelay||p,d[f.mdDirection]||(f.mdDirection=h)}function k(t){var e=t||i(m.text().trim())(f.$parent);(!C.attr("aria-label")&&!C.attr("aria-labelledby")||C.attr("md-labeled-by-tooltip"))&&(C.attr("aria-label",e),C.attr("md-labeled-by-tooltip")||C.attr("md-labeled-by-tooltip",M))}function A(){T(),w&&w.panelEl&&w.panelEl.removeClass(y),y="md-origin-"+f.mdDirection,v=d[f.mdDirection],b=a.newPanelPosition().relativeTo(C).addPanelPosition(v.x,v.y),w&&w.panelEl&&(w.panelEl.addClass(y),w.updatePosition(b))}function P(e){P.queued&&P.value===!!e||!P.queued&&f.mdVisible===!!e||(P.value=!!e,P.queued||(e?(P.queued=!0,E=t(function(){f.mdVisible=P.value,P.queued=!1,E=null,f.visibleWatcher||D(f.mdVisible)},f.mdDelay)):r.nextTick(function(){f.mdVisible=!1,f.visibleWatcher||D(!1)})))}function D(t){t?function(){if(!m[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!w){var t=angular.element(document.body),e=a.newPanelAnimation().openFrom(C).closeTo(C).withAnimation({open:"md-show",close:"md-hide"}),n={id:M,attachTo:t,contentElement:m,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:e,position:b,zIndex:f.mdZIndex,focusOnOpen:!1,onDomAdded:function(){w.panelEl.addClass(y)}};w=a.create(n)}w.open().then(function(){w.panelEl.attr("role","tooltip")})}():w&&w.close()}T(),k(),m.detach(),A(),function(){if(C[0]&&"MutationObserver"in e){var n=new MutationObserver(function(t){(function(t){return t.some(function(t){return"disabled"===t.attributeName&&C[0].disabled}),!1})(t)&&r.nextTick(function(){P(!1)})});n.observe(C[0],{attributes:!0})}function i(){P(!1)}function a(){S=document.activeElement===C[0]}function u(t){"focus"===t.type&&S?S=!1:f.mdVisible||(C.on(c,p),P(!0),"touchstart"===t.type&&C.one("touchend",function(){r.nextTick(function(){o.one("touchend",p)},!1)}))}function p(){((f.hasOwnProperty("mdAutohide")?f.mdAutohide:g.hasOwnProperty("mdAutohide"))||x||o[0].activeElement!==C[0])&&(E&&(t.cancel(E),P.queued=!1,E=null),C.off(c,p),C.triggerHandler("blur"),P(!1)),x=!1}function h(){x=!0}S=!1,s.register("scroll",i,!0),s.register("blur",a),s.register("resize",_),f.$on("$destroy",function(){s.deregister("scroll",i,!0),s.deregister("blur",a),s.deregister("resize",_),C.off(l,u).off(c,p).off("mousedown",h),p(),n&&n.disconnect()}),C.on("mousedown",h),C.on(l,u)}(),function(){if(m[0]&&"MutationObserver"in e){var t=new MutationObserver(function(t){t.forEach(function(t){"md-visible"!==t.attributeName||f.visibleWatcher||(f.visibleWatcher=f.$watch("mdVisible",D))})});t.observe(m[0],{attributes:!0}),g.hasOwnProperty("mdVisible")&&(f.visibleWatcher=f.$watch("mdVisible",D))}else f.visibleWatcher=f.$watch("mdVisible",D);f.$watch("mdDirection",A),m.one("$destroy",n),C.one("$destroy",n),f.$on("$destroy",function(){P(!1),w&&w.destroy(),t&&t.disconnect(),m.remove()}),m.text().indexOf(i.startSymbol())>-1&&f.$watch(function(){return m.text().trim()},k);function n(){f.$destroy()}}()}}}e.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],angular.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",e).service("$$mdTooltipRegistry",function(){var e={},n=angular.element(t);return{register:function(i,r,a){var s=e[i]=e[i]||[];s.length||(a?t.addEventListener(i,o,!0):n.on(i,o));-1===s.indexOf(r)&&s.push(r)},deregister:function(i,r,a){var s=e[i],l=s?s.indexOf(r):-1;l>-1&&(s.splice(l,1),0===s.length&&(a?t.removeEventListener(i,o,!0):n.off(i,o)))}};function o(t){e[t.type]&&e[t.type].forEach(function(e){e.call(this,t)},this)}})}(),function(){function t(t){t.addClass("md-truncate")}t.$inject=["$element"],angular.module("material.components.truncate",["material.core"]).directive("mdTruncate",function(){return{restrict:"AE",controller:t}})}(),function(){function t(t){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+t[0].innerHTML+"</div></div>"}e.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],o.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],n.$inject=["$parse"],angular.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",function(){return{controller:e,template:t,compile:function(t,e){t.addClass("md-virtual-repeat-container").addClass(e.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}).directive("mdVirtualRepeat",n).directive("mdForceHeight",r);function e(t,e,n,o,i,r,a,s,l){this.$rootScope=i,this.$scope=a,this.$element=s,this.$attrs=l,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=n.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=o(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),angular.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,angular.bind(this,function(t){t!==this.topIndex&&this.scrollToIndex(t)}))):this.topIndex=0,this.scroller=s[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var c=angular.bind(this,this.updateSize);t(angular.bind(this,function(){c();var t=e.debounce(c,10,null,!1),n=angular.element(r);this.size||t(),n.on("resize",t),a.$on("$destroy",function(){n.off("resize",t)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",c)}))}function n(t){return{controller:o,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(e,n){var o=n.mdVirtualRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),i=o[1],r=t(o[2]),a=n.mdExtraName&&t(n.mdExtraName);return function(t,e,n,o,s){o[0].link_(o[1],s,i,r,a)}}}}function o(t,e,n,o,i,r,a,s){this.$scope=t,this.$element=e,this.$attrs=n,this.$browser=o,this.$document=i,this.$mdUtil=s,this.$rootScope=r,this.$$rAF=a,this.onDemand=s.parseAttributeBoolean(n.mdOnDemand),this.browserCheckUrlChange=o.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=t.$eval(n.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=angular.noop,this.blocks={},this.pooledBlocks=[],t.$on("$destroy",angular.bind(this,this.cleanupBlocks_))}function i(t){if(!angular.isFunction(t.getItemAtIndex)||!angular.isFunction(t.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength().");this.model=t}function r(t){return{restrict:"A",link:function(t,e,n){var o=t.$eval(n.mdForceHeight)||null;o&&e&&(e[0].style.height=o)}}}e.prototype.register=function(t){this.repeater=t,angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))},e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.getSize=function(){return this.size},e.prototype.setSize_=function(t){var e=this.getDimensionName_();this.size=t,this.$element[0].style[e]=t+"px"},e.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},e.prototype.updateSize=function(){if(!this.originalSize){var t=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight;t&&(this.size=t),this.handleScroll_(),this.repeater&&this.repeater.containerUpdated()}},e.prototype.getScrollSize=function(){return this.scrollSize},e.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},e.prototype.sizeScroller_=function(t){var e=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",t<this.maxElementPixels)this.sizer.style[e]=t+"px";else{this.sizer.style[e]="auto",this.sizer.style[n]="auto";var o=Math.floor(t/this.maxElementPixels),i=document.createElement("div");i.style[e]=this.maxElementPixels+"px",i.style[n]="1px";for(var r=0;r<o;r++)this.sizer.appendChild(i.cloneNode(!1));i.style[e]=t-o*this.maxElementPixels+"px",this.sizer.appendChild(i)}},e.prototype.autoShrink_=function(t){var e=Math.max(t,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&e!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||e<n)this.originalSize||(this.originalSize=this.size),this.setSize_(e);else if(null!==this.originalSize){this.unsetSize_();var o=this.originalSize;this.originalSize=null,o||this.updateSize(),this.setSize_(o||this.size)}this.repeater.containerUpdated()}},e.prototype.setScrollSize=function(t){var e=t+this.offsetSize;this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},e.prototype.getScrollOffset=function(){return this.scrollOffset},e.prototype.scrollTo=function(t){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=t,this.handleScroll_()},e.prototype.scrollToIndex=function(t){var e=this.repeater.getItemSize(),n=this.repeater.itemsLength;t>n&&(t=n-1),this.scrollTo(e*t)},e.prototype.resetScroll=function(){this.scrollTo(0)},e.prototype.handleScroll_=function(){var t="rtl"!==document.dir&&"rtl"!==document.body.dir;t||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var e=this.isHorizontal()?t?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(this.scrollSize<this.size)&&(e>this.scrollSize-this.size&&(e=this.scrollSize-this.size),e!==this.scrollOffset)){var n=this.repeater.getItemSize();if(n){var o=Math.max(0,Math.floor(e/n)-3),i=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||t?o*n:-o*n)+"px)";if(this.scrollOffset=e,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var r=Math.floor(e/n);r!==this.topIndex&&r<this.repeater.getItemCount()&&(this.topIndex=r,this.bindTopIndex.assign(this.$scope,r),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.Block,o.prototype.link_=function(t,e,n,o,i){this.container=t,this.transclude=e,this.repeatName=n,this.rawRepeatListExpression=o,this.extraName=i,this.sized=!1,this.repeatListExpression=angular.bind(this,this.repeatListExpression_),this.container.register(this)},o.prototype.cleanupBlocks_=function(){angular.forEach(this.pooledBlocks,function(t){t.element.remove()})},o.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var t=this.getBlock_(0);t.element[0].parentNode||this.parentNode.appendChild(t.element[0]),this.itemSize=t.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=t,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},o.prototype.repeatListExpression_=function(t){var e=this.rawRepeatListExpression(t);if(this.onDemand&&e){var n=new i(e);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return e},o.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==angular.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(t){t&&t.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(t,e){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(t,e)}))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof i&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},o.prototype.getItemSize=function(){return this.itemSize},o.prototype.getItemCount=function(){return this.itemsLength},o.prototype.virtualRepeatUpdate_=function(t,e){this.isVirtualRepeatUpdating_=!0;var n=t&&t.length||0,o=!1;if(this.items&&n<this.items.length&&0!==this.container.getScrollOffset()){this.items=t;var i=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(i)}n!==this.itemsLength&&(o=!0,this.itemsLength=n),this.items=t,(t!==e||o)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,o&&this.container.setScrollSize(n*this.itemSize),Object.keys(this.blocks).forEach(function(t){var e=parseInt(t,10);(e<this.newStartIndex||e>=this.newEndIndex)&&this.poolBlock_(e)},this),this.$browser.$$checkUrlChange=angular.noop;var r,a,s=[],l=[];for(r=this.newStartIndex;r<this.newEndIndex&&null==this.blocks[r];r++)a=this.getBlock_(r),this.updateBlock_(a,r),s.push(a);for(;null!=this.blocks[r];r++)this.updateBlock_(this.blocks[r],r);for(var c=r-1;r<this.newEndIndex;r++)a=this.getBlock_(r),this.updateBlock_(a,r),l.push(a);if(s.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(s),this.$element[0].nextSibling),l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.blocks[c]&&this.blocks[c].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var u=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(u)}.bind(this))}this.isVirtualRepeatUpdating_=!1},o.prototype.getBlock_=function(t){return this.pooledBlocks.length?this.pooledBlocks.pop():(this.transclude(angular.bind(this,function(n,o){e={element:n,new:!0,scope:o},this.updateScope_(o,t),this.parentNode.appendChild(n[0])})),e);var e},o.prototype.updateBlock_=function(t,e){this.blocks[e]=t,(t.new||t.scope.$index!==e||t.scope[this.repeatName]!==this.items[e])&&(t.new=!1,this.updateScope_(t.scope,e),this.$rootScope.$$phase||t.scope.$digest())},o.prototype.updateScope_=function(t,e){t.$index=e,t[this.repeatName]=this.items&&this.items[e],this.extraName&&(t[this.extraName(this.$scope)]=this.items[e])},o.prototype.poolBlock_=function(t){this.pooledBlocks.push(this.blocks[t]),this.parentNode.removeChild(this.blocks[t].element[0]),delete this.blocks[t]},o.prototype.domFragmentFromBlocks_=function(t){var e=this.$document[0].createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element[0])}),e},o.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,e=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-e,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+e+3,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},i.prototype.$$includeIndexes=function(t,e){for(var n=t;n<e;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},r.$inject=["$mdUtil"]}(),function(){function t(t){var e=-1,n=1,o=24,i=4;return{link:function(r,a,s){var l="";s.$observe("mdWhiteframe",function(r){(r=parseInt(r,10)||i)!=e&&(r>o||r<n)&&(t.warn("md-whiteframe attribute value is invalid. It should be a number between "+n+" and "+o,a[0]),r=i);var c=r==e?"":"md-whiteframe-"+r+"dp";s.$updateClass(c,l),l=c})}}}t.$inject=["$log"],angular.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",t)}(),angular.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-hue-1}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-hue-2}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}md-autocomplete.md-THEME_NAME-theme input{color:"{{foreground-1}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused .md-input{border-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused md-icon{color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-container{background-color:"{{accent-100}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-bar{background-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused .md-input{border-color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused md-icon{color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-container{background-color:"{{warn-100}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-bar{background-color:"{{warn-color}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme,.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-hue-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme li,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{foreground-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme li#selected_option,.md-autocomplete-standard-list-container.md-THEME_NAME-theme li:hover,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li#selected_option,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-500-0.18}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-color}}";border-top-color:"{{background-hue-3}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-color}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-THEME_NAME-theme .md-calendar{background:"{{background-hue-1}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar tr:last-child td{border-bottom-color:"{{background-hue-2}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-500-0.32}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-500-0.32}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-calendar-month-label md-icon,.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-hue-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{foreground-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{foreground-3}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{foreground-4}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-1}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu>button{color:"{{foreground-1}}"}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.18}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button[disabled]{color:"{{foreground-3}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused.ng-empty>md-radio-button:first-child .md-container:before{background-color:"{{foreground-3-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value{border-color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value span{color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value{border-color:"{{warn-A700}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value span{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{foreground-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{foreground-3}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background-color:"{{background-500-0.18}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{foreground-1}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-focused:not(.md-checked) .md-thumb:before,md-switch.md-THEME_NAME-theme.md-focused[disabled] .md-thumb:before{background-color:"{{foreground-4}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}(window,window.angular),window.ngMaterial={version:{full:"1.1.14"}}},{}],53:[function(t,e,n){t("angular"),t("angular-animate"),t("angular-aria"),t("./angular-material"),e.exports="ngMaterial"},{"./angular-material":52,angular:59,"angular-animate":44,"angular-aria":46}],54:[function(t,e,n){!function(t,angular){"use strict";var e,n,o,i,r,a,s,l,c,u,p=angular.$$minErr("$sanitize");angular.module("ngSanitize",[]).provider("$sanitize",function(){var h=!1,d=!1;this.$get=["$$sanitizeUri",function(t){return h=!0,d&&n(_,M),function(e){var n=[];return c(e,u(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return r(t)?(d=t,this):d},this.addValidElements=function(t){return h||(i(t)&&(t={htmlElements:t}),D(M,t.svgElements),D(g,t.htmlVoidElements),D(_,t.htmlVoidElements),D(_,t.htmlElements)),this},this.addValidAttrs=function(t){return h||n(k,P(t,!0)),this},e=angular.bind,n=angular.extend,o=angular.forEach,i=angular.isArray,r=angular.isDefined,a=angular.$$lowercase,s=angular.noop,c=function(t,e){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);var n=I(t);if(!n)return"";var o=5;do{if(0===o)throw p("uinput","Failed to sanitize html because the input is unstable");o--,t=n.innerHTML,n=I(t)}while(t!==n.innerHTML);for(var i=n.firstChild;i;){switch(i.nodeType){case 1:e.start(i.nodeName.toLowerCase(),O(i.attributes));break;case 3:e.chars(i.textContent)}var r;if(!((r=i.firstChild)||(1===i.nodeType&&e.end(i.nodeName.toLowerCase()),r=R("nextSibling",i))))for(;null==r&&(i=R("parentNode",i))!==n;)r=R("nextSibling",i),1===i.nodeType&&e.end(i.nodeName.toLowerCase());i=r}for(;i=n.firstChild;)n.removeChild(i)},u=function(t,n){var i=!1,r=e(t,t.push);return{start:function(t,e){t=a(t),!i&&C[t]&&(i=t),i||!0!==_[t]||(r("<"),r(t),o(e,function(e,o){var i=a(o),s="img"===t&&"src"===i||"background"===i;!0!==k[i]||!0===x[i]&&!n(e,s)||(r(" "),r(o),r('="'),r(N(e)),r('"'))}),r(">"))},end:function(t){t=a(t),i||!0!==_[t]||!0===g[t]||(r("</"),r(t),r(">")),t==i&&(i=!1)},chars:function(t){i||r(N(t))}}},l=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g,g=A("area,br,col,hr,img,wbr"),y=A("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=A("rp,rt"),b=n({},v,y),w=n({},y,A("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),E=n({},v,A("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),M=A("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=A("script,style"),_=n({},g,w,E,b),x=A("background,cite,href,longdesc,src,xlink:href,xml:base"),S=A("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),T=A("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),k=n({},x,T,S);function A(t,e){return P(t.split(","),e)}function P(t,e){var n,o={};for(n=0;n<t.length;n++)o[e?a(t[n]):t[n]]=!0;return o}function D(t,e){e&&e.length&&n(t,P(e))}var I=function(t,e){var n;if(!e||!e.implementation)throw p("noinert","Can't create an inert html document");var o=((n=e.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return o.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',o.querySelector("svg")?(o.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',o.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var n=(new t.DOMParser).parseFromString(e,"text/html").body;return n.firstChild.remove(),n}catch(t){return}}:function(t){return o.innerHTML=t,e.documentMode&&L(o),o}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(t){return}var n=new t.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null);var o=n.response.body;return o.firstChild.remove(),o}}(t,t.document);function O(t){for(var e={},n=0,o=t.length;n<o;n++){var i=t[n];e[i.name]=i.value}return e}function N(t){return t.replace(/&/g,"&amp;").replace(f,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(m,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,o=0,i=n.length;o<i;o++){var r=n[o],a=r.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(e.removeAttributeNode(r),o--,i--)}var s=e.firstChild;s&&L(s),e=R("nextSibling",e)}}function R(t,e){var n=e[t];if(n&&l.call(e,n))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}}).info({angularVersion:"1.7.8"}),angular.module("ngSanitize").filter("linky",["$sanitize",function(t){var e=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i,o=angular.$$minErr("linky"),i=angular.isDefined,r=angular.isFunction,a=angular.isObject,l=angular.isString;return function(c,p,h){if(null==c||""===c)return c;if(!l(c))throw o("notstring","Expected string but received: {0}",c);for(var d,f,m,g=r(h)?h:a(h)?function(){return h}:function(){return{}},y=c,v=[];d=y.match(e);)f=d[0],d[2]||d[4]||(f=(d[3]?"http://":"mailto:")+f),m=d.index,b(y.substr(0,m)),w(f,d[0].replace(n,"")),y=y.substring(m+d[0].length);return b(y),t(v.join(""));function b(t){var e,n;t&&v.push((e=t,u(n=[],s).chars(e),n.join("")))}function w(t,e){var n,o=g(t);for(n in v.push("<a "),o)v.push(n+'="'+o[n]+'" ');!i(p)||"target"in o||v.push('target="',p,'" '),v.push('href="',t.replace(/"/g,"&quot;"),'">'),b(e),v.push("</a>")}}}])}(window,window.angular)},{}],55:[function(t,e,n){t("./angular-sanitize"),e.exports="ngSanitize"},{"./angular-sanitize":54}],56:[function(t,e,n){!function(angular){"use strict";var t=["facebook","facebook-messenger","sms","twitter","linkedin","google","pinterest","tumblr","reddit","stumbleupon","buffer","digg","delicious","vk","pocket","wordpress","flipboard","xing","hackernews","evernote","whatsapp","telegram","viber","skype","email","ok","weibo"],e=function(t,e){var n;e.socialshareType&&"feed"===e.socialshareType?(n="https://www.facebook.com/dialog/feed?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&link="+encodeURIComponent(e.socialshareUrl)),e.socialshareTo&&(n+="&to="+encodeURIComponent(e.socialshareTo)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),e.socialshareRef&&(n+="&ref="+encodeURIComponent(e.socialshareRef)),e.socialshareFrom&&(n+="&from="+encodeURIComponent(e.socialshareFrom)),e.socialshareSource&&(n+="&source="+encodeURIComponent(e.socialshareSource)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):e.socialshareType&&"share"===e.socialshareType?(n="https://www.facebook.com/dialog/share?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&href="+encodeURIComponent(e.socialshareUrl)),e.socialshareQuote&&(n+="&quote="+encodeURIComponent(e.socialshareQuote)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),e.socialshareMobileiframe&&(n+="&mobile_iframe="+encodeURIComponent(e.socialshareMobileiframe)),e.socialshareHashtags&&(n+="&hashtag="+encodeURIComponent(e.socialshareHashtags)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):e.socialshareType&&"send"===e.socialshareType?(n="https://www.facebook.com/dialog/send?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&link="+encodeURIComponent(e.socialshareUrl)),e.socialshareTo&&(n+="&to="+encodeURIComponent(e.socialshareTo)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):t.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.socialshareUrl||t.location.href),"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},n=function(t,e){var n="mailto:";e.socialshareTo&&(n+=encodeURIComponent(e.socialshareTo)),n+="?",e.socialshareBody&&(n+="body="+encodeURIComponent(e.socialshareBody)),e.socialshareSubject&&(n+="&subject="+encodeURIComponent(e.socialshareSubject)),e.socialshareCc&&(n+="&cc="+encodeURIComponent(e.socialshareCc)),e.socialshareBcc&&(n+="&bcc="+encodeURIComponent(e.socialshareBcc)),t.self!==t.top?t.open(n,"_blank"):t.open(n,"_self")},o=function(t,e){var n="https://www.twitter.com/intent/tweet?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)),e.socialshareVia&&(n+="&via="+encodeURIComponent(e.socialshareVia)),e.socialshareHashtags&&(n+="&hashtags="+encodeURIComponent(e.socialshareHashtags)),n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Twitter","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},i=function(t,e){t.open("https://plus.google.com/share?url="+encodeURIComponent(e.socialshareUrl||t.location.href),"Google+","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},r=function(t,e){var n="https://www.reddit.com/";e.socialshareSubreddit?n+="r/"+e.socialshareSubreddit+"/submit?url=":n+="submit?url=",e.socialsharePopupWidth<900&&(e.socialsharePopupWidth=900),e.socialsharePopupHeight<650&&(e.socialsharePopupHeight=650),t.open(n+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Reddit","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},a=function(t,e){t.open("https://www.stumbleupon.com/submit?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"StumbleUpon","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},s=function(t,e){var n="https://www.linkedin.com/shareArticle?mini=true";n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),e.socialshareDescription&&(n+="&summary="+encodeURIComponent(e.socialshareDescription)),e.socialshareSource&&(n+="&source="+encodeURIComponent(e.socialshareSource)),t.open(n,"Linkedin","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},l=function(t,e){t.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&media="+encodeURIComponent(e.socialshareMedia)+"&description="+encodeURIComponent(e.socialshareText),"Pinterest","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},c=function(t,e){t.open("https://www.digg.com/submit?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Digg","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},u=function(t,e){if(e.socialshareMedia){var n="https://www.tumblr.com/share/photo?source="+encodeURIComponent(e.socialshareMedia);e.socialshareText&&(n+="&caption="+encodeURIComponent(e.socialshareText)),t.open(n,"Tumblr","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)}else t.open("https://www.tumblr.com/share/link?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&description="+encodeURIComponent(e.socialshareText),"Tumblr","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},p=function(t,e){var n="https://www.vk.com/share.php?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),e.socialshareMedia&&(n+="&image="+encodeURIComponent(e.socialshareMedia)),e.socialshareDescription&&(n+="&description="+encodeURIComponent(e.socialshareDescription)),t.open(n,"Vk","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},h=function(t,e){t.open("http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&st.comments="+encodeURIComponent(e.socialshareText),"Ok","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},d=function(t,e){t.open("https://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Delicious","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},f=function(t,e){var n="https://bufferapp.com/add?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)),e.socialshareVia&&(n+="&via="+encodeURIComponent(e.socialshareVia)),e.socialshareMedia&&(n+="&picture="+encodeURIComponent(e.socialshareMedia)),n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Buffer","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},m=function(t,e){var n="https://news.ycombinator.com/submitlink?";e.socialshareText&&(n+="t="+encodeURIComponent(e.socialshareText)+"&"),n+="u="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Hackernews","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},g=function(t,e){var n="https://share.flipboard.com/bookmarklet/popout?v=2&";e.socialshareText&&(n+="title="+encodeURIComponent(e.socialshareText)+"&"),n+="url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Flipboard","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},y=function(t,e){var n="https://getpocket.com/save?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)+"&"),n+="url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Pocket","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},v=function(t,e){var n="http://wordpress.com/press-this.php?";e.socialshareText&&(n+="t="+encodeURIComponent(e.socialshareText)+"&"),e.socialshareMedia&&(n+="i="+encodeURIComponent(e.socialshareMedia)+"&"),n+="u="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Wordpress","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},b=function(t,e){var n="";e.socialshareFollow&&(n="&follow_url="+encodeURIComponent(e.socialshareFollow)),t.open("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+n,"Xing","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},w=function(t,e){var n="http://www.evernote.com/clip.action?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),t.open(n,"Evernote","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},E=function(t,e,n){e.socialshareText.indexOf("%")>=0&&$log.warn('sending sms text with "%" sign is not supported');var o,i=encodeURIComponent(e.socialshareText.replace("%","")),r=e.socialshareTo||"";e.socialshareUrl&&(i+=encodeURIComponent(e.socialshareUrl)),o="sms:"+r+"?&body="+i,n.attr("href",o),n.attr("target","_blank")},M=function(t,e){var n="https://telegram.me/share/url?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&text="+encodeURIComponent(e.socialshareText)),t.open(n,"Telegram","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},C=function(t,e){var n="https://web.skype.com/share?source=button&url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&text="+encodeURIComponent(e.socialshareText)),t.open(n,"Skype","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},_=function(t,e){var n="http://service.weibo.com/share/share.php?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),t.open(n,"Weibo","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},x=["$window","$log",function(t,x){this.emailShare=n,this.facebookShare=e,this.twitterShare=o,this.stumbleuponShare=a,this.pinterestShare=l,this.googleShare=i,this.bufferShare=f,this.hackernewsShare=m,this.okShare=h,this.deliciousShare=d,this.pocketShare=y,this.vkShare=p,this.flipboardShare=g,this.xingShare=b,this.diggShare=c,this.linkedinShare=s,this.wordpressShare=v,this.telegramShare=M,this.redditShare=r,this.evernoteShare=w,this.tumblrShare=u,this.skypeShare=C,this.smsShare=E,this.weiboShare=_,this.share=function(e){switch(e.provider){case"email":this.emailShare(t,e.attrs);break;case"sms":this.smsShare(t,x,e.attrs);break;case"facebook":this.facebookShare(t,e.attrs);break;case"twitter":this.twitterShare(t,e.attrs);break;case"pinterest":this.pinterestShare(t,e.attrs);break;case"ok":this.okShare(t,e.attrs);break;case"vk":this.vkShare(t,e.attrs);break;case"delicious":this.deliciousShare(t,e.attrs);break;case"digg":this.diggShare(t,e.attrs);break;case"google":this.googleShare(t,e.attrs);break;case"reddit":this.redditShare(t,e.attrs);break;case"hackernews":this.hackernewsShare(t,e.attrs);break;case"skype":this.skypeShare(t,e.attrs);break;case"evernote":this.evernoteShare(t,e.attrs);break;case"pocket":this.pocketShare(t,e.attrs);break;case"tumblr":this.tumblrShare(t,e.attrs);break;case"telegram":this.telegramShare(t,e.attrs);break;case"xing":this.xingShare(t,e.attrs);break;case"buffer":this.bufferShare(t,e.attrs);break;case"stumbleupon":this.stumbleuponShare(t,e.attrs);break;case"linkedin":this.linkedinShare(t,e.attrs);break;case"wordpress":this.wordpressShare(t,e.attrs);break;case"flipboard":this.flipboardShare(t,e.attrs);break;case"weibo":this.weiboShare(t,e.attrs);break;default:return}}}],S=["$window","socialshareConf","Socialshare","$log",function(e,n,o){return{restrict:"A",link:function(i,r,a){for(var s,l=0,c=function(){if(!(a.socialshareProvider in T))return!0;T[a.socialshareProvider](e,a,r)};l<n.length;l+=1)if(n[l].provider===a.socialshareProvider){s=n[l];break}-1===t.indexOf(s.provider)&&o.warn("Invalid Provider Name : "+a.socialshareProvider),a.socialshareMobileiframe=a.socialshareMobileiframe||s.conf.mobile_iframe,a.socialshareQuote=a.socialshareQuote||s.conf.quote,a.socialshareTitle=a.socialshareTitle||s.conf.title,a.socialshareUrl=a.socialshareUrl||s.conf.url||s.conf.href,a.socialshareText=a.socialshareText||s.conf.text,a.socialshareMedia=a.socialshareMedia||s.conf.media,a.socialshareType=a.socialshareType||s.conf.type,a.socialshareVia=a.socialshareVia||s.conf.via,a.socialshareTo=a.socialshareTo||s.conf.to,a.socialshareFrom=a.socialshareFrom||s.conf.from,a.socialshareRef=a.socialshareRef||s.conf.ref,a.socialshareDislay=a.socialshareDislay||s.conf.display,a.socialshareSource=a.socialshareSource||s.conf.source,a.socialshareCaption=a.socialshareCaption||s.conf.caption,a.socialshareRedirectUri=a.socialshareRedirectUri||s.conf.redirectUri,a.socialshareTrigger=a.socialshareTrigger||s.conf.trigger,a.socialsharePopupHeight=a.socialsharePopupHeight||s.conf.popupHeight,a.socialsharePopupWidth=a.socialsharePopupWidth||s.conf.popupWidth,a.socialshareSubreddit=a.socialshareSubreddit||s.conf.subreddit,a.socialshareDescription=a.socialshareDescription||s.conf.description,a.socialshareFollow=a.socialshareFollow||s.conf.follow,a.socialshareHashtags=a.socialshareHashtags||s.conf.hashtags,a.socialshareBody=a.socialshareBody||s.conf.body,a.socialshareSubject=a.socialshareSubject||s.conf.subject,a.socialshareCc=a.socialshareCc||s.conf.cc,a.socialshareBcc=a.socialshareBcc||s.conf.bcc,a.socialshareTrigger?r.bind(a.socialshareTrigger,c):c()}}}],T={email:n,facebook:e,"facebook-messenger":function(t,e,n){var o="fb-messenger://share?link="+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",o),n.attr("target","_top")},twitter:o,google:i,reddit:r,stumbleupon:a,linkedin:s,pinterest:l,digg:c,tumblr:u,vk:p,ok:h,delicious:d,buffer:f,hackernews:m,flipboard:g,pocket:y,wordpress:v,xing:b,evernote:w,whatsapp:function(t,e,n){var o="whatsapp://send?text="+encodeURIComponent(e.socialshareText)+"%0A"+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",o),n.attr("target","_top")},sms:E,telegram:M,viber:function(t,e,n){var o="viber://forward?text="+encodeURIComponent(e.socialshareText)+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",o),n.attr("target","_top")},skype:C,weibo:_};angular.module("720kb.socialshare",[]).provider("socialshareConf",function(){var e=[{provider:"email",conf:{subject:"",body:"",to:"",cc:"",bcc:"",trigger:"click"}},{provider:"facebook",conf:{url:"",title:"",href:"",quote:"",hashtags:"",text:"",media:"",mobile_iframe:"",type:"",via:"",to:"",from:"",ref:"",display:"",source:"",caption:"",redirectUri:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"facebook-messenger",conf:{url:""}},{provider:"twitter",conf:{url:"",text:"",via:"",hashtags:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"linkedin",conf:{url:"",text:"",description:"",source:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"reddit",conf:{url:"",text:"",subreddit:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"vk",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"ok",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"digg",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"delicious",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"stumbleupon",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pinterest",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"google",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"tumblr",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"buffer",conf:{url:"",text:"",via:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pocket",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"flipboard",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"hackernews",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"wordpress",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"xing",conf:{url:"",text:"",media:"",follow:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"evernote",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"whatsapp",conf:{url:"",text:""}},{provider:"sms",conf:{url:"",text:"",to:"",trigger:"click"}},{provider:"telegram",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"viber",conf:{url:"",text:""}},{provider:"skype",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"weibo",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}}];return{configure:function(n){var o,i,r,a,s=0,l=0,c=angular.injector(["ng"]).get("$log");if(n&&n.length>0)for(;s<n.length;s+=1)if(n[s].provider&&t.indexOf(n[s].provider)>-1){for(;l<e.length;l+=1)if((a=e[l])&&a.provider&&n[s].provider===a.provider){for(o=Object.keys(a.conf),i=0;i<o.length;i+=1)(r=o[i])&&n[s].conf[r]&&(a.conf[r]=n[s].conf[r]);l=0;break}}else c.warn("Invalid provider at element "+s+" with name:"+n[s].provider)},$get:function(){return e}}}).service("Socialshare",x).directive("socialshare",S)}(angular)},{}],57:[function(t,e,n){!function(t,e){"use strict";t("./dist/angular-socialshare"),e.exports="720kb.socialshare"}(t,e)},{"./dist/angular-socialshare":56}],58:[function(t,e,n){!function(t){"use strict";var e={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(t){if(!U(t))return e;F(t.objectMaxDepth)&&(e.objectMaxDepth=o(t.objectMaxDepth)?t.objectMaxDepth:NaN),F(t.urlErrorParamsEnabled)&&Z(t.urlErrorParamsEnabled)&&(e.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function o(t){return B(t)&&t>0}function i(t,n){n=n||Error;var o="https://errors.angularjs.org/1.7.8/",i=o.replace(".","\\.")+"[\\s\\S]*",r=new RegExp(i,"g");return function(){var i,a,s=arguments[0],l=arguments[1],c="["+(t?t+":":"")+s+"] ",u=ht(arguments,2).map(function(t){return Gt(t,e.objectMaxDepth)});if(c+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<u.length?u[e].replace(r,""):t}),c+="\n"+o+(t?t+"/":"")+s,e.urlErrorParamsEnabled)for(a=0,i="?";a<u.length;a++,i="&")c+=i+"p"+a+"="+encodeURIComponent(u[a]);return new n(c)}}var r,a,s,l,c=/^\/(.+)\/([a-z]*)$/,u="validity",p=Object.prototype.hasOwnProperty,h=function(t){return V(t)?t.toLowerCase():t},d=function(t){return V(t)?t.toUpperCase():t},f=[].slice,m=[].splice,g=[].push,y=Object.prototype.toString,v=Object.getPrototypeOf,b=i("ng"),angular=t.angular||(t.angular={}),w=0;function E(t){if(null==t||K(t))return!1;if(W(t)||V(t)||a&&t instanceof a)return!0;var e="length"in Object(t)&&t.length;return B(e)&&(e>=0&&e-1 in t||"function"==typeof t.item)}function M(t,e,n){var o,i;if(t)if(G(t))for(o in t)"prototype"!==o&&"length"!==o&&"name"!==o&&t.hasOwnProperty(o)&&e.call(n,t[o],o,t);else if(W(t)||E(t)){var r="object"!=typeof t;for(o=0,i=t.length;o<i;o++)(r||o in t)&&e.call(n,t[o],o,t)}else if(t.forEach&&t.forEach!==M)t.forEach(e,n,t);else if(H(t))for(o in t)e.call(n,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t);else for(o in t)p.call(t,o)&&e.call(n,t[o],o,t);return t}function C(t,e,n){for(var o=Object.keys(t).sort(),i=0;i<o.length;i++)e.call(n,t[o[i]],o[i]);return o}function _(t){return function(e,n){t(n,e)}}function x(){return++w}function S(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function T(t,e,n){for(var o=t.$$hashKey,i=0,r=e.length;i<r;++i){var a=e[i];if(U(a)||G(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],p=a[u];n&&U(p)?q(p)?t[u]=new Date(p.valueOf()):Y(p)?t[u]=new RegExp(p):p.nodeName?t[u]=p.cloneNode(!0):nt(p)?t[u]=p.clone():(U(t[u])||(t[u]=W(p)?[]:{}),T(t[u],[p],!0)):t[u]=p}}return S(t,o),t}function k(t){return T(t,f.call(arguments,1),!1)}function A(t){return T(t,f.call(arguments,1),!0)}function P(t){return parseInt(t,10)}r=t.document.documentMode;var D=Number.isNaN||function(t){return t!=t};function I(t,e){return k(Object.create(t),e)}function O(){}function N($){return $}function L(t){return function(){return t}}function R(t){return G(t.toString)&&t.toString!==y}function j(t){return void 0===t}function F(t){return void 0!==t}function U(t){return null!==t&&"object"==typeof t}function H(t){return null!==t&&"object"==typeof t&&!v(t)}function V(t){return"string"==typeof t}function B(t){return"number"==typeof t}function q(t){return"[object Date]"===y.call(t)}function W(t){return Array.isArray(t)||t instanceof Array}function z(t){switch(y.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function G(t){return"function"==typeof t}function Y(t){return"[object RegExp]"===y.call(t)}function K(t){return t&&t.window===t}function X(t){return t&&t.$evalAsync&&t.$watch}function Z(t){return"boolean"==typeof t}function J(t){return t&&G(t.then)}O.$inject=[],N.$inject=[];var Q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var tt=function(t){return V(t)?t.trim():t},et=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function nt(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function ot(t){return h(t.nodeName||t[0]&&t[0].nodeName)}function it(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function rt(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function at(t,e,n){var i,r,a=[],s=[];if(n=o(n)?n:NaN,e){if((r=e)&&B(r.length)&&Q.test(y.call(r))||(i=e,"[object ArrayBuffer]"===y.call(i)))throw b("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw b("cpi","Can't copy! Source and destination are identical.");return W(e)?e.length=0:M(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),s.push(e),l(t,e,n)}return c(t,n);function l(t,e,n){if(--n<0)return"...";var o,i=e.$$hashKey;if(W(t))for(var r=0,a=t.length;r<a;r++)e.push(c(t[r],n));else if(H(t))for(o in t)e[o]=c(t[o],n);else if(t&&"function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&(e[o]=c(t[o],n));else for(o in t)p.call(t,o)&&(e[o]=c(t[o],n));return S(e,i),e}function c(t,e){if(!U(t))return t;var n=a.indexOf(t);if(-1!==n)return s[n];if(K(t)||X(t))throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var o=!1,i=function(t){switch(y.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(c(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(G(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=W(t)?[]:Object.create(v(t)),o=!0),a.push(t),s.push(i),o?l(t,i,e):i}}function st(t,e){return t===e||t!=t&&e!=e}function lt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,o,i,r=typeof t;if(r===typeof e&&"object"===r){if(!W(t)){if(q(t))return!!q(e)&&st(t.getTime(),e.getTime());if(Y(t))return!!Y(e)&&t.toString()===e.toString();if(X(t)||X(e)||K(t)||K(e)||W(e)||q(e)||Y(e))return!1;for(o in i=Ft(),t)if("$"!==o.charAt(0)&&!G(t[o])){if(!lt(t[o],e[o]))return!1;i[o]=!0}for(o in e)if(!(o in i)&&"$"!==o.charAt(0)&&F(e[o])&&!G(e[o]))return!1;return!0}if(!W(e))return!1;if((n=t.length)===e.length){for(o=0;o<n;o++)if(!lt(t[o],e[o]))return!1;return!0}}return!1}var ct=function(){if(!F(ct.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ct.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ct.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ct.rules},ut=function(){if(F(ut.name_))return ut.name_;var e,n,o,i,r=xt.length;for(n=0;n<r;++n)if(o=xt[n],e=t.document.querySelector("["+o.replace(":","\\:")+"jq]")){i=e.getAttribute(o+"jq");break}return ut.name_=i};function pt(t,e,n){return t.concat(f.call(e,n))}function ht(t,e){return f.call(t,e||0)}function dt(t,e){var n=arguments.length>2?ht(arguments,2):[];return!G(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,pt(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function ft(e,n){var o=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=void 0:K(n)?o="$WINDOW":n&&t.document===n?o="$DOCUMENT":X(n)&&(o="$SCOPE"),o}function mt(t,e){if(!j(t))return B(e)||(e=e?2:null),JSON.stringify(t,ft,e)}function gt(t){return V(t)?JSON.parse(t):t}var yt=/:/g;function vt(t,e){t=t.replace(yt,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return D(n)?e:n}function bt(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function wt(t,e,n){n=n?-1:1;var o=t.getTimezoneOffset();return bt(t,n*(vt(e,o)-o))}function Et(t){t=a(t).clone().empty();var e=a("<div></div>").append(t).html();try{return t[0].nodeType===Vt?h(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+h(e)})}catch(t){return h(e)}}function Mt(t){try{return decodeURIComponent(t)}catch(t){}}function $t(t){var e={};return M((t||"").split("&"),function(t){var n,o,i;t&&(o=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(o=t.substring(0,n),i=t.substring(n+1)),F(o=Mt(o))&&(i=!F(i)||Mt(i),p.call(e,o)?W(e[o])?e[o].push(i):e[o]=[e[o],i]:e[o]=i))}),e}function Ct(t){return _t(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function _t(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var xt=["ng-","data-ng-","ng:","x-ng-"];var St=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var o=n.attributes;return[o.getNamedItem("src"),o.getNamedItem("href"),o.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document);function Tt(e,n){var o,i,r={};if(M(xt,function(t){var n=t+"app";!o&&e.hasAttribute&&e.hasAttribute(n)&&(o=e,i=e.getAttribute(n))}),M(xt,function(t){var n,r=t+"app";!o&&(n=e.querySelector("["+r.replace(":","\\:")+"]"))&&(o=n,i=n.getAttribute(r))}),o){if(!St)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");r.strictDi=null!==function(t,e){var n,o,i=xt.length;for(o=0;o<i;++o)if(n=xt[o]+e,V(n=t.getAttribute(n)))return n;return null}(o,"strict-di"),n(o,i?[i]:[],r)}}function kt(e,n,o){U(o)||(o={});o=k({strictDi:!1},o);var i=function(){if((e=a(e)).injector()){var i=e[0]===t.document?"document":Et(e);throw b("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),o.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var r=Ze(n,o.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,o){t.$apply(function(){e.data("$injector",o),n(e)(t)})}]),r},r=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&r.test(t.name)&&(o.debugInfoEnabled=!0,t.name=t.name.replace(r,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),angular.resumeBootstrap=function(t){return M(t,function(t){n.push(t)}),i()},G(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()}function At(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Pt(t){var e=angular.element(t).injector();if(!e)throw b("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Dt=/[A-Z]/g;function It(t,e){return e=e||"_",t.replace(Dt,function(t,n){return(n?e:"")+t.toLowerCase()})}var Ot=!1;function Nt(t,e,n){if(!t)throw b("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function Lt(t,e,n){return n&&W(t)&&(t=t[t.length-1]),Nt(G(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Rt(t,e){if("hasOwnProperty"===t)throw b("badname","hasOwnProperty is not a valid {0} name",e)}function jt(t){for(var e,n=t[0],o=t[t.length-1],i=1;n!==o&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=a(f.call(t,0,i))),e.push(n));return e||t}function Ft(){return Object.create(null)}function Ut(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!R(t)||W(t)||q(t)?mt(t):t.toString()}return t}var Ht=1,Vt=3,Bt=8,qt=9,Wt=11;function zt(t,e){if(W(t)){e=e||[];for(var n=0,o=t.length;n<o;n++)e[n]=t[n]}else if(U(t))for(var i in e=e||{},t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function Gt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):j(t)?"undefined":"string"!=typeof t?function(t,e){var n=[];return o(e)&&(t=angular.copy(t,null,e)),JSON.stringify(t,function(t,e){if(U(e=ft(t,e))){if(n.indexOf(e)>=0)return"...";n.push(e)}return e})}(t,e):t}var Yt={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};he.expando="ng339";var Kt=he.cache={},Xt=1;he._data=function(t){return this.cache[t[this.expando]]||{}};var Zt=/-([a-z])/g,Jt=/^-ms-/,Qt={mouseleave:"mouseout",mouseenter:"mouseover"},te=i("jqLite");function ee(t,e){return e.toUpperCase()}function ne(t){return t.replace(Zt,ee)}var oe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ie=/<|&#?\w+;/,re=/<([\w:-]+)/,ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,se={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(t){return!ie.test(t)}function ce(t){var e=t.nodeType;return e===Ht||!e||e===qt}function ue(t,e){var n,o,i,r,a=e.createDocumentFragment(),s=[];if(le(t))s.push(e.createTextNode(t));else{for(n=a.appendChild(e.createElement("div")),o=(re.exec(t)||["",""])[1].toLowerCase(),i=se[o]||se._default,n.innerHTML=i[1]+t.replace(ae,"<$1></$2>")+i[2],r=i[0];r--;)n=n.lastChild;s=pt(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",M(s,function(t){a.appendChild(t)}),a}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td;var pe=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function he(e){if(e instanceof he)return e;var n,o,i,r;if(V(e)&&(e=tt(e),n=!0),!(this instanceof he)){if(n&&"<"!==e.charAt(0))throw te("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new he(e)}n?Ce(this,(o=e,i=i||t.document,(r=oe.exec(o))?[i.createElement(r[1])]:(r=ue(o,i))?r.childNodes:[])):G(e)?ke(e):Ce(this,e)}function de(t){return t.cloneNode(!0)}function fe(t,e){!e&&ce(t)&&a.cleanData([t]),t.querySelectorAll&&a.cleanData(t.querySelectorAll("*"))}function me(t){var e;for(e in t)return!1;return!0}function ge(t){var e=t.ng339,n=e&&Kt[e],o=n&&n.events,i=n&&n.data;i&&!me(i)||o&&!me(o)||(delete Kt[e],t.ng339=void 0)}function ye(t,e,n,o){if(F(o))throw te("offargs","jqLite#off() does not support the `selector` argument");var i=be(t),r=i&&i.events,a=i&&i.handle;if(a){if(e){var s=function(e){var o=r[e];F(n)&&rt(o||[],n),F(n)&&o&&o.length>0||(t.removeEventListener(e,a),delete r[e])};M(e.split(" "),function(t){s(t),Qt[t]&&s(Qt[t])})}else for(e in r)"$destroy"!==e&&t.removeEventListener(e,a),delete r[e];ge(t)}}function ve(t,e){var n=t.ng339,o=n&&Kt[n];o&&(e?delete o.data[e]:o.data={},ge(t))}function be(t,e){var n=t.ng339,o=n&&Kt[n];return e&&!o&&(t.ng339=n=++Xt,o=Kt[n]={events:{},data:{},handle:void 0}),o}function we(t,e,n){if(ce(t)){var o,i=F(n),r=!i&&e&&!U(e),a=!e,s=be(t,!r),l=s&&s.data;if(i)l[ne(e)]=n;else{if(a)return l;if(r)return l&&l[ne(e)];for(o in e)l[ne(o)]=e[o]}}}function Ee(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Me(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),o=n;M(e.split(" "),function(t){t=tt(t),o=o.replace(" "+t+" "," ")}),o!==n&&t.setAttribute("class",tt(o))}}function $e(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),o=n;M(e.split(" "),function(t){t=tt(t),-1===o.indexOf(" "+t+" ")&&(o+=t+" ")}),o!==n&&t.setAttribute("class",tt(o))}}function Ce(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var o=0;o<n;o++)t[t.length++]=e[o]}else t[t.length++]=e}}function _e(t,e){return xe(t,"$"+(e||"ngController")+"Controller")}function xe(t,e,n){t.nodeType===qt&&(t=t.documentElement);for(var o=W(e)?e:[e];t;){for(var i=0,r=o.length;i<r;i++)if(F(n=a.data(t,o[i])))return n;t=t.parentNode||t.nodeType===Wt&&t.host}}function Se(t){for(fe(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Te(t,e){e||fe(t);var n=t.parentNode;n&&n.removeChild(t)}function ke(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}var Ae=he.prototype={ready:ke,toString:function(){var t=[];return M(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return a(t>=0?this[t]:this[this.length+t])},length:0,push:g,sort:[].sort,splice:[].splice},Pe={};M("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Pe[h(t)]=t});var De={};M("input,select,option,textarea,button,form,details".split(","),function(t){De[t]=!0});var Ie={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Oe(t,e){var n=Pe[e.toLowerCase()];return n&&De[ot(t)]&&n}function Ne(t,e,n){n.call(t,e)}function Le(t,e,n){var o=e.relatedTarget;o&&(o===t||pe.call(t,o))||n.call(t,e)}function Re(){this.$get=function(){return k(he,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ee(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),$e(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Me(t,e)}})}}function je(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var o=typeof t;return n="function"===o||"object"===o&&null!==t?t.$$hashKey=o+":"+(e||x)():o+":"+t}M({data:we,removeData:ve,hasData:function(t){for(var e in Kt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)ve(t[e]),ye(t[e])}},function(t,e){he[e]=t}),M({data:we,inheritedData:xe,scope:function(t){return a.data(t,"$scope")||xe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return a.data(t,"$isolateScope")||a.data(t,"$isolateScopeNoTemplate")},controller:_e,injector:function(t){return xe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ee,css:function(t,e,n){if(e=function(t){return ne(t.replace(Jt,"ms-"))}(e),!F(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var o,i=t.nodeType;if(i!==Vt&&2!==i&&i!==Bt&&t.getAttribute){var r=h(e),a=Pe[r];if(!F(n))return o=t.getAttribute(e),a&&null!==o&&(o=r),null===o?void 0:o;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?r:n)}},prop:function(t,e,n){if(!F(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(j(e)){var n=t.nodeType;return n===Ht||n===Vt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(j(e)){if(t.multiple&&"select"===ot(t)){var n=[];return M(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(j(e))return t.innerHTML;fe(t,!0),t.innerHTML=e},empty:Se},function(t,e){he.prototype[e]=function(e,n){var o,i,r=this.length;if(t!==Se&&j(2===t.length&&t!==Ee&&t!==_e?e:n)){if(U(e)){for(o=0;o<r;o++)if(t===we)t(this[o],e);else for(i in e)t(this[o],i,e[i]);return this}for(var a=t.$dv,s=j(a)?Math.min(r,1):r,l=0;l<s;l++){var c=t(this[l],e,n);a=a?a+c:c}return a}for(o=0;o<r;o++)t(this[o],e,n);return this}}),M({removeData:ve,on:function(t,e,n,o){if(F(o))throw te("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ce(t)){var i=be(t,!0),r=i.events,a=i.handle;a||(a=i.handle=function(t,e){var n=function(n,o){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[o||n.type],r=i?i.length:0;if(r){if(j(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Ne;r>1&&(i=zt(i));for(var l=0;l<r;l++)n.isImmediatePropagationStopped()||s(t,n,i[l])}};return n.elem=t,n}(t,r));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length,c=function(e,o,i){var s=r[e];s||((s=r[e]=[]).specialHandlerWrapper=o,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};l--;)e=s[l],Qt[e]?(c(Qt[e],Le),c(e,void 0,!0)):c(e)}},off:ye,one:function(t,e,n){(t=a(t)).on(e,function o(){t.off(e,n),t.off(e,o)}),t.on(e,n)},replaceWith:function(t,e){var n,o=t.parentNode;fe(t),M(new he(e),function(e){n?o.insertBefore(e,n.nextSibling):o.replaceChild(e,t),n=e})},children:function(t){var e=[];return M(t.childNodes,function(t){t.nodeType===Ht&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Ht||n===Wt)for(var o=0,i=(e=new he(e)).length;o<i;o++){var r=e[o];t.appendChild(r)}},prepend:function(t,e){if(t.nodeType===Ht){var n=t.firstChild;M(new he(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){var n,o,i;n=t,o=a(e).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(o,n),o.appendChild(n)},remove:Te,detach:function(t){Te(t,!0)},after:function(t,e){var n=t,o=t.parentNode;if(o)for(var i=0,r=(e=new he(e)).length;i<r;i++){var a=e[i];o.insertBefore(a,n.nextSibling),n=a}},addClass:$e,removeClass:Me,toggleClass:function(t,e,n){e&&M(e.split(" "),function(e){var o=n;j(o)&&(o=!Ee(t,e)),(o?$e:Me)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Wt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:de,triggerHandler:function(t,e,n){var o,i,r,a=e.type||e,s=be(t),l=s&&s.events,c=l&&l[a];c&&(o={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:O,type:a,target:t},e.type&&(o=k(o,e)),i=zt(c),r=n?[o].concat(n):[o],M(i,function(e){o.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){he.prototype[e]=function(e,n,o){for(var i,r=0,s=this.length;r<s;r++)j(i)?F(i=t(this[r],e,n,o))&&(i=a(i)):Ce(i,t(this[r],e,n,o));return F(i)?i:this}}),he.prototype.bind=he.prototype.on,he.prototype.unbind=he.prototype.off;var Fe=Object.create(null);function Ue(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Ue.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return D(t)?Fe:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var He=Ue,Ve=[function(){this.$get=[function(){return He}]}],Be=/^([^(]+?)=>/,qe=/^[^(]*\(\s*([^)]*)\)/m,We=/,/,ze=/^\s*(_?)(\S+?)\1\s*$/,Ge=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ye=i("$injector");function Ke(t){return Function.prototype.toString.call(t)}function Xe(t){var e=Ke(t).replace(Ge,"");return e.match(Be)||e.match(qe)}function Ze(t,e){e=!0===e;var n={},o="Provider",i=[],a=new He,s={$provide:{provider:f(m),factory:f(g),service:f(function(t,e){return g(t,["$injector",function(t){return t.instantiate(e)}])}),value:f(function(t,e){return g(t,L(e),!1)}),constant:f(function(t,e){Rt(t,"constant"),s[t]=e,u[t]=e}),decorator:function(t,e){var n=c.get(t+o),i=n.$get;n.$get=function(){var t=h.invoke(i,n);return h.invoke(e,null,{$delegate:t})}}}},c=s.$injector=v(s,function(t,e){throw angular.isString(e)&&i.push(e),Ye("unpr","Unknown provider: {0}",i.join(" <- "))}),u={},p=v(u,function(t,e){var n=c.get(t+o,e);return h.invoke(n.$get,n,void 0,t)}),h=p;s["$injector"+o]={$get:L(p)},h.modules=c.modules=Ft();var d=y(t);return(h=p.get("$injector")).strictDi=e,M(d,function(t){t&&h.invoke(t)}),h.loadNewModules=function(t){M(y(t),function(t){t&&h.invoke(t)})},h;function f(t){return function(e,n){if(!U(e))return t(e,n);M(e,_(t))}}function m(t,e){if(Rt(t,"service"),(G(e)||W(e))&&(e=c.instantiate(e)),!e.$get)throw Ye("pget","Provider '{0}' must define $get factory method.",t);return s[t+o]=e}function g(t,e,n){return m(t,{$get:!1!==n?function(t,e){return function(){var n=h.invoke(e,this);if(j(n))throw Ye("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}(t,e):e})}function y(t){Nt(j(t)||W(t),"modulesToLoad","not an array");var e,n=[];return M(t,function(t){if(!a.get(t)){a.set(t,!0);try{V(t)?(e=l(t),h.modules[t]=e,n=n.concat(y(e.requires)).concat(e._runBlocks),o(e._invokeQueue),o(e._configBlocks)):G(t)?n.push(c.invoke(t)):W(t)?n.push(c.invoke(t)):Lt(t,"module")}catch(e){throw W(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ye("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function o(t){var e,n;for(e=0,n=t.length;e<n;e++){var o=t[e],i=c.get(o[0]);i[o[1]].apply(i,o[2])}}}),n}function v(t,a){function l(e,o){if(t.hasOwnProperty(e)){if(t[e]===n)throw Ye("cdep","Circular dependency found: {0}",e+" <- "+i.join(" <- "));return t[e]}try{return i.unshift(e),t[e]=n,t[e]=a(e,o),t[e]}catch(o){throw t[e]===n&&delete t[e],o}finally{i.shift()}}function c(t,n,o){for(var i=[],r=Ze.$$annotate(t,e,o),a=0,s=r.length;a<s;a++){var c=r[a];if("string"!=typeof c)throw Ye("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:l(c,o))}return i}return{invoke:function(t,e,n,o){"string"==typeof n&&(o=n,n=null);var i=c(t,n,o);return W(t)&&(t=t[t.length-1]),function(t){if(r||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return Z(e)||(e=t.$$ngIsClass=/^class\b/.test(Ke(t))),e}(t)?(i.unshift(null),new(Function.prototype.bind.apply(t,i))):t.apply(e,i)},instantiate:function(t,e,n){var o=W(t)?t[t.length-1]:t,i=c(t,e,n);return i.unshift(null),new(Function.prototype.bind.apply(o,i))},get:l,annotate:Ze.$$annotate,has:function(e){return s.hasOwnProperty(e+o)||t.hasOwnProperty(e)}}}}function Je(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,o,i){var r=n.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=l.yOffset;if(G(t))t=t();else if(nt(t)){var e=t[0];t="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else B(t)||(t=0);return t}();if(e){var o=t.getBoundingClientRect().top;n.scrollBy(0,o-e)}}else n.scrollTo(0,0)}function l(t){var e,n,i;(t=V(t)?t:B(t)?t.toString():o.hash())?(e=r.getElementById(t))?s(e):(n=r.getElementsByName(t),i=null,Array.prototype.some.call(n,function(t){if("a"===ot(t))return i=t,!0}),(e=i)?s(e):"top"===t&&s(null)):s(null)}return e&&i.$watch(function(){return o.hash()},function(e,n){var o,r;e===n&&""===e||(o=function(){i.$evalAsync(l)},"complete"===(r=r||t).document.readyState?r.setTimeout(o):a(r).on("load",o))}),l}]}Ze.$$annotate=function(t,e,n){var o,i;if("function"==typeof t){if(!(o=t.$inject)){if(o=[],t.length){if(e)throw V(n)&&n||(n=t.name||function(t){var e=Xe(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Ye("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);M(Xe(t)[1].split(We),function(t){t.replace(ze,function(t,e,n){o.push(n)})})}t.$inject=o}}else W(t)?(Lt(t[i=t.length-1],"fn"),o=t.slice(0,i)):Lt(t,"fn",!0);return o};var Qe=i("$animate"),tn=1;function en(t,e){return t||e?t?e?(W(t)&&(t=t.join(" ")),W(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function nn(t){return U(t)?t:{}}var on=function(){this.$get=O},rn=function(){var t=new He,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,o){return{enabled:O,on:O,off:O,pin:O,push:function(a,s,l,c){c&&c(),(l=l||{}).from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&function(n,a,s){var l=t.get(n)||{},c=i(l,a,!0),u=i(l,s,!1);(c||u)&&(t.set(n,l),e.push(n),1===e.length&&o.$$postDigest(r))}(a,l.addClass,l.removeClass);var u=new n;return u.complete(),u}};function i(t,e,n){var o=!1;return e&&M(e=V(e)?e.split(" "):W(e)?e:[],function(e){e&&(o=!0,t[e]=n)}),o}function r(){M(e,function(e){var n=t.get(e);if(n){var o=function(t){V(t)&&(t=t.split(" "));var e=Ft();return M(t,function(t){t.length&&(e[t]=!0)}),e}(e.attr("class")),i="",r="";M(n,function(t,e){t!==!!o[e]&&(t?i+=(i.length?" ":"")+e:r+=(r.length?" ":"")+e)}),M(e,function(t){i&&$e(t,i),r&&Me(t,r)}),t.delete(e)}}),e.length=0}}]},an=["$provide",function(t){var e=this,n=null,o=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,o){if(n&&"."!==n.charAt(0))throw Qe("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,o)},this.customFilter=function(t){return 1===arguments.length&&(o=G(t)?t:null),o},this.classNameFilter=function(t){if(1===arguments.length&&((n=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString())))throw n=null,Qe("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate");return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var o=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===tn)return n}}(n);!o||o.parentNode||o.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(n,o,i,r){return o=o&&a(o),i=i&&a(i),e(n,o=o||i.parent(),i),t.push(n,"enter",nn(r))},move:function(n,o,i,r){return o=o&&a(o),i=i&&a(i),e(n,o=o||i.parent(),i),t.push(n,"move",nn(r))},leave:function(e,n){return t.push(e,"leave",nn(n),function(){e.remove()})},addClass:function(e,n,o){return(o=nn(o)).addClass=en(o.addclass,n),t.push(e,"addClass",o)},removeClass:function(e,n,o){return(o=nn(o)).removeClass=en(o.removeClass,n),t.push(e,"removeClass",o)},setClass:function(e,n,o,i){return(i=nn(i)).addClass=en(i.addClass,n),i.removeClass=en(i.removeClass,o),t.push(e,"setClass",i)},animate:function(e,n,o,i,r){return(r=nn(r)).from=r.from?k(r.from,n):n,r.to=r.to?k(r.to,o):o,i=i||"ng-inline-animate",r.tempClasses=en(r.tempClasses,i),t.push(e,"animate",r)}}}]}],sn=function(){this.$get=["$$rAF",function(t){var e=[];function n(n){e.push(n),e.length>1||t(function(){for(var t=0;t<e.length;t++)e[t]();e=[]})}return function(){var t=!1;return n(function(){t=!0}),function(e){t?e():n(e)}}}]},ln=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,o,i){function r(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){o()?function(t){i(t,0,!1)}(t):e(t)},this._state=0}return r.chain=function(t,e){var n=0;!function o(){if(n===t.length)return void e(!0);t[n](function(t){!1!==t?(n++,o()):e(!1)})}()},r.all=function(t,e){var n=0,o=!0;function i(i){o=o&&i,++n===t.length&&e(o)}M(t,function(t){t.done(i)})},r.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:O,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(M(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},r}]},cn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,o){var i=o||{};i.$$prepared||(i=at(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var r,a=new n;return{start:s,end:s};function s(){return t(function(){!function(){i.addClass&&(e.addClass(i.addClass),i.addClass=null);i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null);i.to&&(e.css(i.to),i.to=null)}(),r||a.complete(),r=!0}),a}}}]};function un(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,n,o,i){return new function(t,e,n,o,i){var r=this,s=t.location,l=t.history,c=t.setTimeout,u=t.clearTimeout,p={},h=i(n);r.isMock=!1,r.$$completeOutstandingRequest=h.completeTask,r.$$incOutstandingRequestCount=h.incTaskCount,r.notifyWhenNoOutstandingRequests=h.notifyWhenNoPendingTasks;var d,f,m=s.href,g=e.find("base"),y=null,v=o.history?function(){try{return l.state}catch(t){}}:O;_(),r.url=function(e,n,i){if(j(i)&&(i=null),s!==t.location&&(s=t.location),l!==t.history&&(l=t.history),e){var a=f===i;if(e=ui(e).href,m===e&&(!o.history||a))return r;var c=m&&so(m)===so(e);return m=e,f=i,!o.history||c&&a?(c||(y=e),n?s.replace(e):c?s.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):s.href=e,s.href!==e&&(y=e)):(l[n?"replaceState":"pushState"](i,"",e),_()),y&&(y=e),r}return function(t){return t.replace(/#$/,"")}(y||s.href)},r.state=function(){return d};var b=[],w=!1;function E(){y=null,x()}var C=null;function _(){lt(d=j(d=v())?null:d,C)&&(d=C),C=d,f=d}function x(){var t=f;_(),m===r.url()&&t===d||(m=r.url(),f=d,M(b,function(t){t(r.url(),d)}))}r.onUrlChange=function(e){return w||(o.history&&a(t).on("popstate",E),a(t).on("hashchange",E),w=!0),b.push(e),e},r.$$applicationDestroyed=function(){a(t).off("hashchange popstate",E)},r.$$checkUrlChange=x,r.baseHref=function(){var t=g.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},r.defer=function(t,e,n){var o;return e=e||0,n=n||h.DEFAULT_TASK_TYPE,h.incTaskCount(n),o=c(function(){delete p[o],h.completeTask(t,n)},e),p[o]=n,o},r.defer.cancel=function(t){if(p.hasOwnProperty(t)){var e=p[t];return delete p[t],u(t),h.completeTask(O,e),!0}return!1}}(t,o,e,n,i)}]}function pn(){this.$get=function(){var t={};function e(e,n){if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,r=k({},n,{id:e}),a=Ft(),s=n&&n.capacity||Number.MAX_VALUE,l=Ft(),c=null,u=null;return t[e]={put:function(t,e){if(!j(e)){if(s<Number.MAX_VALUE)p(l[t]||(l[t]={key:t}));return t in a||o++,a[t]=e,o>s&&this.remove(u.key),e}},get:function(t){if(s<Number.MAX_VALUE){var e=l[t];if(!e)return;p(e)}return a[t]},remove:function(t){if(s<Number.MAX_VALUE){var e=l[t];if(!e)return;e===c&&(c=e.p),e===u&&(u=e.n),h(e.n,e.p),delete l[t]}t in a&&(delete a[t],o--)},removeAll:function(){a=Ft(),o=0,l=Ft(),c=u=null},destroy:function(){a=null,r=null,l=null,delete t[e]},info:function(){return k({},r,{size:o})}};function p(t){t!==c&&(u?u===t&&(u=t.n):u=t,h(t.n,t.p),h(t,c),(c=t).n=null)}function h(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return M(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function hn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var dn=i("$compile");var fn=new function(){};function mn(e,n){var o={},i="Directive",s=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(t){var e,n={},o=t.split(",");for(e=0;e<o.length;e++)n[o[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,d=/^(on[a-z]+|formaction)$/,f=Ft();function m(t,e,n){var o=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=Ft();return M(t,function(t,r){if((t=t.trim())in f)i[r]=f[t];else{var a=t.match(o);if(!a)throw dn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t,n?"controller bindings definition":"isolate scope definition");i[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(f[t]=i[r])}}),i}function g(t,e){var n={isolateScope:null,bindToController:null};if(U(t.scope)&&(!0===t.bindToController?(n.bindToController=m(t.scope,e,!0),n.isolateScope={}):n.isolateScope=m(t.scope,e,!1)),U(t.bindToController)&&(n.bindToController=m(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw dn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}this.directive=function t(n,r){return Nt(n,"name"),Rt(n,"directive"),V(n)?(!function(t){var e=t.charAt(0);if(!e||e!==h(e))throw dn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw dn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(n),Nt(r,"directiveFactory"),o.hasOwnProperty(n)||(o[n]=[],e.factory(n+i,["$injector","$exceptionHandler",function(t,e){var i=[];return M(o[n],function(o,r){try{var a=t.invoke(o);G(a)?a={compile:L(a)}:!a.compile&&a.link&&(a.compile=L(a.link)),a.priority=a.priority||0,a.index=r,a.name=a.name||n,a.require=function(t){var e=t.require||t.controller&&t.name;return!W(e)&&U(e)&&M(e,function(t,n){var o=t.match(u);t.substring(o[0].length)||(e[n]=o[0]+n)}),e}(a),a.restrict=function(t,e){if(t&&(!V(t)||!/[EACM]/.test(t)))throw dn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(a.restrict,n),a.$$moduleName=o.$$moduleName,i.push(a)}catch(t){e(t)}}),i}])),o[n].push(r)):M(n,_(t)),this},this.component=function t(e,n){if(!V(e))return M(e,_(dt(this,t))),this;var o=n.controller||function(){};function i(t){function e(e){return G(e)||W(e)?function(n,o){return t.invoke(e,this,{$element:n,$attrs:o})}:e}var i=n.template||n.templateUrl?n.template:"",r={controller:o,controllerAs:function(t,e){if(e&&V(e))return e;if(V(t)){var n=$n.exec(t);if(n)return n[3]}}(n.controller)||n.controllerAs||"$ctrl",template:e(i),templateUrl:e(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return M(n,function(t,e){"$"===e.charAt(0)&&(r[e]=t)}),r}return M(n,function(t,e){"$"===e.charAt(0)&&(i[e]=t,G(o)&&(o[e]=t))}),i.$inject=["$injector"],this.directive(e,i)},this.aHrefSanitizationWhitelist=function(t){return F(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return F(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var v=!0;this.debugInfoEnabled=function(t){return F(t)?(v=t,this):v};var b=!1;this.strictComponentBindingsEnabled=function(t){return F(t)?(b=t,this):b};var w=10;this.onChangesTtl=function(t){return arguments.length?(w=t,this):w};var E=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(E=t,this):E};var C=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(C=t,this):C};var x=Ft();this.addPropertySecurityContext=function(t,e,n){var o=t.toLowerCase()+"|"+e.toLowerCase();if(o in x&&x[o]!==n)throw dn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,x[o],n);return x[o]=n,this},function(){function t(t,e){M(e,function(e){x[e.toLowerCase()]=t})}t(Go.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(Go.CSS,["*|style"]),t(Go.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),t(Go.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),t(Go.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,n,f,m,_,S,T,A,P){var D,L=/^\w/,R=t.document.createElement("div"),F=E,H=C,B=w;function q(){try{if(!--B)throw D=void 0,dn("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);T.$apply(function(){for(var t=0,e=D.length;t<e;++t)try{D[t]()}catch(t){f(t)}D=void 0})}finally{B++}}function Y(t,e){if(!t)return t;if(!V(t))throw dn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString());for(var n="",o=tt(t),i=/\s/.test(o)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,r=o.split(i),a=Math.floor(r.length/2),s=0;s<a;s++){var l=2*s;n+=A.getTrustedMediaUrl(tt(r[l])),n+=" "+tt(r[l+1])}var c=tt(r[2*s]).split(/\s/);return n+=A.getTrustedMediaUrl(tt(c[0])),2===c.length&&(n+=" "+tt(c[1])),n}function K(t,e){if(e){var n,o,i,r=Object.keys(e);for(n=0,o=r.length;n<o;n++)this[i=r[n]]=e[i]}else this.$attr={};this.$$element=t}function J(t,e){try{t.addClass(e)}catch(t){}}K.prototype={$normalize:bn,$addClass:function(t){t&&t.length>0&&P.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&P.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=wn(t,e);n&&n.length&&P.addClass(this.$$element,n);var o=wn(e,t);o&&o.length&&P.removeClass(this.$$element,o)},$set:function(t,e,n,o){var i=Oe(this.$$element[0],t),r=Ie[t],a=t;i?(this.$$element.prop(t,e),o=i):r&&(this[r]=e,a=r),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t])||(this.$attr[t]=o=It(t,"-")),"img"===ot(this.$$element)&&"srcset"===t&&(this[t]=e=Y(e,"$set('srcset', value)")),!1!==n&&(null===e||j(e)?this.$$element.removeAttr(o):L.test(o)?i&&!1===e?this.$$element.removeAttr(o):this.$$element.attr(o,e):function(t,e,n){R.innerHTML="<span "+e+">";var o=R.firstChild.attributes,i=o[0];o.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}(this.$$element[0],o,e));var s=this.$$observers;s&&M(s[a],function(t){try{t(e)}catch(t){f(t)}})},$observe:function(t,e){var n=this,o=n.$$observers||(n.$$observers=Ft()),i=o[t]||(o[t]=[]);return i.push(e),T.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||j(n[t])||e(n[t])}),function(){rt(i,e)}}};var Q=n.startSymbol(),et=n.endSymbol(),nt="{{"===Q&&"}}"===et?N:function(t){return t.replace(/\{\{/g,Q).replace(/}}/g,et)},it=/^ng(Attr|Prop|On)([A-Z].*)$/,at=/^(.+)Start$/;return ct.$$addBindingInfo=v?function(t,e){var n=t.data("$binding")||[];W(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:O,ct.$$addBindingClass=v?function(t){J(t,"ng-binding")}:O,ct.$$addScopeInfo=v?function(t,e,n,o){var i=n?o?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:O,ct.$$addScopeClass=v?function(t,e){J(t,e?"ng-isolate-scope":"ng-scope")}:O,ct.$$createComment=function(e,n){var o="";return v&&(o=" "+(e||"")+": ",n&&(o+=n+" ")),t.document.createComment(o)},ct;function ct(t,e,n,o,i){t instanceof a||(t=a(t));var r=ut(t,e,t,n,o,i);ct.$$addScopeClass(t);var s=null;return function(e,n,o){if(!t)throw dn("multilink","This element has already been linked.");Nt(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new());var l,c,u,p=(o=o||{}).parentBoundTranscludeFn,h=o.transcludeControllers,d=o.futureParentElement;if(p&&p.$$boundTransclude&&(p=p.$$boundTransclude),s||(c=(l=d)&&l[0],s=c&&"foreignobject"!==ot(c)&&y.call(c).match(/SVG/)?"svg":"html"),u="html"!==s?a(kt(s,a("<div></div>").append(t).html())):n?Ae.clone.call(t):t,h)for(var f in h)u.data("$"+f+"Controller",h[f].instance);return ct.$$addScopeInfo(u,e),n&&n(u,e),r&&r(e,u,u,p),n||(t=r=null),u}}function ut(t,e,n,o,i,s){for(var l,c,u,p,h,d,f,m=[],g=W(t)||t instanceof a,y=0;y<t.length;y++)l=new K,11===r&&pt(t,y,g),(u=(c=mt(t[y],[],l,0===y?o:void 0,i)).length?bt(c,t[y],l,e,n,null,[],[],s):null)&&u.scope&&ct.$$addScopeClass(l.$$element),h=u&&u.terminal||!(p=t[y].childNodes)||!p.length?null:ut(p,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||h)&&(m.push(y,u,h),d=!0,f=f||u),s=null;return d?function(t,n,o,i){var r,s,l,c,u,p,h,d,g;if(f){var y=n.length;for(g=new Array(y),u=0;u<m.length;u+=3)h=m[u],g[h]=n[h]}else g=n;for(u=0,p=m.length;u<p;)l=g[m[u++]],r=m[u++],s=m[u++],r?(r.scope?(c=t.$new(),ct.$$addScopeInfo(a(l),c)):c=t,d=r.transcludeOnThisElement?ft(t,r.transclude,i):!r.templateOnThisElement&&i?i:!i&&e?ft(t,e):null,r(s,c,l,o,d)):s&&s(t,l.childNodes,void 0,i)}:null}function pt(t,e,n){var o,i=t[e],r=i.parentNode;if(i.nodeType===Vt)for(;(o=r?i.nextSibling:t[e+1])&&o.nodeType===Vt;)i.nodeValue=i.nodeValue+o.nodeValue,o.parentNode&&o.parentNode.removeChild(o),n&&o===t[e+1]&&t.splice(e+1,1)}function ft(t,e,n){function o(o,i,r,a,s){return o||((o=t.$new(!1,s)).$$transcluded=!0),e(o,i,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:a})}var i=o.$$slots=Ft();for(var r in e.$$slots)e.$$slots[r]?i[r]=ft(t,e.$$slots[r],n):i[r]=null;return o}function mt(t,e,o,i,r){var a,c,u,p=t.nodeType,h=o.$attr;switch(p){case Ht:$t(e,bn(c=ot(t)),"E",i,r);for(var d,f,m,g,y,v=t.attributes,b=0,w=v&&v.length;b<w;b++){var E,M=!1,C=!1,_=!1,x=!1,S=!1;f=(d=v[b]).name,g=d.value,(y=(m=bn(f.toLowerCase())).match(it))?(_="Attr"===y[1],x="Prop"===y[1],S="On"===y[1],f=f.replace(yn,"").toLowerCase().substr(4+y[1].length).replace(/_(.)/g,function(t,e){return e.toUpperCase()})):(E=m.match(at))&&Ct(E[1])&&(M=f,C=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),x||S?(o[m]=g,h[m]=d.name,x?Pt(t,e,m,f):Dt(e,m,f)):(h[m=bn(f.toLowerCase())]=f,!_&&o.hasOwnProperty(m)||(o[m]=g,Oe(t,m)&&(o[m]=!0)),Ot(t,e,g,m,_),$t(e,m,"A",i,r,M,C))}if("input"===c&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!H)break;if(U(u=t.className)&&(u=u.animVal),V(u)&&""!==u)for(;a=l.exec(u);)$t(e,m=bn(a[2]),"C",i,r)&&(o[m]=tt(a[3])),u=u.substr(a.index+a[0].length);break;case Vt:!function(t,e){var o=n(e,!0);o&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&ct.$$addBindingClass(e),function(t,e){var i=e.parent();n||ct.$$addBindingClass(i),ct.$$addBindingInfo(i,o.expressions),t.$watch(o,function(t){e[0].nodeValue=t})}}})}(e,t.nodeValue);break;case Bt:if(!F)break;!function(t,e,n,o,i){try{var r=s.exec(t.nodeValue);if(r){var a=bn(r[1]);$t(e,a,"M",o,i)&&(n[a]=tt(r[2]))}}catch(t){}}(t,e,o,i,r)}return e.sort(St),e}function gt(t,e,n){var o=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw dn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Ht&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),o.push(t),t=t.nextSibling}while(i>0);else o.push(t);return a(o)}function yt(t,e,n){return function(o,i,r,a,s){return i=gt(i[0],e,n),t(o,i,r,a,s)}}function vt(t,e,n,o,i,r){var a;return t?ct(e,n,o,i,r):function(){return a||(a=ct(e,n,o,i,r),e=n=r=null),a.apply(this,arguments)}}function bt(e,n,o,i,r,s,l,c,u){u=u||{};for(var p,h,d,m,g,y=-Number.MAX_VALUE,v=u.newScopeDirective,b=u.controllerDirectives,w=u.newIsolateScopeDirective,E=u.templateDirective,C=u.nonTlbTranscludeDirective,_=!1,x=!1,T=u.hasElementTranscludeDirective,A=o.$$element=a(n),P=s,D=i,I=!1,O=!1,N=0,L=e.length;N<L;N++){var R=(p=e[N]).$$start,F=p.$$end;if(R&&(A=gt(n,R,F)),d=void 0,y>p.priority)break;if((g=p.scope)&&(p.templateUrl||(U(g)?(Tt("new/isolated scope",w||v,p,A),w=p):Tt("new/isolated scope",w,p,A)),v=v||p),h=p.name,!I&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var H,V=N+1;H=e[V++];)if(H.transclude&&!H.$$tlb||H.replace&&(H.templateUrl||H.template)){O=!0;break}I=!0}if(!p.templateUrl&&p.controller&&(b=b||Ft(),Tt("'"+h+"' controller",b[h],p,A),b[h]=p),g=p.transclude)if(_=!0,p.$$tlb||(Tt("transclusion",C,p,A),C=p),"element"===g)T=!0,y=p.priority,d=A,A=o.$$element=a(ct.$$createComment(h,o[h])),n=A[0],Lt(r,ht(d),n),D=vt(O,d,i,y,P&&P.name,{nonTlbTranscludeDirective:C});else{var B=Ft();if(U(g)){d=t.document.createDocumentFragment();var q=Ft(),z=Ft();for(var Y in M(g,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,q[t]=e,B[e]=null,z[e]=n}),M(A.contents(),function(e){var n=q[bn(ot(e))];n?(z[n]=!0,B[n]=B[n]||t.document.createDocumentFragment(),B[n].appendChild(e)):d.appendChild(e)}),M(z,function(t,e){if(!t)throw dn("reqslot","Required transclusion slot `{0}` was not filled.",e)}),B)if(B[Y]){var Z=a(B[Y].childNodes);B[Y]=vt(O,Z,i)}d=a(d.childNodes)}else d=a(de(n)).contents();A.empty(),(D=vt(O,d,i,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope})).$$slots=B}if(p.template)if(x=!0,Tt("template",E,p,A),E=p,g=G(p.template)?p.template(A,o):p.template,g=nt(g),p.replace){if(P=p,d=le(g)?[]:En(kt(p.templateNamespace,tt(g))),n=d[0],1!==d.length||n.nodeType!==Ht)throw dn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h,"");Lt(r,A,n);var J={$attr:{}},Q=mt(n,[],J),et=e.splice(N+1,e.length-(N+1));(w||v)&&Mt(Q,w,v),e=e.concat(Q).concat(et),_t(o,J),L=e.length}else A.html(g);if(p.templateUrl)x=!0,Tt("template",E,p,A),E=p,p.replace&&(P=p),at=xt(e.splice(N,e.length-N),A,o,r,_&&D,l,c,{controllerDirectives:b,newScopeDirective:v!==p&&v,newIsolateScopeDirective:w,templateDirective:E,nonTlbTranscludeDirective:C}),L=e.length;else if(p.compile)try{m=p.compile(A,o,D);var it=p.$$originalDirective||p;G(m)?rt(null,dt(it,m),R,F):m&&rt(dt(it,m.pre),dt(it,m.post),R,F)}catch(t){f(t,Et(A))}p.terminal&&(at.terminal=!0,y=Math.max(y,p.priority))}return at.scope=v&&!0===v.scope,at.transcludeOnThisElement=_,at.templateOnThisElement=x,at.transclude=D,u.hasElementTranscludeDirective=T,at;function rt(t,e,n,o){t&&(n&&(t=yt(t,n,o)),t.require=p.require,t.directiveName=h,(w===p||p.$$isolateScope)&&(t=Rt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=yt(e,n,o)),e.require=p.require,e.directiveName=h,(w===p||p.$$isolateScope)&&(e=Rt(e,{isolateScope:!0})),c.push(e))}function at(t,e,i,r,s){var u,p,h,d,m,g,y,C,_,x;for(var A in n===i?(_=o,C=o.$$element):_=new K(C=a(i),o),m=e,w?d=e.$new(!0):v&&(m=e.$parent),s&&((y=function(t,e,n,o){var i;X(t)||(o=n,n=e,e=t,t=void 0);T&&(i=g);n||(n=T?C.parent():C);if(!o)return s(t,e,i,n,O);var r=s.$$slots[o];if(r)return r(t,e,i,n,O);if(j(r))throw dn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',o,Et(C))}).$$boundTransclude=s,y.isSlotFilled=function(t){return!!s.$$slots[t]}),b&&(g=function(t,e,n,o,i,r,a){var s=Ft();for(var l in o){var c=o[l],u={$scope:c===a||c.$$isolateScope?i:r,$element:t,$attrs:e,$transclude:n},p=c.controller;"@"===p&&(p=e[c.name]);var h=S(p,u,!0,c.controllerAs);s[c.name]=h,t.data("$"+c.name+"Controller",h.instance)}return s}(C,_,y,b,d,e,w)),w&&(ct.$$addScopeInfo(C,d,!0,!(E&&(E===w||E===w.$$originalDirective))),ct.$$addScopeClass(C,!0),d.$$isolateBindings=w.$$isolateBindings,(x=Wt(e,_,d,d.$$isolateBindings,w)).removeWatches&&d.$on("$destroy",x.removeWatches)),g){var P=b[A],D=g[A],I=P.$$bindings.bindToController;D.instance=D(),C.data("$"+P.name+"Controller",D.instance),D.bindingInfo=Wt(m,_,D.instance,I,P)}for(M(b,function(t,e){var n=t.require;t.bindToController&&!W(n)&&U(n)&&k(g[e].instance,wt(e,n,C,g))}),M(g,function(t){var e=t.instance;if(G(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){f(t)}if(G(e.$onInit))try{e.$onInit()}catch(t){f(t)}G(e.$doCheck)&&(m.$watch(function(){e.$doCheck()}),e.$doCheck()),G(e.$onDestroy)&&m.$on("$destroy",function(){e.$onDestroy()})}),u=0,p=l.length;u<p;u++)jt(h=l[u],h.isolateScope?d:e,C,_,h.require&&wt(h.directiveName,h.require,C,g),y);var O=e;for(w&&(w.template||null===w.templateUrl)&&(O=d),t&&t(O,i.childNodes,void 0,s),u=c.length-1;u>=0;u--)jt(h=c[u],h.isolateScope?d:e,C,_,h.require&&wt(h.directiveName,h.require,C,g),y);M(g,function(t){var e=t.instance;G(e.$postLink)&&e.$postLink()})}}function wt(t,e,n,o){var i;if(V(e)){var r=e.match(u),a=e.substring(r[0].length),s=r[1]||r[3],l="?"===r[2];if("^^"===s?n=n.parent():i=(i=o&&o[a])&&i.instance,!i){var c="$"+a+"Controller";i="^^"===s&&n[0]&&n[0].nodeType===qt?null:s?n.inheritedData(c):n.data(c)}if(!i&&!l)throw dn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(W(e)){i=[];for(var p=0,h=e.length;p<h;p++)i[p]=wt(t,e[p],n,o)}else U(e)&&(i={},M(e,function(e,r){i[r]=wt(t,e,n,o)}));return i||null}function Mt(t,e,n){for(var o=0,i=t.length;o<i;o++)t[o]=I(t[o],{$$isolateScope:e,$$newScope:n})}function $t(t,n,r,a,s,l,c){if(n===s)return null;var u=null;if(o.hasOwnProperty(n))for(var p,h=e.get(n+i),d=0,f=h.length;d<f;d++)if(p=h[d],(j(a)||a>p.priority)&&-1!==p.restrict.indexOf(r)){if(l&&(p=I(p,{$$start:l,$$end:c})),!p.$$bindings){var m=p.$$bindings=g(p,p.name);U(m.isolateScope)&&(p.$$isolateBindings=m.isolateScope)}t.push(p),u=p}return u}function Ct(t){if(o.hasOwnProperty(t))for(var n=e.get(t+i),r=0,a=n.length;r<a;r++)if(n[r].multiElement)return!0;return!1}function _t(t,e){var n=e.$attr,o=t.$attr;M(t,function(o,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==o&&(o.length?o+=("style"===i?";":" ")+e[i]:o=e[i]),t.$set(i,o,!0,n[i]))}),M(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(o[i]=n[i]))})}function xt(t,e,n,o,i,r,s,l){var c,u,p=[],h=e[0],d=t.shift(),g=I(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),y=G(d.templateUrl)?d.templateUrl(e,n):d.templateUrl,v=d.templateNamespace;return e.empty(),m(y).then(function(f){var m,b,w,E;if(f=nt(f),d.replace){if(w=le(f)?[]:En(kt(v,tt(f))),m=w[0],1!==w.length||m.nodeType!==Ht)throw dn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,y);b={$attr:{}},Lt(o,e,m);var C=mt(m,[],b);U(d.scope)&&Mt(C,!0),t=C.concat(t),_t(n,b)}else m=h,e.html(f);for(t.unshift(g),c=bt(t,m,n,i,e,d,r,s,l),M(o,function(t,n){t===m&&(o[n]=e[0])}),u=ut(e[0].childNodes,i);p.length;){var _=p.shift(),x=p.shift(),S=p.shift(),T=p.shift(),k=e[0];if(!_.$$destroyed){if(x!==h){var A=x.className;l.hasElementTranscludeDirective&&d.replace||(k=de(m)),Lt(S,a(x),k),J(a(k),A)}E=c.transcludeOnThisElement?ft(_,c.transclude,T):T,c(u,_,k,o,E)}}p=null}).catch(function(t){z(t)&&f(t)}),function(t,e,n,o,i){var r=i;e.$$destroyed||(p?p.push(e,n,o,r):(c.transcludeOnThisElement&&(r=ft(e,c.transclude,i)),c(u,e,n,o,r)))}}function St(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Tt(t,e,n,o){function i(t){return t?" (module: "+t+")":""}if(e)throw dn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Et(o))}function kt(e,n){switch(e=h(e||"html")){case"svg":case"math":var o=t.document.createElement("div");return o.innerHTML="<"+e+">"+n+"</"+e+">",o.childNodes[0].childNodes;default:return n}}function At(t){return Y(A.valueOf(t),"ng-prop-srcset")}function Pt(t,e,n,o){if(d.test(o))throw dn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=ot(t),r=function(t,e){var n=e.toLowerCase();return x[t+"|"+n]||x["*|"+n]}(i,o),a=N;"srcset"!==o||"img"!==i&&"source"!==i?r&&(a=A.getTrusted.bind(A,r)):a=At,e.push({priority:100,compile:function(t,e){var i=_(e[n]),r=_(e[n],function(t){return A.valueOf(t)});return{pre:function(t,e){function n(){var n=i(t);e[0][o]=a(n)}n(),t.$watch(r,n)}}}})}function Dt(t,e,n){t.push(jr(_,T,f,e,n,!1))}function Ot(t,e,o,i,r){var a=ot(t),s=function(t,e){return"srcdoc"===e?A.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?A.RESOURCE_URL:A.MEDIA_URL:"xlinkHref"===e?"image"===t?A.MEDIA_URL:"a"===t?A.URL:A.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?A.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:A.URL}(a,i),l=!r,u=c[i]||r,p=n(o,l,s,u);if(p){if("multiple"===i&&"select"===a)throw dn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Et(t));if(d.test(i))throw dn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");e.push({priority:100,compile:function(){return{pre:function(t,e,r){var a=r.$$observers||(r.$$observers=Ft()),l=r[i];l!==o&&(p=l&&n(l,!0,s,u),o=l),p&&(r[i]=p(t),(a[i]||(a[i]=[])).$$inter=!0,(r.$$observers&&r.$$observers[i].$$scope||t).$watch(p,function(t,e){"class"===i&&t!==e?r.$updateClass(t,e):r.$set(i,t)}))}}}})}}function Lt(e,n,o){var i,r,s=n[0],l=n.length,c=s.parentNode;if(e)for(i=0,r=e.length;i<r;i++)if(e[i]===s){e[i++]=o;for(var u=i,p=u+l-1,h=e.length;u<h;u++,p++)p<h?e[u]=e[p]:delete e[u];e.length-=l-1,e.context===s&&(e.context=o);break}c&&c.replaceChild(o,s);var d=t.document.createDocumentFragment();for(i=0;i<l;i++)d.appendChild(n[i]);for(a.hasData(s)&&(a.data(o,a.data(s)),a(s).off("$destroy")),a.cleanData(d.querySelectorAll("*")),i=1;i<l;i++)delete n[i];n[0]=o,n.length=1}function Rt(t,e){return k(function(){return t.apply(null,arguments)},t,e)}function jt(t,e,n,o,i,r){try{t(e,n,o,i,r)}catch(t){f(t,Et(n))}}function Ut(t,e){if(b)throw dn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function Wt(t,e,o,i,r){var a,s=[],l={};function c(e,n,i){G(o.$onChanges)&&!st(n,i)&&(D||(t.$$postDigest(q),D=[]),a||(a={},D.push(u)),a[e]&&(i=a[e].previousValue),a[e]=new gn(i,n))}function u(){o.$onChanges(a),a=void 0}return M(i,function(i,a){var u,h,d,f,m,g=i.attrName,y=i.optional;switch(i.mode){case"@":y||p.call(e,g)||(Ut(g,r.name),o[a]=e[g]=void 0),m=e.$observe(g,function(t){if(V(t)||Z(t)){var e=o[a];c(a,t,e),o[a]=t}}),e.$$observers[g].$$scope=t,V(u=e[g])?o[a]=n(u)(t):Z(u)&&(o[a]=u),l[a]=new gn(fn,o[a]),s.push(m);break;case"=":if(!p.call(e,g)){if(y)break;Ut(g,r.name),e[g]=void 0}if(y&&!e[g])break;h=_(e[g]),f=h.literal?lt:st,d=h.assign||function(){throw u=o[a]=h(t),dn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,r.name)},u=o[a]=h(t);var v=function(e){return f(e,o[a])||(f(e,u)?d(t,e=o[a]):o[a]=e),u=e};v.$stateful=!0,m=i.collection?t.$watchCollection(e[g],v):t.$watch(_(e[g],v),null,h.literal),s.push(m);break;case"<":if(!p.call(e,g)){if(y)break;Ut(g,r.name),e[g]=void 0}if(y&&!e[g])break;var b=(h=_(e[g])).literal,w=o[a]=h(t);l[a]=new gn(fn,o[a]),m=t[i.collection?"$watchCollection":"$watch"](h,function(t,e){if(e===t){if(e===w||b&&lt(e,w))return;e=w}c(a,t,e),o[a]=t}),s.push(m);break;case"&":if(y||p.call(e,g)||Ut(g,r.name),(h=e.hasOwnProperty(g)?_(e[g]):O)===O&&y)break;o[a]=function(e){return h(t,e)}}}),{initialChanges:l,removeWatches:s.length&&function(){for(var t=0,e=s.length;t<e;++t)s[t]()}}}}]}function gn(t,e){this.previousValue=t,this.currentValue=e}mn.$inject=["$provide","$$sanitizeUriProvider"],gn.prototype.isFirstChange=function(){return this.previousValue===fn};var yn=/^((?:x|data)[:\-_])/i,vn=/[:\-_]+(.)/g;function bn(t){return t.replace(yn,"").replace(vn,function(t,e,n){return n?e.toUpperCase():e})}function wn(t,e){var n="",o=t.split(/\s+/),i=e.split(/\s+/);t:for(var r=0;r<o.length;r++){for(var a=o[r],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function En(t){var e=(t=a(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Bt||n.nodeType===Vt&&""===n.nodeValue.trim())&&m.call(t,e,1)}return t}var Mn=i("$controller"),$n=/^(\S+)(\s+as\s+([\w$]+))?$/;function Cn(){var t={};this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){Rt(e,"controller"),U(e)?k(t,e):t[e]=n},this.$get=["$injector",function(e){return function(o,i,r,a){var s,l,c,u;if(r=!0===r,a&&V(a)&&(u=a),V(o)){if(!(l=o.match($n)))throw Mn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",o);if(c=l[1],u=u||l[3],!(o=t.hasOwnProperty(c)?t[c]:function(t,e,n){if(!e)return t;for(var o,i=e.split("."),r=t,a=i.length,s=0;s<a;s++)o=i[s],t&&(t=(r=t)[o]);return!n&&G(t)?dt(r,t):t}(i.$scope,c,!0)))throw Mn("ctrlreg","The controller with the name '{0}' is not registered.",c);Lt(o,c,!0)}if(r){var p=(W(o)?o[o.length-1]:o).prototype;return s=Object.create(p||null),u&&n(i,u,s,c||o.name),k(function(){var t=e.invoke(o,s,i,c);return t!==s&&(U(t)||G(t))&&(s=t,u&&n(i,u,s,c||o.name)),s},{instance:s,identifier:u})}return s=e.instantiate(o,i,c),u&&n(i,u,s,c||o.name),s};function n(t,e,n,o){if(!t||!U(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,e);t.$scope[e]=n}}]}function _n(){this.$get=["$window",function(t){return a(t.document)}]}function xn(){this.$get=["$document","$rootScope",function(t,e){var n=t[0],o=n&&n.hidden;function i(){o=n.hidden}return t.on("visibilitychange",i),e.$on("$destroy",function(){t.off("visibilitychange",i)}),function(){return o}}]}function Sn(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}var Tn=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof a&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},kn="application/json",An={"Content-Type":kn+";charset=utf-8"},Pn=/^\[|^\{(?!\{)/,Dn={"[":/]$/,"{":/}$/},In=/^\)]\}',?\n/,On=i("$http");function Nn(t){return U(t)?q(t)?t.toISOString():mt(t):t}function Ln(){this.$get=function(){return function(t){if(!t)return"";var e=[];return C(t,function(t,n){null===t||j(t)||G(t)||(W(t)?M(t,function(t){e.push(_t(n)+"="+_t(Nn(t)))}):e.push(_t(n)+"="+_t(Nn(t))))}),e.join("&")}}}function Rn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,o,i){W(n)?M(n,function(e,n){t(e,o+"["+(U(e)?n:"")+"]")}):U(n)&&!q(n)?C(n,function(e,n){t(e,o+(i?"":"[")+n+(i?"":"]"))}):(G(n)&&(n=n()),e.push(_t(o)+"="+(null==n?"":_t(Nn(n)))))}(t,"",!0),e.join("&")}}}function jn(t,e){if(V(t)){var n=t.replace(In,"").trim();if(n){var o=e("Content-Type"),i=o&&0===o.indexOf(kn);if(i||(a=(r=n).match(Pn))&&Dn[a[0]].test(r))try{t=gt(n)}catch(e){if(!i)return t;throw On("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var r,a;return t}function Fn(t){var e,n=Ft();function o(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return V(t)?M(t.split("\n"),function(t){e=t.indexOf(":"),o(h(tt(t.substr(0,e))),tt(t.substr(e+1)))}):U(t)&&M(t,function(t,e){o(h(e),tt(t))}),n}function Un(t){var e;return function(n){if(e||(e=Fn(t)),n){var o=e[h(n)];return void 0===o&&(o=null),o}return e}}function Hn(t,e,n,o){return G(o)?o(t,e,n):(M(o,function(o){t=o(t,e,n)}),t)}function Vn(t){return 200<=t&&t<300}function Bn(){var t=this.defaults={transformResponse:[jn],transformRequest:[function(t){return!U(t)||(e=t,"[object File]"===y.call(e))||function(t){return"[object Blob]"===y.call(t)}(t)||function(t){return"[object FormData]"===y.call(t)}(t)?t:mt(t);var e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:zt(An),put:zt(An),patch:zt(An)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return F(t)?(e=!!t,this):e};var n=this.interceptors=[],o=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,a,s,l,c,u,p,f){var m=l("$http");t.paramSerializer=V(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var g=[];M(n,function(t){g.unshift(V(t)?p.get(t):p.invoke(t))});var y,v=(y=[li].concat(o.map(ui)),function(t){var e=ui(t);return y.some(pi.bind(null,e))});function b(n){if(!U(n))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!V(f.valueOf(n.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var o=k({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);o.headers=function(e){var n,o,i,r=t.headers,a=k({},e.headers);r=k({},r.common,r[h(e.method)]);t:for(n in r){for(i in o=h(n),a)if(h(i)===o)continue t;a[n]=r[n]}return function(t,e){var n,o={};return M(t,function(t,i){G(t)?null!=(n=t(e))&&(o[i]=n):o[i]=t}),o}(a,zt(e))}(n),o.method=d(o.method),o.paramSerializer=V(o.paramSerializer)?p.get(o.paramSerializer):o.paramSerializer,r.$$incOutstandingRequestCount("$http");var l=[],y=[],w=u.resolve(o);return M(g,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&y.push(t.response,t.responseError)}),w=(w=E(w=(w=E(w,l)).then(function(n){var o=n.headers,i=Hn(n.data,Un(o),void 0,n.transformRequest);j(i)&&M(o,function(t,e){"content-type"===h(e)&&delete o[e]});j(n.withCredentials)&&!j(t.withCredentials)&&(n.withCredentials=t.withCredentials);return function(n,o){var i,r,l=u.defer(),p=l.promise,d=n.headers,g="jsonp"===h(n.method),y=n.url;g?y=f.getTrustedResourceUrl(y):V(y)||(y=f.valueOf(y));y=function(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(y,n.paramSerializer(n.params)),g&&(y=function(t,e){var n=t.split("?");if(n.length>2)throw On("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return M($t(n[1]),function(n,o){if("JSON_CALLBACK"===n)throw On("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(o===e)throw On("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)}),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(y,n.jsonpCallbackParam));b.pendingRequests.push(n),p.then(x,x),!n.cache&&!t.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=U(n.cache)?n.cache:U(t.cache)?t.cache:m);i&&(F(r=i.get(y))?J(r)?r.then(_,_):W(r)?C(r[1],r[0],zt(r[2]),r[3],r[4]):C(r,200,{},"OK","complete"):i.put(y,p));if(j(r)){var w=v(n.url)?s()[n.xsrfCookieName||t.xsrfCookieName]:void 0;w&&(d[n.xsrfHeaderName||t.xsrfHeaderName]=w),a(n.method,y,o,function(t,n,o,r,a){i&&(Vn(t)?i.put(y,[t,n,Fn(o),r,a]):i.remove(y));function s(){C(n,t,o,r,a)}e?c.$applyAsync(s):(s(),c.$$phase||c.$apply())},d,n.timeout,n.withCredentials,n.responseType,E(n.eventHandlers),E(n.uploadEventHandlers))}return p;function E(t){if(t){var n={};return M(t,function(t,o){n[o]=function(n){function o(){t(n)}e?c.$applyAsync(o):c.$$phase?o():c.$apply(o)}}),n}}function C(t,e,o,i,r){(Vn(e=e>=-1?e:0)?l.resolve:l.reject)({data:t,status:e,headers:Un(o),config:n,statusText:i,xhrStatus:r})}function _(t){C(t.data,t.status,zt(t.headers()),t.statusText,t.xhrStatus)}function x(){var t=b.pendingRequests.indexOf(n);-1!==t&&b.pendingRequests.splice(t,1)}}(n,i).then(C,C)}),y)).finally(function(){r.$$completeOutstandingRequest(O,"$http")});function E(t,e){for(var n=0,o=e.length;n<o;){var i=e[n++],r=e[n++];t=t.then(i,r)}return e.length=0,t}function C(t){var e=k({},t);return e.data=Hn(t.data,t.headers,t.status,o.transformResponse),Vn(t.status)?e:u.reject(e)}}return b.pendingRequests=[],function(t){M(arguments,function(t){b[t]=function(e,n){return b(k({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){M(arguments,function(t){b[t]=function(e,n,o){return b(k({},o||{},{method:t,url:e,data:n}))}})}("post","put","patch"),b.defaults=t,b}]}function qn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Wn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,o){return function(t,e,n,o,i){return function(r,a,s,l,c,u,p,d,f,m){if(a=a||t.url(),"jsonp"===h(r))var g=o.createCallback(a),y=function(t,e,n){t=t.replace("JSON_CALLBACK",e);var r=i.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,a=function(t){r.removeEventListener("load",a),r.removeEventListener("error",a),i.body.removeChild(r),r=null;var s=-1,l="unknown";t&&("load"!==t.type||o.wasCalled(e)||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},r.addEventListener("load",a),r.addEventListener("error",a),i.body.appendChild(r),a}(a,g,function(t,e){var n=200===t&&o.getResponse(g);C(l,t,n,"",e,"complete"),o.removeCallback(g)});else{var v=e(r,a),b=!1;v.open(r,a,!0),M(c,function(t,e){F(t)&&v.setRequestHeader(e,t)}),v.onload=function(){var t=v.statusText||"",e="response"in v?v.response:v.responseText,n=1223===v.status?204:v.status;0===n&&(n=e?200:"file"===ui(a).protocol?404:0),C(l,n,e,v.getAllResponseHeaders(),t,"complete")};if(v.onerror=function(){C(l,-1,null,null,"","error")},v.ontimeout=function(){C(l,-1,null,null,"","timeout")},v.onabort=function(){C(l,-1,null,null,"",b?"timeout":"abort")},M(f,function(t,e){v.addEventListener(e,t)}),M(m,function(t,e){v.upload.addEventListener(e,t)}),p&&(v.withCredentials=!0),d)try{v.responseType=d}catch(t){if("json"!==d)throw t}v.send(j(s)?null:s)}if(u>0)var w=n(function(){E("timeout")},u);else J(u)&&u.then(function(){E(F(u.$$timeoutId)?"timeout":"abort")});function E(t){b="timeout"===t,y&&y(),v&&v.abort()}function C(t,e,o,i,r,a){F(w)&&n.cancel(w),y=v=null,t(e,o,i,r,a)}}}(t,o,t.defer,e,n[0])}]}var zn=angular.$interpolateMinErr=i("$interpolate");function Gn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,o,i){var r=t.length,a=e.length,s=new RegExp(t.replace(/./g,c),"g"),l=new RegExp(e.replace(/./g,c),"g");function c(t){return"\\\\\\"+t}function u(n){return n.replace(s,t).replace(l,e)}function p(t,e,n,o){var i=t.$watch(function(t){return i(),o(t)},e,n);return i}function h(s,l,c,h){var d=c===i.URL||c===i.MEDIA_URL;if(!s.length||-1===s.indexOf(t)){if(l)return;var f=u(s);d&&(f=i.getTrusted(c,f));var m=L(f);return m.exp=s,m.expressions=[],m.$$watchDelegate=p,m}h=!!h;for(var g,y,v,b,w,E=0,M=[],C=s.length,_=[],x=[];E<C;){if(-1===(g=s.indexOf(t,E))||-1===(y=s.indexOf(e,g+r))){E!==C&&_.push(u(s.substring(E)));break}E!==g&&_.push(u(s.substring(E,g))),b=s.substring(g+r,y),M.push(b),E=y+a,x.push(_.length),_.push("")}w=1===_.length&&1===x.length;var S=d&&w?void 0:function(t){try{return t=c&&!d?i.getTrusted(c,t):i.valueOf(t),h&&!F(t)?t:Ut(t)}catch(t){o(zn.interr(s,t))}};if(v=M.map(function(t){return n(t,S)}),!l||M.length){var T=function(t){for(var e=0,n=M.length;e<n;e++){if(h&&j(t[e]))return;_[x[e]]=t[e]}return d?i.getTrusted(c,w?_[0]:_.join("")):(c&&_.length>1&&zn.throwNoconcat(s),_.join(""))};return k(function(t){var e=0,n=M.length,i=new Array(n);try{for(;e<n;e++)i[e]=v[e](t);return T(i)}catch(t){o(zn.interr(s,t))}},{exp:s,expressions:M,$$watchDelegate:function(t,e){var n;return t.$watchGroup(v,function(o,i){var r=T(o);e.call(this,r,o!==i?n:r,t),n=r})}})}}return h.startSymbol=function(){return t},h.endSymbol=function(){return e},h}]}zn.throwNoconcat=function(t){throw zn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},zn.interr=function(t,e){return zn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Yn=i("$interval");function Kn(){this.$get=["$$intervalFactory","$window",function(t,e){var n={},o=function(t){e.clearInterval(t),delete n[t]},i=t(function(t,o,i){var r=e.setInterval(t,o);return n[r]=i,r},o);return i.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Yn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(t.$$intervalId))return!1;var e=t.$$intervalId,i=n[e];return Vo(i.promise),i.reject("canceled"),o(e),!0},i}]}function Xn(){this.$get=["$browser","$q","$$q","$rootScope",function(t,e,n,o){return function(i,r){return function(a,s,l,c){var u=arguments.length>4,p=u?ht(arguments,4):[],h=0,d=F(c)&&!c,f=(d?n:e).defer(),m=f.promise;function g(){u?a.apply(null,p):a(h)}return l=F(l)?l:0,m.$$intervalId=i(function(){d?t.defer(g):o.$evalAsync(g),f.notify(h++),l>0&&h>=l&&(f.resolve(h),r(m.$$intervalId)),d||o.$apply()},s,f,d),m}}}]}var Zn=function(){this.$get=function(){var t=angular.callbacks,e={};return{createCallback:function(n){var o="_"+(t.$$counter++).toString(36),i="angular.callbacks."+o,r=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(o);return e[i]=t[o]=r,i},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(n){var o=e[n];delete t[o.id],delete e[n]}}}},Jn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Qn={http:80,https:443,ftp:21},to=i("$location");function eo(t,e,n){var o,i=(o=[],M(e,function(t,e){W(t)?M(t,function(t){o.push(_t(e,!0)+(!0===t?"":"="+_t(t,!0)))}):o.push(_t(e,!0)+(!0===t?"":"="+_t(t,!0)))}),o.length?o.join("&"):""),r=n?"#"+Ct(n):"";return function(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Ct(e[n].replace(/%2F/g,"/"));return e.join("/")}(t)+(i?"?"+i:"")+r}function no(t,e){var n=ui(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=P(n.port)||Qn[n.protocol]||null}var oo=/^\s*[\\/]{2,}/;function io(t,e,n){if(oo.test(t))throw to("badpath",'Invalid url "{0}".',t);var o="/"!==t.charAt(0);o&&(t="/"+t);var i=ui(t),r=o&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;e.$$path=function(t,e){for(var n=t.split("/"),o=n.length;o--;)n[o]=decodeURIComponent(n[o]),e&&(n[o]=n[o].replace(/\//g,"%2F"));return n.join("/")}(r,n),e.$$search=$t(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ro(t,e){return t.slice(0,e.length)===e}function ao(t,e){if(ro(e,t))return e.substr(t.length)}function so(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function lo(t,e,n){this.$$html5=!0,n=n||"",no(t,this),this.$$parse=function(t){var n=ao(e,t);if(!V(n))throw to("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);io(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return e+t.substr(1)},this.$$parseLinkUrl=function(o,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(F(r=ao(t,o))?(a=r,s=n&&F(r=ao(n,r))?e+(ao("/",r)||r):t+a):F(r=ao(e,o))?s=e+r:e===o+"/"&&(s=e),s&&this.$$parse(s),!!s);var r,a,s}}function co(t,e,n){no(t,this),this.$$parse=function(o){var i,r=ao(t,o)||ao(e,o);j(r)||"#"!==r.charAt(0)?this.$$html5?i=r:(i="",j(r)&&(t=o,this.replace())):j(i=ao(n,r))&&(i=r),io(i,this,!1),this.$$path=function(t,e,n){var o,i=/^\/[A-Z]:(\/.*)/;ro(e,n)&&(e=e.replace(n,""));if(i.exec(e))return t;return(o=i.exec(t))?o[1]:t}(this.$$path,i,t),this.$$compose()},this.$$normalizeUrl=function(e){return t+(e?n+e:"")},this.$$parseLinkUrl=function(e,n){return so(t)===so(e)&&(this.$$parse(e),!0)}}function uo(t,e,n){this.$$html5=!0,co.apply(this,arguments),this.$$parseLinkUrl=function(o,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(t===so(o)?r=o:(a=ao(e,o))?r=t+n+a:e===o+"/"&&(r=e),r&&this.$$parse(r),!!r);var r,a},this.$$normalizeUrl=function(e){return t+n+e}}var po={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=eo(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:ho("$$absUrl"),url:function(t){if(j(t))return this.$$url;var e=Jn.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:ho("$$protocol"),host:ho("$$host"),port:ho("$$port"),path:fo("$$path",function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(V(t)||B(t))t=t.toString(),this.$$search=$t(t);else{if(!U(t))throw to("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");M(t=at(t,{}),function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:j(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:fo("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function ho(t){return function(){return this[t]}}function fo(t,e){return function(n){return j(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function mo(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return F(e)?(t=e,this):t},this.html5Mode=function(t){return Z(t)?(e.enabled=t,this):U(t)?(Z(t.enabled)&&(e.enabled=t.enabled),Z(t.requireBase)&&(e.requireBase=t.requireBase),(Z(t.rewriteLinks)||V(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,o,i,r,s){var l,c,u,p,h=o.baseHref(),d=o.url();if(e.enabled){if(!h&&e.requireBase)throw to("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(p=d).substring(0,p.indexOf("/",p.indexOf("//")+2))+(h||"/"),c=i.history?lo:uo}else u=so(d),c=co;var f=function(t){return t.substr(0,so(t).lastIndexOf("/")+1)}(u);(l=new c(u,f,"#"+t)).$$parseLinkUrl(d,d),l.$$state=o.state();var m=/^\s*(javascript|mailto):/i;function g(t,e,n){var i=l.url(),r=l.$$state;try{o.url(t,e,n),l.$$state=o.state()}catch(t){throw l.url(i),l.$$state=r,t}}r.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=a(t.target);"a"!==ot(s[0]);)if(s[0]===r[0]||!(s=s.parent())[0])return;if(!V(i)||!j(s.attr(i))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");U(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=ui(c.animVal).href),m.test(c)||!c||s.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(t.preventDefault(),l.absUrl()!==o.url()&&n.$apply())}}}),l.absUrl()!==d&&o.url(l.absUrl(),!0);var y=!0;return o.onUrlChange(function(t,e){ro(t,f)?(n.$evalAsync(function(){var o,i=l.absUrl(),r=l.$$state;l.$$parse(t),l.$$state=e,o=n.$broadcast("$locationChangeStart",t,i,e,r).defaultPrevented,l.absUrl()===t&&(o?(l.$$parse(i),l.$$state=r,g(i,!1,r)):(y=!1,v(i,r)))}),n.$$phase||n.$digest()):s.location.href=t}),n.$watch(function(){if(y||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=o.url(),e=l.absUrl(),r=o.state(),a=l.$$replace,s=!((c=t)===(u=e)||ui(c).href===ui(u).href)||l.$$html5&&i.history&&r!==l.$$state;(y||s)&&(y=!1,n.$evalAsync(function(){var e=l.absUrl(),o=n.$broadcast("$locationChangeStart",e,t,l.$$state,r).defaultPrevented;l.absUrl()===e&&(o?(l.$$parse(t),l.$$state=r):(s&&g(e,a,r===l.$$state?null:l.$$state),v(t,r)))}))}var c,u;l.$$replace=!1}),l;function v(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}}]}function go(){var t=!0,e=this;this.debugEnabled=function(e){return F(e)?(t=e,this):t},this.$get=["$window",function(n){var o,i=r||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:(o=a("debug"),function(){t&&o.apply(e,arguments)})};function a(t){var e=n.console||{},o=e[t]||e.log||O;return function(){var t=[];return M(arguments,function(e){t.push(function(t){return z(t)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))}),Function.prototype.apply.call(o,e,t)}}}]}M([uo,co,lo],function(t){t.prototype=Object.create(po),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==lo||!this.$$html5)throw to("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=j(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var yo=i("$parse"),vo={}.constructor.prototype.valueOf;function bo(t){return t+""}var wo=Ft();M("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){wo[t]=!0});var Eo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Mo=function(t){this.options=t};Mo.prototype={constructor:Mo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),o=n+this.peek(2),i=wo[e],r=wo[n],a=wo[o];if(i||r||a){var s=a?o:r?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),o=e.charCodeAt(0);return n>=55296&&n<=56319&&o>=56320&&o<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var o=F(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw yo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,o,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=h(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var o=this.peek();if("e"===n&&this.isExpOperator(o))t+=n;else if(this.isExpOperator(n)&&o&&this.isNumber(o)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||o&&this.isNumber(o)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",o=t,i=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(o+=r,i){if("u"===r){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Eo[r]||r}i=!1}else if("\\"===r)i=!0;else{if(r===t)return this.index++,void this.tokens.push({index:e,text:o,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",e)}};var $o=function(t,e){this.lexer=t,this.options=e};function Co(t,e){return void 0!==t?t:e}function _o(t,e){return void 0===t?e:void 0===e?t:t+e}$o.Program="Program",$o.ExpressionStatement="ExpressionStatement",$o.AssignmentExpression="AssignmentExpression",$o.ConditionalExpression="ConditionalExpression",$o.LogicalExpression="LogicalExpression",$o.BinaryExpression="BinaryExpression",$o.UnaryExpression="UnaryExpression",$o.CallExpression="CallExpression",$o.MemberExpression="MemberExpression",$o.Identifier="Identifier",$o.Literal="Literal",$o.ArrayExpression="ArrayExpression",$o.Property="Property",$o.ObjectExpression="ObjectExpression",$o.ThisExpression="ThisExpression",$o.LocalsExpression="LocalsExpression",$o.NGValueParameter="NGValueParameter",$o.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:$o.Program,body:t}},expressionStatement:function(){return{type:$o.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Ao(t))throw yo("lval","Trying to assign a value to a non l-value");t={type:$o.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:$o.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:$o.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:$o.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:$o.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:$o.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=at(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:$o.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:$o.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:$o.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:$o.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:$o.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:$o.Identifier,name:t.text}},constant:function(){return{type:$o.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:$o.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:$o.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:$o.ObjectExpression,properties:e}},throwError:function(t,e){throw yo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw yo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw yo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,o){return this.peekAhead(0,t,e,n,o)},peekAhead:function(t,e,n,o,i){if(this.tokens.length>t){var r=this.tokens[t],a=r.text;if(a===e||a===n||a===o||a===i||!e&&!n&&!o&&!i)return r}return!1},expect:function(t,e,n,o){var i=this.peek(t,e,n,o);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:$o.ThisExpression},$locals:{type:$o.LocalsExpression}}};var xo=1,So=2;function To(t,e,n){var o,i,r,a=t.isPure=function(t,e){switch(t.type){case $o.MemberExpression:if(t.computed)return!1;break;case $o.UnaryExpression:return xo;case $o.BinaryExpression:return"+"!==t.operator&&xo;case $o.CallExpression:return!1}return void 0===e?So:e}(t,n);switch(t.type){case $o.Program:o=!0,M(t.body,function(t){To(t.expression,e,a),o=o&&t.expression.constant}),t.constant=o;break;case $o.Literal:t.constant=!0,t.toWatch=[];break;case $o.UnaryExpression:To(t.argument,e,a),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case $o.BinaryExpression:To(t.left,e,a),To(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case $o.LogicalExpression:To(t.left,e,a),To(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case $o.ConditionalExpression:To(t.test,e,a),To(t.alternate,e,a),To(t.consequent,e,a),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case $o.Identifier:t.constant=!1,t.toWatch=[t];break;case $o.MemberExpression:To(t.object,e,a),t.computed&&To(t.property,e,a),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case $o.CallExpression:r=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),o=r,i=[],M(t.arguments,function(t){To(t,e,a),o=o&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=o,t.toWatch=r?i:[t];break;case $o.AssignmentExpression:To(t.left,e,a),To(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case $o.ArrayExpression:o=!0,i=[],M(t.elements,function(t){To(t,e,a),o=o&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=o,t.toWatch=i;break;case $o.ObjectExpression:o=!0,i=[],M(t.properties,function(t){To(t.value,e,a),o=o&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(To(t.key,e,!1),o=o&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=o,t.toWatch=i;break;case $o.ThisExpression:case $o.LocalsExpression:t.constant=!1,t.toWatch=[]}}function ko(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function Ao(t){return t.type===$o.Identifier||t.type===$o.MemberExpression}function Po(t){if(1===t.body.length&&Ao(t.body[0].expression))return{type:$o.AssignmentExpression,left:t.body[0].expression,right:{type:$o.NGValueParameter},operator:"="}}function Do(t){this.$filter=t}function Io(t){this.$filter=t}function Oo(t,e,n){this.ast=new $o(t,n),this.astCompiler=n.csp?new Io(e):new Do(e)}function No(t){return G(t.valueOf)?t.valueOf():vo.call(t)}function Lo(){var t,e,n=Ft(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,o){return t=n,e=o,this},this.$get=["$filter",function(i){var r={csp:ct().noUnsafeEval,literals:at(o),isIdentifierStart:G(t)&&t,isIdentifierContinue:G(e)&&e};return a.$$getAst=function(t){return new Oo(new Mo(r),i,r).getAst(t).ast},a;function a(t,e){var o,a;switch(typeof t){case"string":if(t=t.trim(),!(o=n[a=t]))o=new Oo(new Mo(r),i,r).parse(t),n[a]=h(o);return d(o,e);case"function":return d(t,e);default:return d(O,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=No(t))&&!n)&&(t===e||t!=t&&e!=e)}function l(t,e,n,o,i){var r,a=o.inputs;if(1===a.length){var l=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,l,a.isPure)||(r=o(t,void 0,void 0,[e]),l=e&&No(e)),r},e,n,i)}for(var c=[],u=[],p=0,h=a.length;p<h;p++)c[p]=s,u[p]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var l=a[n](t);(e||(e=!s(l,c[n],a[n].isPure)))&&(u[n]=l,c[n]=l&&No(l))}return e&&(r=o(t,void 0,void 0,u)),r},e,n,i)}function c(t,e,n,o,i){var r,a,s=o.literal?u:F,l=o.$$intercepted||o,c=o.$$interceptor||N,p=o.inputs&&!l.inputs;return f.literal=o.literal,f.constant=o.constant,f.inputs=o.inputs,h(f),r=t.$watch(f,e,n,i);function d(){s(a)&&r()}function f(t,e,n,o){return a=p&&o?o[0]:l(t,e,n,o),s(a)&&t.$$postDigest(d),c(a)}}function u(t){var e=!0;return M(t,function(t){F(t)||(e=!1)}),e}function p(t,e,n,o){var i=t.$watch(function(t){return i(),o(t)},e,n);return i}function h(t){return t.constant?t.$$watchDelegate=p:t.oneTime?t.$$watchDelegate=c:t.inputs&&(t.$$watchDelegate=l),t}function d(t,e){if(!e)return t;t.$$interceptor&&(e=function(t,e){function n(n){return e(t(n))}return n.$stateful=t.$stateful||e.$stateful,n.$$pure=t.$$pure&&e.$$pure,n}(t.$$interceptor,e),t=t.$$intercepted);var n=!1,o=function(o,i,r,a){var s=n&&a?a[0]:t(o,i,r,a);return e(s)};return o.$$intercepted=t,o.$$interceptor=e,o.literal=t.literal,o.oneTime=t.oneTime,o.constant=t.constant,e.$stateful||(n=!t.inputs,o.inputs=t.inputs?t.inputs:[t],e.$$pure||(o.inputs=o.inputs.map(function(t){return t.isPure===So?function(e){return t(e)}:t}))),h(o)}}]}function Ro(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Fo(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return F(e)?(t=e,this):t}}function jo(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Fo(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return F(e)?(t=e,this):t}}function Fo(t,e,n){var o=i("$q",TypeError),r=0,a=[];function s(){return new function(){var t=this.promise=new l;this.resolve=function(e){p(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){f(t,e)}}}function l(){this.$$state={status:0}}function c(){for(;!r&&a.length;){var t=a.shift();if(!Uo(t)){Ho(t);var n="Possibly unhandled rejection: "+Gt(t.value);z(t.value)?e(t.value,n):e(n)}}}function u(o){!n||o.pending||2!==o.status||Uo(o)||(0===r&&0===a.length&&t(c),a.push(o)),!o.processScheduled&&o.pending&&(o.processScheduled=!0,++r,t(function(){!function(o){var i,a,s;s=o.pending,o.processScheduled=!1,o.pending=void 0;try{for(var l=0,u=s.length;l<u;++l){Ho(o),a=s[l][0],i=s[l][o.status];try{G(i)?p(a,i(o.value)):1===o.status?p(a,o.value):h(a,o.value)}catch(t){h(a,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--r,n&&0===r&&t(c)}}(o)}))}function p(t,e){t.$$state.status||(e===t?d(t,o("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):function t(e,n){var o;var i=!1;try{(U(n)||G(n))&&(o=n.then),G(o)?(e.$$state.status=-1,o.call(n,function r(t){if(i)return;i=!0,function t(e,n){var o;var i=!1;try{(U(n)||G(n))&&(o=n.then),G(o)?(e.$$state.status=-1,o.call(n,r,a,function(t){f(e,t)})):(e.$$state.value=n,e.$$state.status=1,u(e.$$state))}catch(t){a(t)}function r(n){i||(i=!0,t(e,n))}function a(t){i||(i=!0,d(e,t))}}(e,t)},a,function(t){f(e,t)})):(e.$$state.value=n,e.$$state.status=1,u(e.$$state))}catch(t){a(t)}function r(n){i||(i=!0,t(e,n))}function a(t){i||(i=!0,d(e,t))}}(t,e))}function h(t,e){t.$$state.status||d(t,e)}function d(t,e){t.$$state.value=e,t.$$state.status=2,u(t.$$state)}function f(n,o){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&t(function(){for(var t,n,r=0,a=i.length;r<a;r++){n=i[r][0],t=i[r][3];try{f(n,G(t)?t(o):o)}catch(t){e(t)}}})}function m(t){var e=new l;return h(e,t),e}function g(t,e,n){var o=null;try{G(n)&&(o=n())}catch(t){return m(t)}return J(o)?o.then(function(){return e(t)},m):e(t)}function y(t,e,n,o){var i=new l;return p(i,t),i.then(e,n,o)}k(l.prototype,{then:function(t,e,n){if(j(t)&&j(e)&&j(n))return this;var o=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([o,t,e,n]),this.$$state.status>0&&u(this.$$state),o},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return g(e,v,t)},function(e){return g(e,m,t)},e)}});var v=y;function b(t){if(!G(t))throw o("norslvr","Expected resolverFn, got '{0}'",t);var e=new l;return t(function(t){p(e,t)},function(t){h(e,t)}),e}return b.prototype=l.prototype,b.defer=s,b.reject=m,b.when=y,b.resolve=v,b.all=function(t){var e=new l,n=0,o=W(t)?[]:{};return M(t,function(t,i){n++,y(t).then(function(t){o[i]=t,--n||p(e,o)},function(t){h(e,t)})}),0===n&&p(e,o),e},b.race=function(t){var e=s();return M(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise},b}function Uo(t){return!!t.pur}function Ho(t){t.pur=!0}function Vo(t){t.$$state&&Ho(t.$$state)}function Bo(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,r=i?function(t){var e=n(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return r.supported=i,r}]}function qo(){var t=10,e=i("$rootScope"),n=null,o=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,a,s){function l(t){t.currentScope.$$destroyed=!0}function c(){this.$id=x(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}c.prototype={constructor:c,$new:function(t,e){var n;return e=e||this,t?(n=new c).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=x(),this.$$ChildScope=null,this.$$suspended=!1}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!==this)&&n.$on("$destroy",l),n},$watch:function(t,e,o,i){var r=a(t),s=G(e)?e:O;if(r.$$watchDelegate)return r.$$watchDelegate(this,s,o,r,t);var l=this,c=l.$$watchers,u={fn:s,last:w,get:r,exp:i||t,eq:!!o};return n=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,v(this,1),function(){var t=rt(c,u);t>=0&&(v(l,-1),t<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(t,e){var n=new Array(t.length),o=new Array(t.length),i=[],r=this,a=!1,s=!0;if(!t.length){var l=!0;return r.$evalAsync(function(){l&&e(o,o,r)}),function(){l=!1}}if(1===t.length)return this.$watch(t[0],function(t,i,r){o[0]=t,n[0]=i,e(o,t===i?o:n,r)});function c(){a=!1;try{s?(s=!1,e(o,o,r)):e(o,n,r)}finally{for(var i=0;i<t.length;i++)n[i]=o[i]}}return M(t,function(t,e){var n=r.$watch(t,function(t){o[e]=t,a||(a=!0,r.$evalAsync(c))});i.push(n)}),function(){for(;i.length;)i.shift()()}},$watchCollection:function(t,e){m.$$pure=a(t).literal,m.$stateful=!m.$$pure;var n,o,i,r=this,s=e.length>1,l=0,c=a(t,m),u=[],h={},d=!0,f=0;function m(t){var e,i,r,a;if(!j(n=t)){if(U(n))if(E(n)){o!==u&&(f=(o=u).length=0,l++),e=n.length,f!==e&&(l++,o.length=f=e);for(var s=0;s<e;s++)a=o[s],r=n[s],a!=a&&r!=r||a===r||(l++,o[s]=r)}else{for(i in o!==h&&(o=h={},f=0,l++),e=0,n)p.call(n,i)&&(e++,r=n[i],a=o[i],i in o?a!=a&&r!=r||a===r||(l++,o[i]=r):(f++,o[i]=r,l++));if(f>e)for(i in l++,o)p.call(n,i)||(f--,delete o[i])}else o!==n&&(o=n,l++);return l}}return this.$watch(c,function(){if(d?(d=!1,e(n,n,r)):e(n,i,r),s)if(U(n))if(E(n)){i=new Array(n.length);for(var t=0;t<n.length;t++)i[t]=n[t]}else for(var o in i={},n)p.call(n,o)&&(i[o]=n[o]);else i=n})},$digest:function(){var r,a,l,c,p,f,v,b,E,M=t,_=h.length?u:this,x=[];g("$digest"),s.$$checkUrlChange(),this===u&&null!==o&&(s.defer.cancel(o),C()),n=null;do{p=!1,v=_;for(var S=0;S<h.length;S++){try{(0,(E=h[S]).fn)(E.scope,E.locals)}catch(t){i(t)}n=null}h.length=0;t:do{if(c=!v.$$suspended&&v.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(r=c[c.$$digestWatchIndex])if((a=(0,r.get)(v))===(l=r.last)||(r.eq?lt(a,l):D(a)&&D(l))){if(r===n){p=!1;break t}}else p=!0,n=r,r.last=r.eq?at(a,null):a,(0,r.fn)(a,l===w?a:l,v),M<5&&(x[b=4-M]||(x[b]=[]),x[b].push({msg:G(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:l}))}catch(t){i(t)}if(!(f=!v.$$suspended&&v.$$watchersCount&&v.$$childHead||v!==_&&v.$$nextSibling))for(;v!==_&&!(f=v.$$nextSibling);)v=v.$parent}while(v=f);if((p||h.length)&&!M--)throw y(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(p||h.length);for(y();m<d.length;)try{d[m++]()}catch(t){i(t)}d.length=m=0,s.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===u&&s.$$applicationDestroyed(),v(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=O,this.$on=this.$watch=this.$watchGroup=function(){return O},this.$$listeners={},this.$$nextSibling=null,function t(e){9===r&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t,e){u.$$phase||h.length||s.defer(function(){h.length&&u.$digest()},null,"$evalAsync"),h.push({scope:this,fn:a(t),locals:e})},$$postDigest:function(t){d.push(t)},$apply:function(t){try{g("$apply");try{return this.$eval(t)}finally{y()}}catch(t){i(t)}finally{try{u.$digest()}catch(t){throw i(t),t}}},$applyAsync:function(t){var e=this;t&&f.push(function(){e.$eval(t)}),t=a(t),null===o&&(o=s.defer(function(){u.$apply(C)},null,"$applyAsync"))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var o=this;do{o.$$listenerCount[t]||(o.$$listenerCount[t]=0),o.$$listenerCount[t]++}while(o=o.$parent);var i=this;return function(){var o=n.indexOf(e);-1!==o&&(delete n[o],b(i,1,t))}},$emit:function(t,e){var n,o,r,a=[],s=this,l=!1,c={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=pt([c],arguments,1);do{for(n=s.$$listeners[t]||a,c.currentScope=s,o=0,r=n.length;o<r;o++)if(n[o])try{n[o].apply(null,u)}catch(t){i(t)}else n.splice(o,1),o--,r--;if(l)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,o=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var a,s,l,c=pt([r],arguments,1);n=o;){for(r.currentScope=n,s=0,l=(a=n.$$listeners[t]||[]).length;s<l;s++)if(a[s])try{a[s].apply(null,c)}catch(t){i(t)}else a.splice(s,1),s--,l--;if(!(o=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(o=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var u=new c,h=u.$$asyncQueue=[],d=u.$$postDigestQueue=[],f=u.$$applyAsyncQueue=[],m=0;return u;function g(t){if(u.$$phase)throw e("inprog","{0} already in progress",u.$$phase);u.$$phase=t}function y(){u.$$phase=null}function v(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function b(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function w(){}function C(){for(;f.length;)try{f.shift()()}catch(t){i(t)}o=null}}]}function Wo(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return F(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return F(t)?(e=t,this):e},this.$get=function(){return function(n,o){var i=o?e:t,r=ui(n&&n.trim()).href;return""===r||r.match(i)?n:"unsafe:"+r}}}Do.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},To(t,e.$filter);var n,o="";if(this.stage="assign",n=Po(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),o="fn.assign="+this.generateFunction("assign","s,v,l")}var r=ko(t.body);e.stage="inputs",M(r,function(t,n){var o="fn"+n;e.state[o]={vars:[],body:[],own:{}},e.state.computing=o;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:o,isPure:t.isPure}),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,bo,Co,_o);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return M(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return M(this.state.filters,function(n,o){t.push(n+"=$filter("+e.escape(o)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,o,i,r){var a,s,l,c,u,p=this;if(o=o||O,!r&&F(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,o,i,!0));switch(t.type){case $o.Program:M(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){s=t}),n!==t.body.length-1?p.current().body.push(s,";"):p.return_(s)});break;case $o.Literal:c=this.escape(t.value),this.assign(e,c),o(e||c);break;case $o.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){s=t}),c=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,c),o(c);break;case $o.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){a=t}),this.recurse(t.right,void 0,void 0,function(t){s=t}),c="+"===t.operator?this.plus(a,s):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(s,0):"("+a+")"+t.operator+"("+s+")",this.assign(e,c),o(c);break;case $o.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),o(e);break;case $o.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),o(e);break;case $o.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){i&&1!==i&&p.if_(p.isNull(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),o(e);break;case $o.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,a,void 0,function(){p.if_(p.notNull(a),function(){t.computed?(s=p.nextId(),p.recurse(t.property,s),p.getStringValue(s),i&&1!==i&&p.if_(p.not(p.computedMember(a,s)),p.lazyAssign(p.computedMember(a,s),"{}")),c=p.computedMember(a,s),p.assign(e,c),n&&(n.computed=!0,n.name=s)):(i&&1!==i&&p.if_(p.isNull(p.nonComputedMember(a,t.property.name)),p.lazyAssign(p.nonComputedMember(a,t.property.name),"{}")),c=p.nonComputedMember(a,t.property.name),p.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),o(e)},!!i);break;case $o.CallExpression:e=e||this.nextId(),t.filter?(s=p.filter(t.callee.name),l=[],M(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),l.push(e)}),c=s+"("+l.join(",")+")",p.assign(e,c),o(e)):(s=p.nextId(),a={},l=[],p.recurse(t.callee,s,a,function(){p.if_(p.notNull(s),function(){M(t.arguments,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){l.push(t)})}),c=a.name?p.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",p.assign(e,c)},function(){p.assign(e,"undefined")}),o(e)}));break;case $o.AssignmentExpression:s=this.nextId(),a={},this.recurse(t.left,void 0,a,function(){p.if_(p.notNull(a.context),function(){p.recurse(t.right,s),c=p.member(a.context,a.name,a.computed)+t.operator+s,p.assign(e,c),o(e||c)})},1);break;case $o.ArrayExpression:l=[],M(t.elements,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){l.push(t)})}),c="["+l.join(",")+"]",this.assign(e,c),o(e||c);break;case $o.ObjectExpression:l=[],u=!1,M(t.properties,function(t){t.computed&&(u=!0)}),u?(e=e||this.nextId(),this.assign(e,"{}"),M(t.properties,function(t){t.computed?(a=p.nextId(),p.recurse(t.key,a)):a=t.key.type===$o.Identifier?t.key.name:""+t.key.value,s=p.nextId(),p.recurse(t.value,s),p.assign(p.member(e,a,t.computed),s)})):(M(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){l.push(p.escape(e.key.type===$o.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+l.join(",")+"}",this.assign(e,c)),o(e||c);break;case $o.ThisExpression:this.assign(e,"s"),o(e||"s");break;case $o.LocalsExpression:this.assign(e,"l"),o(e||"l");break;case $o.NGValueParameter:this.assign(e,"v"),o(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,o=this.current().own;return o.hasOwnProperty(n)||(o[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),o[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var o=this.current().body;o.push("if(",t,"){"),e(),o.push("}"),n&&(o.push("else{"),n(),o.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,o,i,r){var a=this;return function(){a.recurse(t,e,n,o,i,r)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(V(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(B(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw yo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Io.prototype={compile:function(t){var e,n,o=this;To(t,o.$filter),(e=Po(t))&&(n=this.recurse(e));var i,r=ko(t.body);r&&(i=[],M(r,function(t,e){var n=o.recurse(t);n.isPure=t.isPure,t.input=n,i.push(n),t.watchId=e}));var a=[];M(t.body,function(t){a.push(o.recurse(t.expression))});var s=0===t.body.length?O:1===t.body.length?a[0]:function(t,e){var n;return M(a,function(o){n=o(t,e)}),n};return n&&(s.assign=function(t,e,o){return n(t,o,e)}),i&&(s.inputs=i),s},recurse:function(t,e,n){var o,i,r,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case $o.Literal:return this.value(t.value,e);case $o.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case $o.BinaryExpression:case $o.LogicalExpression:return o=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](o,i,e);case $o.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case $o.Identifier:return a.identifier(t.name,e,n);case $o.MemberExpression:return o=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(o,i,e,n):this.nonComputedMember(o,i,e,n);case $o.CallExpression:return r=[],M(t.arguments,function(t){r.push(a.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,o,a){for(var s=[],l=0;l<r.length;++l)s.push(r[l](t,n,o,a));var c=i.apply(void 0,s,a);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,o,a){var s,l=i(t,n,o,a);if(null!=l.value){for(var c=[],u=0;u<r.length;++u)c.push(r[u](t,n,o,a));s=l.value.apply(l.context,c)}return e?{value:s}:s};case $o.AssignmentExpression:return o=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,r,a){var s=o(t,n,r,a),l=i(t,n,r,a);return s.context[s.name]=l,e?{value:l}:l};case $o.ArrayExpression:return r=[],M(t.elements,function(t){r.push(a.recurse(t))}),function(t,n,o,i){for(var a=[],s=0;s<r.length;++s)a.push(r[s](t,n,o,i));return e?{value:a}:a};case $o.ObjectExpression:return r=[],M(t.properties,function(t){t.computed?r.push({key:a.recurse(t.key),computed:!0,value:a.recurse(t.value)}):r.push({key:t.key.type===$o.Identifier?t.key.name:""+t.key.value,computed:!1,value:a.recurse(t.value)})}),function(t,n,o,i){for(var a={},s=0;s<r.length;++s)r[s].computed?a[r[s].key(t,n,o,i)]=r[s].value(t,n,o,i):a[r[s].key]=r[s].value(t,n,o,i);return e?{value:a}:a};case $o.ThisExpression:return function(t){return e?{value:t}:t};case $o.LocalsExpression:return function(t,n){return e?{value:n}:n};case $o.NGValueParameter:return function(t,n,o){return e?{value:o}:o}}},"unary+":function(t,e){return function(n,o,i,r){var a=t(n,o,i,r);return a=F(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,o,i,r){var a=t(n,o,i,r);return a=F(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,o,i,r){var a=!t(n,o,i,r);return e?{value:a}:a}},"binary+":function(t,e,n){return function(o,i,r,a){var s=_o(t(o,i,r,a),e(o,i,r,a));return n?{value:s}:s}},"binary-":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a),l=e(o,i,r,a),c=(F(s)?s:0)-(F(l)?l:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)*e(o,i,r,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)/e(o,i,r,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)%e(o,i,r,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)===e(o,i,r,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)!==e(o,i,r,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)==e(o,i,r,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)!=e(o,i,r,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)<e(o,i,r,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)>e(o,i,r,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)<=e(o,i,r,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)>=e(o,i,r,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)&&e(o,i,r,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(o,i,r,a){var s=t(o,i,r,a)||e(o,i,r,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,o){return function(i,r,a,s){var l=t(i,r,a,s)?e(i,r,a,s):n(i,r,a,s);return o?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(o,i,r,a){var s=i&&t in i?i:o;n&&1!==n&&s&&null==s[t]&&(s[t]={});var l=s?s[t]:void 0;return e?{context:s,name:t,value:l}:l}},computedMember:function(t,e,n,o){return function(i,r,a,s){var l,c,u=t(i,r,a,s);return null!=u&&(l=bo(l=e(i,r,a,s)),o&&1!==o&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(t,e,n,o){return function(i,r,a,s){var l=t(i,r,a,s);o&&1!==o&&l&&null==l[e]&&(l[e]={});var c=null!=l?l[e]:void 0;return n?{context:l,name:e,value:c}:c}},inputs:function(t,e){return function(n,o,i,r){return r?r[e]:t(n,o,i)}}},Oo.prototype={constructor:Oo,parse:function(t){var e=this.getAst(t),n=this.astCompiler.compile(e.ast);return n.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===$o.Literal||t.body[0].expression.type===$o.ArrayExpression||t.body[0].expression.type===$o.ObjectExpression)}(e.ast),n.constant=function(t){return t.constant}(e.ast),n.oneTime=e.oneTime,n},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var zo=i("$sce"),Go={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Yo=/_([a-z])/g;function Ko(t){return t.replace(Yo,ee)}function Xo(t){var e=[];return F(t)&&M(t,function(t){e.push(function(t){if("self"===t)return t;if(V(t)){if(t.indexOf("***")>-1)throw zo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=et(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(Y(t))return new RegExp("^"+t.source+"$");throw zo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function Zo(){this.SCE_CONTEXTS=Go;var e=["self"],n=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Xo(t)),e},this.resourceUrlBlacklist=function(t){return arguments.length&&(n=Xo(t)),n},this.$get=["$injector","$$sanitizeUri",function(o,i){var r=function(t){throw zo("unsafe","Attempting to use an unsafe value in a safe context.")};function a(e,n){return"self"===e?pi(n,li)||function(e){return pi(e,function(){if(t.document.baseURI)return t.document.baseURI;ai||((ai=t.document.createElement("a")).href=".",ai=ai.cloneNode(!1));return ai.href}())}(n):!!e.exec(n.href)}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}o.has("$sanitize")&&(r=o.get("$sanitize"));var l=s(),c={};return c[Go.HTML]=s(l),c[Go.CSS]=s(l),c[Go.MEDIA_URL]=s(l),c[Go.URL]=s(c[Go.MEDIA_URL]),c[Go.JS]=s(l),c[Go.RESOURCE_URL]=s(c[Go.URL]),{trustAs:function(t,e){var n=c.hasOwnProperty(t)?c[t]:null;if(!n)throw zo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||j(e)||""===e)return e;if("string"!=typeof e)throw zo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,o){if(null===o||j(o)||""===o)return o;var s=c.hasOwnProperty(t)?c[t]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(G(o.$$unwrapTrustedValue)&&(o=o.$$unwrapTrustedValue()),t===Go.MEDIA_URL||t===Go.URL)return i(o.toString(),t===Go.MEDIA_URL);if(t===Go.RESOURCE_URL){if(function(t){var o,i,r=ui(t.toString()),s=!1;for(o=0,i=e.length;o<i;o++)if(a(e[o],r)){s=!0;break}if(s)for(o=0,i=n.length;o<i;o++)if(a(n[o],r)){s=!1;break}return s}(o))return o;throw zo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(t===Go.HTML)return r(o);throw zo("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof l?t.$$unwrapTrustedValue():t}}}]}function Jo(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&r<8)throw zo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var o=zt(Go);o.isEnabled=function(){return t},o.trustAs=n.trustAs,o.getTrusted=n.getTrusted,o.valueOf=n.valueOf,t||(o.trustAs=o.getTrusted=function(t,e){return e},o.valueOf=N),o.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return o.getTrusted(t,e)})};var i=o.parseAs,a=o.getTrusted,s=o.trustAs;return M(Go,function(t,e){var n=h(e);o[Ko("parse_as_"+n)]=function(e){return i(t,e)},o[Ko("get_trusted_"+n)]=function(e){return a(t,e)},o[Ko("trust_as_"+n)]=function(e){return s(t,e)}}),o}]}function Qo(){this.$get=["$window","$document",function(t,e){var n={},o=!(!(t.nw&&t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=P((/android (\d+)/.exec(h((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=s.body&&s.body.style,c=!1,u=!1;return l&&(c=!!("transition"in l||"webkitTransition"in l),u=!!("animation"in l||"webkitAnimation"in l)),{history:!(!o||i<4||a),hasEvent:function(t){if("input"===t&&r)return!1;if(j(n[t])){var e=s.createElement("div");n[t]="on"+t in e}return n[t]},csp:ct(),transitions:c,animations:u,android:i}}]}function ti(){this.$get=L(function(t){return new function(t){var e={},n=[],o=this.ALL_TASKS_TYPE="$$all$$",i=this.DEFAULT_TASK_TYPE="$$default$$";function r(){var t=n.pop();return t&&t.cb}function a(t){for(var e=n.length-1;e>=0;--e){var o=n[e];if(o.type===t)return n.splice(e,1),o.cb}}this.completeTask=function(n,s){s=s||i;try{n()}finally{!function(t){e[t=t||i]&&(e[t]--,e[o]--)}(s);var l=e[s],c=e[o];if(!c||!l)for(var u,p=c?a:r;u=p(s);)try{u()}catch(e){t.error(e)}}},this.incTaskCount=function(t){e[t=t||i]=(e[t]||0)+1,e[o]=(e[o]||0)+1},this.notifyWhenNoPendingTasks=function(t,i){e[i=i||o]?n.push({type:i,cb:t}):t()}}(t)})}var ei=i("$templateRequest");function ni(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,o,i,r){function a(s,l){a.totalPendingRequests++,V(s)&&!j(n.get(s))||(s=r.getTrustedResourceUrl(s));var c=o.defaults&&o.defaults.transformResponse;return W(c)?c=c.filter(function(t){return t!==jn}):c===jn&&(c=null),o.get(s,k({cache:n,transformResponse:c},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data)},function(t){l||(t=ei("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t));return i.reject(t)})}return a.totalPendingRequests=0,a}]}function oi(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var o={findBindings:function(t,e,n){var o=[];return M(t.getElementsByClassName("ng-binding"),function(t){var i=angular.element(t).data("$binding");i&&M(i,function(i){n?new RegExp("(^|\\s)"+et(e)+"(\\s|\\||$)").test(i)&&o.push(t):-1!==i.indexOf(e)&&o.push(t)})}),o},findModels:function(t,e,n){for(var o=["ng-","data-ng-","ng\\:"],i=0;i<o.length;++i){var r="["+o[i]+"model"+(n?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(r);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}};return o}]}var ii=i("$timeout");function ri(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,o,i){var r={};function a(a,s,l){G(a)||(l=s,s=a,a=O);var c,u=ht(arguments,3),p=F(l)&&!l,h=(p?o:n).defer(),d=h.promise;return c=e.defer(function(){try{h.resolve(a.apply(null,u))}catch(t){h.reject(t),i(t)}finally{delete r[d.$$timeoutId]}p||t.$apply()},s,"$timeout"),d.$$timeoutId=c,r[c]=h,d}return a.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw ii("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!r.hasOwnProperty(t.$$timeoutId))return!1;var n=t.$$timeoutId,o=r[n];return Vo(o.promise),o.reject("canceled"),delete r[n],e.defer.cancel(n)},a}]}var ai,si=t.document.createElement("a"),li=ui(t.location.href);si.href="http://[::1]";var ci="[::1]"===si.hostname;function ui(t){if(!V(t))return t;var e=t;r&&(si.setAttribute("href",e),e=si.href),si.setAttribute("href",e);var n=si.hostname;return!ci&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:si.href,protocol:si.protocol?si.protocol.replace(/:$/,""):"",host:si.host,search:si.search?si.search.replace(/^\?/,""):"",hash:si.hash?si.hash.replace(/^#/,""):"",hostname:n,port:si.port,pathname:"/"===si.pathname.charAt(0)?si.pathname:"/"+si.pathname}}function pi(t,e){return t=ui(t),e=ui(e),t.protocol===e.protocol&&t.host===e.host}function hi(){this.$get=L(t)}function di(t){var e=t[0]||{},n={},o="";function i(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,r,a,s,l,c=function(t){try{return t.cookie||""}catch(t){return""}}(e);if(c!==o)for(t=(o=c).split("; "),n={},a=0;a<t.length;a++)(s=(r=t[a]).indexOf("="))>0&&(l=i(r.substring(0,s)),j(n[l])&&(n[l]=i(r.substring(s+1))));return n}}function fi(){this.$get=di}function mi(t){var e="Filter";function n(o,i){if(U(o)){var r={};return M(o,function(t,e){r[e]=n(e,t)}),r}return t.factory(o+e,i)}this.register=n,this.$get=["$injector",function(t){return function(n){return t.get(n+e)}}],n("currency",Mi),n("date",Oi),n("filter",gi),n("json",Ni),n("limitTo",ji),n("lowercase",Li),n("number",$i),n("orderBy",Ui),n("uppercase",Ri)}function gi(){return function(t,e,n,o){if(!E(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var r,a;switch(o=o||"$",vi(e)){case"function":r=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":r=function(t,e,n,o){var i=U(t)&&n in t;!0===e?e=lt:G(e)||(e=function(t,e){return!j(t)&&(null===t||null===e?t===e:!(U(e)||U(t)&&!R(t))&&(t=h(""+t),e=h(""+e),-1!==t.indexOf(e)))});return function(r){return i&&!U(r)?yi(r,t[n],e,n,!1):yi(r,t,e,n,o)}}(e,n,o,a);break;default:return t}return Array.prototype.filter.call(t,r)}}function yi(t,e,n,o,i,r){var a=vi(t),s=vi(e);if("string"===s&&"!"===e.charAt(0))return!yi(t,e.substring(1),n,o,i);if(W(t))return t.some(function(t){return yi(t,e,n,o,i)});switch(a){case"object":var l;if(i){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&yi(t[l],e,n,o,!0))return!0;return!r&&yi(t,e,n,o,!1)}if("object"===s){for(l in e){var c=e[l];if(!G(c)&&!j(c)){var u=l===o;if(!yi(u?t:t[l],c,n,o,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function vi(t){return null===t?"null":typeof t}di.$inject=["$document"],mi.$inject=["$provide"];var bi=22,wi=".",Ei="0";function Mi(t){var e=t.NUMBER_FORMATS;return function(t,n,o){j(n)&&(n=e.CURRENCY_SYM),j(o)&&(o=e.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:Ci(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,o).replace(i,n)}}function $i(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Ci(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Ci(t,e,n,o,i){if(!V(t)&&!B(t)||isNaN(t))return"";var r,a=!isFinite(t),s=!1,l=Math.abs(t)+"",c="";if(a)c="";else{(function(t,e,n,o){var i=t.d,r=i.length-t.i,a=(e=j(e)?Math.min(Math.max(n,r),o):+e)+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{r=Math.max(0,r),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;r<Math.max(0,e);r++)i.push(0);var p=i.reduceRight(function(t,e,n,o){return e+=t,o[n]=e%10,Math.floor(e/10)},0);p&&(i.unshift(p),t.i++)})(r=function(t){var e,n,o,i,r,a=0;for((n=t.indexOf(wi))>-1&&(t=t.replace(wi,"")),(o=t.search(/e/i))>0?(n<0&&(n=o),n+=+t.slice(o+1),t=t.substring(0,o)):n<0&&(n=t.length),o=0;t.charAt(o)===Ei;o++);if(o===(r=t.length))e=[0],n=1;else{for(r--;t.charAt(r)===Ei;)r--;for(n-=o,e=[],i=0;o<=r;o++,i++)e[i]=+t.charAt(o)}return n>bi&&(e=e.splice(0,bi-1),a=n-1,n=1),{d:e,e:a,i:n}}(l),i,e.minFrac,e.maxFrac);var u=r.d,p=r.i,h=r.e,d=[];for(s=u.reduce(function(t,e){return t&&!e},!0);p<0;)u.unshift(0),p++;p>0?d=u.splice(p,u.length):(d=u,u=[0]);var f=[];for(u.length>=e.lgSize&&f.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)f.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),d.length&&(c+=o+d.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function _i(t,e,n,o){var i="";for((t<0||o&&t<=0)&&(o?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=Ei+t;return n&&(t=t.substr(t.length-e)),i+t}function xi(t,e,n,o,i){return n=n||0,function(r){var a=r["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),_i(a,e,o,i)}}function Si(t,e,n){return function(o,i){var r=o["get"+t]();return i[d((n?"STANDALONE":"")+(e?"SHORT":"")+t)][r]}}function Ti(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ki(t){return function(e){var n,o=Ti(e.getFullYear()),i=+(n=e,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+o;return _i(1+Math.round(i/6048e5),t)}}function Ai(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}Mi.$inject=["$locale"],$i.$inject=["$locale"];var Pi={yyyy:xi("FullYear",4,0,!1,!0),yy:xi("FullYear",2,0,!0,!0),y:xi("FullYear",1,0,!1,!0),MMMM:Si("Month"),MMM:Si("Month",!0),MM:xi("Month",2,1),M:xi("Month",1,1),LLLL:Si("Month",!1,!0),dd:xi("Date",2),d:xi("Date",1),HH:xi("Hours",2),H:xi("Hours",1),hh:xi("Hours",2,-12),h:xi("Hours",1,-12),mm:xi("Minutes",2),m:xi("Minutes",1),ss:xi("Seconds",2),s:xi("Seconds",1),sss:xi("Milliseconds",3),EEEE:Si("Day"),EEE:Si("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var o=-1*n,i=o>=0?"+":"";return i+=_i(Math[o>0?"floor":"ceil"](o/60),2)+_i(Math.abs(o%60),2)},ww:ki(2),w:ki(1),G:Ai,GG:Ai,GGG:Ai,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Di=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ii=/^-?\d+$/;function Oi(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,o,i){var r,a,s="",l=[];if(o=o||"mediumDate",o=t.DATETIME_FORMATS[o]||o,V(n)&&(n=Ii.test(n)?P(n):function(t){var n;if(n=t.match(e)){var o=new Date(0),i=0,r=0,a=n[8]?o.setUTCFullYear:o.setFullYear,s=n[8]?o.setUTCHours:o.setHours;n[9]&&(i=P(n[9]+n[10]),r=P(n[9]+n[11])),a.call(o,P(n[1]),P(n[2])-1,P(n[3]));var l=P(n[4]||0)-i,c=P(n[5]||0)-r,u=P(n[6]||0),p=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(o,l,c,u,p),o}return t}(n)),B(n)&&(n=new Date(n)),!q(n)||!isFinite(n.getTime()))return n;for(;o;)(a=Di.exec(o))?o=(l=pt(l,a,1)).pop():(l.push(o),o=null);var c=n.getTimezoneOffset();return i&&(c=vt(i,c),n=wt(n,i,!0)),M(l,function(e){r=Pi[e],s+=r?r(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Ni(){return function(t,e){return j(e)&&(e=2),mt(t,e)}}Oi.$inject=["$locale"];var Li=L(h),Ri=L(d);function ji(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):P(e),D(e)?t:(B(t)&&(t=t.toString()),E(t)?(n=(n=!n||isNaN(n)?0:P(n))<0?Math.max(0,t.length+n):n,e>=0?Fi(t,n,n+e):0===n?Fi(t,e,t.length):Fi(t,Math.max(0,n+e),n)):t)}}function Fi(t,e,n){return V(t)?t.slice(e,n):f.call(t,e,n)}function Ui(t){return function(o,r,a,s){if(null==o)return o;if(!E(o))throw i("orderBy")("notarray","Expected array but received: {0}",o);W(r)||(r=[r]),0===r.length&&(r=["+"]);var l=r.map(function(e){var n=1,o=N;if(G(e))o=e;else if(V(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(o=t(e)).constant)){var i=o();o=function(t){return t[i]}}return{get:o,descending:n}}),c=a?-1:1,u=G(s)?s:n,p=Array.prototype.map.call(o,function(t,n){return{value:t,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map(function(o){return function(t,n){var o=typeof t;null===t?o="null":"object"===o&&(t=function(t){if(G(t.valueOf)&&e(t=t.valueOf()))return t;if(R(t)&&e(t=t.toString()))return t;return t}(t));return{value:t,type:o,index:n}}(o.get(t),n)})}});return p.sort(function(t,e){for(var o=0,i=l.length;o<i;o++){var r=u(t.predicateValues[o],e.predicateValues[o]);if(r)return r*l[o].descending*c}return(u(t.tieBreaker,e.tieBreaker)||n(t.tieBreaker,e.tieBreaker))*c}),o=p.map(function(t){return t.value})};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function n(t,e){var n=0,o=t.type,i=e.type;if(o===i){var r=t.value,a=e.value;"string"===o?(r=r.toLowerCase(),a=a.toLowerCase()):"object"===o&&(U(r)&&(r=t.index),U(a)&&(a=e.index)),r!==a&&(n=r<a?-1:1)}else n="undefined"===o?1:"undefined"===i?-1:"null"===o?1:"null"===i?-1:o<i?-1:1;return n}}function Hi(t){return G(t)&&(t={link:t}),t.restrict=t.restrict||"AC",L(t)}Ui.$inject=["$parse"];var Vi=L({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===y.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Bi={};M(Pe,function(t,e){if("multiple"!==t){var n=bn("ng-"+e),o=i;"checked"===t&&(o=function(t,e,o){o.ngModel!==o[n]&&i(t,0,o)}),Bi[n]=function(){return{restrict:"A",priority:100,link:o}}}function i(t,o,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}),M(Ie,function(t,e){Bi[e]=function(){return{priority:100,link:function(t,n,o){if("ngPattern"===e&&"/"===o.ngPattern.charAt(0)){var i=o.ngPattern.match(c);if(i)return void o.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(o[e],function(t){o.$set(e,t)})}}}}),M(["src","srcset","href"],function(t){var e=bn("ng-"+t);Bi[e]=["$sce",function(n){return{priority:99,link:function(o,i,a){var s=t,l=t;"href"===t&&"[object SVGAnimatedString]"===y.call(i.prop("href"))&&(l="xlinkHref",a.$attr[l]="xlink:href",s=null),a.$set(e,n.getTrustedMediaUrl(a[e])),a.$observe(e,function(e){e?(a.$set(l,e),r&&s&&i.prop(s,a[l])):"href"===t&&a.$set(l,null)})}}}]});var qi={$addControl:O,$getControls:L([]),$$renameControl:function(t,e){t.$name=e},$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O,$setSubmitted:O,$$setSubmitted:O},Wi="ng-pending";function zi(t,e,n,o,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=qi,this.$$element=t,this.$$animate=o,Xi(this)}zi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],zi.prototype={$rollbackViewValue:function(){M(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){M(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){Rt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return zt(this.$$controls)},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],M(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),M(this.$error,function(e,n){this.$setValidity(n,null,t)},this),M(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),rt(this.$$controls,t),t.$$parentForm=qi},$setDirty:function(){this.$$animate.removeClass(this.$$element,zr),this.$$animate.addClass(this.$$element,Gr),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,zr,Gr+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,M(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){M(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==qi;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,M(this.$$controls,function(t){t.$$setSubmitted&&t.$$setSubmitted()})}},Zi({clazz:zi,set:function(t,e,n){var o=t[e];o?-1===o.indexOf(n)&&o.push(n):t[e]=[n]},unset:function(t,e,n){var o=t[e];o&&(rt(o,n),0===o.length&&delete t[e])}});var Gi=function(t){return["$timeout","$parse",function(e,n){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:zi,compile:function(n,i){n.addClass(zr).addClass(qr);var r=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var l=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var c=r?o(s.$name):O;r&&(c(t,s),i.$observe(r,function(e){s.$name!==e&&(c(t,void 0),s.$$parentForm.$$renameControl(s,e),(c=o(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(t,void 0),k(s,qi)})}}}};function o(t){return""===t?n('this[""]').assign:n(t).assign||O}}]},Yi=Gi(),Ki=Gi(!0);function Xi(t){t.$$classCache={},t.$$classCache[Wr]=!(t.$$classCache[qr]=t.$$element.hasClass(qr))}function Zi(t){var e=t.clazz,n=t.set,o=t.unset;function i(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function r(t,e,n){e=e?"-"+It(e,"-"):"",i(t,qr+e,!0===n),i(t,Wr+e,!1===n)}e.prototype.$setValidity=function(t,e,a){var s;j(e)?function(t,e,o,i){t[e]||(t[e]={});n(t[e],o,i)}(this,"$pending",t,a):function(t,e,n,i){t[e]&&o(t[e],n,i);Ji(t[e])&&(t[e]=void 0)}(this,"$pending",t,a),Z(e)?e?(o(this.$error,t,a),n(this.$$success,t,a)):(n(this.$error,t,a),o(this.$$success,t,a)):(o(this.$error,t,a),o(this.$$success,t,a)),this.$pending?(i(this,Wi,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,Wi,!1),this.$valid=Ji(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid)),r(this,t,s=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,s,this)}}function Ji(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Qi=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,tr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,er=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,nr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,or=/^(\d{4,})-(\d{2})-(\d{2})$/,ir=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,rr=/^(\d{4,})-W(\d\d)$/,ar=/^(\d{4,})-(\d\d)$/,sr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,lr="keydown wheel mousedown",cr=Ft();M("date,datetime-local,month,time,week".split(","),function(t){cr[t]=!0});var ur={text:function(t,e,n,o,i,r){hr(t,e,n,o,i,r),pr(o)},date:fr("date",or,dr(or,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fr("datetimelocal",ir,dr(ir,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:fr("time",sr,dr(sr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fr("week",rr,function(t,e){if(q(t))return t;if(V(t)){rr.lastIndex=0;var n=rr.exec(t);if(n){var o=+n[1],i=+n[2],r=0,a=0,s=0,l=0,c=Ti(o),u=7*(i-1);return e&&(r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(o,0,c.getDate()+u,r,a,s,l)}}return NaN},"yyyy-Www"),month:fr("month",ar,dr(ar,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,o,i,r,a,s){var l;if(mr(t,e,n,o,"number"),gr(o),hr(t,e,n,o,i,r),F(n.min)||n.ngMin){var c=n.min||s(n.ngMin)(t);l=yr(c),o.$validators.min=function(t,e){return o.$isEmpty(e)||j(l)||e>=l},n.$observe("min",function(t){t!==c&&(l=yr(t),c=t,o.$validate())})}if(F(n.max)||n.ngMax){var u=n.max||s(n.ngMax)(t),p=yr(u);o.$validators.max=function(t,e){return o.$isEmpty(e)||j(p)||e<=p},n.$observe("max",function(t){t!==u&&(p=yr(t),u=t,o.$validate())})}if(F(n.step)||n.ngStep){var h=n.step||s(n.ngStep)(t),d=yr(h);o.$validators.step=function(t,e){return o.$isEmpty(e)||j(d)||wr(e,l||0,d)},n.$observe("step",function(t){t!==h&&(d=yr(t),h=t,o.$validate())})}},url:function(t,e,n,o,i,r){hr(t,e,n,o,i,r),pr(o),o.$validators.url=function(t,e){var n=t||e;return o.$isEmpty(n)||tr.test(n)}},email:function(t,e,n,o,i,r){hr(t,e,n,o,i,r),pr(o),o.$validators.email=function(t,e){var n=t||e;return o.$isEmpty(n)||er.test(n)}},radio:function(t,e,n,o){var i=!n.ngTrim||"false"!==tt(n.ngTrim);j(n.name)&&e.attr("name",x());e.on("change",function(t){var r;e[0].checked&&(r=n.value,i&&(r=tt(r)),o.$setViewValue(r,t&&t.type))}),o.$render=function(){var t=n.value;i&&(t=tt(t)),e[0].checked=t===o.$viewValue},n.$observe("value",o.$render)},range:function(t,e,n,o,i,r){mr(t,e,n,o,"range"),gr(o),hr(t,e,n,o,i,r);var a=o.$$hasNativeValidators&&"range"===e[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=e[0].validity,p=F(n.min),h=F(n.max),d=F(n.step),f=o.$render;o.$render=a&&F(u.rangeUnderflow)&&F(u.rangeOverflow)?function(){f(),o.$setViewValue(e.val())}:f,p&&(s=yr(n.min),o.$validators.min=a?function(){return!0}:function(t,e){return o.$isEmpty(e)||j(s)||e>=s},m("min",function(t){if(s=yr(t),D(o.$modelValue))return;if(a){var n=e.val();s>n&&(n=s,e.val(n)),o.$setViewValue(n)}else o.$validate()}));h&&(l=yr(n.max),o.$validators.max=a?function(){return!0}:function(t,e){return o.$isEmpty(e)||j(l)||e<=l},m("max",function(t){if(l=yr(t),D(o.$modelValue))return;if(a){var n=e.val();l<n&&(e.val(l),n=l<s?s:l),o.$setViewValue(n)}else o.$validate()}));d&&(c=yr(n.step),o.$validators.step=a?function(){return!u.stepMismatch}:function(t,e){return o.$isEmpty(e)||j(c)||wr(e,s||0,c)},m("step",function(t){if(c=yr(t),D(o.$modelValue))return;a?o.$viewValue!==e.val()&&o.$setViewValue(e.val()):o.$validate()}));function m(t,o){e.attr(t,n[t]);var i=n[t];n.$observe(t,function(t){t!==i&&(i=t,o(t))})}},checkbox:function(t,e,n,o,i,r,a,s){var l=Er(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Er(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("change",function(t){o.$setViewValue(e[0].checked,t&&t.type)}),o.$render=function(){e[0].checked=o.$viewValue},o.$isEmpty=function(t){return!1===t},o.$formatters.push(function(t){return lt(t,l)}),o.$parsers.push(function(t){return t?l:c})},hidden:O,button:O,submit:O,reset:O,file:O};function pr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function hr(t,e,n,o,i,r){var a,s=h(e[0].type);if(!i.android){var l=!1;e.on("compositionstart",function(){l=!0}),e.on("compositionupdate",function(t){(j(t.data)||""===t.data)&&(l=!1)}),e.on("compositionend",function(){l=!1,c()})}var c=function(t){if(a&&(r.defer.cancel(a),a=null),!l){var i=e.val(),c=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=tt(i)),(o.$viewValue!==i||""===i&&o.$$hasNativeValidators)&&o.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var p=function(t,e,n){a||(a=r.defer(function(){a=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||p(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut drop",p)}e.on("change",c),cr[s]&&o.$$hasNativeValidators&&s===n.type&&e.on(lr,function(t){if(!a){var e=this[u],n=e.badInput,o=e.typeMismatch;a=r.defer(function(){a=null,e.badInput===n&&e.typeMismatch===o||c(t)})}}),o.$render=function(){var t=o.$isEmpty(o.$viewValue)?"":o.$viewValue;e.val()!==t&&e.val(t)}}function dr(t,e){return function(n,o){var i,r;if(q(n))return n;if(V(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Qi.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n)){i.shift(),r=o?{yyyy:o.getFullYear(),MM:o.getMonth()+1,dd:o.getDate(),HH:o.getHours(),mm:o.getMinutes(),ss:o.getSeconds(),sss:o.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},M(i,function(t,n){n<e.length&&(r[e[n]]=+t)});var a=new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0);return r.yyyy<100&&a.setFullYear(r.yyyy),a}}return NaN}}function fr(t,e,n,o){return function(i,r,a,s,l,c,u,p){mr(i,r,a,s,t),hr(0,r,a,s,l,c);var h,d,f="time"===t||"datetimelocal"===t;if(s.$parsers.push(function(n){return s.$isEmpty(n)?null:e.test(n)?E(n,h):void(s.$$parserName=t)}),s.$formatters.push(function(t){if(t&&!q(t))throw Yr("datefmt","Expected `{0}` to be a date",t);if(b(t)){h=t;var e=s.$options.getOption("timezone");return e&&(d=e,h=wt(h,e,!0)),function(t,e){var n=o;f&&V(s.$options.getOption("timeSecondsFormat"))&&(n=o.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=u("date")(t,n,e);f&&s.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(t,e)}return h=null,d=null,""}),F(a.min)||a.ngMin){var m=a.min||p(a.ngMin)(i),g=w(m);s.$validators.min=function(t){return!b(t)||j(g)||n(t)>=g},a.$observe("min",function(t){t!==m&&(g=w(t),m=t,s.$validate())})}if(F(a.max)||a.ngMax){var y=a.max||p(a.ngMax)(i),v=w(y);s.$validators.max=function(t){return!b(t)||j(v)||n(t)<=v},a.$observe("max",function(t){t!==y&&(v=w(t),y=t,s.$validate())})}function b(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function w(t){return F(t)&&!q(t)?E(t)||void 0:t}function E(t,e){var o=s.$options.getOption("timezone");d&&d!==o&&(e=bt(e,vt(d)));var i=n(t,e);return!isNaN(i)&&o&&(i=wt(i,o)),i}}}function mr(t,e,n,o,i){var r=e[0];(o.$$hasNativeValidators=U(r.validity))&&o.$parsers.push(function(t){var n=e.prop(u)||{};if(!n.badInput&&!n.typeMismatch)return t;o.$$parserName=i})}function gr(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:nr.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!B(e))throw Yr("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function yr(t){return F(t)&&!B(t)&&(t=parseFloat(t)),D(t)?void 0:t}function vr(t){return(0|t)===t}function br(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var o=/e-(\d+)$/.exec(e);if(o)return Number(o[1])}return 0}return e.length-n-1}function wr(t,e,n){var o=Number(t),i=!vr(o),r=!vr(e),a=!vr(n);if(i||r||a){var s=i?br(o):0,l=r?br(e):0,c=a?br(n):0,u=Math.max(s,l,c),p=Math.pow(10,u);o*=p,e*=p,n*=p,i&&(o=Math.round(o)),r&&(e=Math.round(e)),a&&(n=Math.round(n))}return(o-e)%n==0}function Er(t,e,n,o,i){var r;if(F(o)){if(!(r=t(o)).constant)throw Yr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,o);return r(e)}return i}var Mr=["$browser","$sniffer","$filter","$parse",function(t,e,n,o){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,r,a,s){s[0]&&(ur[h(a.type)]||ur.text)(i,r,a,s[0],e,t,n,o)}}}}],$r=function(){var t={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(e,n){if("hidden"===h(n.type))return{pre:function(e,n,o,i){var r=n[0];r.parentNode&&r.parentNode.insertBefore(r,r.nextSibling),Object.defineProperty&&Object.defineProperty(r,"value",t)}}}}},Cr=/^(true|false|\d+)$/,_r=function(){function t(t,e,n){var o=F(n)?n:9===r?"":null;t.prop("value",o),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return Cr.test(n.ngValue)?function(e,n,o){t(n,o,e.$eval(o.ngValue))}:function(e,n,o){e.$watch(o.ngValue,function(e){t(n,o,e)})}}}},xr=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,o){t.$$addBindingInfo(n,o.ngBind),n=n[0],e.$watch(o.ngBind,function(t){n.textContent=Ut(t)})}}}}],Sr=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,o,i){var r=t(o.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(o,r.expressions),o=o[0],i.$observe("ngBindTemplate",function(t){o.textContent=j(t)?"":t})}}}}],Tr=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(o,i){var r=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(o),function(e,o,i){n.$$addBindingInfo(o,i.ngBindHtml),e.$watch(a,function(){var n=r(e);o.html(t.getTrustedHtml(n)||"")})}}}}],kr=L({restrict:"A",require:"ngModel",link:function(t,e,n,o){o.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function Ar(t,e){var n;return t="ngClass"+t,["$parse",function(a){return{restrict:"AC",link:function(s,l,c){var u,p=l.data("$classCounts"),h=!0;function d(t,e){var n=[];return M(t,function(t){(e>0||p[t])&&(p[t]=(p[t]||0)+e,p[t]===+(e>0)&&n.push(t))}),n.join(" ")}p||(p=Ft(),l.data("$classCounts",p)),"ngClass"!==t&&(n||(n=a("$index",function(t){return 1&t})),s.$watch(n,function(t){t===e?(n=d(i(n=u),1),c.$addClass(n)):function(t){t=d(i(t),-1),c.$removeClass(t)}(u);var n;h=t})),s.$watch(a(c[t],r),function(t){h===e&&function(t,e){var n=i(t),r=i(e),a=o(n,r),s=o(r,n),l=d(a,-1),u=d(s,1);c.$addClass(u),c.$removeClass(l)}(u,t);u=t})}}}];function o(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var o=0;o<t.length;o++){for(var i=t[o],r=0;r<e.length;r++)if(i===e[r])continue t;n.push(i)}return n}function i(t){return t&&t.split(" ")}function r(t){if(!t)return t;var e=t;return W(t)?e=t.map(r).join(" "):U(t)?e=Object.keys(t).filter(function(e){return t[e]}).join(" "):V(t)||(e=t+""),e}}var Pr=Ar("",!0),Dr=Ar("Odd",0),Ir=Ar("Even",1),Or=Hi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Nr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Lr={},Rr={blur:!0,focus:!0};function jr(t,e,n,o,i,r){return{restrict:"A",compile:function(a,s){var l=t(s[o]);return function(t,o){o.on(i,function(o){var i=function(){l(t,{$event:o})};if(e.$$phase)if(r)t.$evalAsync(i);else try{i()}catch(t){n(t)}else t.$apply(i)})}}}}M("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=bn("ng-"+t);Lr[e]=["$parse","$rootScope","$exceptionHandler",function(n,o,i){return jr(n,o,i,e,t,Rr[t])}]});var Fr=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,o,i,r,a){var s,l,c;n.$watch(i.ngIf,function(n){n?l||a(function(n,r){l=r,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,o.parent(),o)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=jt(s.clone),t.leave(c).done(function(t){!1!==t&&(c=null)}),s=null))})}}}],Ur=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(o,i){var r=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(o,i,l,c,u){var p,h,d,f=0,m=function(){h&&(h.remove(),h=null),p&&(p.$destroy(),p=null),d&&(n.leave(d).done(function(t){!1!==t&&(h=null)}),h=d,d=null)};o.$watch(r,function(r){var l=function(t){!1===t||!F(s)||s&&!o.$eval(s)||e()},h=++f;r?(t(r,!0).then(function(t){if(!o.$$destroyed&&h===f){var e=o.$new();c.template=t;var s=u(e,function(t){m(),n.enter(t,null,i).done(l)});d=s,(p=e).$emit("$includeContentLoaded",r),o.$eval(a)}},function(){o.$$destroyed||h===f&&(m(),o.$emit("$includeContentError",r))}),o.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],Hr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,o,i,r){if(y.call(o[0]).match(/SVG/))return o.empty(),void e(ue(r.template,t.document).childNodes)(n,function(t){o.append(t)},{futureParentElement:o});o.html(r.template),e(o.contents())(n)}}}],Vr=Hi({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Br=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,o){var i=n.ngList||", ",r="false"!==n.ngTrim,a=r?tt(i):i;o.$parsers.push(function(t){if(!j(t)){var e=[];return t&&M(t.split(a),function(t){t&&e.push(r?tt(t):t)}),e}}),o.$formatters.push(function(t){if(W(t))return t.join(i)}),o.$isEmpty=function(t){return!t||!t.length}}}},qr="ng-valid",Wr="ng-invalid",zr="ng-pristine",Gr="ng-dirty",Yr=i("ngModel");function Kr(t,e,n,o,i,r,a,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=qi,this.$options=Xr,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=n,this.$$element=o,this.$$animate=r,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,Xi(this),(c=this).$$scope.$watch(function(t){var e=c.$$ngModelGet(t);return e===c.$modelValue||c.$modelValue!=c.$modelValue&&e!=e||c.$$setModelValue(e),e})}Kr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Kr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return G(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){G(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Yr("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Et(this.$$element))},$render:O,$isEmpty:function(t){return j(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Gr),this.$$animate.addClass(this.$$element,zr)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,zr),this.$$animate.addClass(this.$$element,Gr),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!D(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,o=this.$modelValue,i=this.$options.getOption("allowInvalid"),r=this;this.$$runValidators(e,t,function(t){i||n===t||(r.$modelValue=t?e:void 0,r.$modelValue!==o&&r.$$writeModelToScope())})}},$$runValidators:function(t,e,n){this.$$currentValidationRunId++;var o,i,r=this.$$currentValidationRunId,a=this;(function(){var t=a.$$parserName;if(!j(a.$$parserValid))return a.$$parserValid||(M(a.$validators,function(t,e){s(e,null)}),M(a.$asyncValidators,function(t,e){s(e,null)})),s(t,a.$$parserValid),a.$$parserValid;s(t,null);return!0})()?!function(){var n=!0;if(M(a.$validators,function(o,i){var r=Boolean(o(t,e));n=n&&r,s(i,r)}),!n)return M(a.$asyncValidators,function(t,e){s(e,null)}),!1;return!0}()?l(!1):(o=[],i=!0,M(a.$asyncValidators,function(n,r){var a=n(t,e);if(!J(a))throw Yr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(r,void 0),o.push(a.then(function(){s(r,!0)},function(){i=!1,s(r,!1)}))}),o.length?a.$$q.all(o).then(function(){l(i)},O):l(!0)):l(!1);function s(t,e){r===a.$$currentValidationRunId&&a.$setValidity(t,e)}function l(t){r===a.$$currentValidationRunId&&n(t)}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!j(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(j(t=this.$parsers[n](t))){this.$$parserValid=!1;break}D(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,i=this.$options.getOption("allowInvalid");function r(){e.$modelValue!==o&&e.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,r()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(n){i||(e.$modelValue=n?t:void 0,r())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),M(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");B(e[t])?e=e[t]:B(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:B(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,O))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Zi({clazz:Kr,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Xr,Zr=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Kr,priority:1,compile:function(e){return e.addClass(zr).addClass("ng-untouched").addClass(qr),{pre:function(t,e,n,o){var i=o[0],r=o[1]||i.$$parentForm,a=o[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),r.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,o,i){var r=i[0];function a(){r.$setTouched()}r.$$setUpdateOnEvents(),n.on("blur",function(){r.$touched||(t.$$phase?e.$evalAsync(a):e.$apply(a))})}}}}}],Jr=/(\s+|^)default(\s+|$)/;function Qr(t){this.$$options=t}Qr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return M(t=k({},t),function(n,o){"$inherit"===n?"*"===o?e=!0:(t[o]=this.$$options[o],"updateOn"===o&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===o&&(t.updateOnDefault=!1,t[o]=tt(n.replace(Jr,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],ea(t,this.$$options)),ea(t,Xr.$$options),new Qr(t)}},Xr=new Qr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ta=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Xr,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function ea(t,e){M(e,function(e,n){F(t[n])||(t[n]=e)})}var na=Hi({terminal:!0,priority:1e3}),oa=i("ngOptions"),ia=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ra=["$compile","$document","$parse",function(e,n,o){var i=t.document.createElement("option"),r=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,o){o[0].registerOption=O},post:function(t,s,l,c){for(var u=c[0],p=c[1],h=l.multiple,d=0,f=s.children(),m=f.length;d<m;d++)if(""===f[d].value){u.hasEmptyOption=!0,u.emptyOption=f.eq(d);break}s.empty();var g,y=!!u.emptyOption;a(i.cloneNode(!1)).val("?");var v=function(t,e,n){var i=t.match(ia);if(!i)throw oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Et(e));var r=i[5]||i[7],a=i[6],s=/ as /.test(i[0])&&i[1],l=i[9],c=o(i[2]?i[1]:r),u=s&&o(s)||c,p=l&&o(l),h=l?function(t,e){return p(n,e)}:function(t){return je(t)},d=function(t,e){return h(t,b(t,e))},f=o(i[2]||i[1]),m=o(i[3]||""),g=o(i[4]||""),y=o(i[8]),v={},b=a?function(t,e){return v[a]=e,v[r]=t,v}:function(t){return v[r]=t,v};function w(t,e,n,o,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=o,this.disabled=i}function M(t){var e;if(!a&&E(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:l,getTrackByValue:d,getWatchables:o(y,function(t){for(var e=[],o=M(t=t||[]),r=o.length,a=0;a<r;a++){var s=t===o?a:o[a],l=t[s],c=b(l,s),u=h(l,c);if(e.push(u),i[2]||i[1]){var p=f(n,c);e.push(p)}if(i[4]){var d=g(n,c);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},o=y(n)||[],i=M(o),r=i.length,a=0;a<r;a++){var s=o===i?a:i[a],c=o[s],p=b(c,s),v=u(n,p),E=h(v,p),C=new w(E,v,f(n,p),m(n,p),g(n,p));t.push(C),e[E]=C}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[d(t)]},getViewValueFromOption:function(t){return l?at(t.viewValue):t.viewValue}}}}}(l.ngOptions,s,t),b=n[0].createDocumentFragment();function w(t,e){var n=i.cloneNode(!1);e.appendChild(n),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}(t,n)}function C(t){var e=g.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}u.generateUnknownOptionValue=function(t){return"?"},h?(u.writeValue=function(t){if(g){var e=t&&t.map(C)||[];g.items.forEach(function(t){t.element.selected&&!it(e,t)&&(t.element.selected=!1)})}},u.readValue=function(){var t=[];return M(s.val()||[],function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))}),t},v.trackBy&&t.$watchCollection(function(){if(W(p.$viewValue))return p.$viewValue.map(function(t){return v.getTrackByValue(t)})},function(){p.$render()})):(u.writeValue=function(t){if(g){var e=s[0].options[s[0].selectedIndex],n=g.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(u.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(t)}},u.readValue=function(){var t=g.selectValueMap[s.val()];return t&&!t.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),g.getViewValueFromOption(t)):null},v.trackBy&&t.$watch(function(){return v.getTrackByValue(p.$viewValue)},function(){p.$render()})),y&&(e(u.emptyOption)(t),s.prepend(u.emptyOption),u.emptyOption[0].nodeType===Bt?(u.hasEmptyOption=!1,u.registerOption=function(t,e){""===e.val()&&(u.hasEmptyOption=!0,u.emptyOption=e,u.emptyOption.removeClass("ng-scope"),p.$render(),e.on("$destroy",function(){var t=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,t&&p.$render()}))}):u.emptyOption.removeClass("ng-scope")),t.$watchCollection(v.getWatchables,function(){var t=g&&u.readValue();if(g)for(var e=g.items.length-1;e>=0;e--){var n=g.items[e];F(n.group)?Te(n.element.parentNode):Te(n.element)}var o={};if((g=v.getOptions()).items.forEach(function(t){var e;F(t.group)?((e=o[t.group])||(e=r.cloneNode(!1),b.appendChild(e),e.label=null===t.group?"null":t.group,o[t.group]=e),w(t,e)):w(t,b)}),s[0].appendChild(b),p.$render(),!p.$isEmpty(t)){var i=u.readValue(),a=v.trackBy||h;(a?lt(t,i):t===i)||(p.$setViewValue(i),p.$render())}})}}}}],aa=["$locale","$interpolate","$log",function(t,e,n){var o=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(r,a,s){var l,c=s.count,u=s.$attr.when&&a.attr(s.$attr.when),p=s.offset||0,d=r.$eval(u)||{},f={},m=e.startSymbol(),g=e.endSymbol(),y=m+c+"-"+p+g,v=angular.noop;function b(t){a.text(t||"")}M(s,function(t,e){var n=i.exec(e);if(n){var o=(n[1]?"-":"")+h(n[2]);d[o]=a.attr(s.$attr[e])}}),M(d,function(t,n){f[n]=e(t.replace(o,y))}),r.$watch(c,function(e){var o=parseFloat(e),i=D(o);if(i||o in d||(o=t.pluralCat(o-p)),!(o===l||i&&D(l))){v();var a=f[o];j(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+o+"' in "+u),v=O,b()):v=r.$watch(a,b),l=o}})}}}],sa=i("ngRef"),la=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,n){var o=bn(ot(e)),i=t(n.ngRef),r=i.assign||function(){throw sa("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(t,e,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=e;else if(!(s=e.data("$"+a.ngRefRead+"Controller")))throw sa("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,n.ngRef)}else s=e.data("$"+o+"Controller");r(t,s=s||e),e.on("$destroy",function(){i(t)===s&&r(t,null)})}}}}],ca=["$parse","$animate","$compile",function(t,e,n){var o=i("ngRepeat"),r=function(t,e,n,o,i,r,a){t[n]=o,i&&(t[i]=r),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},a=function(t){return t.clone[0]},s=function(t){return t.clone[t.clone.length-1]},l=function(t,e,n){return je(n)},c=function(t,e){return e};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var h=u.ngRepeat,d=n.$$createComment("end ngRepeat",h),f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=f[1],g=f[2],y=f[3],v=f[4];if(!(f=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b,w=f[3]||f[1],C=f[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);if(v){var _={$id:je},x=t(v);b=function(t,e,n,o){return C&&(_[C]=e),_[w]=n,_.$index=o,x(t,_)}}return function(t,n,i,u,f){var m=Ft();t.$watchCollection(g,function(i){var u,g,v,x,S,T,k,A,P,D,I,O,N=n[0],L=Ft();if(y&&(t[y]=i),E(i))P=i,A=b||l;else for(var R in A=b||c,P=[],i)p.call(i,R)&&"$"!==R.charAt(0)&&P.push(R);for(x=P.length,I=new Array(x),u=0;u<x;u++)if(S=i===P?u:P[u],T=i[S],k=A(t,S,T,u),m[k])D=m[k],delete m[k],L[k]=D,I[u]=D;else{if(L[k])throw M(I,function(t){t&&t.scope&&(m[t.id]=t)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,k,T);I[u]={id:k,scope:void 0,clone:void 0},L[k]=!0}for(var j in _&&(_[w]=void 0),m){if(O=jt((D=m[j]).clone),e.leave(O),O[0].parentNode)for(u=0,g=O.length;u<g;u++)O[u].$$NG_REMOVED=!0;D.scope.$destroy()}for(u=0;u<x;u++)if(S=i===P?u:P[u],T=i[S],(D=I[u]).scope){v=N;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);a(D)!==v&&e.move(jt(D.clone),null,N),N=s(D),r(D.scope,u,w,T,C,S,x)}else f(function(t,n){D.scope=n;var o=d.cloneNode(!1);t[t.length++]=o,e.enter(t,null,N),N=o,D.clone=t,L[D.id]=D,r(D.scope,u,w,T,C,S,x)});m=L})}}}}],ua=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,o){e.$watch(o.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,o){e.$watch(o.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ha=Hi(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&(t||(t={}),M(n,function(e,n){null==t[n]&&(t[n]="")})),t&&e.css(t)})}),da=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,o,i,r){var a=i.ngSwitch||i.on,s=[],l=[],c=[],u=[],p=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(a,function(n){for(var o,i;c.length;)t.cancel(c.pop());for(o=0,i=u.length;o<i;++o){var a=jt(l[o].clone);u[o].$destroy(),(c[o]=t.leave(a)).done(p(c,o))}l.length=0,u.length=0,(s=r.cases["!"+n]||r.cases["?"])&&M(s,function(n){n.transclude(function(o,i){u.push(i);var r=n.element;o[o.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:o};l.push(a),t.enter(o,r.parent(),r)})})})}}}],fa=Hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,o,i){M(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){o.cases["!"+t]=o.cases["!"+t]||[],o.cases["!"+t].push({transclude:i,element:e})})}}),ma=Hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,o,i){o.cases["?"]=o.cases["?"]||[],o.cases["?"].push({transclude:i,element:e})}}),ga=i("ngTransclude"),ya=["$compile",function(t){return{restrict:"EAC",compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,o,i,r){if(!r)throw ga("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Et(e));o.ngTransclude===o.$attr.ngTransclude&&(o.ngTransclude="");var a=o.ngTransclude||o.ngTranscludeSlot;function s(){n(t,function(t){e.append(t)})}r(function(t,n){t.length&&function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e];if(o.nodeType!==Vt||o.nodeValue.trim())return!0}}(t)?e.append(t):(s(),n.$destroy())},null,a),a&&!r.isSlotFilled(a)&&s()}}}}],va=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var o=n.id,i=e[0].text;t.put(o,i)}}}}],ba={$setViewValue:O,$render:O};function wa(t,e){t.prop("selected",e),t.attr("selected",e)}var Ea=["$element","$scope",function(e,n){var o=this,i=new He;o.selectValueMap={},o.ngModelCtrl=ba,o.multiple=!1,o.unknownOption=a(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),wa(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),wa(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+je(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),wa(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&wa(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=O}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&wa(a(n),!1),o.hasOption(t)){o.removeUnknownOption();var i=je(t);e.val(i in o.selectValueMap?i:t);var r=e[0].options[e[0].selectedIndex];wa(a(r),!0)}else o.selectUnknownOrEmptyOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Bt){Rt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=i.get(t)||0;i.set(t,n+1),s()}},o.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):i.set(t,e-1))},o.hasOption=function(t){return!!i.get(t)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return e[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&e[0].options[e[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(t){null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)};var r=!1;function s(){r||(r=!0,n.$$postDigest(function(){r=!1,o.ngModelCtrl.$render()}))}var l=!1;function c(t){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}o.registerOption=function(t,e,n,i,r){var a,l;n.$attr.ngValue?n.$observe("value",function(t){var n,i=e.prop("selected");F(l)&&(o.removeOption(a),delete o.selectValueMap[l],n=!0),l=je(t),a=t,o.selectValueMap[l]=t,o.addOption(t,e),e.attr("value",l),n&&i&&c()}):i?n.$observe("value",function(t){var n;o.readValue();var i=e.prop("selected");F(a)&&(o.removeOption(a),n=!0),a=t,o.addOption(t,e),n&&i&&c()}):r?t.$watch(r,function(t,i){n.$set("value",t);var r=e.prop("selected");i!==t&&o.removeOption(i),o.addOption(t,e),i&&r&&c()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?c(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),s(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&c(!0)})}}],Ma=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ea,priority:1,link:{pre:function(t,e,n,o){var i=o[0],r=o[1];if(!r)return void(i.registerOption=O);if(i.ngModelCtrl=r,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){r.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return M(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){M(e.find("option"),function(e){var n=!!t&&(it(t,e.value)||it(t,i.selectValueMap[e.value])),o=e.selected;n!==o&&wa(a(e),n)})};var s,l=NaN;t.$watch(function(){l!==r.$viewValue||lt(s,r.$viewValue)||(s=zt(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,n,o){var i=o[1];if(!i)return;var r=o[0];i.$render=function(){r.writeValue(i.$viewValue)}}}}},$a=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var o,i;return F(n.ngValue)||(F(n.value)?o=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var r=e.parent(),a=r.data("$selectController")||r.parent().data("$selectController");a&&a.registerOption(t,e,n,o,i)}}}}],Ca=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,o,i){if(i){var r=o.hasOwnProperty("required")||t(o.ngRequired)(e);o.ngRequired||(o.required=!0),i.$validators.required=function(t,e){return!r||!i.$isEmpty(e)},o.$observe("required",function(t){r!==t&&(r=t,i.$validate())})}}}}],_a=["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(e,n){var o,i;return n.ngPattern&&(o=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&c.test(n.ngPattern)?function(){return n.ngPattern}:t(n.ngPattern)),function(t,e,n,r){if(r){var a=n.pattern;n.ngPattern?a=i(t):o=n.pattern;var s=Ta(a,o,e);n.$observe("pattern",function(t){var n=s;s=Ta(t,o,e),(n&&n.toString())!==(s&&s.toString())&&r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||j(s)||s.test(e)}}}}}}],xa=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,o,i){if(i){var r=o.maxlength||t(o.ngMaxlength)(e),a=ka(r);o.$observe("maxlength",function(t){r!==t&&(a=ka(t),r=t,i.$validate())}),i.$validators.maxlength=function(t,e){return a<0||i.$isEmpty(e)||e.length<=a}}}}}],Sa=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,o,i){if(i){var r=o.minlength||t(o.ngMinlength)(e),a=ka(r)||-1;o.$observe("minlength",function(t){r!==t&&(a=ka(t)||-1,r=t,i.$validate())}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=a}}}}}];function Ta(t,e,n){if(t){if(V(t)&&(t=new RegExp("^"+t+"$")),!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,t,Et(n));return t}}function ka(t){var e=P(t);return D(e)?-1:e}t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var e;if(!Ot){var n=ut();(s=j(n)?t.jQuery:n?t[n]:void 0)&&s.fn.on?(a=s,k(s.fn,{scope:Ae.scope,isolateScope:Ae.isolateScope,controller:Ae.controller,injector:Ae.injector,inheritedData:Ae.inheritedData})):a=he,e=a.cleanData,a.cleanData=function(t){for(var n,o,i=0;null!=(o=t[i]);i++)(n=(a._data(o)||{}).events)&&n.$destroy&&a(o).triggerHandler("$destroy");e(t)},angular.element=a,Ot=!0}}(),function(angular){k(angular,{errorHandlingConfig:n,bootstrap:kt,copy:at,extend:k,merge:A,equals:lt,element:a,forEach:M,injector:Ze,noop:O,bind:dt,toJson:mt,fromJson:gt,identity:N,isUndefined:j,isDefined:F,isString:V,isFunction:G,isObject:U,isNumber:B,isElement:nt,isArray:W,version:Yt,isDate:q,callbacks:{$$counter:0},getTestability:Pt,reloadWithDebugInfo:At,$$minErr:i,$$csp:ct,$$encodeUriSegment:Ct,$$encodeUriQuery:_t,$$lowercase:h,$$stringify:Ut,$$uppercase:d}),(l=function(t){var e=i("$injector"),n=i("ng");function o(t,e,n){return t[e]||(t[e]=n())}var angular=o(t,"angular",Object);return angular.$$minErr=angular.$$minErr||i,o(angular,"module",function(){var t={};return function(i,r,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name",e)}(i,"module"),r&&t.hasOwnProperty(i)&&(t[i]=null),o(t,i,function(){if(!r)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],o=[],l=[],c=p("$injector","invoke","push",o),u={_invokeQueue:t,_configBlocks:o,_runBlocks:l,info:function(t){if(F(t)){if(!U(t))throw n("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:r,name:i,provider:h("$provide","provider"),factory:h("$provide","factory"),service:h("$provide","service"),value:p("$provide","value"),constant:p("$provide","constant","unshift"),decorator:h("$provide","decorator",o),animation:h("$animateProvider","register"),filter:h("$filterProvider","register"),controller:h("$controllerProvider","register"),directive:h("$compileProvider","directive"),component:h("$compileProvider","component"),config:c,run:function(t){return l.push(t),this}};return a&&c(a),u;function p(e,n,o,i){return i||(i=t),function(){return i[o||"push"]([e,n,arguments]),u}}function h(e,n,o){return o||(o=t),function(t,r){return r&&G(r)&&(r.$$moduleName=i),o.push([e,n,arguments]),u}}})}})}(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Wo}),t.provider("$compile",mn).directive({a:Vi,input:Mr,textarea:Mr,form:Yi,script:va,select:Ma,option:$a,ngBind:xr,ngBindHtml:Tr,ngBindTemplate:Sr,ngClass:Pr,ngClassEven:Ir,ngClassOdd:Dr,ngCloak:Or,ngController:Nr,ngForm:Ki,ngHide:pa,ngIf:Fr,ngInclude:Ur,ngInit:Vr,ngNonBindable:na,ngPluralize:aa,ngRef:la,ngRepeat:ca,ngShow:ua,ngStyle:ha,ngSwitch:da,ngSwitchWhen:fa,ngSwitchDefault:ma,ngOptions:ra,ngTransclude:ya,ngModel:Zr,ngList:Br,ngChange:kr,pattern:_a,ngPattern:_a,required:Ca,ngRequired:Ca,minlength:Sa,ngMinlength:Sa,maxlength:xa,ngMaxlength:xa,ngValue:_r,ngModelOptions:ta}).directive({ngInclude:Hr,input:$r}).directive(Bi).directive(Lr),t.provider({$anchorScroll:Je,$animate:an,$animateCss:cn,$$animateJs:on,$$animateQueue:rn,$$AnimateRunner:ln,$$animateAsyncRun:sn,$browser:un,$cacheFactory:pn,$controller:Cn,$document:_n,$$isDocumentHidden:xn,$exceptionHandler:Sn,$filter:mi,$$forceReflow:Tn,$interpolate:Gn,$interval:Kn,$$intervalFactory:Xn,$http:Bn,$httpParamSerializer:Ln,$httpParamSerializerJQLike:Rn,$httpBackend:Wn,$xhrFactory:qn,$jsonpCallbacks:Zn,$location:mo,$log:go,$parse:Lo,$rootScope:qo,$q:Ro,$$q:jo,$sce:Jo,$sceDelegate:Zo,$sniffer:Qo,$$taskTrackerFactory:ti,$templateCache:hn,$templateRequest:ni,$$testability:oi,$timeout:ri,$window:hi,$$rAF:Bo,$$jqLite:Re,$$Map:Ve,$$cookieReader:fi})}]).info({angularVersion:"1.7.8"})}(angular),angular.module("ngLocale",[],["$provide",function(t){var e="one",n="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,o){var i=0|t,r=function(t,e){var n=e;void 0===n&&(n=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var o=Math.pow(10,n);return{v:n,f:(t*o|0)%o}}(t,o);return 1==i&&0==r.v?e:n}})}]),a(function(){Tt(t.document,kt)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],59:[function(t,e,n){t("./angular"),e.exports=angular},{"./angular":58}],60:[function(t,e,n){(function(t){!function(t,o){"object"==typeof n&&void 0!==e?o(n,"undefined"!=typeof window?window.$:void 0!==t?t.$:null):"function"==typeof define&&define.amd?define(["exports","jquery"],o):o((t=t||self).bootstrap={},t.jQuery)}(this,function(e,$){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}var a="transitionend";function s(t){var e=this,n=!1;return $(this).one(l.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||l.triggerTransitionEnd(e)},t),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=$(t).css("transition-duration"),n=$(t).css("transition-delay"),o=parseFloat(e),i=parseFloat(n);return o||i?(e=e.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){$(t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o],r=e[o],a=r&&l.isElement(r)?"element":(s=r,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(i).test(a))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+a+'" but expected type "'+i+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null}};($=$&&$.hasOwnProperty("default")?$.default:$).fn.emulateTransitionEnd=s,$.event.special[l.TRANSITION_END]={bindType:a,delegateType:a,handle:function(t){if($(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c=$.fn.alert,u={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},p="alert",h="fade",d="show",f=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){$.removeData(this._element,"bs.alert"),this._element=null},e._getRootElement=function(t){var e=l.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=$(t).closest("."+p)[0]),n},e._triggerCloseEvent=function(t){var e=$.Event(u.CLOSE);return $(t).trigger(e),e},e._removeElement=function(t){var e=this;if($(t).removeClass(d),$(t).hasClass(h)){var n=l.getTransitionDurationFromElement(t);$(t).one(l.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){$(t).detach().trigger(u.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var n=$(this),o=n.data("bs.alert");o||(o=new t(this),n.data("bs.alert",o)),"close"===e&&o[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();$(document).on(u.CLICK_DATA_API,'[data-dismiss="alert"]',f._handleDismiss(new f)),$.fn.alert=f._jQueryInterface,$.fn.alert.Constructor=f,$.fn.alert.noConflict=function(){return $.fn.alert=c,f._jQueryInterface};var m=$.fn.button,g="active",y="btn",v="focus",b='[data-toggle^="button"]',w='[data-toggle="buttons"]',E='input:not([type="hidden"])',M=".active",C=".btn",_={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},x=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=$(this._element).closest(w)[0];if(n){var o=this._element.querySelector(E);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(g))t=!1;else{var i=n.querySelector(M);i&&$(i).removeClass(g)}if(t){if(o.hasAttribute("disabled")||n.hasAttribute("disabled")||o.classList.contains("disabled")||n.classList.contains("disabled"))return;o.checked=!this._element.classList.contains(g),$(o).trigger("change")}o.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(g)),t&&$(this._element).toggleClass(g)},e.dispose=function(){$.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var n=$(this).data("bs.button");n||(n=new t(this),$(this).data("bs.button",n)),"toggle"===e&&n[e]()})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();$(document).on(_.CLICK_DATA_API,b,function(t){t.preventDefault();var e=t.target;$(e).hasClass(y)||(e=$(e).closest(C)),x._jQueryInterface.call($(e),"toggle")}).on(_.FOCUS_BLUR_DATA_API,b,function(t){var e=$(t.target).closest(C)[0];$(e).toggleClass(v,/^focus(in)?$/.test(t.type))}),$.fn.button=x._jQueryInterface,$.fn.button.Constructor=x,$.fn.button.noConflict=function(){return $.fn.button=m,x._jQueryInterface};var S="carousel",T=".bs.carousel",k=$.fn[S],A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},P={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},D="next",I="prev",O="left",N="right",L={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},R="carousel",j="active",F="slide",U="carousel-item-right",H="carousel-item-left",V="carousel-item-next",B="carousel-item-prev",q="pointer-event",W={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},z={TOUCH:"touch",PEN:"pen"},G=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(W.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(D)},e.nextWhenVisible=function(){!document.hidden&&$(this._element).is(":visible")&&"hidden"!==$(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(I)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(W.NEXT_PREV)&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(W.ACTIVE_ITEM);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)$(this._element).one(L.SLID,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();var o=t>n?D:I;this._slide(o,this._items[t])}},e.dispose=function(){$(this._element).off(T),$.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=r({},A,t),l.typeCheckConfig(S,t,P),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&$(this._element).on(L.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&$(this._element).on(L.MOUSEENTER,function(e){return t.pause(e)}).on(L.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&z[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t._pointerEvent&&z[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};$(this._element.querySelectorAll(W.ITEM_IMG)).on(L.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?($(this._element).on(L.POINTERDOWN,function(t){return e(t)}),$(this._element).on(L.POINTERUP,function(t){return n(t)}),this._element.classList.add(q)):($(this._element).on(L.TOUCHSTART,function(t){return e(t)}),$(this._element).on(L.TOUCHMOVE,function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)}),$(this._element).on(L.TOUCHEND,function(t){return n(t)}))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(W.ITEM)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===D,o=t===I,i=this._getItemIndex(e),r=this._items.length-1;if((o&&0===i||n&&i===r)&&!this._config.wrap)return e;var a=(i+(t===I?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(W.ACTIVE_ITEM)),i=$.Event(L.SLIDE,{relatedTarget:t,direction:e,from:o,to:n});return $(this._element).trigger(i),i},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(W.ACTIVE));$(e).removeClass(j);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&$(n).addClass(j)}},e._slide=function(t,e){var n,o,i,r=this,a=this._element.querySelector(W.ACTIVE_ITEM),s=this._getItemIndex(a),c=e||a&&this._getItemByDirection(t,a),u=this._getItemIndex(c),p=Boolean(this._interval);if(t===D?(n=H,o=V,i=O):(n=U,o=B,i=N),c&&$(c).hasClass(j))this._isSliding=!1;else if(!this._triggerSlideEvent(c,i).isDefaultPrevented()&&a&&c){this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(c);var h=$.Event(L.SLID,{relatedTarget:c,direction:i,from:s,to:u});if($(this._element).hasClass(F)){$(c).addClass(o),l.reflow(c),$(a).addClass(n),$(c).addClass(n);var d=parseInt(c.getAttribute("data-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval;var f=l.getTransitionDurationFromElement(a);$(a).one(l.TRANSITION_END,function(){$(c).removeClass(n+" "+o).addClass(j),$(a).removeClass(j+" "+o+" "+n),r._isSliding=!1,setTimeout(function(){return $(r._element).trigger(h)},0)}).emulateTransitionEnd(f)}else $(a).removeClass(j),$(c).addClass(j),this._isSliding=!1,$(this._element).trigger(h);p&&this.cycle()}},t._jQueryInterface=function(e){return this.each(function(){var n=$(this).data("bs.carousel"),o=r({},A,$(this).data());"object"==typeof e&&(o=r({},o,e));var i="string"==typeof e?e:o.slide;if(n||(n=new t(this,o),$(this).data("bs.carousel",n)),"number"==typeof e)n.to(e);else if("string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}else o.interval&&o.ride&&(n.pause(),n.cycle())})},t._dataApiClickHandler=function(e){var n=l.getSelectorFromElement(this);if(n){var o=$(n)[0];if(o&&$(o).hasClass(R)){var i=r({},$(o).data(),$(this).data()),a=this.getAttribute("data-slide-to");a&&(i.interval=!1),t._jQueryInterface.call($(o),i),a&&$(o).data("bs.carousel").to(a),e.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return A}}]),t}();$(document).on(L.CLICK_DATA_API,W.DATA_SLIDE,G._dataApiClickHandler),$(window).on(L.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(W.DATA_RIDE)),e=0,n=t.length;e<n;e++){var o=$(t[e]);G._jQueryInterface.call(o,o.data())}}),$.fn[S]=G._jQueryInterface,$.fn[S].Constructor=G,$.fn[S].noConflict=function(){return $.fn[S]=k,G._jQueryInterface};var Y="collapse",K=$.fn[Y],X={toggle:!0,parent:""},Z={toggle:"boolean",parent:"(string|element)"},J={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},Q="show",tt="collapse",et="collapsing",nt="collapsed",ot="width",it="height",rt={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},at=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(rt.DATA_TOGGLE)),o=0,i=n.length;o<i;o++){var r=n[o],a=l.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter(function(e){return e===t});null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){$(this._element).hasClass(Q)?this.hide():this.show()},e.show=function(){var e,n,o=this;if(!this._isTransitioning&&!$(this._element).hasClass(Q)&&(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(rt.ACTIVES)).filter(function(t){return"string"==typeof o._config.parent?t.getAttribute("data-parent")===o._config.parent:t.classList.contains(tt)})).length&&(e=null),!(e&&(n=$(e).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var i=$.Event(J.SHOW);if($(this._element).trigger(i),!i.isDefaultPrevented()){e&&(t._jQueryInterface.call($(e).not(this._selector),"hide"),n||$(e).data("bs.collapse",null));var r=this._getDimension();$(this._element).removeClass(tt).addClass(et),this._element.style[r]=0,this._triggerArray.length&&$(this._triggerArray).removeClass(nt).attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(r[0].toUpperCase()+r.slice(1)),s=l.getTransitionDurationFromElement(this._element);$(this._element).one(l.TRANSITION_END,function(){$(o._element).removeClass(et).addClass(tt).addClass(Q),o._element.style[r]="",o.setTransitioning(!1),$(o._element).trigger(J.SHOWN)}).emulateTransitionEnd(s),this._element.style[r]=this._element[a]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&$(this._element).hasClass(Q)){var e=$.Event(J.HIDE);if($(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",l.reflow(this._element),$(this._element).addClass(et).removeClass(tt).removeClass(Q);var o=this._triggerArray.length;if(o>0)for(var i=0;i<o;i++){var r=this._triggerArray[i],a=l.getSelectorFromElement(r);if(null!==a)$([].slice.call(document.querySelectorAll(a))).hasClass(Q)||$(r).addClass(nt).attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[n]="";var s=l.getTransitionDurationFromElement(this._element);$(this._element).one(l.TRANSITION_END,function(){t.setTransitioning(!1),$(t._element).removeClass(et).addClass(tt).trigger(J.HIDDEN)}).emulateTransitionEnd(s)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){$.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=r({},X,t)).toggle=Boolean(t.toggle),l.typeCheckConfig(Y,t,Z),t},e._getDimension=function(){return $(this._element).hasClass(ot)?ot:it},e._getParent=function(){var e,n=this;l.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(e.querySelectorAll(o));return $(i).each(function(e,o){n._addAriaAndCollapsedClass(t._getTargetFromElement(o),[o])}),e},e._addAriaAndCollapsedClass=function(t,e){var n=$(t).hasClass(Q);e.length&&$(e).toggleClass(nt,!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each(function(){var n=$(this),o=n.data("bs.collapse"),i=r({},X,n.data(),"object"==typeof e&&e?e:{});if(!o&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),o||(o=new t(this,i),n.data("bs.collapse",o)),"string"==typeof e){if(void 0===o[e])throw new TypeError('No method named "'+e+'"');o[e]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return X}}]),t}();$(document).on(J.CLICK_DATA_API,rt.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=$(this),n=l.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(n));$(o).each(function(){var t=$(this),n=t.data("bs.collapse")?"toggle":e.data();at._jQueryInterface.call(t,n)})}),$.fn[Y]=at._jQueryInterface,$.fn[Y].Constructor=at,$.fn[Y].noConflict=function(){return $.fn[Y]=K,at._jQueryInterface};for(var st="undefined"!=typeof window&&"undefined"!=typeof document,lt=["Edge","Trident","Firefox"],ct=0,ut=0;ut<lt.length;ut+=1)if(st&&navigator.userAgent.indexOf(lt[ut])>=0){ct=1;break}var pt=st&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},ct))}};function ht(t){return t&&"[object Function]"==={}.toString.call(t)}function dt(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function ft(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function mt(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=dt(t),n=e.overflow,o=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?t:mt(ft(t))}var gt=st&&!(!window.MSInputMethodContext||!document.documentMode),yt=st&&/MSIE 10/.test(navigator.userAgent);function vt(t){return 11===t?gt:10===t?yt:gt||yt}function bt(t){if(!t)return document.documentElement;for(var e=vt(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===dt(n,"position")?bt(n):n:t?t.ownerDocument.documentElement:document.documentElement}function wt(t){return null!==t.parentNode?wt(t.parentNode):t}function Et(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?t:e,i=n?e:t,r=document.createRange();r.setStart(o,0),r.setEnd(i,0);var a,s,l=r.commonAncestorContainer;if(t!==l&&e!==l||o.contains(i))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&bt(a.firstElementChild)!==a?bt(l):l;var c=wt(t);return c.host?Et(c.host,e):Et(t,wt(e).host)}function Mt(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[e]}return t[e]}function $t(t,e){var n="x"===e?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+o+"Width"],10)}function Ct(t,e,n,o){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],vt(10)?parseInt(n["offset"+t])+parseInt(o["margin"+("Height"===t?"Top":"Left")])+parseInt(o["margin"+("Height"===t?"Bottom":"Right")]):0)}function _t(t){var e=t.body,n=t.documentElement,o=vt(10)&&getComputedStyle(n);return{height:Ct("Height",e,n,o),width:Ct("Width",e,n,o)}}var xt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},St=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),Tt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function At(t){return kt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Pt(t){var e={};try{if(vt(10)){e=t.getBoundingClientRect();var n=Mt(t,"top"),o=Mt(t,"left");e.top+=n,e.left+=o,e.bottom+=n,e.right+=o}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?_t(t.ownerDocument):{},a=r.width||t.clientWidth||i.right-i.left,s=r.height||t.clientHeight||i.bottom-i.top,l=t.offsetWidth-a,c=t.offsetHeight-s;if(l||c){var u=dt(t);l-=$t(u,"x"),c-=$t(u,"y"),i.width-=l,i.height-=c}return At(i)}function Dt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=vt(10),i="HTML"===e.nodeName,r=Pt(t),a=Pt(e),s=mt(t),l=dt(e),c=parseFloat(l.borderTopWidth,10),u=parseFloat(l.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=At({top:r.top-a.top-c,left:r.left-a.left-u,width:r.width,height:r.height});if(p.marginTop=0,p.marginLeft=0,!o&&i){var h=parseFloat(l.marginTop,10),d=parseFloat(l.marginLeft,10);p.top-=c-h,p.bottom-=c-h,p.left-=u-d,p.right-=u-d,p.marginTop=h,p.marginLeft=d}return(o&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Mt(e,"top"),i=Mt(e,"left"),r=n?-1:1;return t.top+=o*r,t.bottom+=o*r,t.left+=i*r,t.right+=i*r,t}(p,e)),p}function It(t){if(!t||!t.parentElement||vt())return document.documentElement;for(var e=t.parentElement;e&&"none"===dt(e,"transform");)e=e.parentElement;return e||document.documentElement}function Ot(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=i?It(t):Et(t,e);if("viewport"===o)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,o=Dt(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:Mt(n),s=e?0:Mt(n,"left");return At({top:a-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:i,height:r})}(a,i);else{var s=void 0;"scrollParent"===o?"BODY"===(s=mt(ft(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===o?t.ownerDocument.documentElement:o;var l=Dt(s,a,i);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===dt(e,"position"))return!0;var o=ft(e);return!!o&&t(o)}(a))r=l;else{var c=_t(t.ownerDocument),u=c.height,p=c.width;r.top+=l.top-l.marginTop,r.bottom=u+l.top,r.left+=l.left-l.marginLeft,r.right=p+l.left}}var h="number"==typeof(n=n||0);return r.left+=h?n:n.left||0,r.top+=h?n:n.top||0,r.right-=h?n:n.right||0,r.bottom-=h?n:n.bottom||0,r}function Nt(t,e,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=Ot(n,o,r,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return kt({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,o=t.height;return e>=n.clientWidth&&o>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,p=t.split("-")[1];return u+(p?"-"+p:"")}function Lt(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Dt(n,o?It(e):Et(e,n),o)}function Rt(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),o=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+o,height:t.offsetHeight+n}}function jt(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function Ft(t,e,n){n=n.split("-")[0];var o=Rt(t),i={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return i[a]=e[a]+e[l]/2-o[l]/2,i[s]=n===s?e[s]-o[c]:e[jt(s)],i}function Ut(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Ht(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var o=Ut(t,function(t){return t[e]===n});return t.indexOf(o)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&ht(n)&&(e.offsets.popper=At(e.offsets.popper),e.offsets.reference=At(e.offsets.reference),e=n(e,t))}),e}function Vt(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function Bt(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<e.length;o++){var i=e[o],r=i?""+i+n:t;if(void 0!==document.body.style[r])return r}return null}function qt(t){var e=t.ownerDocument;return e?e.defaultView:window}function Wt(t,e,n,o){n.updateBound=o,qt(t).addEventListener("resize",n.updateBound,{passive:!0});var i=mt(t);return function t(e,n,o,i){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(n,o,{passive:!0}),r||t(mt(a.parentNode),n,o,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function zt(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,qt(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Gt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Yt(t,e){Object.keys(e).forEach(function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Gt(e[n])&&(o="px"),t.style[n]=e[n]+o})}var Kt=st&&/Firefox/i.test(navigator.userAgent);function Xt(t,e,n){var o=Ut(t,function(t){return t.name===e}),i=!!o&&t.some(function(t){return t.name===n&&t.enabled&&t.order<o.order});if(!i){var r="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var Zt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Jt=Zt.slice(3);function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Jt.indexOf(t),o=Jt.slice(n+1).concat(Jt.slice(0,n));return e?o.reverse():o}var te={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ee(t,e,n,o){var i=[0,0],r=-1!==["right","left"].indexOf(o),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(Ut(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,o){var i=(1===o?!r:r)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,o){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],a=i[2];if(!r)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=o}return At(s)[e]/100*r}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(t,i,e,n)})})).forEach(function(t,e){t.forEach(function(n,o){Gt(n)&&(i[e]+=n*("-"===t[o-1]?-1:1))})}),i}var ne={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],o=e.split("-")[1];if(o){var i=t.offsets,r=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:Tt({},l,r[l]),end:Tt({},l,r[l]+r[c]-a[c])};t.offsets.popper=kt({},a,u[o])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,o=t.placement,i=t.offsets,r=i.popper,a=i.reference,s=o.split("-")[0],l=void 0;return l=Gt(+n)?[+n,0]:ee(n,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||bt(t.instance.popper);t.instance.reference===n&&(n=bt(n));var o=Bt("transform"),i=t.instance.popper.style,r=i.top,a=i.left,s=i[o];i.top="",i.left="",i[o]="";var l=Ot(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=r,i.left=a,i[o]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,p={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),Tt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",o=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(o=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),Tt({},n,o)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=kt({},u,p[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,o=e.reference,i=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(o[l])&&(t.offsets.popper[l]=r(o[l])-n[c]),n[l]>r(o[s])&&(t.offsets.popper[l]=r(o[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Xt(t.instance.modifiers,"arrow","keepTogether"))return t;var o=e.element;if("string"==typeof o){if(!(o=t.instance.popper.querySelector(o)))return t}else if(!t.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],r=t.offsets,a=r.popper,s=r.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",p=u.toLowerCase(),h=l?"left":"top",d=l?"bottom":"right",f=Rt(o)[c];s[d]-f<a[p]&&(t.offsets.popper[p]-=a[p]-(s[d]-f)),s[p]+f>a[d]&&(t.offsets.popper[p]+=s[p]+f-a[d]),t.offsets.popper=At(t.offsets.popper);var m=s[p]+s[c]/2-f/2,g=dt(t.instance.popper),y=parseFloat(g["margin"+u],10),v=parseFloat(g["border"+u+"Width"],10),b=m-t.offsets.popper[p]-y-v;return b=Math.max(Math.min(a[c]-f,b),0),t.arrowElement=o,t.offsets.arrow=(Tt(n={},p,Math.round(b)),Tt(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Vt(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=Ot(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),o=t.placement.split("-")[0],i=jt(o),r=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case te.FLIP:a=[o,i];break;case te.CLOCKWISE:a=Qt(o);break;case te.COUNTERCLOCKWISE:a=Qt(o,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(o!==s||a.length===l+1)return t;o=t.placement.split("-")[0],i=jt(o);var c=t.offsets.popper,u=t.offsets.reference,p=Math.floor,h="left"===o&&p(c.right)>p(u.left)||"right"===o&&p(c.left)<p(u.right)||"top"===o&&p(c.bottom)>p(u.top)||"bottom"===o&&p(c.top)<p(u.bottom),d=p(c.left)<p(n.left),f=p(c.right)>p(n.right),m=p(c.top)<p(n.top),g=p(c.bottom)>p(n.bottom),y="left"===o&&d||"right"===o&&f||"top"===o&&m||"bottom"===o&&g,v=-1!==["top","bottom"].indexOf(o),b=!!e.flipVariations&&(v&&"start"===r&&d||v&&"end"===r&&f||!v&&"start"===r&&m||!v&&"end"===r&&g);(h||y||b)&&(t.flipped=!0,(h||y)&&(o=a[l+1]),b&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=o+(r?"-"+r:""),t.offsets.popper=kt({},t.offsets.popper,Ft(t.instance.popper,t.offsets.reference,t.placement)),t=Ht(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],o=t.offsets,i=o.popper,r=o.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=r[n]-(s?i[a?"width":"height"]:0),t.placement=jt(e),t.offsets.popper=At(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Xt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Ut(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,o=e.y,i=t.offsets.popper,r=Ut(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:e.gpuAcceleration,s=bt(t.instance.popper),l=Pt(s),c={position:i.position},u=function(t,e){var n=t.offsets,o=n.popper,i=n.reference,r=Math.round,a=Math.floor,s=function(t){return t},l=r(i.width),c=r(o.width),u=-1!==["left","right"].indexOf(t.placement),p=-1!==t.placement.indexOf("-"),h=e?u||p||l%2==c%2?r:a:s,d=e?r:s;return{left:h(l%2==1&&c%2==1&&!p&&e?o.left-1:o.left),top:d(o.top),bottom:d(o.bottom),right:h(o.right)}}(t,window.devicePixelRatio<2||!Kt),p="bottom"===n?"top":"bottom",h="right"===o?"left":"right",d=Bt("transform"),f=void 0,m=void 0;if(m="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,f="right"===h?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&d)c[d]="translate3d("+f+"px, "+m+"px, 0)",c[p]=0,c[h]=0,c.willChange="transform";else{var g="bottom"===p?-1:1,y="right"===h?-1:1;c[p]=m*g,c[h]=f*y,c.willChange=p+", "+h}var v={"x-placement":t.placement};return t.attributes=kt({},v,t.attributes),t.styles=kt({},c,t.styles),t.arrowStyles=kt({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Yt(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&Yt(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,o,i){var r=Lt(i,e,t,n.positionFixed),a=Nt(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),Yt(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},oe=function(){function t(e,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=pt(this.update.bind(this)),this.options=kt({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(kt({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){o.options.modifiers[e]=kt({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return kt({name:t},o.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&ht(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return St(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Lt(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Nt(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Ft(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Ht(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Vt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Bt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=Wt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return zt.call(this)}}]),t}();oe.Utils=("undefined"!=typeof window?window:t).PopperUtils,oe.placements=Zt,oe.Defaults=ne;var ie="dropdown",re=$.fn[ie],ae=new RegExp("38|40|27"),se={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},le="disabled",ce="show",ue="dropup",pe="dropright",he="dropleft",de="dropdown-menu-right",fe="position-static",me='[data-toggle="dropdown"]',ge=".dropdown form",ye=".dropdown-menu",ve=".navbar-nav",be=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",we="top-start",Ee="top-end",Me="bottom-start",$e="bottom-end",Ce="right-start",_e="left-start",xe={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Se={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Te=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!$(this._element).hasClass(le)){var e=t._getParentFromElement(this._element),n=$(this._menu).hasClass(ce);if(t._clearMenus(),!n){var o={relatedTarget:this._element},i=$.Event(se.SHOW,o);if($(e).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===oe)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var r=this._element;"parent"===this._config.reference?r=e:l.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&$(e).addClass(fe),this._popper=new oe(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===$(e).closest(ve).length&&$(document.body).children().on("mouseover",null,$.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),$(this._menu).toggleClass(ce),$(e).toggleClass(ce).trigger($.Event(se.SHOWN,o))}}}},e.show=function(){if(!(this._element.disabled||$(this._element).hasClass(le)||$(this._menu).hasClass(ce))){var e={relatedTarget:this._element},n=$.Event(se.SHOW,e),o=t._getParentFromElement(this._element);$(o).trigger(n),n.isDefaultPrevented()||($(this._menu).toggleClass(ce),$(o).toggleClass(ce).trigger($.Event(se.SHOWN,e)))}},e.hide=function(){if(!this._element.disabled&&!$(this._element).hasClass(le)&&$(this._menu).hasClass(ce)){var e={relatedTarget:this._element},n=$.Event(se.HIDE,e),o=t._getParentFromElement(this._element);$(o).trigger(n),n.isDefaultPrevented()||($(this._menu).toggleClass(ce),$(o).toggleClass(ce).trigger($.Event(se.HIDDEN,e)))}},e.dispose=function(){$.removeData(this._element,"bs.dropdown"),$(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;$(this._element).on(se.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(t){return t=r({},this.constructor.Default,$(this._element).data(),t),l.typeCheckConfig(ie,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(ye))}return this._menu},e._getPlacement=function(){var t=$(this._element.parentNode),e=Me;return t.hasClass(ue)?(e=we,$(this._menu).hasClass(de)&&(e=Ee)):t.hasClass(pe)?e=Ce:t.hasClass(he)?e=_e:$(this._menu).hasClass(de)&&(e=$e),e},e._detectNavbar=function(){return $(this._element).closest(".navbar").length>0},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(e){return this.each(function(){var n=$(this).data("bs.dropdown");if(n||(n=new t(this,"object"==typeof e?e:null),$(this).data("bs.dropdown",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll(me)),o=0,i=n.length;o<i;o++){var r=t._getParentFromElement(n[o]),a=$(n[o]).data("bs.dropdown"),s={relatedTarget:n[o]};if(e&&"click"===e.type&&(s.clickEvent=e),a){var l=a._menu;if($(r).hasClass(ce)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&$.contains(r,e.target))){var c=$.Event(se.HIDE,s);$(r).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&$(document.body).children().off("mouseover",null,$.noop),n[o].setAttribute("aria-expanded","false"),$(l).removeClass(ce),$(r).removeClass(ce).trigger($.Event(se.HIDDEN,s)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||$(e.target).closest(ye).length)):ae.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!$(this).hasClass(le))){var n=t._getParentFromElement(this),o=$(n).hasClass(ce);if(o&&(!o||27!==e.which&&32!==e.which)){var i=[].slice.call(n.querySelectorAll(be));if(0!==i.length){var r=i.indexOf(e.target);38===e.which&&r>0&&r--,40===e.which&&r<i.length-1&&r++,r<0&&(r=0),i[r].focus()}}else{if(27===e.which){var a=n.querySelector(me);$(a).trigger("focus")}$(this).trigger("click")}}},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return xe}},{key:"DefaultType",get:function(){return Se}}]),t}();$(document).on(se.KEYDOWN_DATA_API,me,Te._dataApiKeydownHandler).on(se.KEYDOWN_DATA_API,ye,Te._dataApiKeydownHandler).on(se.CLICK_DATA_API+" "+se.KEYUP_DATA_API,Te._clearMenus).on(se.CLICK_DATA_API,me,function(t){t.preventDefault(),t.stopPropagation(),Te._jQueryInterface.call($(this),"toggle")}).on(se.CLICK_DATA_API,ge,function(t){t.stopPropagation()}),$.fn[ie]=Te._jQueryInterface,$.fn[ie].Constructor=Te,$.fn[ie].noConflict=function(){return $.fn[ie]=re,Te._jQueryInterface};var ke=$.fn.modal,Ae={backdrop:!0,keyboard:!0,focus:!0,show:!0},Pe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},De={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Ie="modal-dialog-scrollable",Oe="modal-scrollbar-measure",Ne="modal-backdrop",Le="modal-open",Re="fade",je="show",Fe={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Ue=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(Fe.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){$(this._element).hasClass(Re)&&(this._isTransitioning=!0);var n=$.Event(De.SHOW,{relatedTarget:t});$(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),$(this._element).on(De.CLICK_DISMISS,Fe.DATA_DISMISS,function(t){return e.hide(t)}),$(this._dialog).on(De.MOUSEDOWN_DISMISS,function(){$(e._element).one(De.MOUSEUP_DISMISS,function(t){$(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=$.Event(De.HIDE);if($(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var o=$(this._element).hasClass(Re);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),$(document).off(De.FOCUSIN),$(this._element).removeClass(je),$(this._element).off(De.CLICK_DISMISS),$(this._dialog).off(De.MOUSEDOWN_DISMISS),o){var i=l.getTransitionDurationFromElement(this._element);$(this._element).one(l.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(i)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return $(t).off(".bs.modal")}),$(document).off(De.FOCUSIN),$.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=r({},Ae,t),l.typeCheckConfig("modal",t,Pe),t},e._showElement=function(t){var e=this,n=$(this._element).hasClass(Re);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),$(this._dialog).hasClass(Ie)?this._dialog.querySelector(Fe.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,n&&l.reflow(this._element),$(this._element).addClass(je),this._config.focus&&this._enforceFocus();var o=$.Event(De.SHOWN,{relatedTarget:t}),i=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,$(e._element).trigger(o)};if(n){var r=l.getTransitionDurationFromElement(this._dialog);$(this._dialog).one(l.TRANSITION_END,i).emulateTransitionEnd(r)}else i()},e._enforceFocus=function(){var t=this;$(document).off(De.FOCUSIN).on(De.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===$(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?$(this._element).on(De.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||$(this._element).off(De.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?$(window).on(De.RESIZE,function(e){return t.handleUpdate(e)}):$(window).off(De.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){$(document.body).removeClass(Le),t._resetAdjustments(),t._resetScrollbar(),$(t._element).trigger(De.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&($(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=$(this._element).hasClass(Re)?Re:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Ne,n&&this._backdrop.classList.add(n),$(this._backdrop).appendTo(document.body),$(this._element).on(De.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),n&&l.reflow(this._backdrop),$(this._backdrop).addClass(je),!t)return;if(!n)return void t();var o=l.getTransitionDurationFromElement(this._backdrop);$(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){$(this._backdrop).removeClass(je);var i=function(){e._removeBackdrop(),t&&t()};if($(this._element).hasClass(Re)){var r=l.getTransitionDurationFromElement(this._backdrop);$(this._backdrop).one(l.TRANSITION_END,i).emulateTransitionEnd(r)}else i()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(Fe.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(Fe.STICKY_CONTENT));$(e).each(function(e,n){var o=n.style.paddingRight,i=$(n).css("padding-right");$(n).data("padding-right",o).css("padding-right",parseFloat(i)+t._scrollbarWidth+"px")}),$(n).each(function(e,n){var o=n.style.marginRight,i=$(n).css("margin-right");$(n).data("margin-right",o).css("margin-right",parseFloat(i)-t._scrollbarWidth+"px")});var o=document.body.style.paddingRight,i=$(document.body).css("padding-right");$(document.body).data("padding-right",o).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}$(document.body).addClass(Le)},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(Fe.FIXED_CONTENT));$(t).each(function(t,e){var n=$(e).data("padding-right");$(e).removeData("padding-right"),e.style.paddingRight=n||""});var e=[].slice.call(document.querySelectorAll(""+Fe.STICKY_CONTENT));$(e).each(function(t,e){var n=$(e).data("margin-right");void 0!==n&&$(e).css("margin-right",n).removeData("margin-right")});var n=$(document.body).data("padding-right");$(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Oe,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each(function(){var o=$(this).data("bs.modal"),i=r({},Ae,$(this).data(),"object"==typeof e&&e?e:{});if(o||(o=new t(this,i),$(this).data("bs.modal",o)),"string"==typeof e){if(void 0===o[e])throw new TypeError('No method named "'+e+'"');o[e](n)}else i.show&&o.show(n)})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ae}}]),t}();$(document).on(De.CLICK_DATA_API,Fe.DATA_TOGGLE,function(t){var e,n=this,o=l.getSelectorFromElement(this);o&&(e=document.querySelector(o));var i=$(e).data("bs.modal")?"toggle":r({},$(e).data(),$(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=$(e).one(De.SHOW,function(t){t.isDefaultPrevented()||a.one(De.HIDDEN,function(){$(n).is(":visible")&&n.focus()})});Ue._jQueryInterface.call($(e),i,this)}),$.fn.modal=Ue._jQueryInterface,$.fn.modal.Constructor=Ue,$.fn.modal.noConflict=function(){return $.fn.modal=ke,Ue._jQueryInterface};var He=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ve={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Be=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function We(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var o=(new window.DOMParser).parseFromString(t,"text/html"),i=Object.keys(e),r=[].slice.call(o.body.querySelectorAll("*")),a=function(t,n){var o=r[t],a=o.nodeName.toLowerCase();if(-1===i.indexOf(o.nodeName.toLowerCase()))return o.parentNode.removeChild(o),"continue";var s=[].slice.call(o.attributes),l=[].concat(e["*"]||[],e[a]||[]);s.forEach(function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===He.indexOf(n)||Boolean(t.nodeValue.match(Be)||t.nodeValue.match(qe));for(var o=e.filter(function(t){return t instanceof RegExp}),i=0,r=o.length;i<r;i++)if(n.match(o[i]))return!0;return!1})(t,l)||o.removeAttribute(t.nodeName)})},s=0,l=r.length;s<l;s++)a(s);return o.body.innerHTML}var ze="tooltip",Ge=$.fn.tooltip,Ye=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ke=["sanitize","whiteList","sanitizeFn"],Xe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},Ze={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Je={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Ve},Qe="show",tn="out",en={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},nn="fade",on="show",rn=".tooltip-inner",an=".arrow",sn="hover",ln="focus",cn="click",un="manual",pn=function(){function t(t,e){if(void 0===oe)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=$(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),$(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if($(this.getTipElement()).hasClass(on))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),$.removeData(this.element,this.constructor.DATA_KEY),$(this.element).off(this.constructor.EVENT_KEY),$(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&$(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===$(this.element).css("display"))throw new Error("Please use show on visible elements");var e=$.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){$(this.element).trigger(e);var n=l.findShadowRoot(this.element),o=$.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!o)return;var i=this.getTipElement(),r=l.getUID(this.constructor.NAME);i.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&$(i).addClass(nn);var a="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,s=this._getAttachment(a);this.addAttachmentClass(s);var c=this._getContainer();$(i).data(this.constructor.DATA_KEY,this),$.contains(this.element.ownerDocument.documentElement,this.tip)||$(i).appendTo(c),$(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new oe(this.element,i,{placement:s,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:an},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),$(i).addClass(on),"ontouchstart"in document.documentElement&&$(document.body).children().on("mouseover",null,$.noop);var u=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,$(t.element).trigger(t.constructor.Event.SHOWN),e===tn&&t._leave(null,t)};if($(this.tip).hasClass(nn)){var p=l.getTransitionDurationFromElement(this.tip);$(this.tip).one(l.TRANSITION_END,u).emulateTransitionEnd(p)}else u()}},e.hide=function(t){var e=this,n=this.getTipElement(),o=$.Event(this.constructor.Event.HIDE),i=function(){e._hoverState!==Qe&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),$(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if($(this.element).trigger(o),!o.isDefaultPrevented()){if($(n).removeClass(on),"ontouchstart"in document.documentElement&&$(document.body).children().off("mouseover",null,$.noop),this._activeTrigger[cn]=!1,this._activeTrigger[ln]=!1,this._activeTrigger[sn]=!1,$(this.tip).hasClass(nn)){var r=l.getTransitionDurationFromElement(n);$(n).one(l.TRANSITION_END,i).emulateTransitionEnd(r)}else i();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){$(this.getTipElement()).addClass("bs-tooltip-"+t)},e.getTipElement=function(){return this.tip=this.tip||$(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent($(t.querySelectorAll(rn)),this.getTitle()),$(t).removeClass(nn+" "+on)},e.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=We(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?$(e).parent().is(t)||t.empty().append(e):t.text($(e).text())},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?$(this.config.container):$(document).find(this.config.container)},e._getAttachment=function(t){return Ze[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)$(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(e!==un){var n=e===sn?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=e===sn?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;$(t.element).on(n,t.config.selector,function(e){return t._enter(e)}).on(o,t.config.selector,function(e){return t._leave(e)})}}),$(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||$(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),$(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?ln:sn]=!0),$(e.getTipElement()).hasClass(on)||e._hoverState===Qe?e._hoverState=Qe:(clearTimeout(e._timeout),e._hoverState=Qe,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===Qe&&e.show()},e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||$(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),$(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?ln:sn]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=tn,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===tn&&e.hide()},e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=$(this.element).data();return Object.keys(e).forEach(function(t){-1!==Ke.indexOf(t)&&delete e[t]}),"number"==typeof(t=r({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(ze,t,this.constructor.DefaultType),t.sanitize&&(t.template=We(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=$(this.getTipElement()),e=t.attr("class").match(Ye);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&($(t).removeClass(nn),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each(function(){var n=$(this).data("bs.tooltip"),o="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,o),$(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Je}},{key:"NAME",get:function(){return ze}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return en}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Xe}}]),t}();$.fn.tooltip=pn._jQueryInterface,$.fn.tooltip.Constructor=pn,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=Ge,pn._jQueryInterface};var hn="popover",dn=$.fn.popover,fn=new RegExp("(^|\\s)bs-popover\\S+","g"),mn=r({},pn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),gn=r({},pn.DefaultType,{content:"(string|element|function)"}),yn="fade",vn="show",bn=".popover-header",wn=".popover-body",En={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Mn=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(t){$(this.getTipElement()).addClass("bs-popover-"+t)},r.getTipElement=function(){return this.tip=this.tip||$(this.config.template)[0],this.tip},r.setContent=function(){var t=$(this.getTipElement());this.setElementContent(t.find(bn),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(wn),e),t.removeClass(yn+" "+vn)},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=$(this.getTipElement()),e=t.attr("class").match(fn);null!==e&&e.length>0&&t.removeClass(e.join(""))},i._jQueryInterface=function(t){return this.each(function(){var e=$(this).data("bs.popover"),n="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new i(this,n),$(this).data("bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},o(i,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return mn}},{key:"NAME",get:function(){return hn}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return En}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return gn}}]),i}(pn);$.fn.popover=Mn._jQueryInterface,$.fn.popover.Constructor=Mn,$.fn.popover.noConflict=function(){return $.fn.popover=dn,Mn._jQueryInterface};var $n="scrollspy",Cn=$.fn[$n],_n={offset:10,method:"auto",target:""},xn={offset:"number",method:"string",target:"(string|element)"},Sn={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Tn="dropdown-item",kn="active",An={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Pn="offset",Dn="position",In=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+An.NAV_LINKS+","+this._config.target+" "+An.LIST_ITEMS+","+this._config.target+" "+An.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,$(this._scrollElement).on(Sn.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?Pn:Dn,n="auto"===this._config.method?e:this._config.method,o=n===Dn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,i=l.getSelectorFromElement(t);if(i&&(e=document.querySelector(i)),e){var r=e.getBoundingClientRect();if(r.width||r.height)return[$(e)[n]().top+o,i]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){$.removeData(this._element,"bs.scrollspy"),$(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=r({},_n,"object"==typeof t&&t?t:{})).target){var e=$(t.target).attr("id");e||(e=l.getUID($n),$(t.target).attr("id",e)),t.target="#"+e}return l.typeCheckConfig($n,t,xn),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=$([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass(Tn)?(n.closest(An.DROPDOWN).find(An.DROPDOWN_TOGGLE).addClass(kn),n.addClass(kn)):(n.addClass(kn),n.parents(An.NAV_LIST_GROUP).prev(An.NAV_LINKS+", "+An.LIST_ITEMS).addClass(kn),n.parents(An.NAV_LIST_GROUP).prev(An.NAV_ITEMS).children(An.NAV_LINKS).addClass(kn)),$(this._scrollElement).trigger(Sn.ACTIVATE,{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(kn)}).forEach(function(t){return t.classList.remove(kn)})},t._jQueryInterface=function(e){return this.each(function(){var n=$(this).data("bs.scrollspy");if(n||(n=new t(this,"object"==typeof e&&e),$(this).data("bs.scrollspy",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return _n}}]),t}();$(window).on(Sn.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(An.DATA_SPY)),e=t.length;e--;){var n=$(t[e]);In._jQueryInterface.call(n,n.data())}}),$.fn[$n]=In._jQueryInterface,$.fn[$n].Constructor=In,$.fn[$n].noConflict=function(){return $.fn[$n]=Cn,In._jQueryInterface};var On=$.fn.tab,Nn={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Ln="dropdown-menu",Rn="active",jn="disabled",Fn="fade",Un="show",Hn=".dropdown",Vn=".nav, .list-group",Bn=".active",qn="> li > .active",Wn='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',zn=".dropdown-toggle",Gn="> .dropdown-menu .active",Yn=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&$(this._element).hasClass(Rn)||$(this._element).hasClass(jn))){var e,n,o=$(this._element).closest(Vn)[0],i=l.getSelectorFromElement(this._element);if(o){var r="UL"===o.nodeName||"OL"===o.nodeName?qn:Bn;n=(n=$.makeArray($(o).find(r)))[n.length-1]}var a=$.Event(Nn.HIDE,{relatedTarget:this._element}),s=$.Event(Nn.SHOW,{relatedTarget:n});if(n&&$(n).trigger(a),$(this._element).trigger(s),!s.isDefaultPrevented()&&!a.isDefaultPrevented()){i&&(e=document.querySelector(i)),this._activate(this._element,o);var c=function(){var e=$.Event(Nn.HIDDEN,{relatedTarget:t._element}),o=$.Event(Nn.SHOWN,{relatedTarget:n});$(n).trigger(e),$(t._element).trigger(o)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){$.removeData(this._element,"bs.tab"),this._element=null},e._activate=function(t,e,n){var o=this,i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?$(e).children(Bn):$(e).find(qn))[0],r=n&&i&&$(i).hasClass(Fn),a=function(){return o._transitionComplete(t,i,n)};if(i&&r){var s=l.getTransitionDurationFromElement(i);$(i).removeClass(Un).one(l.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},e._transitionComplete=function(t,e,n){if(e){$(e).removeClass(Rn);var o=$(e.parentNode).find(Gn)[0];o&&$(o).removeClass(Rn),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if($(t).addClass(Rn),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),t.classList.contains(Fn)&&t.classList.add(Un),t.parentNode&&$(t.parentNode).hasClass(Ln)){var i=$(t).closest(Hn)[0];if(i){var r=[].slice.call(i.querySelectorAll(zn));$(r).addClass(Rn)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each(function(){var n=$(this),o=n.data("bs.tab");if(o||(o=new t(this),n.data("bs.tab",o)),"string"==typeof e){if(void 0===o[e])throw new TypeError('No method named "'+e+'"');o[e]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();$(document).on(Nn.CLICK_DATA_API,Wn,function(t){t.preventDefault(),Yn._jQueryInterface.call($(this),"show")}),$.fn.tab=Yn._jQueryInterface,$.fn.tab.Constructor=Yn,$.fn.tab.noConflict=function(){return $.fn.tab=On,Yn._jQueryInterface};var Kn=$.fn.toast,Xn={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Zn="fade",Jn="hide",Qn="show",to="showing",eo={animation:"boolean",autohide:"boolean",delay:"number"},no={animation:!0,autohide:!0,delay:500},oo='[data-dismiss="toast"]',io=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this;$(this._element).trigger(Xn.SHOW),this._config.animation&&this._element.classList.add(Zn);var e=function(){t._element.classList.remove(to),t._element.classList.add(Qn),$(t._element).trigger(Xn.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(Jn),this._element.classList.add(to),this._config.animation){var n=l.getTransitionDurationFromElement(this._element);$(this._element).one(l.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},e.hide=function(t){var e=this;this._element.classList.contains(Qn)&&($(this._element).trigger(Xn.HIDE),t?this._close():this._timeout=setTimeout(function(){e._close()},this._config.delay))},e.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Qn)&&this._element.classList.remove(Qn),$(this._element).off(Xn.CLICK_DISMISS),$.removeData(this._element,"bs.toast"),this._element=null,this._config=null},e._getConfig=function(t){return t=r({},no,$(this._element).data(),"object"==typeof t&&t?t:{}),l.typeCheckConfig("toast",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;$(this._element).on(Xn.CLICK_DISMISS,oo,function(){return t.hide(!0)})},e._close=function(){var t=this,e=function(){t._element.classList.add(Jn),$(t._element).trigger(Xn.HIDDEN)};if(this._element.classList.remove(Qn),this._config.animation){var n=l.getTransitionDurationFromElement(this._element);$(this._element).one(l.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},t._jQueryInterface=function(e){return this.each(function(){var n=$(this),o=n.data("bs.toast");if(o||(o=new t(this,"object"==typeof e&&e),n.data("bs.toast",o)),"string"==typeof e){if(void 0===o[e])throw new TypeError('No method named "'+e+'"');o[e](this)}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return eo}},{key:"Default",get:function(){return no}}]),t}();$.fn.toast=io._jQueryInterface,$.fn.toast.Constructor=io,$.fn.toast.noConflict=function(){return $.fn.toast=Kn,io._jQueryInterface},function(){if(void 0===$)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=$.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),e.Util=l,e.Alert=f,e.Button=x,e.Carousel=G,e.Collapse=at,e.Dropdown=Te,e.Modal=Ue,e.Popover=Mn,e.Scrollspy=In,e.Tab=Yn,e.Toast=io,e.Tooltip=pn,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(t,e,n){e.exports=t("./src/moment-interval")},{"./src/moment-interval":63}],62:[function(t,e,n){(function(n){var o,i,r=this,a=Math.round,s=0,l=1,c=2,u=3,p=4,h=5,d=6,f={},m={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},g=void 0!==e&&e.exports&&void 0!==t,y=/^\/?Date\((\-?\d+)/i,v=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,b=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,M=/\d\d?/,C=/\d{1,3}/,_=/\d{1,4}/,x=/[+\-]?\d{1,6}/,S=/\d+/,T=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,k=/Z|[\+\-]\d\d:?\d\d/gi,A=/T/i,P=/[\+\-]?\d+(\.\d{1,3})?/,D=/\d/,I=/\d\d/,O=/\d{3}/,N=/\d{4}/,L=/[+-]?\d{6}/,R=/[+-]?\d+/,j=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,F=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],U=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],H=/([\+\-]|\d\d)/gi,V="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),B={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},q={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},W={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},z={},G="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),K={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return it(this.year()%100,2)},YYYY:function(){return it(this.year(),4)},YYYYY:function(){return it(this.year(),5)},YYYYYY:function(){var t=this.year();return(t>=0?"+":"-")+it(Math.abs(t),6)},gg:function(){return it(this.weekYear()%100,2)},gggg:function(){return it(this.weekYear(),4)},ggggg:function(){return it(this.weekYear(),5)},GG:function(){return it(this.isoWeekYear()%100,2)},GGGG:function(){return it(this.isoWeekYear(),4)},GGGGG:function(){return it(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return pt(this.milliseconds()/100)},SS:function(){return it(pt(this.milliseconds()/10),2)},SSS:function(){return it(this.milliseconds(),3)},SSSS:function(){return it(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+it(pt(t/60),2)+":"+it(pt(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+it(pt(t/60),2)+it(pt(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},X=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function Z(t,e){return function(n){return it(t.call(this,n),e)}}function J(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;G.length;)i=G.pop(),K[i+"o"]=J(K[i],i);for(;Y.length;)i=Y.pop(),K[i+i]=Z(K[i],2);function Q(){}function tt(t){mt(t),nt(this,t)}function et(t){var e=ct(t),n=e.year||0,o=e.month||0,i=e.week||0,r=e.day||0,a=e.hour||0,s=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*s+36e5*a,this._days=+r+7*i,this._months=+o+12*n,this._data={},this._bubble()}function nt(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function ot(t){return t<0?Math.ceil(t):Math.floor(t)}function it(t,e,n){for(var o=""+Math.abs(t),i=t>=0;o.length<e;)o="0"+o;return(i?n?"+":"":"-")+o}function rt(t,e,n,i){var r,a,s=e._milliseconds,l=e._days,c=e._months;s&&t._d.setTime(+t._d+s*n),(l||c)&&(r=t.minute(),a=t.hour()),l&&t.date(t.date()+l*n),c&&t.month(t.month()+c*n),s&&!i&&o.updateOffset(t),(l||c)&&(t.minute(r),t.hour(a))}function at(t){return"[object Array]"===Object.prototype.toString.call(t)}function st(t,e,n){var o,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(o=0;o<i;o++)(n&&t[o]!==e[o]||!n&&pt(t[o])!==pt(e[o]))&&a++;return a+r}function lt(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=q[t]||W[e]||e}return t}function ct(t){var e,n,o={};for(n in t)t.hasOwnProperty(n)&&(e=lt(n))&&(o[e]=t[n]);return o}function ut(t){var e,i;if(0===t.indexOf("week"))e=7,i="day";else{if(0!==t.indexOf("month"))return;e=12,i="month"}o[t]=function(r,a){var s,l,c=o.fn._lang[t],u=[];if("number"==typeof r&&(a=r,r=n),l=function(t){var e=o().utc().set(i,t);return c.call(o.fn._lang,e,r||"")},null!=a)return l(a);for(s=0;s<e;s++)u.push(l(s));return u}}function pt(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function ht(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function dt(t){return ft(t)?366:365}function ft(t){return t%4==0&&t%100!=0||t%400==0}function mt(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[l]<0||t._a[l]>11?l:t._a[c]<1||t._a[c]>ht(t._a[s],t._a[l])?c:t._a[u]<0||t._a[u]>23?u:t._a[p]<0||t._a[p]>59?p:t._a[h]<0||t._a[h]>59?h:t._a[d]<0||t._a[d]>999?d:-1,t._pf._overflowDayOfYear&&(e<s||e>c)&&(e=c),t._pf.overflow=e)}function gt(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function yt(t){return t?t.toLowerCase().replace("_","-"):t}function vt(t,e){return e._isUTC?o(t).zone(e._offset||0):o(t).local()}function bt(e){var n,i,r,a,s=0,l=function(e){if(!f[e]&&g)try{t("./lang/"+e)}catch(t){}return f[e]};if(!e)return o.fn._lang;if(!at(e)){if(i=l(e))return i;e=[e]}for(;s<e.length;){for(n=(a=yt(e[s]).split("-")).length,r=(r=yt(e[s+1]))?r.split("-"):null;n>0;){if(i=l(a.slice(0,n).join("-")))return i;if(r&&r.length>=n&&st(a,r,!0)>=n-1)break;n--}s++}return o.fn._lang}function wt(t,e){return t.isValid()?(e=Et(e,t.lang()),z[e]||(z[e]=function(t){var e,n,o,i=t.match(w);for(e=0,n=i.length;e<n;e++)K[i[e]]?i[e]=K[i[e]]:i[e]=(o=i[e]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(o){var r="";for(e=0;e<n;e++)r+=i[e]instanceof Function?i[e].call(o,t):i[e];return r}}(e)),z[e](t)):t.lang().invalidDate()}function Et(t,e){var n=5;function o(t){return e.longDateFormat(t)||t}for(E.lastIndex=0;n>=0&&E.test(t);)t=t.replace(E,o),E.lastIndex=0,n-=1;return t}function Mt(t,e){var n=e._strict;switch(t){case"DDDD":return O;case"YYYY":case"GGGG":case"gggg":return n?N:_;case"Y":case"G":case"g":return R;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?L:x;case"S":if(n)return D;case"SS":if(n)return I;case"SSS":if(n)return O;case"DDD":return C;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return T;case"a":case"A":return bt(e._l)._meridiemParse;case"X":return P;case"Z":case"ZZ":return k;case"T":return A;case"SSSS":return S;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?I:M;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return M;default:return new RegExp(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,o,i){return e||n||o||i})))}}function $t(t){var e=(t=t||"").match(k)||[],n=((e[e.length-1]||[])+"").match(H)||["-",0,0],o=60*n[1]+pt(n[2]);return"+"===n[0]?-o:o}function Ct(t,e,n){var o,i=n._a;switch(t){case"M":case"MM":null!=e&&(i[l]=pt(e)-1);break;case"MMM":case"MMMM":null!=(o=bt(n._l).monthsParse(e))?i[l]=o:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[c]=pt(e));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=pt(e));break;case"YY":i[s]=pt(e)+(pt(e)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":i[s]=pt(e);break;case"a":case"A":n._isPm=bt(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[u]=pt(e);break;case"m":case"mm":i[p]=pt(e);break;case"s":case"ss":i[h]=pt(e);break;case"S":case"SS":case"SSS":case"SSSS":i[d]=pt(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=$t(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function _t(t){var e,n,i,r,a,h,d,f,m,g,y=[];if(!t._d){for(i=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[c]&&null==t._a[l]&&(a=function(e){var n=parseInt(e,10);return e?e.length<3?n>68?1900+n:2e3+n:n:null==t._a[s]?o().weekYear():t._a[s]},null!=(h=t._w).GG||null!=h.W||null!=h.E?d=Pt(a(h.GG),h.W||1,h.E,4,1):(f=bt(t._l),m=null!=h.d?kt(h.d,f):null!=h.e?parseInt(h.e,10)+f._week.dow:0,g=parseInt(h.w,10)||1,null!=h.d&&m<f._week.dow&&g++,d=Pt(a(h.gg),g,m,f._week.doy,f._week.dow)),t._a[s]=d.year,t._dayOfYear=d.dayOfYear),t._dayOfYear&&(r=null==t._a[s]?i[s]:t._a[s],t._dayOfYear>dt(r)&&(t._pf._overflowDayOfYear=!0),n=Tt(r,0,t._dayOfYear),t._a[l]=n.getUTCMonth(),t._a[c]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=y[e]=i[e];for(;e<7;e++)t._a[e]=y[e]=null==t._a[e]?2===e?1:0:t._a[e];y[u]+=pt((t._tzm||0)/60),y[p]+=pt((t._tzm||0)%60),t._d=(t._useUTC?Tt:function(t,e,n,o,i,r,a){var s=new Date(t,e,n,o,i,r,a);t<1970&&s.setFullYear(t);return s}).apply(null,y)}}function xt(t){t._a=[],t._pf.empty=!0;var e,n,o,i,r,a=bt(t._l),s=""+t._i,l=s.length,c=0;for(o=Et(t._f,a).match(w)||[],e=0;e<o.length;e++)i=o[e],(n=(s.match(Mt(i,t))||[])[0])&&((r=s.substr(0,s.indexOf(n))).length>0&&t._pf.unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),c+=n.length),K[i]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(i),Ct(i,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=l-c,s.length>0&&t._pf.unusedInput.push(s),t._isPm&&t._a[u]<12&&(t._a[u]+=12),!1===t._isPm&&12===t._a[u]&&(t._a[u]=0),_t(t),mt(t)}function St(t){var e=t._i,o=y.exec(e);e===n?t._d=new Date:o?t._d=new Date(+o[1]):"string"==typeof e?function(t){var e,n,o=t._i,i=j.exec(o);if(i){for(t._pf.iso=!0,e=0,n=F.length;e<n;e++)if(F[e][1].exec(o)){t._f=F[e][0]+(i[6]||" ");break}for(e=0,n=U.length;e<n;e++)if(U[e][1].exec(o)){t._f+=U[e][0];break}o.match(k)&&(t._f+="Z"),xt(t)}else t._d=new Date(o)}(t):at(e)?(t._a=e.slice(0),_t(t)):function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}(e)?t._d=new Date(+e):"object"==typeof e?function(t){var e;t._d||(e=ct(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],_t(t))}(t):t._d=new Date(e)}function Tt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function kt(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function At(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=o(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function Pt(t,e,n,o,i){var r,a=Tt(t,0,1).getUTCDay();return{year:(r=7*(e-1)+((n=null!=n?n:i)-i)+(i-a+(a>o?7:0)-(a<i?7:0))+1)>0?t:t-1,dayOfYear:r>0?r:dt(t-1)+r}}function Dt(t){var e=t._i,n=t._f;return null===e?o.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=bt().preparse(e)),o.isMoment(e)?(t=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&m.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))._d=new Date(+e._d):n?at(n)?function(t){var e,n,o,i,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)r=0,(e=nt({},t))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},e._f=t._f[i],xt(e),gt(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==o||r<o)&&(o=r,n=e));nt(t,n||e)}(t):xt(t):St(t),new tt(t))}for(K.DDDD=Z(K.DDD,3),nt(Q.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=o.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=o([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,o){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,o):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return At(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(o=function(t,e,o,i){var r;return"boolean"==typeof o&&(i=o,o=n),(r={})._isAMomentObject=!0,r._i=t,r._f=e,r._l=o,r._strict=i,r._isUTC=!1,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Dt(r)}).utc=function(t,e,o,i){var r;return"boolean"==typeof o&&(i=o,o=n),(r={})._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=o,r._i=t,r._f=e,r._strict=i,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Dt(r).utc()},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var n,i,r,a=t,s=null;return o.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=v.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:pt(s[c])*n,h:pt(s[u])*n,m:pt(s[p])*n,s:pt(s[h])*n,ms:pt(s[d])*n}):(s=b.exec(t))&&(n="-"===s[1]?-1:1,a={y:(r=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n})(s[2]),M:r(s[3]),d:r(s[4]),h:r(s[5]),m:r(s[6]),s:r(s[7]),w:r(s[8])}),i=new et(a),o.isDuration(t)&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},o.version="2.5.1",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){return t?(e?function(t,e){e.abbr=t,f[t]||(f[t]=new Q),f[t].set(e),f[t]}(yt(t),e):null===e?(!function(t){delete f[t]}(t),t="en"):f[t]||bt(t),(o.duration.fn._lang=o.fn._lang=bt(t))._abbr):o.fn._lang._abbr},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),bt(t)},o.isMoment=function(t){return t instanceof tt||null!=t&&t.hasOwnProperty("_isAMomentObject")},o.isDuration=function(t){return t instanceof et},i=X.length-1;i>=0;--i)ut(X[i]);function It(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),o.updateOffset(this),this):this._d["get"+n+e]()}}for(o.normalizeUnits=function(t){return lt(t)},o.invalid=function(t){var e=o.utc(NaN);return null!=t?nt(e._pf,t):e._pf.userInvalidated=!0,e},o.parseZone=function(t){return o(t).parseZone()},nt(o.fn=tt.prototype,{clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=o(this).utc();return 0<t.year()&&t.year()<=9999?wt(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):wt(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return gt(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&st(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray())>0)},parsingFlags:function(){return nt({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=wt(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return rt(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return rt(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,n){var i,r,a=vt(t,this),s=6e4*(this.zone()-a.zone());return"year"===(e=lt(e))||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/i,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:ot(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=vt(o(),this).startOf("day"),e=this.diff(t,"days",!0),n=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return ft(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=kt(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=lt(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=lt(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)==+vt(t,this).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=$t(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&rt(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?o(t).zone():0,(this.zone()-t)%60==0},daysInMonth:function(){return ht(this.year(),this.month())},dayOfYear:function(t){var e=a((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(t){var e=At(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=At(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=At(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return this[t=lt(t)]()},set:function(t,e){return"function"==typeof this[t=lt(t)]&&this[t](e),this},lang:function(t){return t===n?this._lang:(this._lang=bt(t),this)}}),i=0;i<V.length;i++)It(V[i].toLowerCase().replace(/s$/,""),V[i]);function Ot(t){o.duration.fn[t]=function(){return this._data[t]}}function Nt(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(i in It("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,nt(o.duration.fn=et.prototype,{_bubble:function(){var t,e,n,o,i=this._milliseconds,r=this._days,a=this._months,s=this._data;s.milliseconds=i%1e3,t=ot(i/1e3),s.seconds=t%60,e=ot(t/60),s.minutes=e%60,n=ot(e/60),s.hours=n%24,r+=ot(n/24),s.days=r%30,a+=ot(r/30),s.months=a%12,o=ot(a/12),s.years=o},weeks:function(){return ot(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*pt(this._months/12)},humanize:function(t){var e,n,o,i,r,s,l,c,u,p=+this,h=(e=p,n=!t,o=this.lang(),i=a(Math.abs(e)/1e3),r=a(i/60),s=a(r/60),l=a(s/24),c=a(l/365),(u=i<45&&["s",i]||1===r&&["m"]||r<45&&["mm",r]||1===s&&["h"]||s<22&&["hh",s]||1===l&&["d"]||l<=25&&["dd",l]||l<=45&&["M"]||l<345&&["MM",a(l/30)]||1===c&&["y"]||["yy",c])[2]=n,u[3]=e>0,u[4]=o,function(t,e,n,o,i){return i.relativeTime(e||1,!!n,t,o)}.apply({},u));return t&&(h=this.lang().pastFuture(p,h)),this.lang().postformat(h)},add:function(t,e){var n=o.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=o.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=lt(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=lt(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),o=Math.abs(this.hours()),i=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(o||i||r?"T":"")+(o?o+"H":"")+(i?i+"M":"")+(r?r+"S":""):"P0D"}}),B)B.hasOwnProperty(i)&&(Nt(i,B[i]),Ot(i.toLowerCase()));function Lt(t){var e=!1,n=o;"undefined"==typeof ender&&(t?(r.moment=function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},nt(r.moment,n)):r.moment=o)}Nt("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1===pt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),g?(e.exports=o,Lt(!0)):"function"==typeof define&&define.amd?define("moment",function(t,e,i){return i.config&&i.config()&&!0!==i.config().noGlobal&&Lt(i.config().noGlobal===n),o}):Lt()}).call(this)},{}],63:[function(t,e,n){!function(o,i){"use strict";"function"==typeof define&&define.amd?define(["moment"],i):"object"==typeof n?e.exports=i(t("moment")):o.returnExports=i(o.moment)}(this,function(t){"use strict";void 0!==n&&(void 0!==e&&e.exports&&(n=e.exports=t),n.moment=t);var o=/^P(?:(\d+(?:[\.,]\d{0,3})?W)|(\d+(?:[\.,]\d{0,3})?Y)?(\d+(?:[\.,]\d{0,3})?M)?(\d+(?:[\.,]\d{0,3})?D)?(?:T(\d+(?:[\.,]\d{0,3})?H)?(\d+(?:[\.,]\d{0,3})?M)?(\d+(?:[\.,]\d{0,3})?S)?)?)$/;function i(t){return o.test(t)}var r=t.duration;function a(t,e){this.name="IntervalException",this.message=t,this.object=e}return t.duration=function(e){if(arguments.length>1||"string"!=typeof e)return r.apply(t,arguments);var n=e.match(o);if(null===n)throw'"'+e+'" is an invalid ISO 8601 duration';var i={weeks:parseFloat(n[1],10),years:parseFloat(n[2],10),months:parseFloat(n[3],10),days:parseFloat(n[4],10),hours:parseFloat(n[5],10),minutes:parseFloat(n[6],10),seconds:parseFloat(n[7],10),milliseconds:parseFloat(n[8],10)};return t.duration(i)},t.duration.fn=r.fn,t.duration.fn.toISOString=function(){function t(t,e){return t>0?t+""+e:""}return"P"+(this.days()>0&&this.days()%7!=0?"":t(Math.abs(this.weeks()),"W"))+t(Math.abs(this.years()),"Y")+t(Math.abs(this.months()),"M")+(this.days()>0&&this.days()%7==0?"":t(Math.abs(this.days()),"D"))+(Math.abs(this.hours())+Math.abs(this.minutes())+Math.abs(this.seconds())+Math.abs(this.milliseconds())>0?"T":"")+t(Math.abs(this.hours()),"H")+t(Math.abs(this.minutes()),"M")+t(Math.abs(this.seconds())+Math.abs(this.milliseconds())/1e3,"S")},a.prototype=new Error,a.prototype.constructor=a,t.isInterval=function(e){return"function"==typeof e.start&&"function"==typeof e.end&&"function"==typeof e.period&&t.isMoment(e.start())&&t.isMoment(e.end())&&t.isDuration(e.period())},t.fn.interval=function(e){if("string"==typeof e){var n=e.split("/",2);if(""===n[0]&&""===n[1])throw new a('No date or period specified in "'+e+'"');if(""!==n[0]&&""!==n[1])throw new a("In order to create an Interval between this Moment instance and another time, either start or end of the specified interval string needs to be blank",e);return""===n[0]?n[0]=this.format():n[1]=this.format(),t.interval(n.join("/"))}return t.isMoment(e)?t.interval(t(Math.min(this,e)),t(Math.max(this,e))):t.isDuration(e)?t.interval(e<0?t.duration(-e):this,e>0?e:this):void 0},t.duration.fn.since=function(e){return t.interval(e,this)},t.duration.fn.until=function(e){return t.interval(this,e)},t.interval=function(e,n){var o,r,s;if(n||"string"!=typeof e){if(t.isDuration(e)&&t.isDuration(n))throw new a("Either start or end can be a Duration object, but not both");s=t.isDuration(e)?t.duration(e):t.isDuration(n)?t.duration(n):void 0,o=t.isMoment(e)?t(e):void 0,r=t.isMoment(n)?t(n):void 0,s?(o=o||t(r).subtract(Math.abs(s)),r=r||t(o).add(Math.abs(s))):s=t.duration(r.diff(o))}else{var l=e.split("/",2);if(""===l[0]&&""===l[1])throw new a("Either start or end can be blank, but not both");if(i(l[0])&&i(l[1]))throw new a("Either start or end can be a Period string, but not both");i(l[0])?s=t.duration(l[0]):o=t(l[0]||void 0),i(l[1])?(s=t.duration(l[1]),r=t(o).add(s)):(r=t(l[1]||void 0),o?s=t.duration(r.diff(o)):o=t(r).subtract(s))}return{start:function(e,n){return e&&(o=t(e),n?r=t(o).add(Math.abs(s)):s=t.duration(r.diff(o))),o},end:function(e,n){return e&&(r=t(e),n?o=t(r).subtract(Math.abs(s)):s=t.duration(r.diff(o))),r},period:function(e){return e&&(s=t.duration(e),r=t(o).add(s)),s},backward:function(e){return e=Math.abs(e||s),o=t(o).subtract(e),r=t(r).subtract(e),this},forward:function(e){return e=Math.abs(e||s),o=t(o).add(e),r=t(r).add(e),this},travel:function(e){return e.valueOf()<0?this.backward(t.duration(-e)):this.forward(e),this}}},t})},{moment:62}],64:[function(t,e,n){var o,i;o=this,i=function(){"use strict";var n,o;function i(){return n.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,o=[];for(n=0;n<t.length;++n)o.push(e(t[n],n));return o}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,o){return Pe(t,e,n,o,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=o.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=d(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}o=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,o=0;o<n;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};var y=i.momentProperties=[];function v(t,e){var n,o,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),y.length>0)for(n=0;n<y.length;n++)s(i=e[o=y[n]])||(t[o]=i);return t}var b=!1;function w(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function E(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function M(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function C(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=M(e)),n}function _(t,e,n){var o,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(o=0;o<i;o++)(n&&t[o]!==e[o]||!n&&C(t[o])!==C(e[o]))&&a++;return a+r}function x(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return h(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}x(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var T,k={};function A(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),k[t]||(x(e),k[t]=!0)}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,o=h({},t);for(n in e)p(e,n)&&(a(t[n])&&a(e[n])?(o[n]={},h(o[n],t[n]),h(o[n],e[n])):null!=e[n]?o[n]=e[n]:delete o[n]);for(n in t)p(t,n)&&!p(e,n)&&a(t[n])&&(o[n]=h({},o[n]));return o}function I(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var O={};function N(t,e){var n=t.toLowerCase();O[n]=O[n+"s"]=O[e]=t}function L(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function R(t){var e,n,o={};for(n in t)p(t,n)&&(e=L(n))&&(o[e]=t[n]);return o}var j={};function F(t,e){j[t]=e}function U(t,e,n){var o=""+Math.abs(t),i=e-o.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+o}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},q={};function W(t,e,n,o){var i=o;"string"==typeof o&&(i=function(){return this[o]()}),t&&(q[t]=i),e&&(q[e[0]]=function(){return U(i.apply(this,arguments),e[1],e[2])}),n&&(q[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function z(t,e){return t.isValid()?(e=G(e,t.localeData()),B[e]=B[e]||function(t){var e,n,o,i=t.match(H);for(e=0,n=i.length;e<n;e++)q[i[e]]?i[e]=q[i[e]]:i[e]=(o=i[e]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(e){var o,r="";for(o=0;o<n;o++)r+=P(i[o])?i[o].call(e,t):i[o];return r}}(e),B[e](t)):t.localeData().invalidDate()}function G(t,e){var n=5;function o(t){return e.longDateFormat(t)||t}for(V.lastIndex=0;n>=0&&V.test(t);)t=t.replace(V,o),V.lastIndex=0,n-=1;return t}var Y=/\d/,K=/\d\d/,X=/\d{3}/,Z=/\d{4}/,J=/[+-]?\d{6}/,Q=/\d\d?/,tt=/\d\d\d\d?/,et=/\d\d\d\d\d\d?/,nt=/\d{1,3}/,ot=/\d{1,4}/,it=/[+-]?\d{1,6}/,rt=/\d+/,at=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,lt=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function pt(t,e,n){ut[t]=P(e)?e:function(t,o){return t&&n?n:e}}function ht(t,e){return p(ut,t)?ut[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,o,i){return e||n||o||i})))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function mt(t,e){var n,o=e;for("string"==typeof t&&(t=[t]),l(e)&&(o=function(t,n){n[e]=C(t)}),n=0;n<t.length;n++)ft[t[n]]=o}function gt(t,e){mt(t,function(t,n,o,i){o._w=o._w||{},e(t,o._w,o,i)})}function yt(t,e,n){null!=e&&p(ft,t)&&ft[t](e,n._a,n,t)}var vt=0,bt=1,wt=2,Et=3,Mt=4,$t=5,Ct=6,_t=7,xt=8;function St(t){return Tt(t)?366:365}function Tt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),N("year","y"),F("year",1),pt("Y",at),pt("YY",Q,K),pt("YYYY",ot,Z),pt("YYYYY",it,J),pt("YYYYYY",it,J),mt(["YYYYY","YYYYYY"],vt),mt("YYYY",function(t,e){e[vt]=2===t.length?i.parseTwoDigitYear(t):C(t)}),mt("YY",function(t,e){e[vt]=i.parseTwoDigitYear(t)}),mt("Y",function(t,e){e[vt]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return C(t)+(C(t)>68?1900:2e3)};var kt,At=Pt("FullYear",!0);function Pt(t,e){return function(n){return null!=n?(It(this,t,n),i.updateOffset(this,e),this):Dt(this,t)}}function Dt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function It(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ot(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,o=(e%(n=12)+n)%n;return t+=(e-o)/12,1===o?Tt(t)?29:28:31-o%7%2}kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),F("month",8),pt("M",Q),pt("MM",Q,K),pt("MMM",function(t,e){return e.monthsShortRegex(t)}),pt("MMMM",function(t,e){return e.monthsRegex(t)}),mt(["M","MM"],function(t,e){e[bt]=C(t)-1}),mt(["MMM","MMMM"],function(t,e,n,o){var i=n._locale.monthsParse(t,o,n._strict);null!=i?e[bt]=i:f(n).invalidMonth=t});var Nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function jt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Ft(t){return null!=t?(jt(this,t),i.updateOffset(this,!0),this):Dt(this,"Month")}var Ut=ct;var Ht=ct;function Vt(){function t(t,e){return e.length-t.length}var e,n,o=[],i=[],r=[];for(e=0;e<12;e++)n=d([2e3,e]),o.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(o.sort(t),i.sort(t),r.sort(t),e=0;e<12;e++)o[e]=dt(o[e]),i[e]=dt(i[e]);for(e=0;e<24;e++)r[e]=dt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Bt(t){var e;if(t<100&&t>=0){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function qt(t,e,n){var o=7+e-n;return-((7+Bt(t,0,o).getUTCDay()-e)%7)+o-1}function Wt(t,e,n,o,i){var r,a,s=1+7*(e-1)+(7+n-o)%7+qt(t,o,i);return s<=0?a=St(r=t-1)+s:s>St(t)?(r=t+1,a=s-St(t)):(r=t,a=s),{year:r,dayOfYear:a}}function zt(t,e,n){var o,i,r=qt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?o=a+Gt(i=t.year()-1,e,n):a>Gt(t.year(),e,n)?(o=a-Gt(t.year(),e,n),i=t.year()+1):(i=t.year(),o=a),{week:o,year:i}}function Gt(t,e,n){var o=qt(t,e,n),i=qt(t+1,e,n);return(St(t)-o+i)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),F("week",5),F("isoWeek",5),pt("w",Q),pt("ww",Q,K),pt("W",Q),pt("WW",Q,K),gt(["w","ww","W","WW"],function(t,e,n,o){e[o.substr(0,1)]=C(t)});function Yt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),pt("d",Q),pt("e",Q),pt("E",Q),pt("dd",function(t,e){return e.weekdaysMinRegex(t)}),pt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),pt("dddd",function(t,e){return e.weekdaysRegex(t)}),gt(["dd","ddd","dddd"],function(t,e,n,o){var i=n._locale.weekdaysParse(t,o,n._strict);null!=i?e.d=i:f(n).invalidWeekday=t}),gt(["d","e","E"],function(t,e,n,o){e[o]=C(t)});var Kt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Jt=ct;var Qt=ct;var te=ct;function ee(){function t(t,e){return e.length-t.length}var e,n,o,i,r,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),o=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(o),s.push(i),l.push(r),c.push(o),c.push(i),c.push(r);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=dt(s[e]),l[e]=dt(l[e]),c[e]=dt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ne(){return this.hours()%12||12}function oe(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ie(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,ne),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+ne.apply(this)+U(this.minutes(),2)}),W("hmmss",0,0,function(){return""+ne.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),oe("a",!0),oe("A",!1),N("hour","h"),F("hour",13),pt("a",ie),pt("A",ie),pt("H",Q),pt("h",Q),pt("k",Q),pt("HH",Q,K),pt("hh",Q,K),pt("kk",Q,K),pt("hmm",tt),pt("hmmss",et),pt("Hmm",tt),pt("Hmmss",et),mt(["H","HH"],Et),mt(["k","kk"],function(t,e,n){var o=C(t);e[Et]=24===o?0:o}),mt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),mt(["h","hh"],function(t,e,n){e[Et]=C(t),f(n).bigHour=!0}),mt("hmm",function(t,e,n){var o=t.length-2;e[Et]=C(t.substr(0,o)),e[Mt]=C(t.substr(o)),f(n).bigHour=!0}),mt("hmmss",function(t,e,n){var o=t.length-4,i=t.length-2;e[Et]=C(t.substr(0,o)),e[Mt]=C(t.substr(o,2)),e[$t]=C(t.substr(i)),f(n).bigHour=!0}),mt("Hmm",function(t,e,n){var o=t.length-2;e[Et]=C(t.substr(0,o)),e[Mt]=C(t.substr(o))}),mt("Hmmss",function(t,e,n){var o=t.length-4,i=t.length-2;e[Et]=C(t.substr(0,o)),e[Mt]=C(t.substr(o,2)),e[$t]=C(t.substr(i))});var re,ae=Pt("Hours",!0),se={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Lt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:Kt,weekdaysMin:Zt,weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},le={},ce={};function ue(t){return t?t.toLowerCase().replace("_","-"):t}function pe(n){var o=null;if(!le[n]&&void 0!==e&&e&&e.exports)try{o=re._abbr,t("./locale/"+n),he(o)}catch(t){}return le[n]}function he(t,e){var n;return t&&((n=s(e)?fe(t):de(t,e))?re=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),re._abbr}function de(t,e){if(null!==e){var n,o=se;if(e.abbr=t,null!=le[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=le[t]._config;else if(null!=e.parentLocale)if(null!=le[e.parentLocale])o=le[e.parentLocale]._config;else{if(null==(n=pe(e.parentLocale)))return ce[e.parentLocale]||(ce[e.parentLocale]=[]),ce[e.parentLocale].push({name:t,config:e}),null;o=n._config}return le[t]=new I(D(o,e)),ce[t]&&ce[t].forEach(function(t){de(t.name,t.config)}),he(t),le[t]}return delete le[t],null}function fe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return re;if(!r(t)){if(e=pe(t))return e;t=[t]}return function(t){for(var e,n,o,i,r=0;r<t.length;){for(e=(i=ue(t[r]).split("-")).length,n=(n=ue(t[r+1]))?n.split("-"):null;e>0;){if(o=pe(i.slice(0,e).join("-")))return o;if(n&&n.length>=e&&_(i,n,!0)>=e-1)break;e--}r++}return re}(t)}function me(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[bt]<0||n[bt]>11?bt:n[wt]<1||n[wt]>Ot(n[vt],n[bt])?wt:n[Et]<0||n[Et]>24||24===n[Et]&&(0!==n[Mt]||0!==n[$t]||0!==n[Ct])?Et:n[Mt]<0||n[Mt]>59?Mt:n[$t]<0||n[$t]>59?$t:n[Ct]<0||n[Ct]>999?Ct:-1,f(t)._overflowDayOfYear&&(e<vt||e>wt)&&(e=wt),f(t)._overflowWeeks&&-1===e&&(e=_t),f(t)._overflowWeekday&&-1===e&&(e=xt),f(t).overflow=e),t}function ge(t,e,n){return null!=t?t:null!=e?e:n}function ye(t){var e,n,o,r,a,s=[];if(!t._d){for(o=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[wt]&&null==t._a[bt]&&function(t){var e,n,o,i,r,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,a=4,n=ge(e.GG,t._a[vt],zt(De(),1,4).year),o=ge(e.W,1),((i=ge(e.E,1))<1||i>7)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var c=zt(De(),r,a);n=ge(e.gg,t._a[vt],c.year),o=ge(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+r,(e.e<0||e.e>6)&&(l=!0)):i=r}o<1||o>Gt(n,r,a)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=Wt(n,o,i,r,a),t._a[vt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=ge(t._a[vt],o[vt]),(t._dayOfYear>St(a)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=Bt(a,0,t._dayOfYear),t._a[bt]=n.getUTCMonth(),t._a[wt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Et]&&0===t._a[Mt]&&0===t._a[$t]&&0===t._a[Ct]&&(t._nextDay=!0,t._a[Et]=0),t._d=(t._useUTC?Bt:function(t,e,n,o,i,r,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,o,i,r,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,o,i,r,a),s}).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Et]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(f(t).weekdayMismatch=!0)}}var ve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,be=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we=/Z|[+-]\d\d(?::?\d\d)?/,Ee=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$e=/^\/?Date\((\-?\d+)/i;function Ce(t){var e,n,o,i,r,a,s=t._i,l=ve.exec(s)||be.exec(s);if(l){for(f(t).iso=!0,e=0,n=Ee.length;e<n;e++)if(Ee[e][1].exec(l[1])){i=Ee[e][0],o=!1!==Ee[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=Me.length;e<n;e++)if(Me[e][1].exec(l[3])){r=(l[2]||" ")+Me[e][0];break}if(null==r)return void(t._isValid=!1)}if(!o&&null!=r)return void(t._isValid=!1);if(l[4]){if(!we.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(r||"")+(a||""),ke(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function xe(t,e,n,o,i,r){var a=[function(t){var e=parseInt(t,10);if(e<=49)return 2e3+e;if(e<=999)return 1900+e;return e}(t),Rt.indexOf(e),parseInt(n,10),parseInt(o,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}var Se={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(t){var e=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var n=xe(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){return!t||Xt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return Se[t];if(e)return 0;var o=parseInt(n,10),i=o%100;return(o-i)/100*60+i}(e[8],e[9],e[10]),t._d=Bt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function ke(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],f(t).empty=!0;var e,n,o,r,a,s=""+t._i,l=s.length,c=0;for(o=G(t._f,t._locale).match(H)||[],e=0;e<o.length;e++)r=o[e],(n=(s.match(ht(r,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),q[r]?(n?f(t).empty=!1:f(t).unusedTokens.push(r),yt(r,n,t)):t._strict&&!n&&f(t).unusedTokens.push(r);f(t).charsLeftOver=l-c,s.length>0&&f(t).unusedInput.push(s),t._a[Et]<=12&&!0===f(t).bigHour&&t._a[Et]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[Et]=function(t,e,n){var o;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((o=t.isPM(n))&&e<12&&(e+=12),o||12!==e||(e=0),e):e}(t._locale,t._a[Et],t._meridiem),ye(t),me(t)}else Te(t);else Ce(t)}function Ae(t){var e=t._i,n=t._f;return t._locale=t._locale||fe(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),E(e)?new w(me(e)):(c(e)?t._d=e:r(n)?function(t){var e,n,o,i,r;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)r=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ke(e),m(e)&&(r+=f(e).charsLeftOver,r+=10*f(e).unusedTokens.length,f(e).score=r,(null==o||r<o)&&(o=r,n=e));h(t,n||e)}(t):n?ke(t):function(t){var e=t._i;s(e)?t._d=new Date(i.now()):c(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=$e.exec(t._i);null===e?(Ce(t),!1===t._isValid&&(delete t._isValid,Te(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=u(e.slice(0),function(t){return parseInt(t,10)}),ye(t)):a(e)?function(t){if(!t._d){var e=R(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ye(t)}}(t):l(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function Pe(t,e,n,o,i){var s,l={};return!0!==n&&!1!==n||(o=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=t,l._f=e,l._strict=o,(s=new w(me(Ae(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function De(t,e,n,o){return Pe(t,e,n,o,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ie=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Oe=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Ne(t,e){var n,o;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Re(t){var e=R(t),n=e.year||0,o=e.quarter||0,i=e.month||0,r=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===kt.call(Le,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,o=0;o<Le.length;++o)if(t[Le[o]]){if(n)return!1;parseFloat(t[Le[o]])!==C(t[Le[o]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+i+3*o+12*n,this._data={},this._locale=fe(),this._bubble()}function je(t){return t instanceof Re}function Fe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ue(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+U(~~(t/60),2)+e+U(~~t%60,2)})}Ue("Z",":"),Ue("ZZ",""),pt("Z",lt),pt("ZZ",lt),mt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ve(lt,t)});var He=/([\+\-]|\d\d)/gi;function Ve(t,e){var n=(e||"").match(t);if(null===n)return null;var o=((n[n.length-1]||[])+"").match(He)||["-",0,0],i=60*o[1]+C(o[2]);return 0===i?0:"+"===o[0]?i:-i}function Be(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(E(t)||c(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),i.updateOffset(n,!1),n):De(t).local()}function qe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function We(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var ze=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ge=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var n,o,i,r=t,a=null;return je(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(r={},e?r[e]=t:r.milliseconds=t):(a=ze.exec(t))?(n="-"===a[1]?-1:1,r={y:0,d:C(a[wt])*n,h:C(a[Et])*n,m:C(a[Mt])*n,s:C(a[$t])*n,ms:C(Fe(1e3*a[Ct]))*n}):(a=Ge.exec(t))?(n="-"===a[1]?-1:1,r={y:Ke(a[2],n),M:Ke(a[3],n),w:Ke(a[4],n),d:Ke(a[5],n),h:Ke(a[6],n),m:Ke(a[7],n),s:Ke(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Be(e,t),t.isBefore(e)?n=Xe(t,e):((n=Xe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(De(r.from),De(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),o=new Re(r),je(t)&&p(t,"_locale")&&(o._locale=t._locale),o}function Ke(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xe(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ze(t,e){return function(n,o){var i;return null===o||isNaN(+o)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=o,o=i),Je(this,Ye(n="string"==typeof n?+n:n,o),t),this}}function Je(t,e,n,o){var r=e._milliseconds,a=Fe(e._days),s=Fe(e._months);t.isValid()&&(o=null==o||o,s&&jt(t,Dt(t,"Month")+s*n),a&&It(t,"Date",Dt(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),o&&i.updateOffset(t,a||s))}Ye.fn=Re.prototype,Ye.invalid=function(){return Ye(NaN)};var Qe=Ze(1,"add"),tn=Ze(-1,"subtract");function en(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(n,"months");return-(n+(e-o<0?(e-o)/(o-t.clone().add(n-1,"months")):(e-o)/(t.clone().add(n+1,"months")-o)))||0}function nn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=fe(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var on=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function rn(){return this._locale}var an=1e3,sn=60*an,ln=60*sn,cn=3506328*ln;function un(t,e){return(t%e+e)%e}function pn(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-cn:new Date(t,e,n).valueOf()}function hn(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-cn:Date.UTC(t,e,n)}function dn(t,e){W(0,[t,t.length],0,e)}function fn(t,e,n,o,i){var r;return null==t?zt(this,o,i).year:(e>(r=Gt(t,o,i))&&(e=r),function(t,e,n,o,i){var r=Wt(t,e,n,o,i),a=Bt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,o,i))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),dn("gggg","weekYear"),dn("ggggg","weekYear"),dn("GGGG","isoWeekYear"),dn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),pt("G",at),pt("g",at),pt("GG",Q,K),pt("gg",Q,K),pt("GGGG",ot,Z),pt("gggg",ot,Z),pt("GGGGG",it,J),pt("ggggg",it,J),gt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,o){e[o.substr(0,2)]=C(t)}),gt(["gg","GG"],function(t,e,n,o){e[o]=i.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),N("quarter","Q"),F("quarter",7),pt("Q",Y),mt("Q",function(t,e){e[bt]=3*(C(t)-1)}),W("D",["DD",2],"Do","date"),N("date","D"),F("date",9),pt("D",Q),pt("DD",Q,K),pt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),mt(["D","DD"],wt),mt("Do",function(t,e){e[wt]=C(t.match(Q)[0])});var mn=Pt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),F("dayOfYear",4),pt("DDD",nt),pt("DDDD",X),mt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=C(t)}),W("m",["mm",2],0,"minute"),N("minute","m"),F("minute",14),pt("m",Q),pt("mm",Q,K),mt(["m","mm"],Mt);var gn=Pt("Minutes",!1);W("s",["ss",2],0,"second"),N("second","s"),F("second",15),pt("s",Q),pt("ss",Q,K),mt(["s","ss"],$t);var yn,vn=Pt("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),F("millisecond",16),pt("S",nt,Y),pt("SS",nt,K),pt("SSS",nt,X),yn="SSSS";yn.length<=9;yn+="S")pt(yn,rt);function bn(t,e){e[Ct]=C(1e3*("0."+t))}for(yn="S";yn.length<=9;yn+="S")mt(yn,bn);var wn=Pt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var En=w.prototype;function Mn(t){return t}En.add=Qe,En.calendar=function(t,e){var n=t||De(),o=Be(n,this).startOf("day"),r=i.calendarFormat(this,o)||"sameElse",a=e&&(P(e[r])?e[r].call(this,n):e[r]);return this.format(a||this.localeData().calendar(r,this,De(n)))},En.clone=function(){return new w(this)},En.diff=function(t,e,n){var o,i,r;if(!this.isValid())return NaN;if(!(o=Be(t,this)).isValid())return NaN;switch(i=6e4*(o.utcOffset()-this.utcOffset()),e=L(e)){case"year":r=en(this,o)/12;break;case"month":r=en(this,o);break;case"quarter":r=en(this,o)/3;break;case"second":r=(this-o)/1e3;break;case"minute":r=(this-o)/6e4;break;case"hour":r=(this-o)/36e5;break;case"day":r=(this-o-i)/864e5;break;case"week":r=(this-o-i)/6048e5;break;default:r=this-o}return n?r:M(r)},En.endOf=function(t){var e;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?hn:pn;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ln-un(e+(this._isUTC?0:this.utcOffset()*sn),ln)-1;break;case"minute":e=this._d.valueOf(),e+=sn-un(e,sn)-1;break;case"second":e=this._d.valueOf(),e+=an-un(e,an)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},En.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=z(this,t);return this.localeData().postformat(e)},En.from=function(t,e){return this.isValid()&&(E(t)&&t.isValid()||De(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},En.fromNow=function(t){return this.from(De(),t)},En.to=function(t,e){return this.isValid()&&(E(t)&&t.isValid()||De(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},En.toNow=function(t){return this.to(De(),t)},En.get=function(t){return P(this[t=L(t)])?this[t]():this},En.invalidAt=function(){return f(this).overflow},En.isAfter=function(t,e){var n=E(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},En.isBefore=function(t,e){var n=E(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},En.isBetween=function(t,e,n,o){var i=E(t)?t:De(t),r=E(e)?e:De(e);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(o=o||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===o[1]?this.isBefore(r,n):!this.isAfter(r,n))},En.isSame=function(t,e){var n,o=E(t)?t:De(t);return!(!this.isValid()||!o.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()===o.valueOf():(n=o.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},En.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},En.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},En.isValid=function(){return m(this)},En.lang=on,En.locale=nn,En.localeData=rn,En.max=Oe,En.min=Ie,En.parsingFlags=function(){return h({},f(this))},En.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:j[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=R(t)),o=0;o<n.length;o++)this[n[o].unit](t[n[o].unit]);else if(P(this[t=L(t)]))return this[t](e);return this},En.startOf=function(t){var e;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?hn:pn;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=un(e+(this._isUTC?0:this.utcOffset()*sn),ln);break;case"minute":e=this._d.valueOf(),e-=un(e,sn);break;case"second":e=this._d.valueOf(),e-=un(e,an)}return this._d.setTime(e),i.updateOffset(this,!0),this},En.subtract=tn,En.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},En.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},En.toDate=function(){return new Date(this.valueOf())},En.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},En.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+o+"-MM-DD[T]HH:mm:ss.SSS"+i)},En.toJSON=function(){return this.isValid()?this.toISOString():null},En.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},En.unix=function(){return Math.floor(this.valueOf()/1e3)},En.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},En.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},En.year=At,En.isLeapYear=function(){return Tt(this.year())},En.weekYear=function(t){return fn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},En.isoWeekYear=function(t){return fn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},En.quarter=En.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},En.month=Ft,En.daysInMonth=function(){return Ot(this.year(),this.month())},En.week=En.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},En.isoWeek=En.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},En.weeksInYear=function(){var t=this.localeData()._week;return Gt(this.year(),t.dow,t.doy)},En.isoWeeksInYear=function(){return Gt(this.year(),1,4)},En.date=mn,En.day=En.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},En.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},En.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},En.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},En.hour=En.hours=ae,En.minute=En.minutes=gn,En.second=En.seconds=vn,En.millisecond=En.milliseconds=wn,En.utcOffset=function(t,e,n){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ve(lt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=qe(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?Je(this,Ye(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:qe(this)},En.utc=function(t){return this.utcOffset(0,t)},En.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(qe(this),"m")),this},En.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ve(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},En.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},En.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},En.isLocal=function(){return!!this.isValid()&&!this._isUTC},En.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},En.isUtc=We,En.isUTC=We,En.zoneAbbr=function(){return this._isUTC?"UTC":""},En.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},En.dates=S("dates accessor is deprecated. Use date instead.",mn),En.months=S("months accessor is deprecated. Use month instead",Ft),En.years=S("years accessor is deprecated. Use year instead",At),En.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),En.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Ae(t))._a){var e=t._isUTC?d(t._a):De(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var $n=I.prototype;function Cn(t,e,n,o){var i=fe(),r=d().set(o,e);return i[n](r,t)}function _n(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return Cn(t,e,n,"month");var o,i=[];for(o=0;o<12;o++)i[o]=Cn(t,o,n,"month");return i}function xn(t,e,n,o){"boolean"==typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var i,r=fe(),a=t?r._week.dow:0;if(null!=n)return Cn(e,(n+a)%7,o,"day");var s=[];for(i=0;i<7;i++)s[i]=Cn(e,(i+a)%7,o,"day");return s}$n.calendar=function(t,e,n){var o=this._calendar[t]||this._calendar.sameElse;return P(o)?o.call(e,n):o},$n.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},$n.invalidDate=function(){return this._invalidDate},$n.ordinal=function(t){return this._ordinal.replace("%d",t)},$n.preparse=Mn,$n.postformat=Mn,$n.relativeTime=function(t,e,n,o){var i=this._relativeTime[n];return P(i)?i(t,e,n,o):i.replace(/%d/i,t)},$n.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return P(n)?n(e):n.replace(/%s/i,e)},$n.set=function(t){var e,n;for(n in t)P(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},$n.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Nt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},$n.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Nt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},$n.monthsParse=function(t,e,n){var o,i,r;if(this._monthsParseExact)return function(t,e,n){var o,i,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)r=d([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=kt.call(this._shortMonthsParse,a))?i:null:-1!==(i=kt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=kt.call(this._shortMonthsParse,a))?i:-1!==(i=kt.call(this._longMonthsParse,a))?i:null:-1!==(i=kt.call(this._longMonthsParse,a))?i:-1!==(i=kt.call(this._shortMonthsParse,a))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(i=d([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(n&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!n&&this._monthsParse[o].test(t))return o}},$n.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Ht),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},$n.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Ut),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},$n.week=function(t){return zt(t,this._week.dow,this._week.doy).week},$n.firstDayOfYear=function(){return this._week.doy},$n.firstDayOfWeek=function(){return this._week.dow},$n.weekdays=function(t,e){var n=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Yt(n,this._week.dow):t?n[t.day()]:n},$n.weekdaysMin=function(t){return!0===t?Yt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},$n.weekdaysShort=function(t){return!0===t?Yt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},$n.weekdaysParse=function(t,e,n){var o,i,r;if(this._weekdaysParseExact)return function(t,e,n){var o,i,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)r=d([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=kt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=kt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=kt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=kt.call(this._weekdaysParse,a))?i:-1!==(i=kt.call(this._shortWeekdaysParse,a))?i:-1!==(i=kt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=kt.call(this._shortWeekdaysParse,a))?i:-1!==(i=kt.call(this._weekdaysParse,a))?i:-1!==(i=kt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=kt.call(this._minWeekdaysParse,a))?i:-1!==(i=kt.call(this._weekdaysParse,a))?i:-1!==(i=kt.call(this._shortWeekdaysParse,a))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(i=d([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[o]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(n&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(n&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!n&&this._weekdaysParse[o].test(t))return o}},$n.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},$n.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},$n.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=te),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},$n.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},$n.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},he("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",he),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",fe);var Sn=Math.abs;function Tn(t,e,n,o){var i=Ye(e,n);return t._milliseconds+=o*i._milliseconds,t._days+=o*i._days,t._months+=o*i._months,t._bubble()}function kn(t){return t<0?Math.floor(t):Math.ceil(t)}function An(t){return 4800*t/146097}function Pn(t){return 146097*t/4800}function Dn(t){return function(){return this.as(t)}}var In=Dn("ms"),On=Dn("s"),Nn=Dn("m"),Ln=Dn("h"),Rn=Dn("d"),jn=Dn("w"),Fn=Dn("M"),Un=Dn("Q"),Hn=Dn("y");function Vn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Bn=Vn("milliseconds"),qn=Vn("seconds"),Wn=Vn("minutes"),zn=Vn("hours"),Gn=Vn("days"),Yn=Vn("months"),Kn=Vn("years");var Xn=Math.round,Zn={ss:44,s:45,m:45,h:22,d:26,M:11};var Jn=Math.abs;function Qn(t){return(t>0)-(t<0)||+t}function to(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Jn(this._milliseconds)/1e3,o=Jn(this._days),i=Jn(this._months);e=M((t=M(n/60))/60),n%=60,t%=60;var r=M(i/12),a=i%=12,s=o,l=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var h=p<0?"-":"",d=Qn(this._months)!==Qn(p)?"-":"",f=Qn(this._days)!==Qn(p)?"-":"",m=Qn(this._milliseconds)!==Qn(p)?"-":"";return h+"P"+(r?d+r+"Y":"")+(a?d+a+"M":"")+(s?f+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var eo=Re.prototype;return eo.isValid=function(){return this._isValid},eo.abs=function(){var t=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),t.milliseconds=Sn(t.milliseconds),t.seconds=Sn(t.seconds),t.minutes=Sn(t.minutes),t.hours=Sn(t.hours),t.months=Sn(t.months),t.years=Sn(t.years),this},eo.add=function(t,e){return Tn(this,t,e,1)},eo.subtract=function(t,e){return Tn(this,t,e,-1)},eo.as=function(t){if(!this.isValid())return NaN;var e,n,o=this._milliseconds;if("month"===(t=L(t))||"quarter"===t||"year"===t)switch(e=this._days+o/864e5,n=this._months+An(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Pn(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}},eo.asMilliseconds=In,eo.asSeconds=On,eo.asMinutes=Nn,eo.asHours=Ln,eo.asDays=Rn,eo.asWeeks=jn,eo.asMonths=Fn,eo.asQuarters=Un,eo.asYears=Hn,eo.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},eo._bubble=function(){var t,e,n,o,i,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*kn(Pn(s)+a),a=0,s=0),l.milliseconds=r%1e3,t=M(r/1e3),l.seconds=t%60,e=M(t/60),l.minutes=e%60,n=M(e/60),l.hours=n%24,s+=i=M(An(a+=M(n/24))),a-=kn(Pn(i)),o=M(s/12),s%=12,l.days=a,l.months=s,l.years=o,this},eo.clone=function(){return Ye(this)},eo.get=function(t){return t=L(t),this.isValid()?this[t+"s"]():NaN},eo.milliseconds=Bn,eo.seconds=qn,eo.minutes=Wn,eo.hours=zn,eo.days=Gn,eo.weeks=function(){return M(this.days()/7)},eo.months=Yn,eo.years=Kn,eo.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var o=Ye(t).abs(),i=Xn(o.as("s")),r=Xn(o.as("m")),a=Xn(o.as("h")),s=Xn(o.as("d")),l=Xn(o.as("M")),c=Xn(o.as("y")),u=i<=Zn.ss&&["s",i]||i<Zn.s&&["ss",i]||r<=1&&["m"]||r<Zn.m&&["mm",r]||a<=1&&["h"]||a<Zn.h&&["hh",a]||s<=1&&["d"]||s<Zn.d&&["dd",s]||l<=1&&["M"]||l<Zn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,function(t,e,n,o,i){return i.relativeTime(e||1,!!n,t,o)}.apply(null,u)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},eo.toISOString=to,eo.toString=to,eo.toJSON=to,eo.locale=nn,eo.localeData=rn,eo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",to),eo.lang=on,W("X",0,0,"unix"),W("x",0,0,"valueOf"),pt("x",at),pt("X",/[+-]?\d+(\.\d{1,3})?/),mt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),mt("x",function(t,e,n){n._d=new Date(C(t))}),i.version="2.24.0",n=De,i.fn=En,i.min=function(){return Ne("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ne("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=d,i.unix=function(t){return De(1e3*t)},i.months=function(t,e){return _n(t,e,"months")},i.isDate=c,i.locale=he,i.invalid=g,i.duration=Ye,i.isMoment=E,i.weekdays=function(t,e,n){return xn(t,e,n,"weekdays")},i.parseZone=function(){return De.apply(null,arguments).parseZone()},i.localeData=fe,i.isDuration=je,i.monthsShort=function(t,e){return _n(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return xn(t,e,n,"weekdaysMin")},i.defineLocale=de,i.updateLocale=function(t,e){if(null!=e){var n,o,i=se;null!=(o=pe(t))&&(i=o._config),(n=new I(e=D(i,e))).parentLocale=le[t],le[t]=n,he(t)}else null!=le[t]&&(null!=le[t].parentLocale?le[t]=le[t].parentLocale:null!=le[t]&&delete le[t]);return le[t]},i.locales=function(){return T(le)},i.weekdaysShort=function(t,e,n){return xn(t,e,n,"weekdaysShort")},i.normalizeUnits=L,i.relativeTimeRounding=function(t){return void 0===t?Xn:"function"==typeof t&&(Xn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Zn[t]&&(void 0===e?Zn[t]:(Zn[t]=e,"s"===t&&(Zn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=En,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i},"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):o.moment=i()},{}],65:[function(t,e,n){var o,i;o=this,i=function(){var t,e,n,o={},i=this;function r(t,e){var n,r=o;t=t.split("."),r=r||i,t[0]in r||!r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)t.length||void 0===e?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function s(){}function l(t){return t.xp||(t.xp=++c)}var c=0;function u(t){this.message="Assertion failed. See https://openlayers.org/en/v4.6.5/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function p(t,e,n,o){this.fa=t,this.la=e,this.ea=n,this.ka=o}function h(t,e,n,o,i){return void 0!==i?(i.fa=t,i.la=e,i.ea=n,i.ka=o,i):new p(t,e,n,o)}function d(t,e,n){return t.fa<=e&&e<=t.la&&t.ea<=n&&n<=t.ka}function f(t,e){if(!t)throw new u(e)}function m(t,e,n){return Math.min(Math.max(t,e),n)}a(u,Error);var g="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function y(t,e,n,o,i,r){var a=i-n,s=r-o;if(0!==a||0!==s){var l=((t-n)*a+(e-o)*s)/(a*a+s*s);1<l?(n=i,o=r):0<l&&(n+=a*l,o+=s*l)}return v(t,e,n,o)}function v(t,e,n,o){return(t=n-t)*t+(e=o-e)*e}function b(t){return t*Math.PI/180}function w(t,e){return 0>(t%=e)*e?t+e:t}function E(t,e,n){return t+n*(e-t)}function M(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function C(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function _(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function x(t){for(var e=O(),n=0,o=t.length;n<o;++n)H(e,t[n]);return e}function S(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function T(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function k(t,e,n){return(e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*e+(t=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*t}function A(t,e){return D(t,e[0],e[1])}function P(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function D(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function I(t,e){var n=t[1],o=t[2],i=t[3],r=e[0];e=e[1];var a=0;return r<t[0]?a|=16:r>o&&(a|=4),e<n?a|=8:e>i&&(a|=2),0===a&&(a=1),a}function O(){return[1/0,1/0,-1/0,-1/0]}function N(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function L(t){return N(1/0,1/0,-1/0,-1/0,t)}function R(t,e){var n=t[0];return N(n,t=t[1],n,t,e)}function j(t,e,n,o,i){return V(i=L(i),t,e,n,o)}function F(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function U(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function H(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function V(t,e,n,o,i){for(;n<o;n+=i){var r=t,a=e[n],s=e[n+1];r[0]=Math.min(r[0],a),r[1]=Math.min(r[1],s),r[2]=Math.max(r[2],a),r[3]=Math.max(r[3],s)}return t}function B(t,e,n){var o;return(o=e.call(n,W(t)))||(o=e.call(n,z(t)))||(o=e.call(n,J(t)))?o:!!(o=e.call(n,Z(t)))&&o}function q(t){var e=0;return et(t)||(e=Q(t)*K(t)),e}function W(t){return[t[0],t[1]]}function z(t){return[t[2],t[1]]}function G(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Y(t,e,n,o,i){var r=e*o[0]/2;o=e*o[1]/2,e=Math.cos(n);var a=Math.sin(n);n=r*e,r*=a,e*=o;var s=o*a,l=t[0],c=t[1];t=l-n+s,o=l-n-s,a=l+n-s,n=l+n+s,s=c-r-e,l=c-r+e;var u=c+r+e;return r=c+r-e,N(Math.min(t,o,a,n),Math.min(s,l,u,r),Math.max(t,o,a,n),Math.max(s,l,u,r),i)}function K(t){return t[3]-t[1]}function X(t,e,n){return n=n||[1/0,1/0,-1/0,-1/0],tt(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=t[2]<e[2]?t[2]:e[2],n[3]=t[3]<e[3]?t[3]:e[3]),n}function Z(t){return[t[0],t[3]]}function J(t){return[t[2],t[3]]}function Q(t){return t[2]-t[0]}function tt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function et(t){return t[2]<t[0]||t[3]<t[1]}function nt(t,e){var n=(t[2]-t[0])/2*(e-1);e=(t[3]-t[1])/2*(e-1),t[0]-=n,t[2]+=n,t[1]-=e,t[3]+=e}function ot(t,e,n){e(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2);var o=[t[0],t[2],t[4],t[6]],i=[t[1],t[3],t[5],t[7]];return N(e=Math.min.apply(null,o),t=Math.min.apply(null,i),o=Math.max.apply(null,o),i=Math.max.apply(null,i),n)}var it="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,i=arguments.length;o<i;++o){var r=arguments[o];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function rt(t){for(var e in t)delete t[e]}function at(t){var e,n=[];for(e in t)n.push(t[e]);return n}function st(t){for(var e in t)return!1;return!e}function lt(t){this.radius=t}function ct(t,e){for(var n=0,o=0,i=t.length;o<i-1;++o)n+=ut(t[o],t[o+1],e);return n}function ut(t,e,n){var o=b(t[1]),i=b(e[1]),r=(i-o)/2;return t=b(e[0]-t[0])/2,o=Math.sin(r)*Math.sin(r)+Math.sin(t)*Math.sin(t)*Math.cos(o)*Math.cos(i),2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function pt(t,e){for(var n=0,o=t.length,i=t[o-1][0],r=t[o-1][1],a=0;a<o;a++){var s=t[a][0],l=t[a][1];n+=b(s-i)*(2+Math.sin(b(r))+Math.sin(b(l))),i=s,r=l}return n*e*e/2}lt.prototype.a=function(t){return pt(t,this.radius)},lt.prototype.b=function(t,e){return ut(t,e,this.radius)},lt.prototype.offset=function(t,e,n){var o=b(t[1]);e/=this.radius;var i=Math.asin(Math.sin(o)*Math.cos(e)+Math.cos(o)*Math.sin(e)*Math.cos(n));return[180*(b(t[0])+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(o),Math.cos(e)-Math.sin(o)*Math.sin(i)))/Math.PI,180*i/Math.PI]};var ht={};ht.degrees=12741994*Math.PI/360,ht.ft=.3048,ht.m=1,ht["us-ft"]=1200/3937;var dt=null;function ft(t){this.wb=t.code,this.a=t.units,this.i=void 0!==t.extent?t.extent:null,this.oe=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.c=void 0!==t.global&&t.global,this.g=!(!this.c||!this.i),this.j=t.getPointResolution,this.f=null,this.l=t.metersPerUnit;var e=t.code,n=dt||window.proj4;"function"==typeof n&&(void 0!==(e=n.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.l=e.to_meter),void 0===t.units&&(this.a=e.units)))}function mt(t){ft.call(this,{code:t,units:"m",extent:yt,global:!0,worldExtent:vt,getPointResolution:function(t,e){return t/g(e[1]/6378137)}})}(t=ft.prototype).ml=function(){return this.wb},t.G=function(){return this.i},t.zo=function(){return this.a},t.Bc=function(){return this.l||ht[this.a]},t.Vl=function(){return this.oe},t.il=function(){return this.b},t.Gm=function(){return this.c},t.xq=function(t){this.c=t,this.g=!(!t||!this.i)},t.Si=function(t){this.i=t,this.g=!(!this.c||!t)},t.Sj=function(t){this.oe=t},t.wq=function(t){this.j=t},a(mt,ft);var gt=6378137*Math.PI,yt=[-gt,-gt,gt,gt],vt=[-180,-85,180,85],bt=[new mt("EPSG:3857"),new mt("EPSG:102100"),new mt("EPSG:102113"),new mt("EPSG:900913"),new mt("urn:ogc:def:crs:EPSG:6.18:3:3857"),new mt("urn:ogc:def:crs:EPSG::3857"),new mt("http://www.opengis.net/gml/srs/epsg.xml#3857")];function wt(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n){e[i]=gt*t[i]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[i+1]+90)/360));r>gt?r=gt:r<-gt&&(r=-gt),e[i+1]=r}return e}function Et(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n)e[i]=180*t[i]/gt,e[i+1]=360*Math.atan(Math.exp(t[i+1]/6378137))/Math.PI-90;return e}function Mt(t,e){ft.call(this,{code:t,units:"degrees",extent:$t,axisOrientation:e,global:!0,metersPerUnit:Ct,worldExtent:$t})}a(Mt,ft);var $t=[-180,-90,180,90],Ct=6378137*Math.PI/180,_t=[new Mt("CRS:84"),new Mt("EPSG:4326","neu"),new Mt("urn:ogc:def:crs:EPSG::4326","neu"),new Mt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Mt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Mt("urn:ogc:def:crs:OGC:2:84"),new Mt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Mt("urn:x-ogc:def:crs:EPSG:4326","neu")],xt={},St={};function Tt(t,e,n){t=t.wb,e=e.wb,t in St||(St[t]={}),St[t][e]=n}function kt(t,e){var n;return t in St&&e in St[t]&&(n=St[t][e]),n}var At=new lt(6371008.8);function Pt(t,e,n,o){var i=(t=Rt(t)).j;return i?e=i(e,n):"degrees"==t.a&&!o||"degrees"==o||(e=(i=Ut(t,Rt("EPSG:4326")))(e=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2],e,2),e=(At.b(e.slice(0,2),e.slice(2,4))+At.b(e.slice(4,6),e.slice(6,8)))/2,void 0!==(t=o?ht[o]:t.Bc())&&(e/=t)),e}function Dt(t){t.forEach(It),t.forEach(function(e){t.forEach(function(t){e!==t&&Tt(e,t,Vt)})})}function It(t){xt[t.wb]=t,Tt(t,t,Vt)}function Ot(t){return t?"string"==typeof t?Rt(t):t:Rt("EPSG:3857")}function Nt(t,e,n,o){Tt(t=Rt(t),e=Rt(e),Lt(n)),Tt(e,t,Lt(o))}function Lt(t){return function(e,n,o){var i,r=e.length;for(o=void 0!==o?o:2,n=void 0!==n?n:Array(r),i=0;i<r;i+=o){var a=t([e[i],e[i+1]]);for(n[i]=a[0],n[i+1]=a[1],a=o-1;2<=a;--a)n[i+a]=e[i+a]}return n}}function Rt(t){var e=null;if(t instanceof ft)e=t;else if("string"==typeof t&&!(e=xt[t]||null)){var n=dt||window.proj4;"function"==typeof n&&void 0!==n.defs(t)&&It(e=new ft({code:t}))}return e}function jt(t,e){if(t===e)return!0;var n=t.a===e.a;return t.wb===e.wb?n:Ut(t,e)===Vt&&n}function Ft(t,e){return Ut(t=Rt(t),e=Rt(e))}function Ut(t,e){var n=t.wb,o=e.wb,i=kt(n,o);if(!i){var r=dt||window.proj4;if("function"==typeof r){var a=r.defs(n),s=r.defs(o);void 0!==a&&void 0!==s&&(a===s?Dt([e,t]):Nt(e,t,(i=r(o,n)).forward,i.inverse),i=kt(n,o))}}return i||(i=Ht),i}function Ht(t,e){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function Vt(t,e){if(void 0!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}else t=t.slice();return t}function Bt(t,e,n){return Ft(e,n)(t,void 0,t.length)}function qt(t,e,n){return ot(t,e=Ft(e,n))}function Wt(){Dt(bt),Dt(_t),_t.forEach(function(t){bt.forEach(function(e){Tt(t,e,wt),Tt(e,t,Et)})})}function zt(t,e){return t>e?1:t<e?-1:0}function Gt(t,e){return 0<=t.indexOf(e)}function Yt(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(!(e<=t[o-1]))if(0<n){for(n=1;n<o;++n)if(t[n]<e)return n-1}else if(0>n){for(n=1;n<o;++n)if(t[n]<=e)return n}else for(n=1;n<o;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return o-1}function Kt(t,e){var n=Array.isArray(e)?e:[e],o=n.length;for(e=0;e<o;e++)t[t.length]=n[e]}function Xt(t,e){for(var n,o=t.length>>>0,i=0;i<o;i++)if(e(n=t[i],i,t))return n;return null}function Zt(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function Jt(t){var e,n=ts,o=t.length,i=Array(t.length);for(e=0;e<o;e++)i[e]={index:e,value:t[e]};for(i.sort(function(t,e){return n(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=i[e].value}function Qt(t,e){var n;return t.every(function(o,i){return n=i,!e(o,i,t)})?-1:n}function te(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function ee(t){if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,f(function(t,e){var n=e||zt;return t.every(function(e,o){return 0===o||!(0<(e=n(t[o-1],e))||0===e)})}(this.b,function(t,e){return e-t}),17),!t.origins)for(var e=0,n=this.b.length-1;e<n;++e)if(o){if(this.b[e]/this.b[e+1]!==o){o=void 0;break}}else var o=this.b[e]/this.b[e+1];this.l=o,this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,f(this.c.length==this.b.length,20)),void 0===(o=t.extent)||this.g||this.c||(this.g=Z(o)),f(!this.g&&this.c||this.g&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,f(this.i.length==this.b.length,19)),this.j=void 0!==t.tileSize?t.tileSize:this.i?null:256,f(!this.j&&this.i||this.j&&!this.i,22),this.o=void 0!==o?o:null,this.a=null,this.f=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new p(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):o&&function(t,e){for(var n=t.b.length,o=Array(n),i=t.minZoom;i<n;++i)o[i]=re(t,e,i);t.a=o}(this,o)}Wt();var ne=[0,0,0];function oe(t,e,n,o,i){var r=null,a=e[0]-1;if(2===t.l)var s=e[1],l=e[2];else r=t.Ma(e,i);for(;a>=t.minZoom;){if(2===t.l?e=h(s=Math.floor(s/2),s,l=Math.floor(l/2),l,o):e=re(t,r,a,o),n.call(null,a,e))return!0;--a}return!1}function ie(t,e,n,o){return e[0]<t.maxZoom?2===t.l?h(t=2*e[1],t+1,e=2*e[2],e+1,n):re(t,o=t.Ma(e,o),e[0]+1,n):null}function re(t,e,n,o){se(t,e[0],e[1],n,!1,ne);var i=ne[1],r=ne[2];return se(t,e[2],e[3],n,!0,ne),h(i,ne[1],r,ne[2],o)}function ae(t,e){var n=t.Ic(e[0]),o=t.Ta(e[0]);return t=_(t.Za(e[0]),t.f),[n[0]+(e[1]+.5)*t[0]*o,n[1]+(e[2]+.5)*t[1]*o]}function se(t,e,n,o,i,r){var a=t.Ic(o),s=t.Ta(o);return t=_(t.Za(o),t.f),e=Math.floor((e-a[0])/s+(i?.5:0))/t[0],n=Math.floor((n-a[1])/s+(i?0:.5))/t[1],i?(e=Math.ceil(e)-1,n=Math.ceil(n)-1):(e=Math.floor(e),n=Math.floor(n)),te(o,e,n,r)}function le(t){var e=t.f;return e||(e=pe(t),t.f=e),e}function ce(t){var e={};return it(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Rt("EPSG:3857").G()),e.resolutions=ue(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new ee(e)}function ue(t,e,n){e=void 0!==e?e:42;var o=K(t);for(t=Q(t),n=_(void 0!==n?n:256),n=Math.max(t/n[0],o/n[1]),e+=1,o=Array(e),t=0;t<e;++t)o[t]=n/Math.pow(2,t);return o}function pe(t,e,n){return e=ue(t=he(t),e,n),new ee({extent:t,origin:Z(t),resolutions:e,tileSize:n})}function he(t){var e=(t=Rt(t)).G();return e||(e=N(-(t=180*ht.degrees/t.Bc()),-t,t,t)),e}function de(t){this.og=t.html}function fe(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if((i=t[r]).listener===e&&i.Ch===n)return o&&(i.deleteIndex=r),i}function me(t,e){return(t=t.ab)?t[e]:void 0}function ge(t){var e=t.ab;return e||(e=t.ab={}),e}function ye(t,e){var n=me(t,e);if(n){for(var o=0,i=n.length;o<i;++o)t.removeEventListener(e,n[o].Dh),rt(n[o]);n.length=0,(n=t.ab)&&(delete n[e],0===Object.keys(n).length&&delete t.ab)}}function ve(t,e,n,o,i){var r=ge(t),a=r[e];return a||(a=r[e]=[]),(r=fe(a,n,o,!1))?i||(r.Eh=!1):(r={Ch:o,Eh:!!i,listener:n,target:t,type:e},t.addEventListener(e,function(t){return t.Dh=function(e){var n=t.listener,o=t.Ch||t.target;return t.Eh&&Ee(t),n.call(o,e)}}(r)),a.push(r)),r}function be(t,e,n,o){return ve(t,e,n,o,!0)}function we(t,e,n,o){(t=me(t,e))&&(n=fe(t,n,o,!0))&&Ee(n)}function Ee(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Dh);var e=me(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&ye(t.target,t.type)}rt(t)}}function Me(t){var e,n=ge(t);for(e in n)ye(t,e)}function $e(){}function Ce(t){t.Ub||(t.Ub=!0,t.ia())}function _e(t){this.type=t,this.target=null}function xe(t){t.stopPropagation()}function Se(){this.Wa={},this.qa={},this.oa={}}function Te(t,e){return e?e in t.oa:0<Object.keys(t.oa).length}function ke(){Se.call(this),this.g=0}function Ae(t){ke.call(this),l(this),this.N={},void 0!==t&&this.H(t)}(t=ee.prototype).Vf=function(t,e,n){for(var o=(t=re(this,t,e)).fa,i=t.la;o<=i;++o)for(var r=t.ea,a=t.ka;r<=a;++r)n([e,o,r])},t.G=function(){return this.o},t.mj=function(){return this.maxZoom},t.nj=function(){return this.minZoom},t.Ic=function(t){return this.g?this.g:this.c[t]},t.Ta=function(t){return this.b[t]},t.oj=function(){return this.b},t.Ma=function(t,e){var n=this.Ic(t[0]),o=this.Ta(t[0]),i=_(this.Za(t[0]),this.f),r=n[0]+t[1]*i[0]*o;return N(r,t=n[1]+t[2]*i[1]*o,r+i[0]*o,t+i[1]*o,e)},t.Le=function(t,e,n){var o=t[0],i=t[1];t=this.Dc(e);var r=e/this.Ta(t),a=this.Ic(t),s=_(this.Za(t),this.f);return o=r*Math.floor((o-a[0])/e+0)/s[0],e=r*Math.floor((i-a[1])/e+.5)/s[1],te(t,o=Math.floor(o),e=Math.floor(e),n)},t.jg=function(t,e,n){return se(this,t[0],t[1],e,!1,n)},t.Za=function(t){return this.j?this.j:this.i[t]},t.Dc=function(t,e){return m(Yt(this.b,t,e||0),this.minZoom,this.maxZoom)},de.prototype.b=function(){return this.og},$e.prototype.Ub=!1,$e.prototype.ia=s,_e.prototype.preventDefault=_e.prototype.stopPropagation=function(){this.sj=!0},a(Se,$e),Se.prototype.addEventListener=function(t,e){var n=this.oa[t];n||(n=this.oa[t]=[]),-1===n.indexOf(e)&&n.push(e)},Se.prototype.b=function(t){var e="string"==typeof t?new _e(t):t;t=e.type,e.target=this;var n=this.oa[t];if(n){t in this.qa||(this.qa[t]=0,this.Wa[t]=0),++this.qa[t];for(var o=0,i=n.length;o<i;++o)if(!1===n[o].call(this,e)||e.sj){var r=!1;break}if(--this.qa[t],0===this.qa[t]){for(e=this.Wa[t],delete this.Wa[t];e--;)this.removeEventListener(t,s);delete this.qa[t]}return r}},Se.prototype.ia=function(){Me(this)},Se.prototype.removeEventListener=function(t,e){var n=this.oa[t];n&&(e=n.indexOf(e),t in this.Wa?(n[e]=s,++this.Wa[t]):(n.splice(e,1),0===n.length&&delete this.oa[t]))},a(ke,Se),(t=ke.prototype).u=function(){++this.g,this.b("change")},t.K=function(){return this.g},t.I=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=ve(this,t[r],e,n);return i}return ve(this,t,e,n)},t.once=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=be(this,t[r],e,n);return i}return be(this,t,e,n)},t.J=function(t,e,n){if(Array.isArray(t))for(var o=0,i=t.length;o<i;++o)we(this,t[o],e,n);else we(this,t,e,n)},a(Ae,ke);var Pe={};function De(t){return Pe.hasOwnProperty(t)?Pe[t]:Pe[t]="change:"+t}function Ie(t,e,n){var o=De(e);t.b(new Oe(o,e,n)),t.b(new Oe("propertychange",e,n))}function Oe(t,e,n){_e.call(this,t),this.key=e,this.oldValue=n}function Ne(t,e){if(Ae.call(this),this.c=!!(e||{}).unique,this.a=t||[],this.c)for(t=0,e=this.a.length;t<e;++t)Re(this,this.a[t],t);Le(this)}function Le(t){t.set(je,t.a.length)}function Re(t,e,n){for(var o=0,i=t.a.length;o<i;++o)if(t.a[o]===e&&o!==n)throw new u(58)}(t=Ae.prototype).get=function(t){var e;return this.N.hasOwnProperty(t)&&(e=this.N[t]),e},t.P=function(){return Object.keys(this.N)},t.L=function(){return it({},this.N)},t.set=function(t,e,n){n?this.N[t]=e:(n=this.N[t],this.N[t]=e,n!==e&&Ie(this,t,n))},t.H=function(t,e){for(var n in t)this.set(n,t[n],e)},t.R=function(t,e){if(t in this.N){var n=this.N[t];delete this.N[t],e||Ie(this,t,n)}},a(Oe,_e),a(Ne,Ae),(t=Ne.prototype).clear=function(){for(;0<this.kc();)this.pop()},t.qg=function(t){var e,n=0;for(e=t.length;n<e;++n)this.push(t[n]);return this},t.forEach=function(t,e){t=e?t.bind(e):t;for(var n=0,o=(e=this.a).length;n<o;++n)t(e[n],n,e)},t.Xm=function(){return this.a},t.item=function(t){return this.a[t]},t.kc=function(){return this.get(je)},t.Re=function(t,e){this.c&&Re(this,e),this.a.splice(t,0,e),Le(this),this.b(new Fe("add",e))},t.pop=function(){return this.Wg(this.kc()-1)},t.push=function(t){this.c&&Re(this,t);var e=this.kc();return this.Re(e,t),this.kc()},t.remove=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)if(n[o]===t)return this.Wg(o)},t.Wg=function(t){var e=this.a[t];return this.a.splice(t,1),Le(this),this.b(new Fe("remove",e)),e},t.rq=function(t,e){var n=this.kc();if(t<n)this.c&&Re(this,e,t),n=this.a[t],this.a[t]=e,this.b(new Fe("remove",n)),this.b(new Fe("add",e));else{for(;n<t;++n)this.Re(n,void 0);this.Re(t,e)}};var je="length";function Fe(t,e){_e.call(this,t),this.element=e}function Ue(t,e,n){_e.call(this,t),this.map=e,this.frameState=void 0!==n?n:null}function He(t,e,n,o,i){Ue.call(this,t,e,i),this.originalEvent=n,this.pixel=e.ud(n),this.coordinate=e.Ra(this.pixel),this.dragging=void 0!==o&&o}a(Fe,_e),a(Ue,_e),a(He,Ue),He.prototype.preventDefault=function(){Ue.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},He.prototype.stopPropagation=function(){Ue.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Ve=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Be(t,e){var n,o,i=Ve.length;for(o=0;o<i;++o)try{if(n=t.getContext(Ve[o],e))return n}catch(t){}return null}var qe,We,ze="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Ge=-1!==ze.indexOf("firefox"),Ye=-1!==ze.indexOf("safari")&&-1==ze.indexOf("chrom"),Ke=-1!==ze.indexOf("webkit")&&-1==ze.indexOf("edge"),Xe=-1!==ze.indexOf("macintosh"),Ze=window.devicePixelRatio||1,Je=!1,Qe=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Je=!0),!0)}catch(t){return!1}}(),tn="DeviceOrientationEvent"in window,en="geolocation"in navigator,nn="ontouchstart"in window,on="PointerEvent"in window,rn=!!navigator.msPointerEnabled,an=!1,sn=[];if("WebGLRenderingContext"in window)try{var ln=Be(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ln&&(an=!0,We=ln.getParameter(ln.MAX_TEXTURE_SIZE),sn=ln.getSupportedExtensions())}catch(Oi){}qe=an,n=sn,e=We;var cn={gr:"singleclick",Wq:"click",Xq:"dblclick",$q:"pointerdrag",cr:"pointermove",Zq:"pointerdown",fr:"pointerup",er:"pointerover",dr:"pointerout",ar:"pointerenter",br:"pointerleave",Yq:"pointercancel"};function un(t,e,n,o,i){He.call(this,t,e,n.b,o,i),this.b=n}function pn(t,e){this.b=t,this.i=e}function hn(t){pn.call(this,t,{mousedown:this.Jm,mousemove:this.Km,mouseup:this.Nm,mouseover:this.Mm,mouseout:this.Lm}),this.a=t.g,this.g=[]}function dn(t,e){t=t.g;var n=e.clientX;e=e.clientY;for(var o,i=0,r=t.length;i<r&&(o=t[i]);i++){var a=Math.abs(e-o[1]);if(25>=Math.abs(n-o[0])&&25>=a)return!0}return!1}function fn(t){var e=Tn(t,t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function mn(t){pn.call(this,t,{MSPointerDown:this.Sm,MSPointerMove:this.Tm,MSPointerUp:this.Wm,MSPointerOut:this.Um,MSPointerOver:this.Vm,MSPointerCancel:this.Rm,MSGotPointerCapture:this.Pm,MSLostPointerCapture:this.Qm}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function gn(t,e){var n=e;return"number"==typeof e.pointerType&&((n=Tn(e,e)).pointerType=t.g[e.pointerType]),n}function yn(t){pn.call(this,t,{pointerdown:this.Kp,pointermove:this.Lp,pointerup:this.Op,pointerout:this.Mp,pointerover:this.Np,pointercancel:this.Jp,gotpointercapture:this.Wl,lostpointercapture:this.Hm})}function vn(t,e,n){_e.call(this,t),this.b=e,t=n||{},this.buttons=function(t){if(t.buttons||bn)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}(t),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}a(un,He),a(hn,pn),(t=hn.prototype).Jm=function(t){if(!dn(this,t)){1..toString()in this.a&&this.cancel(t);var e=fn(t);this.a[1..toString()]=t,Dn(this.b,"pointerdown",e,t)}},t.Km=function(t){if(!dn(this,t)){var e=fn(t);Dn(this.b,"pointermove",e,t)}},t.Nm=function(t){if(!dn(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=fn(t),Dn(this.b,"pointerup",e,t),delete this.a[1..toString()])}},t.Mm=function(t){if(!dn(this,t)){var e=fn(t);Pn(this.b,e,t)}},t.Lm=function(t){if(!dn(this,t)){var e=fn(t);An(this.b,e,t)}},t.cancel=function(t){var e=fn(t);this.b.cancel(e,t),delete this.a[1..toString()]},a(mn,pn),(t=mn.prototype).Sm=function(t){this.a[t.pointerId.toString()]=t;var e=gn(this,t);Dn(this.b,"pointerdown",e,t)},t.Tm=function(t){var e=gn(this,t);Dn(this.b,"pointermove",e,t)},t.Wm=function(t){var e=gn(this,t);Dn(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},t.Um=function(t){var e=gn(this,t);An(this.b,e,t)},t.Vm=function(t){var e=gn(this,t);Pn(this.b,e,t)},t.Rm=function(t){var e=gn(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},t.Qm=function(t){this.b.b(new vn("lostpointercapture",t,t))},t.Pm=function(t){this.b.b(new vn("gotpointercapture",t,t))},a(yn,pn),(t=yn.prototype).Kp=function(t){In(this.b,t)},t.Lp=function(t){In(this.b,t)},t.Op=function(t){In(this.b,t)},t.Mp=function(t){In(this.b,t)},t.Np=function(t){In(this.b,t)},t.Jp=function(t){In(this.b,t)},t.Hm=function(t){In(this.b,t)},t.Wl=function(t){In(this.b,t)},a(vn,_e);var bn=!1;try{bn=1===new MouseEvent("click",{buttons:1}).buttons}catch(Oi){}function wn(t,e){pn.call(this,t,{touchstart:this.Qq,touchmove:this.Pq,touchend:this.Oq,touchcancel:this.Nq}),this.a=t.g,this.j=e,this.g=void 0,this.f=0,this.c=void 0}function En(t,e,n){return(e=Tn(e,n)).pointerId=n.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.f,e.button=0,e.buttons=1,e.width=n.webkitRadiusX||n.radiusX||0,e.height=n.webkitRadiusY||n.radiusY||0,e.pressure=n.webkitForce||n.force||.5,e.isPrimary=t.g===n.identifier,e.pointerType="touch",e.clientX=n.clientX,e.clientY=n.clientY,e.screenX=n.screenX,e.screenY=n.screenY,e}function Mn(t,e,n){function o(){e.preventDefault()}var i,r=Array.prototype.slice.call(e.changedTouches),a=r.length;for(i=0;i<a;++i){var s=En(t,e,r[i]);s.preventDefault=o,n.call(t,e,s)}}function $n(t,e){var n=t.j.g;if(e=e.changedTouches[0],t.g===e.identifier){var o=[e.clientX,e.clientY];n.push(o),setTimeout(function(){var t=n.indexOf(o);-1<t&&n.splice(t,1)},2500)}}function Cn(t){Se.call(this),this.f=t,this.g={},this.i={},this.a=[],on?_n(this,new yn(this)):rn?_n(this,new mn(this)):(_n(this,t=new hn(this)),nn&&_n(this,new wn(this,t))),t=this.a.length;for(var e,n=0;n<t;n++)e=this.a[n],xn(this,Object.keys(e.i))}function _n(t,e){var n=Object.keys(e.i);n&&(n.forEach(function(t){var n=e.i[t];n&&(this.i[t]=n.bind(e))},t),t.a.push(e))}function xn(t,e){e.forEach(function(t){ve(this.f,t,this.c,this)},t)}function Sn(t,e){e.forEach(function(t){we(this.f,t,this.c,this)},t)}function Tn(t,e){for(var n,o={},i=0,r=On.length;i<r;i++)o[n=On[i][0]]=t[n]||e[n]||On[i][1];return o}function kn(t,e,n){e.bubbles=!1,Dn(t,"pointerleave",e,n)}function An(t,e,n){t.out(e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||kn(t,e,n)}function Pn(t,e,n){e.bubbles=!0,Dn(t,"pointerover",e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||(e.bubbles=!1,Dn(t,"pointerenter",e,n))}function Dn(t,e,n,o){t.b(new vn(e,o,n))}function In(t,e){t.b(new vn(e.type,e,e))}a(wn,pn),(t=wn.prototype).Ej=function(){this.f=0,this.c=void 0},t.Qq=function(t){var e=t.touches,n=Object.keys(this.a),o=n.length;if(o>=e.length){var i,r=[];for(i=0;i<o;++i){var a,s=n[i],l=this.a[s];if(!(a=1==s))t:{for(var c=e.length,u=0;u<c;u++)if((a=e[u]).identifier===s-2){a=!0;break t}a=!1}a||r.push(l.out)}for(i=0;i<r.length;++i)this.Of(t,r[i])}e=t.changedTouches[0],(0===(n=Object.keys(this.a).length)||1===n&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.c&&clearTimeout(this.c)),$n(this,t),this.f++,Mn(this,t,this.Fp)},t.Fp=function(t,e){this.a[e.pointerId]={target:e.target,out:e,pj:e.target};var n=this.b;e.bubbles=!0,Dn(n,"pointerover",e,t),n=this.b,e.bubbles=!1,Dn(n,"pointerenter",e,t),Dn(this.b,"pointerdown",e,t)},t.Pq=function(t){t.preventDefault(),Mn(this,t,this.Om)},t.Om=function(t,e){var n=this.a[e.pointerId];if(n){var o=n.out,i=n.pj;Dn(this.b,"pointermove",e,t),o&&i!==e.target&&(o.relatedTarget=e.target,e.relatedTarget=i,o.target=i,e.target?(An(this.b,o,t),Pn(this.b,e,t)):(e.target=i,e.relatedTarget=null,this.Of(t,e))),n.out=e,n.pj=e.target}},t.Oq=function(t){$n(this,t),Mn(this,t,this.Rq)},t.Rq=function(t,e){Dn(this.b,"pointerup",e,t),this.b.out(e,t),kn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},t.Nq=function(t){Mn(this,t,this.Of)},t.Of=function(t,e){this.b.cancel(e,t),this.b.out(e,t),kn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},a(Cn,Se),Cn.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},Cn.prototype.out=function(t,e){t.bubbles=!0,Dn(this,"pointerout",t,e)},Cn.prototype.cancel=function(t,e){Dn(this,"pointercancel",t,e)},Cn.prototype.ia=function(){for(var t,e=this.a.length,n=0;n<e;n++)t=this.a[n],Sn(this,Object.keys(t.i));Se.prototype.ia.call(this)};var On=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Nn(t,e){Se.call(this),this.g=t,this.j=0,this.l=!1,this.i=[],this.D=e?e*Ze:Ze,this.c=null,t=this.g.a,this.N=0,this.o={},this.f=new Cn(t),this.a=null,this.s=ve(this.f,"pointerdown",this.pm,this),this.v=ve(this.f,"pointermove",this.mq,this)}function Ln(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.o[e.pointerId]:"pointerdown"==e.type&&(t.o[e.pointerId]=!0),t.N=Object.keys(t.o).length}function Rn(t,e){return Math.abs(e.clientX-t.c.clientX)>t.D||Math.abs(e.clientY-t.c.clientY)>t.D}function jn(t,e){this.s=t,this.c=e,this.b=[],this.g=[],this.a={}}function Fn(t){var e=t.b,n=t.g,o=e[0];return 1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),Un(t,0)),e=t.c(o),delete t.a[e],o}function Un(t,e){for(var n=t.b,o=t.g,i=n.length,r=n[e],a=o[e],s=e;e<i>>1;){var l=2*e+1,c=2*e+2;l=c<i&&o[c]<o[l]?c:l,n[e]=n[l],o[e]=o[l],e=l}n[e]=r,o[e]=a,Hn(t,s,e)}function Hn(t,e,n){var o=t.b;t=t.g;for(var i=o[n],r=t[n];n>e;){var a=n-1>>1;if(!(t[a]>r))break;o[n]=o[a],t[n]=t[a],n=a}o[n]=i,t[n]=r}function Vn(t){var e,n=t.s,o=t.b,i=t.g,r=0,a=o.length;for(e=0;e<a;++e){var s=o[e],l=n(s);1/0==l?delete t.a[t.c(s)]:(i[r]=l,o[r++]=s)}for(o.length=r,i.length=r,n=(t.b.length>>1)-1;0<=n;n--)Un(t,n)}function Bn(t,e){jn.call(this,function(e){return t.apply(null,e)},function(t){return t[0].lb()}),this.v=e,this.j=0,this.f={}}function qn(t,e,n){for(var o,i,r,a=0,s=!1;t.j<e&&a<n&&0<t.b.length;)r=(i=Fn(t)[0]).lb(),5===(o=i.getState())?s=!0:0!==o||r in t.f||(t.f[r]=!0,++t.j,++a,i.load());0===a&&s&&t.v()}function Wn(t){return t}function zn(t){if(void 0!==t)return 0}function Gn(t,e){if(void 0!==t)return t+e}function Yn(t,e){return 2<(e=-1===(e=(t=void 0!==e?t.toFixed(e):""+t).indexOf("."))?t.length:e)?t:Array(3-e).join("0")+t}function Kn(t){t=(""+t).split(".");for(var e=["1","3"],n=0;n<Math.max(t.length,e.length);n++){var o=parseInt(t[n]||"0",10),i=parseInt(e[n]||"0",10);if(o>i)return 1;if(i>o)return-1}return 0}function Xn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Zn(t,e){var n=t[0];t=t[1];var o=e[0],i=e[1];e=o[0],o=o[1];var r=i[0],a=r-e,s=(i=i[1])-o;return 0>=(n=0===a&&0===s?0:(a*(n-e)+s*(t-o))/(a*a+s*s||0))?(t=e,n=o):1<=n?(t=r,n=i):(t=e+n*a,n=o+n*s),[t,n]}function Jn(t,e,n){e=w(e+180,360)-180;var o=Math.abs(3600*e);n=n||0;var i=Math.pow(10,n),r=Math.floor(o/3600),a=Math.floor((o-3600*r)/60);return 60<=(o=Math.ceil((o-3600*r-60*a)*i)/i)&&(o=0,a+=1),60<=a&&(a=0,r+=1),r+" "+Yn(a)+" "+Yn(o,n)+""+(0==e?"":" "+t.charAt(0>e?1:0))}function Qn(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function to(t,e){for(var n=!0,o=t.length-1;0<=o;--o)if(t[o]!=e[o]){n=!1;break}return n}function eo(t,e){var n=Math.cos(e);e=Math.sin(e);var o=t[1]*n+t[0]*e;return t[0]=t[0]*n-t[1]*e,t[1]=o,t}function no(t,e){t[0]*=e,t[1]*=e}function oo(t,e){var n=t[0]-e[0];return n*n+(t=t[1]-e[1])*t}function io(t,e){return Math.sqrt(oo(t,e))}function ro(t,e){return oo(t,Zn(t,e))}function ao(t,e){return Qn(t,"{x}, {y}",e)}function so(t){return Math.pow(t,3)}function lo(t){return 1-so(1-t)}function co(t){return 3*t*t-2*t*t*t}function uo(t){return t}function po(){return!0}function ho(){return!1}function fo(t,e,n,o,i,r){for(var a=r||[],s=0;e<n;e+=o){var l=t[e],c=t[e+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return r&&a.length!=s&&(a.length=s),a}function mo(t,e,n,o,i,r,a){for(var s,l=a||[],c=0;e<n;e+=o)for(l[c++]=t[e]+i,l[c++]=t[e+1]+r,s=e+2;s<e+o;++s)l[c++]=t[s];return a&&l.length!=c&&(l.length=c),l}a(Nn,Se),(t=Nn.prototype).ci=function(t){Ln(this,t);var e=new un("pointerup",this.g,t);this.b(e),e.sj||this.l||0!==t.button||function(t,e){var n=new un("click",t.g,e);t.b(n),0!==t.j?(clearTimeout(t.j),t.j=0,n=new un("dblclick",t.g,e),t.b(n)):t.j=setTimeout(function(){this.j=0;var t=new un("singleclick",this.g,e);this.b(t)}.bind(t),250)}(this,this.c),0===this.N&&(this.i.forEach(Ee),this.i.length=0,this.l=!1,this.c=null,Ce(this.a),this.a=null)},t.pm=function(t){Ln(this,t);var e=new un("pointerdown",this.g,t);this.b(e),this.c=t,0===this.i.length&&(this.a=new Cn(document),this.i.push(ve(this.a,"pointermove",this.mn,this),ve(this.a,"pointerup",this.ci,this),ve(this.f,"pointercancel",this.ci,this)))},t.mn=function(t){if(Rn(this,t)){this.l=!0;var e=new un("pointerdrag",this.g,t,this.l);this.b(e)}t.preventDefault()},t.mq=function(t){this.b(new un(t.type,this.g,t,!(!this.c||!Rn(this,t))))},t.ia=function(){this.v&&(Ee(this.v),this.v=null),this.s&&(Ee(this.s),this.s=null),this.i.forEach(Ee),this.i.length=0,this.a&&(Ce(this.a),this.a=null),this.f&&(Ce(this.f),this.f=null),Se.prototype.ia.call(this)},jn.prototype.clear=function(){this.b.length=0,this.g.length=0,rt(this.a)},jn.prototype.i=function(t){f(!(this.c(t)in this.a),31);var e=this.s(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.c(t)]=!0,Hn(this,0,this.b.length-1),!0)},a(Bn,jn),Bn.prototype.i=function(t){var e=jn.prototype.i.call(this,t);return e&&ve(t[0],"change",this.l,this),e},Bn.prototype.l=function(t){var e=(t=t.target).getState();2!==e&&3!==e&&4!==e&&5!==e||(we(t,"change",this.l,this),(t=t.lb())in this.f&&(delete this.f[t],--this.j),this.v())};var go=Array(6);function yo(t){return bo(t,1,0,0,1,0,0)}function vo(t,e){var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5],l=e[0],c=e[1],u=e[2],p=e[3],h=e[4];return e=e[5],t[0]=n*l+i*c,t[1]=o*l+r*c,t[2]=n*u+i*p,t[3]=o*u+r*p,t[4]=n*h+i*e+a,t[5]=o*h+r*e+s,t}function bo(t,e,n,o,i,r,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t}function wo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Eo(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function Mo(t,e){var n=Math.cos(e);e=Math.sin(e),vo(t,bo(go,n,e,-e,n,0,0))}function $o(t,e,n){return vo(t,bo(go,e,0,0,n,0,0))}function Co(t,e,n){vo(t,bo(go,1,0,0,1,e,n))}function _o(t,e,n,o,i,r,a,s){var l=Math.sin(r);return r=Math.cos(r),t[0]=o*r,t[1]=i*l,t[2]=-o*l,t[3]=i*r,t[4]=a*o*r-s*o*l+e,t[5]=a*i*l+s*i*r+n,t}function xo(t){var e=t[0]*t[3]-t[1]*t[2];f(0!==e,32);var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5];return t[0]=r/e,t[1]=-o/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-r*a)/e,t[5]=-(n*s-o*a)/e,t}function So(){Ae.call(this),this.s=[1/0,1/0,-1/0,-1/0],this.v=-1,this.i={},this.l=this.f=0,this.O=[1,0,0,1,0,0]}function To(){So.call(this),this.ja="XY",this.a=2,this.A=null}function ko(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Ao(t,e,n){t.a=ko(e),t.ja=e,t.A=n}function Po(t,e,n,o){if(e)n=ko(e);else{for(e=0;e<o;++e){if(0===n.length)return t.ja="XY",void(t.a=2);n=n[0]}var i;2==(n=n.length)?i="XY":3==n?i="XYZ":4==n&&(i="XYZM"),e=i}t.ja=e,t.a=n}function Do(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],l=t[e+1];i+=a*s-r*l,r=s,a=l}return i/2}function Io(t,e,n,o){var i,r=0,a=0;for(i=n.length;a<i;++a){var s=n[a];r+=Do(t,e,s,o),e=s}return r}function Oo(t,e,n,o,i,r,a){var s=t[e],l=t[e+1],c=t[n]-s,u=t[n+1]-l;if(0!==c||0!==u)if(1<(r=((i-s)*c+(r-l)*u)/(c*c+u*u)))e=n;else if(0<r){for(i=0;i<o;++i)a[i]=E(t[e+i],t[n+i],r);return void(a.length=o)}for(i=0;i<o;++i)a[i]=t[e+i];a.length=o}function No(t,e,n,o,i){var r=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],l=t[e+1];(r=v(r,a,s,l))>i&&(i=r),r=s,a=l}return i}function Lo(t,e,n,o,i){var r,a=0;for(r=n.length;a<r;++a){var s=n[a];i=No(t,e,s,o,i),e=s}return i}function Ro(t,e,n,o,i,r,a,s,l,c,u){if(e==n)return c;if(0===i){var p=v(a,s,t[e],t[e+1]);if(p<c){for(u=0;u<o;++u)l[u]=t[e+u];return l.length=o,p}return c}for(var h=u||[NaN,NaN],d=e+o;d<n;)if(Oo(t,d-o,d,o,a,s,h),(p=v(a,s,h[0],h[1]))<c){for(c=p,u=0;u<o;++u)l[u]=h[u];l.length=o,d+=o}else d+=o*Math.max((Math.sqrt(p)-Math.sqrt(c))/i|0,1);if(r&&(Oo(t,n-o,e,o,a,s,h),(p=v(a,s,h[0],h[1]))<c)){for(c=p,u=0;u<o;++u)l[u]=h[u];l.length=o}return c}function jo(t,e,n,o,i,r,a,s,l,c,u){var p;u=u||[NaN,NaN];var h=0;for(p=n.length;h<p;++h){var d=n[h];c=Ro(t,e,d,o,i,r,a,s,l,c,u),e=d}return c}function Fo(t,e){var n,o=0,i=0;for(n=e.length;i<n;++i)t[o++]=e[i];return o}function Uo(t,e,n,o){var i,r=0;for(i=n.length;r<i;++r){var a,s=n[r];for(a=0;a<o;++a)t[e++]=s[a]}return e}function Ho(t,e,n,o,i){i=i||[];var r,a=0,s=0;for(r=n.length;s<r;++s)e=Uo(t,e,n[s],o),i[a++]=e;return i.length=a,i}function Vo(t,e,n,o,i){i=void 0!==i?i:[];for(var r=0;e<n;e+=o)i[r++]=t.slice(e,e+o);return i.length=r,i}function Bo(t,e,n,o,i){i=void 0!==i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s){var l=n[s];i[a++]=Vo(t,e,l,o,i[a]),e=l}return i.length=a,i}function qo(t,e,n,o,i){i=void 0!==i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s){var l=n[s];i[a++]=Bo(t,e,l,o,i[a]),e=l[l.length-1]}return i.length=a,i}function Wo(t,e,n,o,i,r,a){var s=(n-e)/o;if(3>s){for(;e<n;e+=o)r[a++]=t[e],r[a++]=t[e+1];return a}var l=Array(s);l[0]=1,l[s-1]=1,n=[e,n-o];for(var c,u=0;0<n.length;){var p=n.pop(),h=n.pop(),d=0,f=t[h],m=t[h+1],g=t[p],v=t[p+1];for(c=h+o;c<p;c+=o){var b=y(t[c],t[c+1],f,m,g,v);b>d&&(u=c,d=b)}d>i&&(l[(u-e)/o]=1,h+o<u&&n.push(h,u),u+o<p&&n.push(u,p))}for(c=0;c<s;++c)l[c]&&(r[a++]=t[e+c*o],r[a++]=t[e+c*o+1]);return a}function zo(t,e,n,o,i,r,a,s){var l,c=0;for(l=n.length;c<l;++c){var u=n[c];t:{var p=t,h=u,d=o,f=i,m=r,g=a;if(e!=h){var y=f*Math.round(p[e]/f),v=f*Math.round(p[e+1]/f);e+=d,m[g++]=y,m[g++]=v;do{var b=f*Math.round(p[e]/f);if(a=f*Math.round(p[e+1]/f),(e+=d)==h){m[g++]=b,m[g++]=a,a=g;break t}}while(b==y&&a==v);for(;e<h;){var w=f*Math.round(p[e]/f),E=f*Math.round(p[e+1]/f);if(e+=d,w!=b||E!=a){var M=b-y,C=a-v,_=w-y,x=E-v;M*x==C*_&&(0>M&&_<M||M==_||0<M&&_>M)&&(0>C&&x<C||C==x||0<C&&x>C)||(m[g++]=b,m[g++]=a,y=b,v=a),b=w,a=E}}m[g++]=b,m[g++]=a}a=g}s.push(a),e=u}return a}function Go(t,e){To.call(this),this.c=this.j=-1,this.na(t,e)}function Yo(t,e,n){Ao(t,e,n),t.u()}function Ko(t,e){To.call(this),this.na(t,e)}function Xo(t,e,n,o,i){return!B(i,function(i){return!Zo(t,e,n,o,i[0],i[1])})}function Zo(t,e,n,o,i,r){for(var a=0,s=t[n-o],l=t[n-o+1];e<n;e+=o){var c=t[e],u=t[e+1];l<=r?u>r&&0<(c-s)*(r-l)-(i-s)*(u-l)&&a++:u<=r&&0>(c-s)*(r-l)-(i-s)*(u-l)&&a--,s=c,l=u}return 0!==a}function Jo(t,e,n,o,i,r){if(0===n.length||!Zo(t,e,n[0],o,i,r))return!1;var a;for(e=1,a=n.length;e<a;++e)if(Zo(t,n[e-1],n[e],o,i,r))return!1;return!0}function Qo(t,e,n,o,i,r,a){for(var s,l,c,u,p,h=i[r+1],d=[],f=0,m=n.length;f<m;++f){var g=n[f];for(c=t[g-o],p=t[g-o+1],s=e;s<g;s+=o)u=t[s],l=t[s+1],(h<=p&&l<=h||p<=h&&h<=l)&&(c=(h-p)/(l-p)*(u-c)+c,d.push(c)),c=u,p=l}for(f=NaN,m=-1/0,d.sort(zt),c=d[0],s=1,l=d.length;s<l;++s)u=d[s],(g=Math.abs(u-c))>m&&(Jo(t,e,n,o,c=(c+u)/2,h)&&(f=c,m=g)),c=u;return isNaN(f)&&(f=i[r]),a?(a.push(f,h,m),a):[f,h,m]}function ti(t,e,n,o,i,r){for(var a,s=[t[e],t[e+1]],l=[];e+o<n;e+=o){if(l[0]=t[e+o],l[1]=t[e+o+1],a=i.call(r,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}function ei(t,e,n,o,i){var r=V([1/0,1/0,-1/0,-1/0],t,e,n,o);return!!tt(i,r)&&(!!(P(i,r)||r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3])||ti(t,e,n,o,function(t,e){var n=!1,o=I(i,t),r=I(i,e);if(1===o||1===r)n=!0;else{var a=i[0],s=i[1],l=i[2],c=i[3],u=e[0];t=((e=e[1])-t[1])/(u-t[0]),2&r&&!(2&o)&&(n=(n=u-(e-c)/t)>=a&&n<=l),n||!(4&r)||4&o||(n=(n=e-(u-l)*t)>=s&&n<=c),n||!(8&r)||8&o||(n=(n=u-(e-s)/t)>=a&&n<=l),n||!(16&r)||16&o||(n=(n=e-(u-a)*t)>=s&&n<=c)}return n}))}function ni(t,e,n,o,i){var r=n[0];if(!(ei(t,e,r,o,i)||Zo(t,e,r,o,i[0],i[1])||Zo(t,e,r,o,i[0],i[3])||Zo(t,e,r,o,i[2],i[1])||Zo(t,e,r,o,i[2],i[3])))return!1;if(1===n.length)return!0;for(e=1,r=n.length;e<r;++e)if(Xo(t,n[e-1],n[e],o,i))return!1;return!0}function oi(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],l=t[e+1];i+=(s-r)*(l+a),r=s,a=l}return 0<i}function ii(t,e,n,o){var i,r=0;o=void 0!==o&&o;var a=0;for(i=e.length;a<i;++a){var s=e[a];if(r=oi(t,r,s,n),0===a){if(o&&r||!o&&!r)return!1}else if(o&&!r||!o&&r)return!1;r=s}return!0}function ri(t,e,n,o,i){var r;i=void 0!==i&&i;var a=0;for(r=n.length;a<r;++a){var s=n[a],l=oi(t,e,s,o);if(0===a?i&&l||!i&&!l:i&&!l||!i&&l){l=t;for(var c=s,u=o;e<c-u;){var p;for(p=0;p<u;++p){var h=l[e+p];l[e+p]=l[c-u+p],l[c-u+p]=h}e+=u,c-=u}}e=s}return e}function ai(t,e,n,o){var i,r=0,a=0;for(i=e.length;a<i;++a)r=ri(t,r,e[a],n,o);return r}function si(t,e){To.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function li(t,e,n,o){var i,r=o||32;for(o=[],i=0;i<r;++i)Kt(o,t.offset(e,n,2*Math.PI*i/r));return o.push(o[0],o[1]),(t=new si(null)).ba("XY",o,[o.length]),t}function ci(t){var e=t[0],n=t[1],o=t[2];return e=[e,n,e,t=t[3],o,t,o,n,e,n],(n=new si(null)).ba("XY",e,[e.length]),n}function ui(t,e,n){var o=e||32,i=t.pa(),r=new si(null,e=t.ja);o=i*(o+1),i=Array(o);for(var a=0;a<o;a++)i[a]=0;return r.ba(e,i,[i.length]),pi(r,t.xa(),t.Bd(),n),r}function pi(t,e,n,o){var i=t.da(),r=t.ja,a=t.pa(),s=t.pb(),l=i.length/a-1;o=o||0;for(var c,u,p=0;p<=l;++p)u=p*a,c=o+2*w(p,l)*Math.PI/l,i[u]=e[0]+n*Math.cos(c),i[u+1]=e[1]+n*Math.sin(c);t.ba(r,i,s)}function hi(t){Ae.call(this),t=it({},t),this.f=[0,0],this.c=[],this.Ff=this.Ff.bind(this),this.v=Ot(t.projection),di(this,t)}function di(t,e){var n={};n.center=void 0!==e.center?e.center:null;var o=void 0!==e.minZoom?e.minZoom:0,i=void 0!==e.maxZoom?e.maxZoom:28,r=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){var a=e.resolutions,s=a[o],l=void 0!==a[i]?a[i]:a[a.length-1];i=function(t){return function(e,n,o){if(void 0!==e)return(e=m((e=Yt(t,e,o))+n,0,t.length-1))!=(n=Math.floor(e))&&n<t.length-1?t[n]/Math.pow(t[n]/t[n+1],e-n):t[n]}}(a)}else{var c=(a=((l=(s=Ot(e.projection)).G())?Math.max(Q(l),K(l)):360*ht.degrees/s.Bc())/256/Math.pow(2,0))/Math.pow(2,28);void 0!==(s=e.maxResolution)?o=0:s=a/Math.pow(r,o),void 0===(l=e.minResolution)&&(l=void 0!==e.maxZoom?void 0!==e.maxResolution?s/Math.pow(r,i):a/Math.pow(r,i):c),i=o+Math.floor(Math.log(s/l)/Math.log(r)),l=s/Math.pow(r,i-o),i=function(t,e,n){return function(o,i,r){if(void 0!==o)return o=Math.max(Math.floor(Math.log(e/o)/Math.log(t)+(-r/2+.5))+i,0),void 0!==n&&(o=Math.min(o,n)),e/Math.pow(t,o)}}(r,s,i-o)}t.a=s,t.i=l,t.D=r,t.j=e.resolutions,t.s=o,void 0===e.enableRotation||e.enableRotation?o=void 0===(o=e.constrainRotation)||!0===o?function(){var t=b(5);return function(e,n){if(void 0!==e)return Math.abs(e+n)<=t?0:e+n}}():!1===o?Gn:"number"==typeof o?function(t){var e=2*Math.PI/t;return function(t,n){if(void 0!==t)return Math.floor((t+n)/e+.5)*e}}(o):Gn:o=zn,t.l={center:void 0!==e.extent?function(t){return function(e){if(e)return[m(e[0],t[0],t[2]),m(e[1],t[1],t[3])]}}(e.extent):Wn,resolution:i,rotation:o},void 0!==e.resolution?n.resolution=e.resolution:void 0!==e.zoom&&(n.resolution=t.constrainResolution(t.a,e.zoom-t.s),t.j&&(n.resolution=m(Number(t.Pa()||n.resolution),t.i,t.a))),n.rotation=void 0!==e.rotation?e.rotation:0,t.H(n),t.C=e}function fi(t,e){var n=it({},t.C);return void 0!==n.resolution?n.resolution=t.Pa():n.zoom=t.lg(),n.center=t.xa(),n.rotation=t.Sa(),it({},n,e)}function mi(t,e,n){var o=t.xa();if(void 0!==o){var i=[o[0]-n[0],o[1]-n[1]];eo(i,e-t.Sa()),Xn(i,n)}return i}function gi(t,e,n){var o,i=t.xa();return t=t.Pa(),void 0!==i&&void 0!==t&&(o=[n[0]-e*(n[0]-i[0])/t,n[1]-e*(n[1]-i[1])/t]),o}function yi(t){var e=[100,100];return t='.ol-viewport[data-view="'+l(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function vi(t){return!!t.xa()&&void 0!==t.Pa()}function bi(t,e,n){t.f[e]+=n,t.u()}function wi(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Ei(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Mi(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $i(t){Ae.call(this);var e=it({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Te:!0}}function Ci(t){return t.a.opacity=m(t.nc(),0,1),t.a.Vj=t.hg(),t.a.visible=t.Jb(),t.a.extent=t.G(),t.a.zIndex=t.Ba(),t.a.maxResolution=t.lc(),t.a.minResolution=Math.max(t.mc(),0),t.a}function _i(t){var e=t||{};delete(t=it({},e)).layers,e=e.layers,$i.call(this,t),this.i=[],this.c={},ve(this,De(xi),this.im,this),e?Array.isArray(e)?e=new Ne(e.slice(),{unique:!0}):f(e instanceof Ne,43):e=new Ne(void 0,{unique:!0}),this.Qi(e)}a(So,Ae),(t=So.prototype).Ib=function(t,e){return e=e||[NaN,NaN],this.Nb(t[0],t[1],e,1/0),e},t.Bb=function(t){return this.Zc(t[0],t[1])},t.Zc=ho,t.G=function(t){this.v!=this.g&&(this.s=this.Ae(this.s),this.v=this.g);var e=this.s;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},t.Sb=function(t){return this.Wd(t*t)},t.mb=function(t,e){var n=this.O,o="tile-pixels"==(t=Rt(t)).a?function(o,i,r){var a=t.G(),s=t.oe;return a=K(s)/K(a),_o(n,s[0],s[3],a,-a,0,0,0),fo(o,0,o.length,r,n,i),Ft(t,e)(o,i,r)}:Ft(t,e);return this.Rc(o),this},a(To,So),(t=To.prototype).Zc=ho,t.Ae=function(t){return j(this.A,0,this.A.length,this.a,t)},t.fc=function(){return this.A.slice(0,this.a)},t.da=function(){return this.A},t.gc=function(){return this.A.slice(this.A.length-this.a)},t.ic=function(){return this.ja},t.Wd=function(t){if(this.l!=this.g&&(rt(this.i),this.f=0,this.l=this.g),0>t||0!==this.f&&t<=this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n=this.xd(t);return n.da().length<this.A.length?this.i[e]=n:(this.f=t,this)},t.xd=function(){return this},t.pa=function(){return this.a},t.Rc=function(t){this.A&&(t(this.A,this.A,this.a),this.u())},t.rotate=function(t,e){var n=this.da();if(n){var o=n.length,i=this.pa(),r=n||[],a=Math.cos(t);t=Math.sin(t);var s=e[0];e=e[1];for(var l=0,c=0;c<o;c+=i){var u=n[c]-s,p=n[c+1]-e;for(r[l++]=s+u*a-p*t,r[l++]=e+u*t+p*a,u=c+2;u<c+i;++u)r[l++]=n[u]}n&&r.length!=l&&(r.length=l),this.u()}},t.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var i=n;if(i||(i=G(this.G())),n=this.da()){e=n.length;var r=this.pa(),a=n||[],s=i[0];i=i[1];for(var l=0,c=0;c<e;c+=r){var u=n[c]-s,p=n[c+1]-i;for(a[l++]=s+t*u,a[l++]=i+o*p,u=c+2;u<c+r;++u)a[l++]=n[u]}n&&a.length!=l&&(a.length=l),this.u()}},t.translate=function(t,e){var n=this.da();n&&(mo(n,0,n.length,this.pa(),t,e,n),this.u())},a(Go,To),(t=Go.prototype).clone=function(){var t=new Go(null);return Yo(t,this.ja,this.A.slice()),t},t.Nb=function(t,e,n,o){return o<k(this.G(),t,e)?o:(this.c!=this.g&&(this.j=Math.sqrt(No(this.A,0,this.A.length,this.a,0)),this.c=this.g),Ro(this.A,0,this.A.length,this.a,this.j,!0,t,e,n,o))},t.Vn=function(){return Do(this.A,0,this.A.length,this.a)},t.W=function(){return Vo(this.A,0,this.A.length,this.a)},t.xd=function(t){var e=[];return e.length=Wo(this.A,0,this.A.length,this.a,t,e,0),Yo(t=new Go(null),"XY",e),t},t.S=function(){return"LinearRing"},t.$a=function(){},t.na=function(t,e){t?(Po(this,e,t,1),this.A||(this.A=[]),this.A.length=Uo(this.A,0,t,this.a),this.u()):Yo(this,"XY",null)},a(Ko,To),(t=Ko.prototype).clone=function(){var t=new Ko(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,n,o){var i=this.A;if((t=v(t,e,i[0],i[1]))<o){for(o=this.a,e=0;e<o;++e)n[e]=i[e];return n.length=o,t}return o},t.W=function(){return this.A?this.A.slice():[]},t.Ae=function(t){return R(this.A,t)},t.S=function(){return"Point"},t.$a=function(t){return D(t,this.A[0],this.A[1])},t.na=function(t,e){t?(Po(this,e,t,0),this.A||(this.A=[]),this.A.length=Fo(this.A,t),this.u()):this.ba("XY",null)},t.ba=function(t,e){Ao(this,t,e),this.u()},a(si,To),(t=si.prototype).Hk=function(t){this.A?Kt(this.A,t.da()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new si(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,n,o){return o<k(this.G(),t,e)?o:(this.C!=this.g&&(this.B=Math.sqrt(Lo(this.A,0,this.c,this.a,0)),this.C=this.g),jo(this.A,0,this.c,this.a,this.B,!0,t,e,n,o))},t.Zc=function(t,e){return Jo(this.Xb(),0,this.c,this.a,t,e)},t.Yn=function(){return Io(this.Xb(),0,this.c,this.a)},t.W=function(t){if(void 0!==t){var e=this.Xb().slice();ri(e,0,this.c,this.a,t)}else e=this.A;return Bo(e,0,this.c,this.a)},t.pb=function(){return this.c},t.Td=function(){if(this.o!=this.g){var t=G(this.G());this.D=Qo(this.Xb(),0,this.c,this.a,t,0),this.o=this.g}return this.D},t.tl=function(){return new Ko(this.Td(),"XYM")},t.zl=function(){return this.c.length},t.Wh=function(t){if(0>t||this.c.length<=t)return null;var e=new Go(null);return Yo(e,this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.Ud=function(){var t,e=this.ja,n=this.A,o=this.c,i=[],r=0,a=0;for(t=o.length;a<t;++a){var s=o[a],l=new Go(null);Yo(l,e,n.slice(r,s)),i.push(l),r=s}return i},t.Xb=function(){if(this.T!=this.g){var t=this.A;ii(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=ri(this.j,0,this.c,this.a)),this.T=this.g}return this.j},t.xd=function(t){var e=[],n=[];return e.length=zo(this.A,0,this.c,this.a,Math.sqrt(t),e,0,n),(t=new si(null)).ba("XY",e,n),t},t.S=function(){return"Polygon"},t.$a=function(t){return ni(this.Xb(),0,this.c,this.a,t)},t.na=function(t,e){t?(Po(this,e,t,2),this.A||(this.A=[]),t=Ho(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,n){Ao(this,t,e),this.c=n,this.u()},a(hi,Ae),(t=hi.prototype).animate=function(t){var e=arguments.length;if(1<e&&"function"==typeof arguments[e-1]){var n=arguments[e-1];--e}if(vi(this)){for(var o=Date.now(),i=this.xa().slice(),r=this.Pa(),a=this.Sa(),s=[],l=0;l<e;++l){var c=arguments[l],u={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||co};c.center&&(u.ie=i,u.me=c.center,i=u.me),void 0!==c.zoom?(u.ke=r,u.kd=this.constrainResolution(this.a,c.zoom-this.s,0),r=u.kd):c.resolution&&(u.ke=r,u.kd=c.resolution,r=u.kd),void 0!==c.rotation&&(u.Df=a,u.ne=a+(w(c.rotation-a+Math.PI,2*Math.PI)-Math.PI),a=u.ne),u.callback=n,u.ie&&u.me&&!to(u.ie,u.me)||u.ke!==u.kd||u.Df!==u.ne?o+=u.duration:u.complete=!0,s.push(u)}this.c.push(s),bi(this,0,1),this.Ff()}else(e=arguments[e-1]).center&&this.ub(e.center),void 0!==e.zoom&&this.Tj(e.zoom),void 0!==e.rotation&&this.ce(e.rotation),n&&n(!0)},t.Ac=function(){return 0<this.f[0]},t.Vh=function(){return 0<this.f[1]},t.rd=function(){bi(this,0,-this.f[0]);for(var t=0,e=this.c.length;t<e;++t){var n=this.c[t];n[0].callback&&n[0].callback(!1)}this.c.length=0},t.Ff=function(){if(void 0!==this.o&&(cancelAnimationFrame(this.o),this.o=void 0),this.Ac()){for(var t=Date.now(),e=!1,n=this.c.length-1;0<=n;--n){for(var o=this.c[n],i=!0,r=0,a=o.length;r<a;++r){var s=o[r];if(!s.complete){if(e=t-s.start,1<=(e=0<s.duration?e/s.duration:1)?(s.complete=!0,e=1):i=!1,e=s.easing(e),s.ie){var l=s.ie[0],c=s.ie[1];this.set("center",[l+e*(s.me[0]-l),c+e*(s.me[1]-c)])}if(s.ke&&s.kd&&(l=1===e?s.kd:s.ke+e*(s.kd-s.ke),s.anchor&&this.set("center",gi(this,l,s.anchor)),this.set("resolution",l)),void 0!==s.Df&&void 0!==s.ne&&(e=1===e?w(s.ne+Math.PI,2*Math.PI)-Math.PI:s.Df+e*(s.ne-s.Df),s.anchor&&this.set("center",mi(this,e,s.anchor)),this.set("rotation",e)),e=!0,!s.complete)break}}i&&(this.c[n]=null,bi(this,0,-1),(o=o[0].callback)&&o(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.o&&(this.o=requestAnimationFrame(this.Ff))}},t.Sc=function(t){return this.l.center(t)},t.constrainResolution=function(t,e,n){return this.l.resolution(t,e||0,n||0)},t.constrainRotation=function(t,e){return this.l.rotation(t,e||0)},t.xa=function(){return this.get("center")},t.qd=function(t){t=t||yi(this);var e=this.xa();f(e,1);var n=this.Pa();f(void 0!==n,2);var o=this.Sa();return f(void 0!==o,3),Y(e,n,o,t)},t.sn=function(){return this.a},t.vn=function(){return this.i},t.tn=function(){return this.Me(this.i)},t.Cq=function(t){di(this,fi(this,{maxZoom:t}))},t.wn=function(){return this.Me(this.a)},t.Dq=function(t){di(this,fi(this,{minZoom:t}))},t.xn=function(){return this.v},t.Pa=function(){return this.get("resolution")},t.yn=function(){return this.j},t.Je=function(t,e){return e=e||yi(this),Math.max(Q(t)/e[0],K(t)/e[1])},t.Sa=function(){return this.get("rotation")},t.getState=function(){var t=this.xa(),e=this.v,n=this.Pa(),o=this.Sa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:o,zoom:this.lg()}},t.lg=function(){var t,e=this.Pa();return void 0!==e&&(t=this.Me(e)),t},t.Me=function(t){var e,n=this.s||0;if(this.j){n=e=Yt(this.j,t,1);var o=this.j[e];e=e==this.j.length-1?2:o/this.j[e+1]}else o=this.a,e=this.D;return n+Math.log(o/t)/Math.log(e)},t.$h=function(t){return this.constrainResolution(this.a,t-this.s,0)},t.Uf=function(t,e){var n=(e=e||{}).size;if(n||(n=yi(this)),t instanceof To)if("Circle"===t.S()){var o=ci(t=t.G());o.rotate(this.Sa(),G(t))}else o=t;else f(Array.isArray(t),24),f(!et(t),25),o=ci(t);var i,r=void 0!==e.padding?e.padding:[0,0,0,0],a=void 0===e.constrainResolution||e.constrainResolution,l=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.a,e.maxZoom-this.s,0):0;var c=o.da(),u=this.Sa();t=Math.cos(-u),u=Math.sin(-u);var p=1/0,h=1/0,d=-1/0,m=-1/0;o=o.pa();for(var g=0,y=c.length;g<y;g+=o){var v=c[g]*t-c[g+1]*u,b=c[g]*u+c[g+1]*t;p=Math.min(p,v),h=Math.min(h,b),d=Math.max(d,v),m=Math.max(m,b)}n=this.Je([p,h,d,m],[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n=isNaN(n)?i:Math.max(n,i),a&&(i=this.constrainResolution(n,0,0),!l&&i<n&&(i=this.constrainResolution(i,-1,0)),n=i),u=-u,t=[(i=(p+d)/2+(r[1]-r[3])/2*n)*t-(r=(h+m)/2+(r[0]-r[2])/2*n)*u,r*t+i*u],r=e.callback?e.callback:s,void 0!==e.duration?this.animate({resolution:n,center:t,duration:e.duration,easing:e.easing},r):(this.gd(n),this.ub(t),setTimeout(r.bind(void 0,!0),0))},t.Nk=function(t,e,n){var o=this.Sa(),i=Math.cos(-o);o=Math.sin(-o);var r=t[0]*i-t[1]*o;t=t[1]*i+t[0]*o;var a=this.Pa();r+=(e[0]/2-n[0])*a,t+=(n[1]-e[1]/2)*a,o=-o,this.ub([r*i-t*o,t*i+r*o])},t.rotate=function(t,e){void 0!==e&&(e=mi(this,t,e),this.ub(e)),this.ce(t)},t.ub=function(t){this.set("center",t),this.Ac()&&this.rd()},t.gd=function(t){this.set("resolution",t),this.Ac()&&this.rd()},t.ce=function(t){this.set("rotation",t),this.Ac()&&this.rd()},t.Tj=function(t){this.gd(this.$h(t))},a($i,Ae),(t=$i.prototype).S=function(){return this.type},t.G=function(){return this.get("extent")},t.lc=function(){return this.get("maxResolution")},t.mc=function(){return this.get("minResolution")},t.nc=function(){return this.get("opacity")},t.Jb=function(){return this.get("visible")},t.Ba=function(){return this.get("zIndex")},t.Fc=function(t){this.set("extent",t)},t.Mc=function(t){this.set("maxResolution",t)},t.Nc=function(t){this.set("minResolution",t)},t.Gc=function(t){this.set("opacity",t)},t.Hc=function(t){this.set("visible",t)},t.$b=function(t){this.set("zIndex",t)},a(_i,$i),(t=_i.prototype).Pe=function(){this.u()},t.im=function(){this.i.forEach(Ee),this.i.length=0;var t,e=this.Cd();for(var n in this.i.push(ve(e,"add",this.hm,this),ve(e,"remove",this.jm,this)),this.c)this.c[n].forEach(Ee);for(rt(this.c),n=0,t=(e=e.a).length;n<t;n++){var o=e[n];this.c[l(o).toString()]=[ve(o,"propertychange",this.Pe,this),ve(o,"change",this.Pe,this)]}this.u()},t.hm=function(t){var e=l(t=t.element).toString();this.c[e]=[ve(t,"propertychange",this.Pe,this),ve(t,"change",this.Pe,this)],this.u()},t.jm=function(t){t=l(t.element).toString(),this.c[t].forEach(Ee),delete this.c[t],this.u()},t.Cd=function(){return this.get(xi)},t.Qi=function(t){this.set(xi,t)},t.dg=function(t){var e,n=void 0!==t?t:[],o=n.length;for(this.Cd().forEach(function(t){t.dg(n)}),t=Ci(this),e=n.length;o<e;o++){var i=n[o];i.opacity*=t.opacity,i.visible=i.visible&&t.visible,i.maxResolution=Math.min(i.maxResolution,t.maxResolution),i.minResolution=Math.max(i.minResolution,t.minResolution),void 0!==t.extent&&(i.extent=void 0!==i.extent?X(i.extent,t.extent):t.extent)}return n},t.hg=function(){return"ready"};var xi="layers",Si=[],Ti=[];function ki(t,e){switch(t){case"MAP_RENDERER":(t=Si).push(e);break;case"LAYER_RENDERER":(t=Ti).push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function Ai(t){for(var e=0,n=t.length;e<n;++e)ki("LAYER_RENDERER",t[e])}function Pi(t){Ae.call(this);var e=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,o={},i={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)i["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var r=t.logo;"string"==typeof r?i[r]="":r instanceof HTMLElement?i[l(r).toString()]=r:r&&(f("string"==typeof r.href,44),f("string"==typeof r.src,45),i[r.src]=r.href)}r=t.layers instanceof _i?t.layers:new _i({layers:t.layers}),o.layergroup=r,o.target=t.target,o.view=void 0!==t.view?t.view:new hi,void 0!==t.renderer?(Array.isArray(t.renderer)?n=t.renderer:"string"==typeof t.renderer?n=[t.renderer]:f(!1,46),0<=n.indexOf("dom")&&(n=n.concat(Di))):n=Di,r=0;var a=n.length;t:for(;r<a;++r)for(var s=n[r],c=0,u=Si.length;c<u;++c){var p=Si[c];if(p.handles(s)){var h=p;break t}}if(!h)throw Error("Unable to create a map renderer for types: "+n.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var d=new Ne(t.controls.slice());else f(t.controls instanceof Ne,47),d=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var m=new Ne(t.interactions.slice());else f(t.interactions instanceof Ne,48),m=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new Ne(t.overlays.slice()):(f(t.overlays instanceof Ne,49),t=t.overlays):t=new Ne,{controls:d,interactions:m,keyboardEventTarget:e,logos:i,overlays:t,Im:h,values:o}}(t);this.ob=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.sc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.ra=void 0!==t.pixelRatio?t.pixelRatio:Ze,this.Md=e.logos,this.V=function(){this.j=void 0,this.pq.call(this)}.bind(this),this.La=[1,0,0,1,0,0],this.If=[1,0,0,1,0,0],this.bb=0,this.D=this.C=this.B=this.f=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(nn?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer",this.a.appendChild(this.o),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent";for(var n="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),o=0,i=n.length;o<i;++o)ve(this.v,n[o],xe);for(var r in this.a.appendChild(this.v),this.ca=new Nn(this,t.moveTolerance),cn)ve(this.ca,cn[r],this.bi,this);this.$=e.keyboardEventTarget,this.s=null,ve(this.a,"wheel",this.yd,this),ve(this.a,"mousewheel",this.yd,this),this.controls=e.controls||new Ne,this.interactions=e.interactions||new Ne,this.l=e.overlays,this.Fg={},this.pc=e.Im.create(this.a,this),this.T=null,this.Ea=[],this.ua=new Bn(this.Tl.bind(this),this.zm.bind(this)),this.O={},ve(this,De("layergroup"),this.fm,this),ve(this,De("view"),this.Am,this),ve(this,De("size"),this.um,this),ve(this,De("target"),this.ym,this),this.H(e.values),this.controls.forEach(function(t){t.setMap(this)},this),ve(this.controls,"add",function(t){t.element.setMap(this)},this),ve(this.controls,"remove",function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),ve(this.interactions,"add",function(t){t.element.setMap(this)},this),ve(this.interactions,"remove",function(t){t.element.setMap(null)},this),this.l.forEach(this.zh,this),ve(this.l,"add",function(t){this.zh(t.element)},this),ve(this.l,"remove",function(t){var e=t.element.id;void 0!==e&&delete this.Fg[e.toString()],t.element.setMap(null)},this)}a(Pi,Ae),(t=Pi.prototype).Mf=function(t){this.controls.push(t)},t.Nf=function(t){this.interactions.push(t)},t.xe=function(t){this.hc().Cd().push(t)},t.ye=function(t){this.l.push(t)},t.zh=function(t){var e=t.id;void 0!==e&&(this.Fg[e.toString()]=t),t.setMap(this)},t.ia=function(){Ce(this.ca),we(this.a,"wheel",this.yd,this),we(this.a,"mousewheel",this.yd,this),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.Ad(null),Ae.prototype.ia.call(this)},t.Tc=function(t,e,n){if(this.c)return t=this.Ra(t),n=void 0!==n?n:{},this.pc.wa(t,this.c,void 0!==n.hitTolerance?n.hitTolerance*this.c.pixelRatio:0,e,null,void 0!==n.layerFilter?n.layerFilter:po,null)},t.Xf=function(t,e){var n=null;return this.Tc(t,function(t){n||(n=[]),n.push(t)},e),n},t.tg=function(t,e,n,o,i){if(this.c)return this.pc.Ti(t,this.c,e,void 0!==n?n:null,void 0!==o?o:po,void 0!==i?i:null)},t.ng=function(t,e){return!!this.c&&(t=this.Ra(t),e=void 0!==e?e:{},this.pc.Ui(t,this.c,void 0!==e.hitTolerance?e.hitTolerance*this.c.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:po,null))},t.Sd=function(t){return this.Ra(this.ud(t))},t.ud=function(t){var e=this.a.getBoundingClientRect();return[(t=t.changedTouches?t.changedTouches[0]:t).clientX-e.left,t.clientY-e.top]},t.Xd=function(){return this.get("target")},t.Cc=function(){var t=this.Xd();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},t.Ra=function(t){var e=this.c;return e?Eo(e.pixelToCoordinateTransform,t.slice()):null},t.Wf=function(){return this.controls},t.gg=function(){return this.l},t.fg=function(t){return void 0!==(t=this.Fg[t.toString()])?t:null},t.bg=function(){return this.interactions},t.hc=function(){return this.get("layergroup")},t.Xe=function(){return this.hc().Cd()},t.Ia=function(t){var e=this.c;return e?Eo(e.coordinateToPixelTransform,t.slice(0,2)):null},t.Ie=function(){return this.pc},t.Cb=function(){return this.get("size")},t.aa=function(){return this.get("view")},t.kg=function(){return this.a},t.Tl=function(t,e,n,o){var i=this.c;return i&&e in i.wantedTiles&&i.wantedTiles[e][t.lb()]?(t=n[0]-i.focus[0],n=n[1]-i.focus[1],65536*Math.log(o)+Math.sqrt(t*t+n*n)/o):1/0},t.yd=function(t,e){t=new He(e||t.type,this,t),this.bi(t)},t.bi=function(t){if(this.c){this.T=t.coordinate,t.frameState=this.c;var e,n=this.interactions.a;if(!1!==this.b(t))for(e=n.length-1;0<=e;e--){var o=n[e];if(o.c()&&!o.handleEvent(t))break}}},t.sm=function(){var t=this.c,e=this.ua;if(0!==e.b.length){var n=16,o=n;if(t){var i=t.viewHints;i[0]&&(n=this.ob?8:0,o=2),i[1]&&(n=this.sc?8:0,o=2)}e.j<n&&(Vn(e),qn(e,n,o))}for(n=0,o=(e=this.Ea).length;n<o;++n)e[n](this,t);e.length=0},t.um=function(){this.render()},t.ym=function(){var t;if(this.Xd()&&(t=this.Cc()),this.s){for(var e=0,n=this.s.length;e<n;++e)Ee(this.s[e]);this.s=null}if(t){t.appendChild(this.a);var o=this.$?this.$:t;this.s=[ve(o,"keydown",this.yd,this),ve(o,"keypress",this.yd,this)],this.i||(this.i=this.Oc.bind(this),window.addEventListener("resize",this.i,!1))}else{for(o in(t=this.pc).c)Ce(Ja(t,o));Mi(this.a),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)}this.Oc()},t.zm=function(){this.render()},t.ei=function(){this.render()},t.Am=function(){this.B&&(Ee(this.B),this.B=null),this.C&&(Ee(this.C),this.C=null);var t=this.aa();t&&(this.a.setAttribute("data-view",l(t)),this.B=ve(t,"propertychange",this.ei,this),this.C=ve(t,"change",this.ei,this)),this.render()},t.fm=function(){this.D&&(this.D.forEach(Ee),this.D=null);var t=this.hc();t&&(this.D=[ve(t,"propertychange",this.render,this),ve(t,"change",this.render,this)]),this.render()},t.dh=function(){this.j&&cancelAnimationFrame(this.j),this.V()},t.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.V))},t.Xg=function(t){return this.controls.remove(t)},t.Zg=function(t){return this.interactions.remove(t)},t.$g=function(t){return this.hc().Cd().remove(t)},t.ah=function(t){return this.l.remove(t)},t.pq=function(){var t,e=Date.now(),n=this.Cb(),o=this.aa(),i=[1/0,1/0,-1/0,-1/0],r=this.c,a=null;if(void 0!==n&&0<n[0]&&0<n[1]&&o&&vi(o)){void 0!==(a=this.c?this.c.viewHints:void 0)?(a[0]=o.f[0],a[1]=o.f[1]):a=o.f.slice();var s=this.hc().dg(),c={},u=0;for(t=s.length;u<t;++u)c[l(s[u].layer)]=s[u];o=(u=o.getState()).center,t=u.resolution/this.ra,o[0]=Math.round(o[0]/t)*t,o[1]=Math.round(o[1]/t)*t,a={animate:!1,coordinateToPixelTransform:this.La,extent:i,focus:this.T?this.T:o,index:this.bb++,layerStates:c,layerStatesArray:s,logos:it({},this.Md),pixelRatio:this.ra,pixelToCoordinateTransform:this.If,postRenderFunctions:[],size:n,skippedFeatureUids:this.O,tileQueue:this.ua,time:e,usedTiles:{},viewState:u,viewHints:a,wantedTiles:{}}}a&&(a.extent=Y(u.center,u.resolution,u.rotation,a.size,i)),this.c=a,this.pc.bh(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.Ea,a.postRenderFunctions),!r||this.f&&(et(this.f)||F(a.extent,this.f))||(this.b(new Ue("movestart",this,r)),this.f=L(this.f)),!this.f||a.viewHints[0]||a.viewHints[1]||F(a.extent,this.f)||(this.b(new Ue("moveend",this,a)),T(a.extent,this.f))),this.b(new Ue("postrender",this,a)),setTimeout(this.sm.bind(this),0)},t.zf=function(t){this.set("layergroup",t)},t.be=function(t){this.set("size",t)},t.Ad=function(t){this.set("target",t)},t.jh=function(t){this.set("view",t)},t.Uj=function(t){t=l(t).toString(),this.O[t]=!0,this.render()},t.Oc=function(){var t=this.Cc();if(t){var e=getComputedStyle(t);this.be([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.be(void 0)},t.Zj=function(t){t=l(t).toString(),delete this.O[t],this.render()};var Di=["canvas","webgl"];function Ii(t){Ae.call(this),this.element=t.element?t.element:null,this.a=this.T=null,this.s=[],this.render=t.render?t.render:s,t.target&&this.i(t.target)}a(Ii,Ae),Ii.prototype.ia=function(){Mi(this.element),Ae.prototype.ia.call(this)},Ii.prototype.f=function(){return this.a},Ii.prototype.setMap=function(t){this.a&&Mi(this.element);for(var e=0,n=this.s.length;e<n;++e)Ee(this.s[e]);this.s.length=0,(this.a=t)&&((this.T?this.T:t.v).appendChild(this.element),this.render!==s&&this.s.push(ve(t,"postrender",this.render,this)),t.render())},Ii.prototype.i=function(t){this.T="string"==typeof t?document.getElementById(t):t};var Oi,Ni,Li=(Ni={},function(t){if(Oi||(Oi=document.createElement("div").style),!(t in Ni)){Oi.font=t;var e=Oi.fontFamily;if(Oi.font="",!e)return null;Ni[t]=e.split(/,\s?/)}return Ni[t]});function Ri(t){var e=it({},t);delete e.source,$i.call(this,e),this.o=this.v=this.s=null,t.map&&this.setMap(t.map),ve(this,De("source"),this.wm,this),this.hd(t.source?t.source:null)}function ji(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function Fi(t){t=t||{},this.v=document.createElement("UL"),this.l=document.createElement("LI"),this.v.appendChild(this.l),this.l.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.j=void 0===t.collapsible||t.collapsible,this.j||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",o=void 0!==t.collapseLabel?t.collapseLabel:"";"string"==typeof o?(this.o=document.createElement("span"),this.o.textContent=o):this.o=o,"string"==typeof(o=void 0!==t.label?t.label:"i")?(this.D=document.createElement("span"),this.D.textContent=o):this.D=o;var i=this.j&&!this.c?this.o:this.D;(o=document.createElement("button")).setAttribute("type","button"),o.title=n,o.appendChild(i),ve(o,"click",this.Bn,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.c&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),n.appendChild(this.v),n.appendChild(o),Ii.call(this,{element:n,render:t.render?t.render:Ui,target:t.target}),this.B=[],this.C=!0,this.O={}}function Ui(t){if(t=t.frameState){for(var e={},n=[],o=t.layerStatesArray,i=t.viewState.resolution,r=0,a=o.length;r<a;++r){var s=o[r];if(ji(s,i)&&(s=s.layer.ha())&&(s=s.C)&&(s=s(t)))if(Array.isArray(s))for(var l=0,c=s.length;l<c;++l)s[l]in e||(n.push(s[l]),e[s[l]]=!0);else s in e||(n.push(s),e[s]=!0)}if(!Zt(n,this.B)){for(;this.v.lastChild!==this.l;)this.v.removeChild(this.v.lastChild);for(e=0,o=n.length;e<o;++e)(i=document.createElement("LI")).innerHTML=n[e],this.v.appendChild(i);for(p in 0===n.length&&0<this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<n.length&&this.element.classList.remove("ol-logo-only"),e=0<n.length||!st(t.logos),this.C!=e&&(this.element.style.display=e?"":"none",this.C=e),this.B=n,t=t.logos,n=this.O)p in t||(Mi(n[p]),delete n[p]);for(var u in t)if((o=t[u])instanceof HTMLElement&&(this.l.appendChild(o),n[u]=o),!(u in n)){var p=new Image;p.src=u,""===o?e=p:((e=document.createElement("a")).href=o,e.appendChild(p)),this.l.appendChild(e),n[u]=e}this.l.style.display=st(t)?"none":""}}else this.C&&(this.element.style.display="none",this.C=!1)}function Hi(t){t.element.classList.toggle("ol-collapsed"),t.c?Ei(t.o,t.D):Ei(t.D,t.o),t.c=!t.c}function Vi(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"";this.c=null,"string"==typeof n?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=n):(this.c=n,this.c.classList.add("ol-compass"));var o=t.tipLabel?t.tipLabel:"Reset rotation";(n=document.createElement("button")).className=e+"-reset",n.setAttribute("type","button"),n.title=o,n.appendChild(this.c),ve(n,"click",Vi.prototype.D,this),(o=document.createElement("div")).className=e+" ol-unselectable ol-control",o.appendChild(n),e=t.render?t.render:Bi,this.l=t.resetNorth?t.resetNorth:void 0,Ii.call(this,{element:o,render:e,target:t.target}),this.v=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.o=void 0,this.j&&this.element.classList.add("ol-hidden")}function Bi(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.o){var e="rotate("+t+"rad)";if(this.j){var n=this.element.classList.contains("ol-hidden");n||0!==t?n&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.o=t}}function qi(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",i=void 0!==t.zoomOutLabel?t.zoomOutLabel:"",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=r,s.appendChild("string"==typeof o?document.createTextNode(o):o),ve(s,"click",qi.prototype.j.bind(this,n)),(o=document.createElement("button")).className=e+"-out",o.setAttribute("type","button"),o.title=a,o.appendChild("string"==typeof i?document.createTextNode(i):i),ve(o,"click",qi.prototype.j.bind(this,-n)),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(s),n.appendChild(o),Ii.call(this,{element:n,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Wi(t){t=t||{};var e=new Ne;return(void 0===t.zoom||t.zoom)&&e.push(new qi(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new Vi(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new Fi(t.attributionOptions)),e}function zi(t,e,n){this.i=t,this.c=e,this.f=n,this.b=[],this.a=this.g=0}function Gi(t){t.b.length=0,t.g=0,t.a=0}function Yi(t){Ae.call(this),this.v=null,this.Ha(!0),this.handleEvent=t.handleEvent}function Ki(t,e,n,o){if(void 0!==e){var i=t.Sa(),r=t.xa();void 0!==i&&r&&0<o?t.animate({rotation:e,anchor:n,duration:o,easing:lo}):t.rotate(e,n)}}function Xi(t,e,n,o){var i=t.Pa();if(void 0!==(e=t.constrainResolution(i,e,0))){var r=t.j;e=m(e,t.i||r[r.length-1],t.a||r[0])}n&&void 0!==e&&e!==i&&(r=t.xa(),n=gi(t,e,n),n=t.Sc(n),n=[(e*r[0]-i*n[0])/(e-i),(e*r[1]-i*n[1])/(e-i)]),Zi(t,e,n,o)}function Zi(t,e,n,o){if(e){var i=t.Pa(),r=t.xa();void 0!==i&&r&&e!==i&&o?t.animate({resolution:e,anchor:n,duration:o,easing:lo}):(n&&(n=gi(t,e,n),t.ub(n)),t.gd(e))}}function Ji(t){t=t||{},this.a=t.delta?t.delta:1,Yi.call(this,{handleEvent:Qi}),this.f=void 0!==t.duration?t.duration:250}function Qi(t){var e=!1,n=t.originalEvent;"dblclick"==t.type&&(e=t.coordinate,n=n.shiftKey?-this.a:this.a,Xi(t.map.aa(),n,e,this.f),t.preventDefault(),e=!0);return!e}function tr(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function er(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function nr(t){return 0==(t=t.originalEvent).button&&!(Ke&&Xe&&t.ctrlKey)}function or(t){return"pointermove"==t.type}function ir(t){return"singleclick"==t.type}function rr(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function ar(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function sr(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function lr(t){return f(t.b,56),"mouse"==t.b.pointerType}function cr(t){return(t=t.b).isPrimary&&0===t.button}function ur(t){t=t||{},Yi.call(this,{handleEvent:t.handleEvent?t.handleEvent:hr}),this.ck=t.handleDownEvent?t.handleDownEvent:ho,this.Ek=t.handleDragEvent?t.handleDragEvent:s,this.Kk=t.handleMoveEvent?t.handleMoveEvent:s,this.Lk=t.handleUpEvent?t.handleUpEvent:ho,this.D=!1,this.$={},this.l=[]}function pr(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}function hr(t){if(!(t instanceof un))return!0;var e=!1,n=t.type;if("pointerdown"===n||"pointerdrag"===n||"pointerup"===n){var o=(n=t.b).pointerId.toString();"pointerup"==t.type?delete this.$[o]:"pointerdown"==t.type?this.$[o]=n:o in this.$&&(this.$[o]=n),this.l=at(this.$)}return this.D?"pointerdrag"==t.type?this.Ek(t):"pointerup"==t.type&&(this.D=this.Lk(t)&&0<this.l.length):"pointerdown"==t.type?(this.D=t=this.ck(t),e=this.jd(t)):"pointermove"==t.type&&this.Kk(t),!e}function dr(t){ur.call(this,{handleDownEvent:gr,handleDragEvent:fr,handleUpEvent:mr}),t=t||{},this.a=t.kinetic,this.f=null,this.o=t.condition?t.condition:rr,this.j=!1}function fr(t){var e=this.l,n=pr(e);if(e.length==this.s){if(this.a&&this.a.b.push(n[0],n[1],Date.now()),this.f){var o=this.f[0]-n[0],i=n[1]-this.f[1],r=(t=t.map.aa()).getState();no(o=[o,i],r.resolution),eo(o,r.rotation),Xn(o,r.center),o=t.Sc(o),t.ub(o)}}else this.a&&Gi(this.a);this.f=n,this.s=e.length}function mr(t){var e=t.map;if(t=e.aa(),0===this.l.length){if(!this.j&&this.a&&function(t){if(6>t.b.length)return!1;var e=Date.now()-t.f,n=t.b.length-3;if(t.b[n+2]<e)return!1;for(var o=n-3;0<o&&t.b[o+2]>e;)o-=3;if((e=t.b[n+2]-t.b[o+2])<1e3/60)return!1;var i=t.b[n]-t.b[o];return n=t.b[n+1]-t.b[o+1],t.g=Math.atan2(n,i),t.a=Math.sqrt(i*i+n*n)/e,t.a>t.c}(this.a)){var n=this.a;n=(n.c-n.a)/n.i;var o=this.a.g,i=t.xa();i=e.Ia(i),e=e.Ra([i[0]-n*Math.cos(o),i[1]-n*Math.sin(o)]),t.animate({center:t.Sc(e),duration:500,easing:lo})}return bi(t,1,-1),!1}return this.a&&Gi(this.a),this.f=null,!0}function gr(t){if(0<this.l.length&&this.o(t)){var e=t.map.aa();return this.f=null,this.D||bi(e,1,1),e.Ac()&&e.ub(t.frameState.viewState.center),this.a&&Gi(this.a),this.j=1<this.l.length,!0}return!1}function yr(t){t=t||{},ur.call(this,{handleDownEvent:wr,handleDragEvent:vr,handleUpEvent:br}),this.f=t.condition?t.condition:er,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function vr(t){if(lr(t)){var e=t.map,n=e.aa();if(n.l.rotation!==zn){if(e=e.Cb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a)e=t-this.a,Ki(n,n.Sa()-e);this.a=t}}}function br(t){if(!lr(t))return!0;bi(t=t.map.aa(),1,-1);var e=t.Sa(),n=this.j;return Ki(t,e=t.constrainRotation(e,0),void 0,n),!1}function wr(t){return!!(lr(t)&&nr(t)&&this.f(t))&&(bi(t.map.aa(),1,1),this.a=void 0,!0)}function Er(t){this.Uc=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function Mr(t){var e=t.c,n=t.g;(t=t.a.style).left=Math.min(e[0],n[0])+"px",t.top=Math.min(e[1],n[1])+"px",t.width=Math.abs(n[0]-e[0])+"px",t.height=Math.abs(n[1]-e[1])+"px"}function $r(t){var e=t.c,n=t.g;(e=[e,[e[0],n[1]],n,[n[0],e[1]]].map(t.b.Ra,t.b))[4]=e[0].slice(),t.Uc?t.Uc.na([e]):t.Uc=new si([e])}function Cr(t){ur.call(this,{handleDownEvent:Tr,handleDragEvent:xr,handleUpEvent:Sr}),t=t||{},this.a=new Er(t.className||"ol-dragbox"),this.o=void 0!==t.minArea?t.minArea:64,this.f=null,this.C=t.condition?t.condition:po,this.s=t.boxEndCondition?t.boxEndCondition:_r}function _r(t,e,n){return(t=n[0]-e[0])*t+(e=n[1]-e[1])*e>=this.o}function xr(t){if(lr(t)){var e=this.a,n=t.pixel;e.c=this.f,e.g=n,$r(e),Mr(e),this.b(new Dr(Ar,t.coordinate,t))}}function Sr(t){return!lr(t)||(this.a.setMap(null),this.s(t,this.f,t.pixel)&&(this.j(t),this.b(new Dr(Pr,t.coordinate,t))),!1)}function Tr(t){if(lr(t)&&nr(t)&&this.C(t)){this.f=t.pixel,this.a.setMap(t.map);var e=this.a,n=this.f;return e.c=this.f,e.g=n,$r(e),Mr(e),this.b(new Dr(kr,t.coordinate,t)),!0}return!1}a(Ri,$i),(t=Ri.prototype).dg=function(t){return(t=t||[]).push(Ci(this)),t},t.ha=function(){return this.get("source")||null},t.hg=function(){var t=this.ha();return t?t.getState():"undefined"},t.yo=function(){this.u()},t.wm=function(){this.o&&(Ee(this.o),this.o=null);var t=this.ha();t&&(this.o=ve(t,"change",this.yo,this)),this.u()},t.setMap=function(t){this.s&&(Ee(this.s),this.s=null),t||this.u(),this.v&&(Ee(this.v),this.v=null),t&&(this.s=ve(t,"precompose",function(t){var e=Ci(this);e.Te=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[l(this)]=e},this),this.v=ve(this,"change",t.render,t),this.u())},t.hd=function(t){this.set("source",t)},a(Fi,Ii),(t=Fi.prototype).Bn=function(t){t.preventDefault(),Hi(this)},t.An=function(){return this.j},t.Dn=function(t){this.j!==t&&(this.j=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&Hi(this))},t.Cn=function(t){this.j&&this.c!==t&&Hi(this)},t.zn=function(){return this.c},a(Vi,Ii),Vi.prototype.D=function(t){t.preventDefault(),void 0!==this.l?this.l():(t=this.a.aa())&&void 0!==t.Sa()&&(0<this.v?t.animate({rotation:0,duration:this.v,easing:lo}):t.ce(0))},a(qi,Ii),qi.prototype.j=function(t,e){if(e.preventDefault(),e=this.a.aa()){var n=e.Pa();n&&(t=e.constrainResolution(n,t),0<this.c?(e.Ac()&&e.rd(),e.animate({resolution:t,duration:this.c,easing:lo})):e.gd(t))}},a(Yi,Ae),Yi.prototype.c=function(){return this.get("active")},Yi.prototype.i=function(){return this.v},Yi.prototype.Ha=function(t){this.set("active",t)},Yi.prototype.setMap=function(t){this.v=t},a(Ji,Yi),a(ur,Yi),ur.prototype.jd=function(t){return t},a(dr,ur),dr.prototype.jd=ho,a(yr,ur),yr.prototype.jd=ho,a(Er,$e),Er.prototype.ia=function(){this.setMap(null)},Er.prototype.setMap=function(t){if(this.b){this.b.o.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.o.appendChild(this.a)},Er.prototype.U=function(){return this.Uc},a(Cr,ur),Cr.prototype.U=function(){return this.a.U()},Cr.prototype.j=s;var kr="boxstart",Ar="boxdrag",Pr="boxend";function Dr(t,e,n){_e.call(this,t),this.coordinate=e,this.mapBrowserEvent=n}function Ir(t){var e=(t=t||{}).condition?t.condition:ar;this.B=void 0!==t.duration?t.duration:200,this.T=void 0!==t.out&&t.out,Cr.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Or(t){Yi.call(this,{handleEvent:Nr}),t=t||{},this.a=function(t){return rr(t)&&sr(t)},this.f=void 0!==t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function Nr(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.f(t)&&(40==n||37==n||39==n||38==n)){var o=(e=t.map.aa()).Pa()*this.l,i=0,r=0;40==n?r=-o:37==n?i=-o:39==n?i=o:r=o,eo(o=[i,r],e.Sa()),n=this.j,(i=e.xa())&&(o=e.Sc([i[0]+o[0],i[1]+o[1]]),n?e.animate({duration:n,easing:uo,center:o}):e.ub(o)),t.preventDefault(),e=!0}}return!e}function Lr(t){Yi.call(this,{handleEvent:Rr}),t=t||{},this.f=t.condition?t.condition:sr,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Rr(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;!this.f(t)||43!=n&&45!=n||(e=43==n?this.a:-this.a,Xi(n=t.map.aa(),e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function jr(t){Yi.call(this,{handleEvent:Fr}),t=t||{},this.j=0,this.D=void 0!==t.duration?t.duration:250,this.$=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.O=t.constrainResolution||!1,this.a=null,this.s=this.l=this.o=this.f=void 0}function Fr(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var n=t.originalEvent;if(this.C&&(this.a=t.coordinate),"wheel"==t.type){var o=n.deltaY;Ge&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Ze),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)}else"mousewheel"==t.type&&(o=-n.wheelDeltaY,Ye&&(o/=3));if(0===o)return!1;if(t=Date.now(),void 0===this.f&&(this.f=t),(!this.l||400<t-this.f)&&(this.l=4>Math.abs(o)?Ur:Hr),this.l===Ur){e=e.aa(),this.s?clearTimeout(this.s):bi(e,1,1),this.s=setTimeout(this.B.bind(this),400),n=e.Pa()*Math.pow(2,o/300);var i=e.i,r=e.a,a=0;if(n<i?(n=Math.max(n,i/1.5),a=1):n>r&&(n=Math.min(n,1.5*r),a=-1),this.a){var s=gi(e,n,this.a);e.ub(e.Sc(s))}return e.gd(n),0===a&&this.O&&e.animate({resolution:e.constrainResolution(n,0<o?-1:1),easing:lo,anchor:this.a,duration:this.D}),0<a?e.animate({resolution:i,easing:lo,anchor:this.a,duration:500}):0>a&&e.animate({resolution:r,easing:lo,anchor:this.a,duration:500}),this.f=t,!1}return this.j+=o,o=Math.max(this.$-(t-this.f),0),clearTimeout(this.o),this.o=setTimeout(this.T.bind(this,e),o),!1}a(Dr,_e),a(Ir,Cr),Ir.prototype.j=function(){var t=this.v,e=t.aa(),n=t.Cb(),o=this.U().G();if(this.T){var i,r=e.qd(n);o=[t.Ia(W(o)),t.Ia(J(o))],t=L(void 0);var a=0;for(i=o.length;a<i;++a)H(t,o[a]);nt(r,1/(o=e.Je(t,n))),o=r}n=e.constrainResolution(e.Je(o,n)),r=G(o),r=e.Sc(r),e.animate({resolution:n,center:r,duration:this.B,easing:lo})},a(Or,Yi),a(Lr,Yi),a(jr,Yi),jr.prototype.B=function(){this.s=void 0,bi(this.v.aa(),1,-1)},jr.prototype.T=function(t){(t=t.aa()).Ac()&&t.rd(),Xi(t,-m(this.j,-1,1),this.a,this.D),this.l=void 0,this.j=0,this.a=null,this.o=this.f=void 0},jr.prototype.V=function(t){this.C=t,t||(this.a=null)};var Ur="trackpad",Hr="wheel";function Vr(t){ur.call(this,{handleDownEvent:Wr,handleDragEvent:Br,handleUpEvent:qr}),t=t||{},this.f=null,this.j=void 0,this.a=!1,this.s=0,this.C=void 0!==t.threshold?t.threshold:.3,this.o=void 0!==t.duration?t.duration:250}function Br(t){var e=0,n=this.l[0],o=this.l[1];if(n=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX),void 0!==this.j&&(e=n-this.j,this.s+=e,!this.a&&Math.abs(this.s)>this.C&&(this.a=!0)),this.j=n,(n=(t=t.map).aa()).l.rotation!==zn){o=t.a.getBoundingClientRect();var i=pr(this.l);i[0]-=o.left,i[1]-=o.top,this.f=t.Ra(i),this.a&&(o=n.Sa(),t.render(),Ki(n,o+e,this.f))}}function qr(t){if(2>this.l.length){if(bi(t=t.map.aa(),1,-1),this.a){var e=t.Sa(),n=this.f,o=this.o;Ki(t,e=t.constrainRotation(e,0),n,o)}return!1}return!0}function Wr(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.j=void 0,this.a=!1,this.s=0,this.D||bi(t.aa(),1,1),!0)}function zr(t){ur.call(this,{handleDownEvent:Kr,handleDragEvent:Gr,handleUpEvent:Yr}),t=t||{},this.s=t.constrainResolution||!1,this.f=null,this.o=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Gr(t){var e=1,n=this.l[0],o=this.l[1],i=n.clientX-o.clientX;n=n.clientY-o.clientY,i=Math.sqrt(i*i+n*n),void 0!==this.a&&(e=this.a/i),this.a=i,o=(i=(t=t.map).aa()).Pa();var r=i.a,a=i.i;(n=o*e)>r?(e=r/o,n=r):n<a&&(e=a/o,n=a),1!=e&&(this.j=e),e=t.a.getBoundingClientRect(),(o=pr(this.l))[0]-=e.left,o[1]-=e.top,this.f=t.Ra(o),t.render(),Zi(i,n,this.f)}function Yr(t){if(2>this.l.length){bi(t=t.map.aa(),1,-1);var e=t.Pa();if(this.s||e<t.i||e>t.a){var n=this.f,o=this.o;Zi(t,e=t.constrainResolution(e,0,this.j-1),n,o)}return!1}return!0}function Kr(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.a=void 0,this.j=1,this.D||bi(t.aa(),1,1),!0)}function Xr(t){t=t||{};var e=new Ne,n=new zi(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new yr),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Ji({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new dr({kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Vr),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new zr({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Or),e.push(new Lr({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new jr({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Ir({duration:t.zoomDuration})),e}function Zr(t,e,n,o){Se.call(this),this.extent=t,this.a=n,this.resolution=e,this.state=o}function Jr(t,e,n,o,i){this.c=void 0!==i?i:null,Zr.call(this,t,e,n,void 0!==i?0:2),this.g=o}function Qr(t,e,n,o,i){_e.call(this,t),this.vectorContext=e,this.frameState=n,this.context=o,this.glContext=i}function ta(t){Se.call(this),this.highWaterMark=void 0!==t?t:2048,this.i=0,this.a={},this.c=this.g=null}function ea(t){return t.i>t.highWaterMark}a(Vr,ur),Vr.prototype.jd=ho,a(zr,ur),zr.prototype.jd=ho,a(Zr,Se),Zr.prototype.u=function(){this.b("change")},Zr.prototype.G=function(){return this.extent},Zr.prototype.getState=function(){return this.state},a(Jr,Zr),Jr.prototype.i=function(t){this.state=t?3:2,this.u()},Jr.prototype.load=function(){0==this.state&&(this.state=1,this.u(),this.c(this.i.bind(this)))},Jr.prototype.Y=function(){return this.g},a(Qr,_e),a(ta,Se),(t=ta.prototype).clear=function(){this.i=0,this.a={},this.c=this.g=null,this.b("clear")},t.forEach=function(t,e){for(var n=this.g;n;)t.call(e,n.Pc,n.jc,this),n=n.kb},t.get=function(t){return f(void 0!==(t=this.a[t]),15),t===this.c?t.Pc:(t===this.g?(this.g=this.g.kb,this.g.Pb=null):(t.kb.Pb=t.Pb,t.Pb.kb=t.kb),t.kb=null,t.Pb=this.c,this.c=this.c.kb=t,t.Pc)},t.remove=function(t){var e=this.a[t];return f(void 0!==e,15),e===this.c?(this.c=e.Pb)&&(this.c.kb=null):e===this.g?(this.g=e.kb)&&(this.g.Pb=null):(e.kb.Pb=e.Pb,e.Pb.kb=e.kb),delete this.a[t],--this.i,e.Pc},t.pop=function(){var t=this.g;return delete this.a[t.jc],t.kb&&(t.kb.Pb=null),this.g=t.kb,this.g||(this.c=null),--this.i,t.Pc},t.replace=function(t,e){this.get(t),this.a[t].Pc=e},t.set=function(t,e){f(!(t in this.a),16),e={jc:t,kb:null,Pb:this.c,Pc:e},this.c?this.c.kb=e:this.g=e,this.c=e,this.a[t]=e,++this.i};var na=[0,0,0,1],oa=[],ia=[0,0,0,1],ra=[0,0,0,0],aa=new ta,sa={},la=null,ca={},ua=function(){function t(t){var e=pa();e.font="32px monospace",o=e.measureText("wmytzilWMYTZIL@#/&?$%10").width;var n=!0;return"monospace"!=t&&(e.font="32px "+t+",monospace",n=e.measureText("wmytzilWMYTZIL@#/&?$%10").width!=o),n}function e(){var e,o=!0;for(e in i)60>i[e]&&(t(e)?(i[e]=60,rt(ca),la=null,r.clear()):(++i[e],o=!1));o&&(window.clearInterval(n),n=void 0)}var n,o,i=sa,r=aa;return function(o){if(o=Li(o))for(var r=0,a=o.length;r<a;++r){var s=o[r];s in i||(i[s]=60,t(s)||(i[s]=0,void 0===n&&(n=window.setInterval(e,32))))}}}();function pa(){var t=la;return t||(t=la=wi(1,1)),t}var ha=function(){var t;return function(e){var n=ca[e];return void 0==n&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=e,document.body.appendChild(t),n=ca[e]=t.offsetHeight,document.body.removeChild(t)),n}}();function da(t,e){var n=pa();return t!=n.font&&(n.font=t),n.measureText(e).width}function fa(t,e,n,o){0!==e&&(t.translate(n,o),t.rotate(e),t.translate(-n,-o))}var ma=[1,0,0,1,0,0];function ga(t,e,n,o,i,r,a,s,l,c,u){if(1!=n){var p=t.globalAlpha;t.globalAlpha=p*n}e&&t.setTransform.apply(t,e),t.drawImage(o,i,r,a,s,l,c,a*u,s*u),p&&(t.globalAlpha=p),e&&t.setTransform.apply(t,ma)}var ya=/^#(?:[0-9a-f]{3,4}){1,2}$/i,va=/^([a-z]*)$/i;function ba(t){return Array.isArray(t)?t:Ea(t)}function wa(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];o!=(0|o)&&(o=o+.5|0),t="rgba("+e+","+n+","+o+","+(void 0===t[3]?1:t[3])+")"}return t}var Ea=function(){var t={},e=0;return function(n){if(t.hasOwnProperty(n))var o=t[n];else{if(1024<=e)for(var i in o=0,t)0==(3&o++)&&(delete t[i],--e);if(o=n,va.exec(o)&&((i=document.createElement("div")).style.color=o,document.body.appendChild(i),o=getComputedStyle(i).color,document.body.removeChild(i)),ya.exec(o)){var r=4>=(i=o.length-1)?1:2,a=4===i||8===i;i=parseInt(o.substr(1+0*r,r),16);var s=parseInt(o.substr(1+1*r,r),16),l=parseInt(o.substr(1+2*r,r),16);o=a?parseInt(o.substr(1+3*r,r),16):255,1==r&&(i=(i<<4)+i,s=(s<<4)+s,l=(l<<4)+l,a&&(o=(o<<4)+o)),r=[i,s,l,o/255]}else 0==o.indexOf("rgba(")?r=Ma(o=o.slice(5,-1).split(",").map(Number)):0==o.indexOf("rgb(")?((o=o.slice(4,-1).split(",").map(Number)).push(1),r=Ma(o)):f(!1,14);o=r,t[n]=o,++e}return o}}();function Ma(t){var e=[];return e[0]=m(t[0]+.5|0,0,255),e[1]=m(t[1]+.5|0,0,255),e[2]=m(t[2]+.5|0,0,255),e[3]=m(t[3],0,1),e}function $a(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:wa(t)}function Ca(){}function _a(t,e,n,o,i){this.g=t,this.f=e,this.c=n,this.N=o,this.ob=i,this.M=this.b=this.a=this.Wa=this.O=this.T=null,this.$=this.V=this.v=this.B=this.C=this.D=0,this.ca=!1,this.i=this.ab=0,this.ra=!1,this.oa=0,this.ta="",this.Ub=this.ua=0,this.Ea=!1,this.s=this.La=0,this.qa=this.l=this.j=null,this.o=[],this.bb=[1,0,0,1,0,0]}function xa(t,e,n){if(t.M){e=fo(e,0,n,2,t.N,t.o),n=t.g;var o=t.bb,i=n.globalAlpha;1!=t.v&&(n.globalAlpha=i*t.v);var r,a=t.ab;t.ca&&(a+=t.ob);var s=0;for(r=e.length;s<r;s+=2){var l=e[s]-t.D,c=e[s+1]-t.C;if(t.ra&&(l=Math.round(l),c=Math.round(c)),0!==a||1!=t.i){var u=l+t.D,p=c+t.C;_o(o,u,p,t.i,t.i,a,-u,-p),n.setTransform.apply(n,o)}n.drawImage(t.M,t.V,t.$,t.oa,t.B,l,c,t.oa,t.B)}0===a&&1==t.i||n.setTransform(1,0,0,1,0,0),1!=t.v&&(n.globalAlpha=i)}}function Sa(t,e,n,o){var i=0;if(t.qa&&""!==t.ta){t.j&&Aa(t,t.j),t.l&&Pa(t,t.l);var r=t.qa,a=t.g,s=t.Wa,l=r.textAlign?r.textAlign:"center";for(s?(s.font!=r.font&&(s.font=a.font=r.font),s.textAlign!=l&&(s.textAlign=l),s.textBaseline!=r.textBaseline&&(s.textBaseline=a.textBaseline=r.textBaseline)):(a.font=r.font,a.textAlign=l,a.textBaseline=r.textBaseline,t.Wa={font:r.font,textAlign:l,textBaseline:r.textBaseline}),e=fo(e,i,n,o,t.N,t.o),r=t.g,a=t.La,t.Ea&&(a+=t.ob);i<n;i+=o){if(s=e[i]+t.ua,l=e[i+1]+t.Ub,0!==a||1!=t.s){var c=_o(t.bb,s,l,t.s,t.s,a,-s,-l);r.setTransform.apply(r,c)}t.l&&r.strokeText(t.ta,s,l),t.j&&r.fillText(t.ta,s,l)}0===a&&1==t.s||r.setTransform(1,0,0,1,0,0)}}function Ta(t,e,n,o,i,r){var a=t.g;for(t=fo(e,n,o,i,t.N,t.o),a.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),n=2;n<e;n+=2)a.lineTo(t[n],t[n+1]);return r&&a.closePath(),o}function ka(t,e,n,o,i){var r,a=0;for(r=o.length;a<r;++a)n=Ta(t,e,n,o[a],i,!0);return n}function Aa(t,e){var n=t.g,o=t.T;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,t.T={fillStyle:e.fillStyle})}function Pa(t,e){var n=t.g,o=t.O;o?(o.lineCap!=e.lineCap&&(o.lineCap=n.lineCap=e.lineCap),Je&&(Zt(o.lineDash,e.lineDash)||n.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=n.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=n.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=n.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=n.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,Je&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,t.O={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Da(t){ke.call(this),this.a=t}function Ia(t,e){var n=e.getState();return 2!=n&&3!=n&&ve(e,"change",t.$,t),0==n&&(e.load(),n=e.getState()),2==n}function Oa(t){var e=t.a;e.Jb()&&"ready"==e.hg()&&t.u()}function Na(t,e){e.cj()&&t.postRenderFunctions.push(function(t,e,n){(e=l(t).toString())in n.usedTiles&&t.sd(n.viewState.projection,n.usedTiles[e])}.bind(null,e))}function La(t,e){void 0!==(e=e.T)&&("string"==typeof e?t.logos[e]="":e&&(f("string"==typeof e.href,44),f("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Ra(t,e,n,o){e=l(e).toString(),n=n.toString(),e in t?n in t[e]?(t=t[e][n],o.fa<t.fa&&(t.fa=o.fa),o.la>t.la&&(t.la=o.la),o.ea<t.ea&&(t.ea=o.ea),o.ka>t.ka&&(t.ka=o.ka)):t[e][n]=o:(t[e]={},t[e][n]=o)}function ja(t,e,n,o,i,r,a,s,c,u){var p=l(e).toString();p in t.wantedTiles||(t.wantedTiles[p]={});var h,d,f,m=t.wantedTiles[p];for(t=t.tileQueue,f=n.minZoom;f<=a;++f){var g=re(n,r,f,g),y=n.Ta(f);for(h=g.fa;h<=g.la;++h)for(d=g.ea;d<=g.ka;++d)if(a-f<=s){var v=e.ad(f,h,d,o,i);0==v.getState()&&(m[v.lb()]=!0,v.lb()in t.a||t.i([v,p,ae(n,v.ya),y])),void 0!==c&&c.call(u,v)}else e.kh(f,h,d,i)}}function Fa(t){Da.call(this,t),this.V=[1,0,0,1,0,0]}function Ua(t,e,n){var o=e.pixelRatio,i=e.size[0]*o,r=e.size[1]*o,a=e.viewState.rotation,s=Z(n),l=J(n),c=z(n);n=W(n),Eo(e.coordinateToPixelTransform,s),Eo(e.coordinateToPixelTransform,l),Eo(e.coordinateToPixelTransform,c),Eo(e.coordinateToPixelTransform,n),t.save(),fa(t,-a,i/2,r/2),t.beginPath(),t.moveTo(s[0]*o,s[1]*o),t.lineTo(l[0]*o,l[1]*o),t.lineTo(c[0]*o,c[1]*o),t.lineTo(n[0]*o,n[1]*o),t.clip(),fa(t,a,i/2,r/2)}function Ha(t,e,n,o,i){var r=t.a;if(Te(r,e)){var a=o.size[0]*o.pixelRatio,s=o.size[1]*o.pixelRatio,l=o.viewState.rotation;fa(n,-l,a/2,s/2),t=void 0!==i?i:Va(t,o,0),r.b(new Qr(e,new _a(n,o.pixelRatio,o.extent,t,o.viewState.rotation),o,n,null)),fa(n,l,a/2,s/2)}}function Va(t,e,n){var o=e.viewState,i=e.pixelRatio,r=i/o.resolution;return _o(t.V,i*e.size[0]/2,i*e.size[1]/2,r,-r,-o.rotation,-o.center[0]+n,-o.center[1])}function Ba(t){Fa.call(this,t),this.l=[1,0,0,1,0,0],this.j=null}function qa(t){Ba.call(this,t),this.M=null,this.f=[1,0,0,1,0,0],this.o=[],this.c=null}function Wa(){this.b={},this.a=0,this.g=32}function za(t){if(t.a>t.g){var e,n=0;for(e in t.b){var o=t.b[e];0!=(3&n++)||Te(o)||(delete t.b[e],--t.a)}}}(t=Ca.prototype).Hh=function(){},t.Hb=function(){},t.Dd=function(){},t.cc=function(){},t.Ce=function(){},t.De=function(){},t.uc=function(){},t.vc=function(){},t.wc=function(){},t.xc=function(){},t.yc=function(){},t.zc=function(){},t.Wb=function(){},t.Oa=function(){},t.Zb=function(){},t.nb=function(){},a(_a,Ca),(t=_a.prototype).cc=function(t){if(tt(this.c,t.G())){if(this.a||this.b){this.a&&Aa(this,this.a),this.b&&Pa(this,this.b);var e=this.N,n=this.o,o=t.da();n=(e=o?fo(o,0,o.length,t.pa(),e,n):null)[2]-e[0],o=e[3]-e[1],n=Math.sqrt(n*n+o*o),(o=this.g).beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.a&&o.fill(),this.b&&o.stroke()}""!==this.ta&&Sa(this,t.xa(),2,2)}},t.Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t);break;case"LineString":this.uc(t);break;case"Polygon":this.zc(t);break;case"MultiPoint":this.wc(t);break;case"MultiLineString":this.vc(t);break;case"MultiPolygon":this.xc(t);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&tt(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e,n=0;for(e=(t=t.a).length;n<e;++n)this.Hb(t[n])},t.yc=function(t){var e=t.da();t=t.pa(),this.M&&xa(this,e,e.length),""!==this.ta&&Sa(this,e,e.length,t)},t.wc=function(t){var e=t.da();t=t.pa(),this.M&&xa(this,e,e.length),""!==this.ta&&Sa(this,e,e.length,t)},t.uc=function(t){if(tt(this.c,t.G())){if(this.b){Pa(this,this.b);var e=this.g,n=t.da();e.beginPath(),Ta(this,n,0,n.length,t.pa(),!1),e.stroke()}""!==this.ta&&Sa(this,t=t.Fe(),2,2)}},t.vc=function(t){var e=t.G();if(tt(this.c,e)){if(this.b){Pa(this,this.b),e=this.g;var n,o=t.da(),i=0,r=t.pb(),a=t.pa();e.beginPath();var s=0;for(n=r.length;s<n;++s)i=Ta(this,o,i,r[s],a,!1);e.stroke()}""!==this.ta&&Sa(this,t=t.Ge(),t.length,2)}},t.zc=function(t){if(tt(this.c,t.G())){if(this.b||this.a){this.a&&Aa(this,this.a),this.b&&Pa(this,this.b);var e=this.g;e.beginPath(),ka(this,t.Xb(),0,t.pb(),t.pa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.ta&&Sa(this,t=t.Td(),2,2)}},t.xc=function(t){if(tt(this.c,t.G())){if(this.b||this.a){this.a&&Aa(this,this.a),this.b&&Pa(this,this.b);var e,n=this.g,o=eh(t),i=0,r=t.td(),a=t.pa();n.beginPath();var s=0;for(e=r.length;s<e;++s)i=ka(this,o,i,r[s],a);this.a&&n.fill(),this.b&&n.stroke()}""!==this.ta&&Sa(this,t=th(t),t.length,2)}},t.Oa=function(t,e){if(t?(t=t.b,this.a={fillStyle:$a(t||na)}):this.a=null,e){t=e.a;var n=e.f,o=e.g,i=e.i,r=e.j,a=e.c;e=e.l,this.b={lineCap:void 0!==n?n:"round",lineDash:o||oa,lineDashOffset:i||0,lineJoin:void 0!==r?r:"round",lineWidth:this.f*(void 0!==a?a:1),miterLimit:void 0!==e?e:10,strokeStyle:$a(t||ia)}}else this.b=null},t.Zb=function(t){if(t){var e=t.Vc(),n=t.Y(1),o=t.bd(),i=t.oc();this.D=e[0],this.C=e[1],this.B=i[1],this.M=n,this.v=t.i,this.V=o[0],this.$=o[1],this.ca=t.s,this.ab=t.f,this.i=t.a*this.f,this.ra=t.v,this.oa=i[0]}else this.M=null},t.nb=function(t){if(t){var e=t.Fa();e?(e=e.b,this.j={fillStyle:$a(e||na)}):this.j=null;var n=t.Ga();if(n){e=n.a;var o=n.f,i=n.g,r=n.i,a=n.j,s=n.c;n=n.l,this.l={lineCap:void 0!==o?o:"round",lineDash:i||oa,lineDashOffset:r||0,lineJoin:void 0!==a?a:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==n?n:10,strokeStyle:$a(e||ia)}}else this.l=null;e=t.a,o=t.g,i=t.c,r=t.l,a=t.i,s=t.b,n=t.Ka();var l=t.f;t=t.j,this.qa={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==t?t:"middle"},this.ta=void 0!==n?n:"",this.ua=void 0!==o?this.f*o:0,this.Ub=void 0!==i?this.f*i:0,this.Ea=void 0!==r&&r,this.La=void 0!==a?a:0,this.s=this.f*(void 0!==s?s:1)}else this.ta=""},a(Da,ke),Da.prototype.wa=s,Da.prototype.cf=ho,Da.prototype.Rf=function(t,e,n){return function(o,i){return $w(t,e,o,i,function(t){n[o]||(n[o]={}),n[o][t.ya.toString()]=t})}},Da.prototype.$=function(t){2===t.target.getState()&&Oa(this)},a(Fa,Da),Fa.prototype.s=function(t,e,n,o){if(this.wa(t,e,0,po,this))return n.call(o,this.a,null)},Fa.prototype.pf=function(t,e,n,o){Ha(this,"postcompose",t,e,o)},a(Ba,Fa),Ba.prototype.df=function(t,e,n){Ha(this,"precompose",n,t,void 0);var o=this.Y();if(o){var i=e.extent,r=void 0!==i&&!P(i,t.extent)&&tt(i,t.extent);r&&Ua(n,t,i),i=this.v();var a=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(o,0,0,+o.width,+o.height,Math.round(i[4]),Math.round(i[5]),Math.round(o.width*i[0]),Math.round(o.height*i[3])),n.globalAlpha=a,r&&n.restore()}this.pf(n,t,e)},Ba.prototype.wa=function(t,e,n,o,i){var r=this.a;return r.ha().wa(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Ba.prototype.s=function(t,e,n,o){if(this.Y()){if(this.a.ha().wa!==s)return Fa.prototype.s.apply(this,arguments);var i=Eo(this.l,t.slice());if(no(i,e.viewState.resolution/this.i),this.j||(this.j=wi(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),i[0],i[1],1,1,0,0,1,1),0<(i=this.j.getImageData(0,0,1,1).data)[3])return n.call(o,this.a,i)}},a(qa,Ba),qa.handles=function(t,e){return"canvas"===t&&("IMAGE"===e.S()||"VECTOR"===e.S()&&"image"===e.l)},qa.create=function(t,e){var n=new qa(e);if("VECTOR"===e.S())for(var o=0,i=Ti.length;o<i;++o){var r=Ti[o];r!==qa&&r.handles("canvas",e)&&(r=r.create(t,e),n.c=r)}return n},qa.prototype.Y=function(){return this.M?this.M.Y():null},qa.prototype.v=function(){return this.f},qa.prototype.$c=function(t,e){var n=t.pixelRatio,o=t.size,i=t.viewState,r=i.center,a=i.resolution,s=this.a.ha(),l=t.viewHints,c=t.extent;if(void 0!==e.extent&&(c=X(c,e.extent)),!l[0]&&!l[1]&&!et(c))if(l=i.projection,i=this.c){l=i.context;var u=it({},t,{size:[Q(c)/a,K(c)/a],viewState:it({},t.viewState,{rotation:0})}),p=Object.keys(u.skippedFeatureUids).sort();!i.$c(u,e)||!i.j&&Zt(p,this.o)||(l.canvas.width=u.size[0]*n,l.canvas.height=u.size[1]*n,i.df(u,e,l),this.M=new Jr(c,a,n,l.canvas),this.o=p)}else(i=s.Y(c,a,n,l))&&Ia(this,i)&&(this.M=i);return this.M&&(c=(i=this.M).G(),l=n*(e=i.resolution)/(a*(i=i.a)),c=_o(this.f,n*o[0]/2,n*o[1]/2,l,l,0,i*(c[0]-r[0])/e,i*(r[1]-c[3])/e),_o(this.l,n*o[0]/2-c[4],n*o[1]/2-c[5],n/a,-n/a,0,-r[0],-r[1]),La(t,s),this.i=e*n/i),!!this.M},qa.prototype.wa=function(t,e,n,o,i){return this.c?this.c.wa(t,e,n,o,i):Ba.prototype.wa.call(this,t,e,n,o,i)},Wa.prototype.clear=function(){this.b={},this.a=0},Wa.prototype.get=function(t,e,n){return(t=e+":"+t+":"+(n?wa(n):"null"))in this.b?this.b[t]:null},Wa.prototype.set=function(t,e,n,o){this.b[e+":"+t+":"+(n?wa(n):"null")]=o,++this.a},Wa.prototype.c=function(t){this.g=t,za(this)};var Ga=new Wa;function Ya(t,e){this.l=e,this.c={},this.v={}}function Ka(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;_o(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),xo(wo(o,n))}function Xa(){za(Ga)}function Za(t,e){var n=l(e).toString();if(n in t.c)return t.c[n];for(var o,i=t.S(),r=0,a=Ti.length;r<a;++r){var s=Ti[r];if(s.handles(i,e)){o=s.create(t,e);break}}if(!o)throw Error("Unable to create renderer for layer: "+e.S());return t.c[n]=o,t.v[n]=ve(o,"change",t.gm,t),o}function Ja(t,e){var n=t.c[e];return delete t.c[e],Ee(t.v[e]),delete t.v[e],n}function Qa(t,e){for(var n in t.c)if(!(n in e.layerStates)){e.postRenderFunctions.push(t.oq.bind(t));break}}function ts(t,e){return t.zIndex-e.zIndex}function es(t,e){Ya.call(this,t,e),this.g=wi(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=[1,0,0,1,0,0]}function ns(t,e,n){var o=t.l,i=t.g;if(Te(o,e)){var r=n.extent,a=n.pixelRatio,s=n.viewState.rotation,l=n.viewState,c=n.pixelRatio/l.resolution;t=_o(t.i,t.b.width/2,t.b.height/2,c,-c,-l.rotation,-l.center[0],-l.center[1]),o.b(new Qr(e,new _a(i,a,r,t,s),n,i,null))}}function os(t){Ba.call(this,t),this.context=null===this.context?null:wi(),this.c=null,this.f=[],this.T=[1/0,1/0,-1/0,-1/0],this.ra=new p(0,0,0,0),this.o=[1,0,0,1,0,0],this.O=0}function is(t,e){return e=e.getState(),t=t.a.i(),2==e||4==e||3==e&&!t}a(Ya,$e),(t=Ya.prototype).wa=function(t,e,n,o,i,r,a){function s(t,n){var r=l(t).toString(),a=e.layerStates[l(n)].Te;if(!(r in e.skippedFeatureUids)||a)return o.call(i,t,a?n:null)}var c,u=e.viewState,p=u.resolution,h=u.projection;if(u=t,h.g){var d=Q(h=h.G()),f=t[0];(f<h[0]||f>h[2])&&(u=[f+d*Math.ceil((h[0]-f)/d),t[1]])}for(d=(h=e.layerStatesArray).length-1;0<=d;--d){var m=h[d];if(f=m.layer,ji(m,p)&&r.call(a,f)&&(m=Za(this,f),f.ha()&&(c=m.wa(f.ha().D?u:t,e,n,s,i)),c))return c}},t.Ui=function(t,e,n,o,i){return void 0!==this.wa(t,e,n,po,this,o,i)},t.gm=function(){this.l.render()},t.bh=s,t.oq=function(t,e){for(var n in this.c)e&&n in e.layerStates||Ce(Ja(this,n))},a(es,Ya),es.handles=function(t){return"canvas"===t},es.create=function(t,e){return new es(t,e)},es.prototype.S=function(){return"canvas"},es.prototype.bh=function(t){if(t){var e=this.g,n=t.pixelRatio,o=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.b.width!=o||this.b.height!=i?(this.b.width=o,this.b.height=i):e.clearRect(0,0,o,i),n=t.viewState.rotation,Ka(t),ns(this,"precompose",t);var r,a=t.layerStatesArray;for(Jt(a),n&&(e.save(),fa(e,n,o/2,i/2)),o=t.viewState.resolution,i=0,r=a.length;i<r;++i){var s=a[i],l=s.layer;l=Za(this,l),ji(s,o)&&"ready"==s.Vj&&l.$c(t,s)&&l.df(t,s,e)}n&&e.restore(),ns(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Qa(this,t),t.postRenderFunctions.push(Xa)}else this.a&&(this.b.style.display="none",this.a=!1)},es.prototype.Ti=function(t,e,n,o,i,r){var a=e.viewState.resolution,s=e.layerStatesArray,l=s.length;for(t=Eo(e.pixelToCoordinateTransform,t.slice()),--l;0<=l;--l){var c=s[l],u=c.layer;if(ji(c,a)&&i.call(r,u)&&(c=Za(this,u).s(t,e,n,o)))return c}},a(os,Ba),os.handles=function(t,e){return"canvas"===t&&"TILE"===e.S()},os.create=function(t,e){return new os(e)},os.prototype.$c=function(t,e){var n=t.pixelRatio,o=t.size,i=t.viewState,r=i.projection,a=i.resolution;i=i.center;var s=this.a,c=s.ha(),u=c.g,p=c.eb(r),h=p.Dc(a,this.O),d=p.Ta(h),f=Math.round(a/d)||1,m=t.extent;if(void 0!==e.extent&&(m=X(m,e.extent)),et(m))return!1;var g=re(p,m,h),y=function(t,e,n){var o=t.Ic(e),i=t.Ta(e);return t=_(t.Za(e),t.f),N(o[0]+n.fa*t[0]*i,o[1]+n.ea*t[1]*i,o[0]+(n.la+1)*t[0]*i,o[1]+(n.ka+1)*t[1]*i,void 0)}(p,h,g),v=c.Xc(n),b={};b[h]={};var w,E,M=this.Rf(c,r,b),C=this.T,x=this.ra,S=!1;for(w=g.fa;w<=g.la;++w)for(E=g.ea;E<=g.ka;++E){var T=c.ad(h,w,E,n,r);if(3==T.getState()&&(s.i()?0<s.c()&&(S=!0):kl(T,2)),is(this,T)||(T=Sl(T)),is(this,T)){var k=l(this);if(2==T.getState()){b[h][T.ya.toString()]=T;var A=!!T.j&&-1!==T.s[k];S||!A&&-1!==this.f.indexOf(T)||(S=!0)}if(1===Al(T,k,t.time))continue}A=!1,(k=ie(p,T.ya,x,C))&&(A=M(h+1,k)),A||oe(p,T.ya,M,x,C)}if(T=(T=t.viewHints)[0]||T[1],!(this.i&&16<Date.now()-t.time&&T||!S&&this.c&&P(this.c,m)&&this.wf==u&&f==this.C&&(T||d*n/v*f==this.i))){for((T=this.context)&&(E=c.Zd(h,n,r),w=Math.round((g.la-g.fa+1)*E[0]/f),E=Math.round((g.ka-g.ea+1)*E[1]/f),(S=T.canvas).width!=w||S.height!=E?(this.C=f,S.width=w,S.height=E):(this.c&&!F(y,this.c)&&T.clearRect(0,0,w,E),f=this.C)),this.f.length=0,(S=Object.keys(b).map(Number)).sort(function(t,e){return t===h?1:e===h?-1:t>e?1:t<e?-1:0}),k=0,A=S.length;k<A;++k){x=S[k],M=c.Zd(x,n,r);var D=(T=p.Ta(x))/d,I=v*c.Zf(r),O=b[x];for(var L in O){T=O[L],w=((E=p.Ma(T.ya,C))[0]-y[0])/d*v/f,E=(y[3]-E[3])/d*v/f;var R=M[0]*D/f,j=M[1]*D/f;this.Sf(T,t,e,w,E,R,j,I,h===x),this.f.push(T)}}this.wf=u,this.i=d*n/v*f,this.c=y}return e=this.i/a,e=_o(this.o,n*o[0]/2,n*o[1]/2,e,e,0,(this.c[0]-i[0])/this.i*n,(i[1]-this.c[3])/this.i*n),_o(this.l,n*o[0]/2-e[4],n*o[1]/2-e[5],n/a,-n/a,0,-i[0],-i[1]),Ra(t.usedTiles,c,h,g),ja(t,c,p,n,r,m,h,s.c()),Na(t,c),La(t,c),0<this.f.length},os.prototype.Sf=function(t,e,n,o,i,r,a,s,c){if(n=t.Y(this.a)){var u=l(this),p=c?Al(t,u,e.time):1;1!==p||this.a.ha().eg(e.viewState.projection)||this.context.clearRect(o,i,r,a);var h=p!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(n,s,s,n.width-2*s,n.height-2*s,o,i,r,a),h&&this.context.restore(),1!==p?e.animate=!0:c&&t.j&&(t.s[u]=-1)}},os.prototype.Y=function(){var t=this.context;return t?t.canvas:null},os.prototype.v=function(){return this.o};var rs={Jc:function(){}};function as(){}function ss(t,e,n,o){var i=t[e],r=t[e+1],a=0;for(e+=o;e<n;e+=o){var s=t[e],l=t[e+1];a+=Math.sqrt((s-i)*(s-i)+(l-r)*(l-r)),i=s,r=l}return a}!function(t){function e(t,e,o,r,a){n(t,e,o||0,r||t.length-1,a||i)}function n(t,e,i,r,a){for(;r>i;){if(600<r-i){var s=r-i+1,l=e-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3);c=.5*Math.sqrt(c*u*(s-u)/s)*(0>l-s/2?-1:1),n(t,e,Math.max(i,Math.floor(e-l*u/s+c)),Math.min(r,Math.floor(e+(s-l)*u/s+c)),a)}for(s=t[e],l=i,u=r,o(t,i,e),0<a(t[r],s)&&o(t,i,r);l<u;){for(o(t,l,u),l++,u--;0>a(t[l],s);)l++;for(;0<a(t[u],s);)u--}0===a(t[i],s)?o(t,i,u):o(t,++u,r),u<=e&&(i=u+1),e<=u&&(r=u-1)}}function o(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function i(t,e){return t<e?-1:t>e?1:0}function r(t,e){if(!(this instanceof r))return new r(t,e);this.Lf=Math.max(4,t||9),this.wh=Math.max(2,Math.ceil(.4*this.Lf)),e&&this.Ak(e),this.clear()}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,o,i){i||(i=m(null)),i.fa=1/0,i.ea=1/0,i.la=-1/0,i.ka=-1/0;for(var r;e<n;e++)r=t.children[e],l(i,t.fb?o(r):r);return i}function l(t,e){return t.fa=Math.min(t.fa,e.fa),t.ea=Math.min(t.ea,e.ea),t.la=Math.max(t.la,e.la),t.ka=Math.max(t.ka,e.ka),t}function c(t,e){return t.fa-e.fa}function u(t,e){return t.ea-e.ea}function p(t){return(t.la-t.fa)*(t.ka-t.ea)}function h(t){return t.la-t.fa+(t.ka-t.ea)}function d(t,e){return t.fa<=e.fa&&t.ea<=e.ea&&e.la<=t.la&&e.ka<=t.ka}function f(t,e){return e.fa<=t.la&&e.ea<=t.ka&&e.la>=t.fa&&e.ka>=t.ea}function m(t){return{children:t,height:1,fb:!0,fa:1/0,ea:1/0,la:-1/0,ka:-1/0}}function g(t,e,n,o,i){for(var r,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=o||(r=e+Math.ceil((n-e)/o/2)*o,y(t,r,e,n,i),a.push(e,r,r,n))}var y=e;y.default=e,r.prototype={all:function(){return this.rh(this.data,[])},search:function(t){var e=this.data,n=[],o=this.xb;if(!f(t,e))return n;for(var i,r,a,s,l=[];e;){for(i=0,r=e.children.length;i<r;i++)a=e.children[i],f(t,s=e.fb?o(a):a)&&(e.fb?n.push(a):d(t,s)?this.rh(a,n):l.push(a));e=l.pop()}return n},Ok:function(t){var e=this.data,n=this.xb;if(!f(t,e))return!1;for(var o,i,r,a,s=[];e;){for(o=0,i=e.children.length;o<i;o++)if(r=e.children[o],f(t,a=e.fb?n(r):r)){if(e.fb||d(t,a))return!0;s.push(r)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.wh){for(var e=0,n=t.length;e<n;e++)this.Ca(t[e]);return this}return t=this.th(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.yh(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.vh(t,this.data.height-t.height-1,!0)):this.data=t,this},Ca:function(t){return t&&this.vh(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var n,o,i,r,a=this.data,s=this.xb(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),o=l[l.length-1],n=c.pop(),r=!0),a.fb){t:{i=t;var u=a.children,p=e;if(p){for(var h=0;h<u.length;h++)if(p(i,u[h])){i=h;break t}i=-1}else i=u.indexOf(i)}if(-1!==i){a.children.splice(i,1),l.push(a),this.yk(l);break}}r||a.fb||!d(a,s)?o?(n++,a=o.children[n],r=!1):a=null:(l.push(a),c.push(n),n=0,o=a,a=a.children[0])}return this},xb:function(t){return t},Pf:c,Qf:u,toJSON:function(){return this.data},rh:function(t,e){for(var n=[];t;)t.fb?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},th:function(t,e,n,o){var i,r=n-e+1,s=this.Lf;if(r<=s){var l=m(t.slice(e,n+1));return a(l,this.xb),l}for(o||(o=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,o-1))),(l=m([])).fb=!1,l.height=o,g(t,e,n,s=(r=Math.ceil(r/s))*Math.ceil(Math.sqrt(s)),this.Pf);e<=n;e+=s){var c=Math.min(e+s-1,n);for(g(t,e,c,r,this.Qf),i=e;i<=c;i+=r){var u=Math.min(i+r-1,c);l.children.push(this.th(t,i,u,o-1))}}return a(l,this.xb),l},xk:function(t,e,n,o){for(var i,r,a,s,l,c,u,h;o.push(e),!e.fb&&o.length-1!==n;){for(u=h=1/0,i=0,r=e.children.length;i<r;i++)l=p(a=e.children[i]),(c=(Math.max(a.la,t.la)-Math.min(a.fa,t.fa))*(Math.max(a.ka,t.ka)-Math.min(a.ea,t.ea))-l)<h?(h=c,u=l<u?l:u,s=a):c===h&&l<u&&(u=l,s=a);e=s||e.children[0]}return e},vh:function(t,e,n){var o=this.xb;n=n?t:o(t),o=[];var i=this.xk(n,this.data,e,o);for(i.children.push(t),l(i,n);0<=e&&o[e].children.length>this.Lf;)this.Dk(o,e),e--;this.uk(n,o,e)},Dk:function(t,e){var n=t[e],o=n.children.length,i=this.wh;this.vk(n,i,o),o=this.wk(n,i,o),(o=m(n.children.splice(o,n.children.length-o))).height=n.height,o.fb=n.fb,a(n,this.xb),a(o,this.xb),e?t[e-1].children.push(o):this.yh(n,o)},yh:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.fb=!1,a(this.data,this.xb)},wk:function(t,e,n){var o,i,r=i=1/0;for(o=e;o<=n-e;o++){var a=s(t,0,o,this.xb),l=s(t,o,n,this.xb),c=Math.max(0,Math.min(a.la,l.la)-Math.max(a.fa,l.fa))*Math.max(0,Math.min(a.ka,l.ka)-Math.max(a.ea,l.ea));if(a=p(a)+p(l),c<r){r=c;var u=o;i=a<i?a:i}else c===r&&a<i&&(i=a,u=o)}return u},vk:function(t,e,n){var o=t.fb?this.Pf:c,i=t.fb?this.Qf:u;this.sh(t,e,n,o)<(e=this.sh(t,e,n,i))&&t.children.sort(o)},sh:function(t,e,n,o){t.children.sort(o);var i,r=s(t,0,e,o=this.xb),a=s(t,n-e,n,o),c=h(r)+h(a);for(i=e;i<n-e;i++){var u=t.children[i];l(r,t.fb?o(u):u),c+=h(r)}for(i=n-e-1;i>=e;i--)u=t.children[i],l(a,t.fb?o(u):u),c+=h(a);return c},uk:function(t,e,n){for(;0<=n;n--)l(e[n],t)},yk:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.xb)},Ak:function(t){var e=["return a"," - b",";"];this.Pf=new Function("a","b",e.join(t[0])),this.Qf=new Function("a","b",e.join(t[1])),this.xb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=r}(rs.Jc=rs.Jc||{}),rs.Jc=rs.Jc.default;var ls="Polygon Circle LineString Image Text Default".split(" "),cs={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function us(t,e,n,o,i,r){this.ra=r,this.La=[1/0,1/0,-1/0,-1/0],this.ob=t,this.Ea=e,this.overlaps=i,this.pixelRatio=o,this.Wa=0,this.resolution=n,this.i=this.T=this.qa=null,this.a=[],this.coordinates=[],this.Ub={},this.ca=[1,0,0,1,0,0],this.b=[],this.oa=null,this.state={},this.$=0,this.bb=[1,0,0,1,0,0]}function ps(t,e,n,o,i,r,a,s){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,o),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,n),a&&(t.O=a[2],t.Xa(e)),s&&(gs(e,s),e.stroke())}function hs(t,e,n,o,i,r,a,s,l,c,u,p,h,d,f,m,g,y,v){var b=y||v,w=t.bb;n-=r*=d,o-=a*=d,f&&(n=Math.round(n),o=Math.round(o)),f=m+u>i.width?i.width-u:m,l=l+p>i.height?i.height-p:l,m=t.La;var E=g[3]+f*d+g[1],M=g[0]+l*d+g[2],C=n-g[3],_=o-g[0];if(b||0!==h)var x=[C,_],S=[C+E,_],T=[C+E,_+M],k=[C,_+M];g=null,0!==h?(g=_o(w,r=n+r,a=o+a,1,1,h,-r,-a),L(m),H(m,Eo(w,x)),H(m,Eo(w,S)),H(m,Eo(w,T)),H(m,Eo(w,k))):N(C,_,C+E,_+M,m),h=e.canvas,h=m[0]<=h.width&&0<=m[2]&&m[1]<=h.height&&0<=m[3],s?(h||1!=s[4])&&(U(s,m),(t=h?[e,g?g.slice(0):null,c,i,u,p,f,l,n,o,d]:null)&&b&&t.push(y,v,x,S,T,k),s.push(t)):h&&(b&&ps(t,e,x,S,T,k,y,v),ga(e,g,c,i,u,p,f,l,n,o,d))}function ds(t,e,n,o,i,r,a){var s=t.coordinates.length,l=Cs(t);a&&(n+=i),a=[e[n],e[n+1]];var c,u=[NaN,NaN],p=!0;for(c=n+i;c<o;c+=i){u[0]=e[c],u[1]=e[c+1];var h=I(l,u);h!==d?(p&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=u[0],t.coordinates[s++]=u[1],p=!1):1===h?(t.coordinates[s++]=u[0],t.coordinates[s++]=u[1],p=!1):p=!0,a[0]=u[0],a[1]=u[1];var d=h}return(r&&p||c===n+i)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function fs(t,e,n,o,i,r){for(var a=0,s=o.length;a<s;++a){var l=o[a];n=ds(t,e,n,l,i,!1,!1),r.push(n),n=l}return n}function ms(t,e){t.qa=[0,e,0],t.a.push(t.qa),t.T=[0,e,0],t.b.push(t.T)}function gs(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Je&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}function ys(t,e,n){if(e&&5<e.length){var o=e[4];if(1==o||o==e.length-5){if(n={fa:e[0],ea:e[1],la:e[2],ka:e[3],value:n},!t.ra.Ok(n))for(t.ra.Ca(n),n=5,o=e.length;n<o;++n){var i=e[n];i&&(11<i.length&&ps(t,i[0],i[13],i[14],i[15],i[16],i[11],i[12]),ga.apply(void 0,i))}e.length=5,L(e)}}}function vs(t,e,n,o,i,r,a){if(t.oa&&Zt(n,t.ca))var s=t.oa;else t.oa||(t.oa=[]),s=fo(t.coordinates,0,t.coordinates.length,2,n,t.oa),wo(t.ca,n);for(var c,u,p,h,d,f,m,g,y,v=!st(o),b=0,w=i.length,M=0,C=0,_=0,x=null,S=null,T=t.Ub,k=t.$,A={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:k},P=t.a!=i||t.overlaps?0:200;b<w;){var D=i[b];switch(D[0]){case 0:var I=D[1];v&&o[l(I).toString()]||!I.U()?b=D[2]:void 0===a||tt(a,I.U().G())?++b:b=D[2]+1;break;case 1:C>P&&(t.Xa(e),C=0),_>P&&(e.stroke(),_=0),C||_||(e.beginPath(),h=d=NaN),++b;break;case 2:var O=s[M=D[1]],N=s[M+1],L=s[M+2]-O,R=s[M+3]-N,j=Math.sqrt(L*L+R*R);e.moveTo(O+j,N),e.arc(O,N,j,0,2*Math.PI,!0),++b;break;case 3:e.closePath(),++b;break;case 4:M=D[1],c=D[2];var F=D[4],U=6==D.length?D[5]:void 0;A.geometry=D[3],A.feature=I,b in T||(T[b]=[]);var H=T[b];U?U(s,M,c,2,H):(H[0]=s[M],H[1]=s[M+1],H.length=2),F(H,A),++b;break;case 6:M=D[1],c=D[2],y=D[3],u=D[4],p=D[5],g=r?null:D[6];var V=D[7],B=D[8],q=D[9],W=D[10],z=D[11],G=D[12],Y=D[13],K=D[14],X=D[15];if(16<D.length)var Z=D[16],J=D[17],Q=D[18];else Z=ra,J=Q=!1;for(z&&(G+=k);M<c;M+=2)hs(t,e,s[M],s[M+1],y,u,p,g,V,B,q,W,G,Y,K,X,Z,J?x:null,Q?S:null);ys(t,g,I),++b;break;case 5:var et=D[1],nt=D[2],ot=D[3];g=r?null:D[4];var it=D[5],rt=D[6],at=D[7],lt=D[8],ct=D[9],ut=D[10],pt=D[11],ht=D[12],dt=D[13],ft=D[14],mt=ss(s,et,nt,2),gt=lt(ht);if(it||gt<=mt){t:{for(var yt=void 0,vt=void 0,bt=void 0,wt=s,Et=et,Mt=nt,$t=ht,Ct=lt,_t=(mt-gt)*cs[t.s[dt].textAlign],xt=at,St=[],Tt=wt[Et]>wt[Mt-2],kt=$t.length,At=wt[Et],Pt=wt[Et+1],Dt=wt[Et+=2],It=wt[Et+1],Ot=0,Nt=Math.sqrt(Math.pow(Dt-At,2)+Math.pow(It-Pt,2)),Lt="",Rt=0,jt=0;jt<kt;++jt){vt=Tt?kt-jt-1:jt;var Ft=$t.charAt(vt),Ut=Ct(Lt=Tt?Ft+Lt:Lt+Ft)-Rt;Rt+=Ut;for(var Ht=_t+Ut/2;Et<Mt-2&&Ot+Nt<Ht;)At=Dt,Pt=It,Dt=wt[Et+=2],It=wt[Et+1],Ot+=Nt,Nt=Math.sqrt(Math.pow(Dt-At,2)+Math.pow(It-Pt,2));var Vt=Ht-Ot,Bt=Math.atan2(It-Pt,Dt-At);if(Tt&&(Bt+=0<Bt?-Math.PI:Math.PI),void 0!==yt){var qt=Bt-yt;if(qt+=qt>Math.PI?-2*Math.PI:qt<-Math.PI?2*Math.PI:0,Math.abs(qt)>xt){var Wt=null;break t}}var zt=Vt/Nt,Gt=E(At,Dt,zt),Yt=E(Pt,It,zt);yt==Bt?(Tt&&(bt[0]=Gt,bt[1]=Yt,bt[2]=Ut/2),bt[4]=Lt):(Rt=Ut,bt=[Gt,Yt,Ut/2,Bt,Lt=Ft],Tt?St.unshift(bt):St.push(bt),yt=Bt),_t+=Ut}Wt=St}if(Wt){var Kt;if(ut){var Xt=0;for(Kt=Wt.length;Xt<Kt;++Xt){var Jt=Wt[Xt],Qt=Jt[4],te=t.Y(Qt,dt,"",ut);u=Jt[2]+pt,p=ot*te.height+2*(.5-ot)*pt-ct,hs(t,e,Jt[0],Jt[1],te,u,p,g,te.height,1,0,0,Jt[3],ft,!1,te.width,ra,null,null)}}if(rt)for(Xt=0,Kt=Wt.length;Xt<Kt;++Xt)Qt=(Jt=Wt[Xt])[4],te=t.Y(Qt,dt,rt,""),u=Jt[2],p=ot*te.height-ct,hs(t,e,Jt[0],Jt[1],te,u,p,g,te.height,1,0,0,Jt[3],ft,!1,te.width,ra,null,null)}}ys(t,g,I),++b;break;case 7:if(void 0!==r){var ee=r(I=D[1]);if(ee)return ee}++b;break;case 8:P?C++:t.Xa(e),++b;break;case 9:M=D[1],c=D[2];var ne=s[M],oe=s[M+1];for(m=oe+.5|0,(f=ne+.5|0)===h&&m===d||(e.moveTo(ne,oe),h=f,d=m),M+=2;M<c;M+=2)f=(ne=s[M])+.5|0,m=(oe=s[M+1])+.5|0,(M==c-2||f!==h||m!==d)&&(e.lineTo(ne,oe),h=f,d=m);++b;break;case 10:x=D,t.O=D[2],C&&(t.Xa(e),C=0,_&&(e.stroke(),_=0)),e.fillStyle=D[1],++b;break;case 11:S=D,_&&(e.stroke(),_=0),gs(e,D),++b;break;case 12:P?_++:e.stroke(),++b;break;default:++b}}C&&t.Xa(e),_&&e.stroke()}function bs(t,e,n,o,i,r,a){return t.$=o,vs(t,e,n,i,t.b,r,a)}function ws(t){var e=t.b;e.reverse();var n,o=e.length,i=-1;for(n=0;n<o;++n){var r=e[n],a=r[0];if(7==a)i=n;else if(0==a){for(r[2]=n,r=t.b,a=n;i<a;){var s=r[i];r[i]=r[a],r[a]=s,++i,--a}i=-1}}}function Es(t,e,n,o){var i=e.fillStyle;"string"==typeof i&&e.Pk==i||(n.call(t,e,o),e.Pk=i)}function Ms(t,e,n){var o=e.strokeStyle,i=e.lineCap,r=e.lineDash,a=e.lineDashOffset,s=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.Vk!=o||e.Qk!=i||r!=e.Fh&&!Zt(e.Fh,r)||e.Rk!=a||e.Sk!=s||e.Tk!=l||e.Uk!=c)&&(n.call(t,e),e.Vk=o,e.Qk=i,e.Fh=r,e.Rk=a,e.Sk=s,e.Tk=l,e.Uk=c)}function $s(t,e){t.qa[2]=t.a.length,t.qa=null,t.T[2]=t.b.length,t.T=null,e=[7,e],t.a.push(e),t.b.push(e)}function Cs(t){return t.i||(t.i=T(t.Ea),0<t.Wa&&S(t.i,t.resolution*(t.Wa+1)/2,t.i)),t.i}function _s(t,e,n,o,i,r){us.call(this,t,e,n,o,i,r),this.M=this.V=this.B=null,this.N=this.o=this.v=this.s=this.l=this.C=this.D=this.j=this.f=this.c=this.g=void 0}function xs(t,e,n,o,i,r){us.call(this,t,e,n,o,i,r)}function Ss(t,e,n,o,i){var r=t.coordinates.length;return r=[9,r,e=ds(t,e,n,o,i,!1,!1)],t.a.push(r),t.b.push(r),o}function Ts(t,e,n,o,i,r){us.call(this,t,e,n,o,i,r)}function ks(t,e,n,o,i){var r=t.state,a=void 0!==r.fillStyle;r=void 0!=r.strokeStyle;var s=o.length,l=[1];for(t.a.push(l),t.b.push(l),l=0;l<s;++l){var c=o[l];n=[9,t.coordinates.length,n=ds(t,e,n,c,i,!0,!r)],t.a.push(n),t.b.push(n),r&&(n=[3],t.a.push(n),t.b.push(n)),n=c}return e=[8],t.b.push(e),a&&t.a.push(e),r&&(a=[12],t.a.push(a),t.b.push(a)),n}function As(t,e){var n=t.state;void 0!==n.fillStyle&&Es(t,n,t.Ah,e),void 0!==n.strokeStyle&&Ms(t,n,t.pd)}function Ps(t,e,n,o,i,r){for(us.call(this,t,e,n,o,i,r),this.ta="",this.l=this.D=0,this.C=void 0,this.B=0,this.c=null,this.o={},this.g=null,this.ab={},this.f={},this.s={},this.V=this.v=this.j="",this.ua={};ea(aa);)aa.pop()}function Ds(t,e,n,o){var i=t.g,r=t.f,a=t.c,s=t.V;i&&(s in t.ab||(t.ab[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var l=t.j;t.j in t.s||(t.s[t.j]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var c=t.v;a&&(c in t.o||(t.o[c]={fillStyle:a.fillStyle}));var u=t.pixelRatio;a=cs[r.textBaseline];var p=t.l*u,h=t.ta,d=r.font,f=r.scale;i=i?i.lineWidth*f/2:0;var m=t.ua[d];m||(t.ua[d]=m={}),t.a.push([5,e,n,a,o,r.overflow,c,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=da(d,t)),e*f*u},p,s,i*u,h,l,1]),t.b.push([5,e,n,a,o,r.overflow,c,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=da(d,t)),e*f},p,s,i,h,l,1/u])}function Is(t,e,n,o,i,r,a){this.a=r,this.g=null,this.o=t,this.c=e,this.l=i,this.s=o,this.v=n,this.i=a,this.b={},this.f=wi(1,1),this.j=[1,0,0,1,0,0]}a(us,Ca),(t=us.prototype).Hh=function(t,e,n){ms(this,e);var o,i=t.S(),r=t.pa(),a=this.coordinates.length;if("MultiPolygon"==i){i=eh(t);for(var s=[],l=t.td(),c=o=0,u=l.length;c<u;++c){var p=[];o=fs(this,i,o,l[c],r,p),s.push(p)}this.a.push([4,a,s,t,n,qo])}else"Polygon"==i||"MultiLineString"==i?(s=[],fs(this,i="Polygon"==i?t.Xb():t.da(),0,t.pb(),r,s),this.a.push([4,a,s,t,n,Bo])):"LineString"==i||"MultiPoint"==i?(r=ds(this,i=t.da(),0,i.length,r,!1,!1),this.a.push([4,a,r,t,n,Vo])):"Point"==i&&(i=t.da(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.a.push([4,a,r,t,n]));$s(this,e)},t.Xa=function(t){if(this.O){var e=Eo(this.ca,this.O.slice());t.translate(e[0],e[1]),t.rotate(this.$)}t.fill(),this.O&&t.setTransform.apply(t,ma)},t.Na=function(t,e,n,o){this.$=n,vs(this,t,e,o,this.a,void 0,void 0)},t.Oa=function(t,e){var n=this.state;t?(t=t.b,n.fillStyle=$a(t||na)):n.fillStyle=void 0,e?(t=e.a,n.strokeStyle=$a(t||ia),t=e.f,n.lineCap=void 0!==t?t:"round",t=e.g,n.lineDash=t?t.slice():oa,t=e.i,n.lineDashOffset=t||0,t=e.j,n.lineJoin=void 0!==t?t:"round",t=e.c,n.lineWidth=void 0!==t?t:1,e=e.l,n.miterLimit=void 0!==e?e:10,n.lineWidth>this.Wa&&(this.Wa=n.lineWidth,this.i=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},t.Ah=function(t,e){var n=t.fillStyle;t=[10,n],"string"!=typeof n&&(e=e.G(),t.push([e[0],e[3]])),this.a.push(t)},t.pd=function(t){this.a.push([11,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,function(t,e){var n=t.pixelRatio;return 1==n?e:e.map(function(t){return t*n})}(this,t.lineDash),t.lineDashOffset*this.pixelRatio])},t.bf=s,a(_s,us),_s.prototype.yc=function(t,e){if(this.M){ms(this,e);var n=t.da(),o=this.coordinates.length;t=ds(this,n,0,n.length,t.pa(),!1,!1),this.a.push([6,o,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,o,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),$s(this,e)}},_s.prototype.wc=function(t,e){if(this.M){ms(this,e);var n=t.da(),o=this.coordinates.length;t=ds(this,n,0,n.length,t.pa(),!1,!1),this.a.push([6,o,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,o,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),$s(this,e)}},_s.prototype.bf=function(){ws(this),this.c=this.g=void 0,this.M=this.V=null,this.N=this.o=this.s=this.l=this.C=this.D=this.j=this.v=this.f=void 0},_s.prototype.Zb=function(t,e){var n=t.Vc(),o=t.oc(),i=t.Eg(),r=t.Y(1),a=t.bd();this.g=n[0],this.c=n[1],this.B=e,this.V=i,this.M=r,this.f=o[1],this.j=t.i,this.D=a[0],this.C=a[1],this.l=t.s,this.s=t.f,this.v=t.a,this.o=t.v,this.N=o[0]},a(xs,us),xs.prototype.uc=function(t,e){var n=this.state,o=n.lineWidth;void 0!==n.strokeStyle&&void 0!==o&&(Ms(this,n,this.pd),ms(this,e),this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[1]),Ss(this,n=t.da(),0,n.length,t.pa()),this.b.push([12]),$s(this,e))},xs.prototype.vc=function(t,e){var n=this.state,o=n.lineWidth;if(void 0!==n.strokeStyle&&void 0!==o){Ms(this,n,this.pd),ms(this,e),this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[1]),n=t.pb(),o=t.da(),t=t.pa();var i,r=0,a=0;for(i=n.length;a<i;++a)r=Ss(this,o,r,n[a],t);this.b.push([12]),$s(this,e)}},xs.prototype.bf=function(){var t=this.state;void 0!=t.$d&&t.$d!=this.coordinates.length&&this.a.push([12]),ws(this),this.state=null},xs.prototype.pd=function(t){void 0!=t.$d&&t.$d!=this.coordinates.length&&(this.a.push([12]),t.$d=this.coordinates.length),t.$d=0,us.prototype.pd.call(this,t),this.a.push([1])},a(Ts,us),Ts.prototype.cc=function(t,e){var n=this.state,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){As(this,t),ms(this,e),this.b.push([10,wa(na)]),void 0!==n.strokeStyle&&this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.da();o=this.coordinates.length,ds(this,i,0,i.length,t.pa(),!1,!1),t=[1],o=[2,o],this.a.push(t,o),this.b.push(t,o),t=[8],this.b.push(t),void 0!==n.fillStyle&&this.a.push(t),void 0!==n.strokeStyle&&(n=[12],this.a.push(n),this.b.push(n)),$s(this,e)}},Ts.prototype.zc=function(t,e){var n=this.state;As(this,t),ms(this,e),this.b.push([10,wa(na)]),void 0!==n.strokeStyle&&this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]),n=t.pb(),ks(this,t.Xb(),0,n,t.pa()),$s(this,e)},Ts.prototype.xc=function(t,e){var n=this.state,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){As(this,t),ms(this,e),this.b.push([10,wa(na)]),void 0!==n.strokeStyle&&this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]),n=t.td(),o=eh(t),t=t.pa();var i,r=0,a=0;for(i=n.length;a<i;++a)r=ks(this,o,r,n[a],t);$s(this,e)}},Ts.prototype.bf=function(){ws(this),this.state=null;var t=this.ob;if(0!==t){var e,n=this.coordinates,o=0;for(e=n.length;o<e;++o)n[o]=t*Math.round(n[o]/t)}},a(Ps,us),Ps.prototype.Wb=function(t,e){var n=this.c,o=this.g,i=this.f;if(""!==this.ta&&i&&(n||o)){n=this.coordinates.length;var r=t.S();o=null;var a=2,s=2;if("line"===i.placement){if(!tt(Cs(this),t.G()))return;if(o=t.da(),s=t.pa(),"LineString"==r)var l=[o.length];else if("MultiLineString"==r)l=t.pb();else if("Polygon"==r)l=t.pb().slice(0,1);else if("MultiPolygon"==r)for(l=[],a=0,r=(t=t.td()).length;a<r;++a)l.push(t[a][0]);ms(this,e),t=i.textAlign;var c,u=0;r=0;for(var p=l.length;r<p;++r){if(void 0==t){for(var h,d,f=void 0,m=void 0,g=a=d=h=void 0,y=c=u,v=0,b=0,w=u;u<l[r];u+=s){var E=o[u],M=o[u+1];void 0!==d&&(d=E-d,h=M-h,a=Math.sqrt(d*d+h*h),void 0!==m&&(b+=g,(f=Math.acos((m*d+f*h)/(g*a)))>i.maxAngle&&(b>v&&(v=b,c=w,y=u),b=0,w=u-s)),g=a,m=d,f=h),d=E,h=M}u=(a=b+a>v?[w,u]:[c,y])[0],c=a[1]}else c=l[r];for(a=u;a<c;a+=s)this.coordinates.push(o[a],o[a+1]);a=this.coordinates.length,u=l[r],Ds(this,n,a,this.N),n=a}}else{switch(p=(l=this.Y(this.ta,this.j,this.v,this.V)).width/this.pixelRatio,r){case"Point":case"MultiPoint":a=(o=t.da()).length;break;case"LineString":o=t.Fe();break;case"Circle":o=t.xa();break;case"MultiLineString":a=(o=t.Ge()).length;break;case"Polygon":if(o=t.Td(),!i.overflow&&o[2]/this.resolution<p)return;s=3;break;case"MultiPolygon":for(o=[],a=0,r=(c=th(t)).length;a<r;a+=3)(i.overflow||c[a+2]/this.resolution>=p)&&o.push(c[a],c[a+1]);if(0==(a=o.length))return}a=ds(this,o,0,a,s,!1,!1),ms(this,e),(i.backgroundFill||i.backgroundStroke)&&(this.Oa(i.backgroundFill,i.backgroundStroke),Es(this,this.state,this.Ah,t),Ms(this,this.state,this.pd)),function(t,e,n,o){var i=t.f,r=t.g,a=t.pixelRatio,s=cs[i.textAlign||"center"],l=cs[i.textBaseline];r=r&&r.lineWidth?r.lineWidth:0,s=s*e.width/a+2*(.5-s)*r,l=l*e.height/a+2*(.5-l)*r,t.a.push([6,n,o,e,(s-t.D)*a,(l-t.l)*a,t.N,e.height,1,0,0,t.C,t.B,1,!0,e.width,i.padding==ra?ra:i.padding.map(function(t){return t*a}),!!i.backgroundFill,!!i.backgroundStroke]),t.b.push([6,n,o,e,(s-t.D)*a,(l-t.l)*a,t.N,e.height,1,0,0,t.C,t.B,1/a,!0,e.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])}(this,l,n,a)}$s(this,e)}},Ps.prototype.Y=function(t,e,n,o){var i=o+e+t+n+this.pixelRatio;if(!aa.a.hasOwnProperty(i)){var r=o?this.ab[o]||this.g:null,a=n?this.o[n]||this.c:null,s=this.s[e]||this.f,l=s.scale*this.pixelRatio,c=cs[s.textAlign||"center"];e=o&&r.lineWidth?r.lineWidth:0;var u,p=(t=t.split("\n")).length,h=[],d=s.font,f=t.length,m=0;for(u=0;u<f;++u){var g=da(d,t[u]);m=Math.max(m,g),h.push(g)}if(f=m,d=ha(s.font),m=(f=wi(Math.ceil((f+e)*l),Math.ceil((d*p+e)*l))).canvas,aa.set(i,m),1!=l&&f.scale(l,l),f.font=s.font,o&&(f.strokeStyle=r.strokeStyle,f.lineWidth=e*(Ye?l:1),f.lineCap=r.lineCap,f.lineJoin=r.lineJoin,f.miterLimit=r.miterLimit,Je&&r.lineDash.length&&(f.setLineDash(r.lineDash),f.lineDashOffset=r.lineDashOffset)),n&&(f.fillStyle=a.fillStyle),f.textBaseline="middle",f.textAlign="center",r=.5-c,a=c*m.width/l+r*e,o)for(o=0;o<p;++o)f.strokeText(t[o],a+r*h[o],.5*(e+d)+o*d);if(n)for(o=0;o<p;++o)f.fillText(t[o],a+r*h[o],.5*(e+d)+o*d)}return aa.get(i)},Ps.prototype.nb=function(t,e){var n,o;if(t){if(this.N=e,(o=t.Fa())?((e=this.c)||(e=this.c={}),e.fillStyle=$a(o.b||na)):e=this.c=null,n=t.Ga()){(o=this.g)||(o=this.g={});var i=n.g,r=n.i,a=n.c,s=n.l;o.lineCap=n.f||"round",o.lineDash=i?i.slice():oa,o.lineDashOffset=void 0===r?0:r,o.lineJoin=n.j||"round",o.lineWidth=void 0===a?1:a,o.miterLimit=void 0===s?10:s,o.strokeStyle=$a(n.a||ia)}else o=this.g=null;n=this.f,i=t.a||"10px sans-serif",ua(i),r=t.b,n.overflow=t.v,n.font=i,n.maxAngle=t.s,n.placement=t.o,n.textAlign=t.f,n.textBaseline=t.j||"middle",n.backgroundFill=t.N,n.backgroundStroke=t.D,n.padding=t.C||ra,n.scale=void 0===r?1:r,i=t.g,r=t.c,a=t.l,s=t.i,this.ta=t.Ka()||"",this.D=void 0===i?0:i,this.l=void 0===r?0:r,this.C=void 0!==a&&a,this.B=void 0===s?0:s,this.V=o?("string"==typeof o.strokeStyle?o.strokeStyle:l(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.j=n.font+n.scale+(n.textAlign||"?"),this.v=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+l(e.fillStyle):""}else this.ta=""},a(Is,as);var Os={0:[[!0]]};function Ns(t,e,n){var o,i=Math.floor(t.length/2);if(e>=i)for(o=i;o<e;o++)t[o][n]=!0;else if(e<i)for(o=e+1;o<i;o++)t[o][n]=!0}function Ls(t){for(var e in t.b){var n,o=t.b[e];for(n in o)o[n].bf()}}function Rs(t,e){var n=t.c;t=n[0];var o=n[1],i=n[2];return fo(t=[t,o,t,n=n[3],i,n,i,o],0,8,2,e,t),t}(t=Is.prototype).Vb=function(t){var e=null;return this.a&&(t?(e=this.g)[4]++:(e=this.g=[1/0,1/0,-1/0,-1/0]).push(1)),e},t.wa=function(t,e,n,o,i,r,a){function s(t){for(var e=u.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var o=0;o<l;o++)if(d[n][o]&&0<e[4*(o*l+n)+3]){if(!h||"Image"!=g&&"Text"!=g||-1!==h.indexOf(t))var i=r(t);return i||void u.clearRect(0,0,l,l)}}var l=2*(o=Math.round(o))+1,c=_o(this.j,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),u=this.f;if(u.canvas.width!==l||u.canvas.height!==l?(u.canvas.width=l,u.canvas.height=l):u.clearRect(0,0,l,l),void 0!==this.i){var p=[1/0,1/0,-1/0,-1/0];H(p,t),S(p,e*(this.i+o),p)}var h,d=function(t){if(void 0!==Os[t])return Os[t];for(var e=2*t+1,n=Array(e),o=0;o<e;o++)n[o]=Array(e);e=t;for(var i=o=0;e>=o;)Ns(n,t+e,t+o),Ns(n,t+o,t+e),Ns(n,t-o,t+e),Ns(n,t-e,t+o),Ns(n,t-e,t-o),Ns(n,t-o,t-e),Ns(n,t+o,t-e),Ns(n,t+e,t-o),0<2*((i+=1+2*++o)-e)+1&&(i+=1-2*--e);return Os[t]=n}(o);for(this.a&&(h=this.a.all().map(function(t){return t.value})),(t=Object.keys(this.b).map(Number)).sort(zt),e=t.length-1;0<=e;--e){var f=t[e].toString(),m=this.b[f];for(o=ls.length-1;0<=o;--o){var g=ls[o],y=m[g];if(void 0!==y)if(!a||"Image"!=g&&"Text"!=g){if(y=bs(y,u,c,n,i,s,p))return y}else{var v=a[f];v?v.push(y,c.slice(0)):a[f]=[y,c.slice(0)]}}}},t.Ja=function(t,e){var n=void 0!==t?t.toString():"0";return void 0===(t=this.b[n])&&(t={},this.b[n]=t),void 0===(n=t[e])&&(n=new js[e](this.o,this.c,this.v,this.s,this.l,this.a),t[e]=n),n},t.yg=function(){return st(this.b)},t.Na=function(t,e,n,o,i,r){var a=Object.keys(this.b).map(Number);a.sort(zt),t.save();var s,l,c=Rs(this,e);for(t.beginPath(),t.moveTo(c[0],c[1]),t.lineTo(c[2],c[3]),t.lineTo(c[4],c[5]),t.lineTo(c[6],c[7]),t.clip(),i=i||ls,c=0,s=a.length;c<s;++c){var u=a[c].toString(),p=this.b[u],h=0;for(l=i.length;h<l;++h){var d=i[h],f=p[d];void 0!==f&&(!r||"Image"!=d&&"Text"!=d?f.Na(t,e,n,o):(d=r[u])?d.push(f,e.slice(0)):r[u]=[f,e.slice(0)])}}t.restore()};var js={Circle:Ts,Default:us,Image:_s,LineString:xs,Polygon:Ts,Text:Ps};function Fs(t,e){return l(t)-l(e)}function Us(t,e){return(t=.5*t/e)*t}function Hs(t,e,n,o,i,r){var a,s=!1;if(a=n.Y()){var l=a.gf();2==l||3==l?a.Yj(i,r):(0==l&&a.load(),a.gi(i,r),s=!0)}return(i=(0,n.cb)(e))&&(o=i.Wd(o),n.Ie()?function t(e,n,o,i){if("GeometryCollection"==n.S())for(var r=0,a=(n=n.vd()).length;r<a;++r)t(e,n[r],o,i);else e.Ja(o.Ba(),"Default").Hh(n,i,o.Ie())}(t,o,n,e):(0,Vs[o.S()])(t,o,n,e)),s}var Vs={Point:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.gf())return;var r=t.Ja(n.Ba(),"Image");r.Zb(i,t.Vb(!1)),r.yc(e,o)}(r=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(r,t.Vb(!!i)),n.Wb(e,o))},LineString:function(t,e,n,o){var i=n.Ga();if(i){var r=t.Ja(n.Ba(),"LineString");r.Oa(null,i),r.uc(e,o)}(i=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(i,t.Vb(!1)),n.Wb(e,o))},Polygon:function(t,e,n,o){var i=n.Fa(),r=n.Ga();if(i||r){var a=t.Ja(n.Ba(),"Polygon");a.Oa(i,r),a.zc(e,o)}(i=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(i,t.Vb(!1)),n.Wb(e,o))},MultiPoint:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.gf())return;var r=t.Ja(n.Ba(),"Image");r.Zb(i,t.Vb(!1)),r.wc(e,o)}(r=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(r,t.Vb(!!i)),n.Wb(e,o))},MultiLineString:function(t,e,n,o){var i=n.Ga();if(i){var r=t.Ja(n.Ba(),"LineString");r.Oa(null,i),r.vc(e,o)}(i=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(i,t.Vb(!1)),n.Wb(e,o))},MultiPolygon:function(t,e,n,o){var i=n.Fa(),r=n.Ga();if(r||i){var a=t.Ja(n.Ba(),"Polygon");a.Oa(i,r),a.xc(e,o)}(i=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(i,t.Vb(!1)),n.Wb(e,o))},GeometryCollection:function(t,e,n,o){var i,r=0;for(i=(e=e.a).length;r<i;++r)(0,Vs[e[r].S()])(t,e[r],n,o)},Circle:function(t,e,n,o){var i=n.Fa(),r=n.Ga();if(i||r){var a=t.Ja(n.Ba(),"Circle");a.Oa(i,r),a.cc(e,o)}(i=n.Ka())&&((n=t.Ja(n.Ba(),"Text")).nb(i,t.Vb(!1)),n.Wb(e,o))}};function Bs(t){Fa.call(this,t),this.f=t.D?rs.Jc(9):null,this.i=!1,this.N=-1,this.o=NaN,this.l=[1/0,1/0,-1/0,-1/0],this.c=this.v=null,this.j=!0,this.context=wi(),ve(aa,"clear",this.Vi,this)}function qs(t){this.context=null,os.call(this,t),this.N=t.D?rs.Jc(9):null,this.D=!1,this.ca=[1,0,0,1,0,0],this.O="vector"==t.l?1:0,ve(aa,"clear",this.Xi,this)}a(Bs,Fa),Bs.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.S()},Bs.create=function(t,e){return new Bs(e)},(t=Bs.prototype).ia=function(){we(aa,"clear",this.Vi,this),Fa.prototype.ia.call(this)},t.df=function(t,e,n){var o=t.extent,i=t.pixelRatio,r=e.Te?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,l=a.rotation,c=s.G(),u=this.a.ha(),p=Va(this,t,0);Ha(this,"precompose",n,t,p);var h=e.extent;(a=void 0!==h)&&Ua(n,t,h);var d=this.c;if(d&&!d.yg()){this.f&&this.f.clear();var f=h=0,m=1!==e.opacity,g=Te(this.a,"render");if(m||g){var y=n.canvas.width,v=n.canvas.height;if(l){var b=Math.round(Math.sqrt(y*y+v*v));h=(b-y)/2,f=(b-v)/2,y=v=b}this.context.canvas.width=y,this.context.canvas.height=v,y=this.context}else y=n;if(v=y.globalAlpha,m||(y.globalAlpha=e.opacity),y!=n&&y.translate(h,f),fa(y,-l,(b=t.size[0]*i)/2,(i*=t.size[1])/2),d.Na(y,p,l,r),u.D&&s.g&&!P(c,o)){s=o[0],u=Q(c);for(var w=0;s<c[0];)p=Va(this,t,p=u*--w),d.Na(y,p,l,r),s+=u;for(w=0,s=o[2];s>c[2];)p=Va(this,t,p=u*++w),d.Na(y,p,l,r),s-=u;p=Va(this,t,0)}fa(y,l,b/2,i/2),y!=n&&(g&&Ha(this,"render",y,t,p),m?(o=n.globalAlpha,n.globalAlpha=e.opacity,n.drawImage(y.canvas,-h,-f),n.globalAlpha=o):n.drawImage(y.canvas,-h,-f),y.translate(-h,-f)),m||(y.globalAlpha=v)}a&&n.restore(),this.pf(n,t,e,p)},t.wa=function(t,e,n,o,i){if(this.c){var r=this.a,a={};return this.c.wa(t,e.viewState.resolution,e.viewState.rotation,n,{},function(t){var e=l(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)},null)}},t.Vi=function(){var t=this.a;t.Jb()&&this.c&&t.u()},t.Wi=function(){Oa(this)},t.$c=function(t){var e=this.a,n=e.ha();La(t,n);var o=t.viewHints[0],i=t.viewHints[1],r=e.ca,a=e.ra;if(!this.i&&!r&&o||!a&&i)return!0;r=t.extent;var s=t.viewState;a=s.projection;var l=s.resolution,c=t.pixelRatio;o=e.g;var u=e.f;if(void 0===(i=e.get(Bv))&&(i=Fs),r=S(r,u*l),u=s.projection.G(),n.D&&s.projection.g&&!P(u,t.extent)&&(t=Math.max(Q(r)/2,Q(u)),r[0]=u[0]-t,r[2]=u[2]+t),!this.i&&this.o==l&&this.N==o&&this.v==i&&P(this.l,r))return this.j=!1,!0;this.c=null,this.i=!1;var p=new Is(.5*l/c,r,l,c,n.$,this.f,e.f);if(n.ae(r,l,a),t=function(t){var n=t.ib();if(n)var o=n.call(t,l);else(n=e.ib())&&(o=n(t,l));if(o){if(o){if(n=!1,Array.isArray(o))for(var i=0,r=o.length;i<r;++i)n=Hs(p,t,o[i],Us(l,c),this.Wi,this)||n;else n=Hs(p,t,o,Us(l,c),this.Wi,this);t=n}else t=!1;this.i=this.i||t}}.bind(this),i){var h=[];for(n.ec(r,function(t){h.push(t)},this),h.sort(i),n=0,a=h.length;n<a;++n)t(h[n])}else n.ec(r,t,this);return Ls(p),this.o=l,this.N=o,this.v=i,this.l=r,this.c=p,this.j=!0},a(qs,os),qs.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.S()},qs.create=function(t,e){return new qs(e)};var Ws={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},zs={image:["Default"],hybrid:["Image","Text","Default"],vector:ls};function Gs(t){delete(t=it({},t)).renderer,t.controls||(t.controls=Wi()),t.interactions||(t.interactions=Xr()),Pi.call(this,t)}function Ys(t){Ae.call(this),t=t||{},this.a=null,ve(this,De(Qs),this.$m,this),this.rg(void 0!==t.tracking&&t.tracking)}(t=qs.prototype).ia=function(){we(aa,"clear",this.Xi,this),os.prototype.ia.call(this)},t.$c=function(t,e){var n=this.a,o=n.g;return this.B!=o&&(this.f.length=0,n=n.l,this.context||"vector"==n||(this.context=wi()),this.context&&"vector"==n&&(this.context=null)),this.B=o,os.prototype.$c.apply(this,arguments)},t.Sf=function(t,e,n,o,i,r,a,s,c){var u=t,p=this.a,h=e.pixelRatio,d=e.viewState.projection,f=p.g,m=p.get(Bv)||null,g=TE(u,p);if(g.Be||g.wf!=f||g.eh!=m){var y=p.ha(),v=y.tileGrid,b=y.eb(d),w=b.Ta(u.ya[0]);b=b.Ma(u.l);for(var E=0,M=u.a.length;E<M;++E){var C=u.c[u.a[E]];if(3!=C.getState()){var _=v.Ma(C.ya),x=X(b,_),T=F(_,x)?null:S(x,p.f*w),k=C.o,A=!1;jt(d,k)||(A=!0,C.vg(d)),g.Be=!1,x=new Is(0,x,w,h,y.s,this.N,p.f);var P=Us(w,h),D=C.a;m&&m!==g.eh&&D.sort(m);for(var I,O=0,N=D.length;O<N;++O)if(I=D[O],A&&("tile-pixels"==k.a&&(k.Sj(_),k.Si(C.G())),I.U().mb(k,d)),!T||tt(T,I.U().G())){var L=void 0,R=I.ib();if(R?L=R.call(I,w):(R=p.ib())&&(L=R(I,w)),L){R=P;var j=x;if(L){var U=!1;if(Array.isArray(L))for(var H=0,V=L.length;H<V;++H)U=Hs(j,I,L[H],R,this.Yi,this)||U;else U=Hs(j,I,L,R,this.Yi,this);I=U}else I=!1;this.D=this.D||I,g.Be=g.Be||I}}for(var B in Ls(x),x.b);_=u.ya.toString(),T=x,C.f[l(p)+","+_]=T}}g.wf=f,g.eh=m}if(this.context){if(g=e,d=TE(u,p=this.a),f=p.g,(h=Ws[p.l])&&d.fh!==f)for(d.fh=f,w=(y=u.l)[0],d=g.pixelRatio,f=(v=(B=p.ha()).eb(g.viewState.projection)).Ta(w),m=SE(u,p),g=B.Zd(w,d,g.viewState.projection),m.canvas.width=g[0],m.canvas.height=g[1],g=v.Ma(y),y=0,v=u.a.length;y<v;++y)3!=(w=u.c[u.a[y]]).getState()&&(B=d/f,$o(b=yo(this.ca),B,-B),Co(b,-g[0],-g[3]),Gu(w,p,u.ya.toString()).Na(m,b,0,{},h));os.prototype.Sf.apply(this,arguments)}},t.wa=function(t,e,n,o,i){var r=e.viewState.resolution,a=e.viewState.rotation;n=void 0==n?0:n;var s,c=this.a,u={},p=this.f;e=c.ha().eb(e.viewState.projection);var h=0;for(s=p.length;h<s;++h){var d=p[h],f=d.l,m=S(f=e.Ma(f,this.T),n*r,m);if(A(m,t)){f=0;for(var g=d.a.length;f<g;++f){var y=d.c[d.a[f]];if(3!=y.getState()){y=Gu(y,c,d.ya.toString());var v=v||y.wa(t,r,a,n,{},function(t){var e=l(t).toString();if(!(e in u))return u[e]=!0,o.call(i,t,c)},null)}}}}return v},t.Xi=function(){var t=this.a;t.Jb()&&void 0!==this.B&&t.u()},t.Yi=function(){Oa(this)},t.pf=function(t,e,n){var o=this.a,i=o.D?{}:null,r=o.ha(),a=o.l,s=zs[a],l=e.pixelRatio,c=e.viewState.rotation,u=e.size;if(c){var p=Math.round(l*u[0]/2),h=Math.round(l*u[1]/2);fa(t,-c,p,h)}i&&this.N.clear(),l=this.f,r=r.eb(e.viewState.projection),u=[];for(var d=[],f=l.length-1;0<=f;--f){var m=l[f];if(5!=m.getState())for(var g=m.ya,y=r.Ma(g)[0]-r.Ma(m.l)[0],v=void 0,b=0,w=m.a.length;b<w;++b){var E=m.c[m.a[b]];if(3!=E.getState()){var M,C=Gu(E,o,g.toString());if(!(M="vector"==a))t:{for(M in M=void 0,C.b)for(var _=C.b[M],x=0,S=s.length;x<S;++x)if(s[x]in _){M=!0;break t}M=!1}if(M){for(v||(v=Va(this,e,y)),E=E.ya[0],M=Rs(C,v),t.save(),t.globalAlpha=n.opacity,_=0,x=u.length;_<x;++_)S=u[_],E<d[_]&&(t.beginPath(),t.moveTo(M[0],M[1]),t.lineTo(M[2],M[3]),t.lineTo(M[4],M[5]),t.lineTo(M[6],M[7]),t.moveTo(S[6],S[7]),t.lineTo(S[4],S[5]),t.lineTo(S[2],S[3]),t.lineTo(S[0],S[1]),t.clip());C.Na(t,v,c,{},s,i),t.restore(),u.push(M),d.push(E)}}}}if(i)for(o=t,s={},l=0,r=(a=Object.keys(i).map(Number).sort(zt)).length;l<r;++l)for(d=0,f=(u=i[a[l].toString()]).length;d<f;)m=u[d++],g=u[d++],m.Na(o,g,c,s);c&&fa(t,c,p,h),os.prototype.pf.apply(this,arguments)},ki("MAP_RENDERER",es),Ai([qa,os,Bs,qs]),a(Gs,Pi),a(Ys,Ae),(t=Ys.prototype).ia=function(){this.rg(!1),Ae.prototype.ia.call(this)},t.Dp=function(t){if(null!==t.alpha){var e=b(t.alpha);this.set(Ks,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Js,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Js,b(t.webkitCompassHeading))}null!==t.beta&&this.set(Xs,b(t.beta)),null!==t.gamma&&this.set(Zs,b(t.gamma)),this.u()},t.Ym=function(){return this.get(Ks)},t.ll=function(){return this.get(Xs)},t.ql=function(){return this.get(Zs)},t.Zm=function(){return this.get(Js)},t.li=function(){return this.get(Qs)},t.$m=function(){if(tn){var t=this.li();t&&!this.a?this.a=ve(window,"deviceorientation",this.Dp,this):t||null===this.a||(Ee(this.a),this.a=null)}},t.rg=function(t){this.set(Qs,t)};var Ks="alpha",Xs="beta",Zs="gamma",Js="heading",Qs="tracking";function tl(t){this.i=t.opacity,this.s=t.rotateWithView,this.f=t.rotation,this.a=t.scale,this.v=t.snapToPixel}function el(t){this.D=this.o=this.c=null,this.Xa=void 0!==t.fill?t.fill:null,this.oa=[0,0],this.l=t.points,this.b=void 0!==t.radius?t.radius:t.radius1,this.g=t.radius2,this.j=void 0!==t.angle?t.angle:0,this.Ya=void 0!==t.stroke?t.stroke:null,this.B=this.qa=this.C=null,this.N=t.atlasManager,nl(this,this.N),tl.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function nl(t,e){var n="",o="",i=0,r=null,a=0,s=0;if(t.Ya){var c=t.Ya.a;null===c&&(c=ia),c=$a(c),void 0===(s=t.Ya.c)&&(s=1),r=t.Ya.g,a=t.Ya.i,Je||(r=null,a=0),void 0===(o=t.Ya.j)&&(o="round"),void 0===(n=t.Ya.f)&&(n="round"),void 0===(i=t.Ya.l)&&(i=10)}var u=2*(t.b+s)+1;if(n={strokeStyle:c,Wj:s,size:u,lineCap:n,lineDash:r,lineDashOffset:a,lineJoin:o,miterLimit:i},void 0===e){var p=wi(u,u);t.o=p.canvas,e=u=t.o.width,t.Jh(n,p,0,0),t.Xa?t.D=t.o:(p=wi(n.size,n.size),t.D=p.canvas,t.Ih(n,p,0,0))}else u=Math.round(u),(o=!t.Xa)&&(p=t.Ih.bind(t,n)),t.Ya?(void 0===(i=t.Ya).b&&(i.b="s",i.b=i.a?"string"==typeof i.a?i.b+i.a:i.b+l(i.a).toString():i.b+"-",i.b+=","+(void 0!==i.f?i.f.toString():"-")+","+(i.g?i.g.toString():"-")+","+(void 0!==i.i?i.i:"-")+","+(void 0!==i.j?i.j:"-")+","+(void 0!==i.l?i.l.toString():"-")+","+(void 0!==i.c?i.c.toString():"-")),i=i.b):i="-",t.Xa?(void 0===(r=t.Xa).a&&(r.a=r.b instanceof CanvasPattern||r.b instanceof CanvasGradient?l(r.b).toString():"f"+(r.b?wa(r.b):"-")),r=r.a):r="-",t.c&&i==t.c[1]&&r==t.c[2]&&t.b==t.c[3]&&t.g==t.c[4]&&t.j==t.c[5]&&t.l==t.c[6]||(t.c=["r"+i+r+(void 0!==t.b?t.b.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.l?t.l.toString():"-"),i,r,t.b,t.g,t.j,t.l]),p=e.add(t.c[0],u,u,t.Jh.bind(t,n),p),t.o=p.image,t.oa=[p.offsetX,p.offsetY],e=p.image.width,t.D=o?p.Bm:t.o;t.C=[u/2,u/2],t.qa=[u,u],t.B=[e,e]}function il(t){t=t||{},el.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function rl(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function al(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.b=void 0}function sl(t){t=t||{},this.Uc=null,this.cb=hl,void 0!==t.geometry&&this.Va(t.geometry),this.Xa=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.pc=void 0!==t.renderer?t.renderer:null,this.Ya=void 0!==t.stroke?t.stroke:null,this.ta=void 0!==t.text?t.text:null,this.bk=t.zIndex}function ll(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else f(t instanceof sl,41),e=[t];t=function(){return e}}return t}(t=tl.prototype).hf=function(){return this.i},t.jf=function(){return this.s},t.kf=function(){return this.f},t.lf=function(){return this.a},t.Ke=function(){return this.v},t.Ed=function(t){this.i=t},t.mf=function(t){this.f=t},t.Fd=function(t){this.a=t},a(el,tl),(t=el.prototype).clone=function(){var t=new el({fill:this.Fa()?this.Fa().clone():void 0,points:this.l,radius:this.b,radius2:this.g,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.f,rotateWithView:this.s,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},t.Vc=function(){return this.C},t.ij=function(){return this.j},t.Fa=function(){return this.Xa},t.Eg=function(){return this.D},t.Y=function(){return this.o},t.He=function(){return this.B},t.gf=function(){return 2},t.bd=function(){return this.oa},t.jj=function(){return this.l},t.kj=function(){return this.b},t.Zh=function(){return this.g},t.oc=function(){return this.qa},t.Ga=function(){return this.Ya},t.gi=function(){},t.load=function(){},t.Yj=function(){},t.Jh=function(t,e,n,o){e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath();var i=this.l;if(1/0===i)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{var r=void 0!==this.g?this.g:this.b;for(r!==this.b&&(i*=2),n=0;n<=i;n++){o=2*n*Math.PI/i-Math.PI/2+this.j;var a=0==n%2?this.b:r;e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}}this.Xa&&(null===(n=this.Xa.b)&&(n=na),e.fillStyle=$a(n),e.fill()),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},t.Ih=function(t,e,n,o){var i;if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),1/0===(n=this.l))e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else for((o=void 0!==this.g?this.g:this.b)!==this.b&&(n*=2),i=0;i<=n;i++){var r=2*i*Math.PI/n-Math.PI/2+this.j,a=0==i%2?this.b:o;e.lineTo(t.size/2+a*Math.cos(r),t.size/2+a*Math.sin(r))}e.fillStyle=na,e.fill(),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},a(il,el),il.prototype.clone=function(){var t=new il({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},il.prototype.fd=function(t){this.b=t,nl(this,this.N)},rl.prototype.clone=function(){var t=this.b;return new rl({color:t&&t.slice?t.slice():t||void 0})},rl.prototype.g=function(){return this.b},rl.prototype.c=function(t){this.b=t,this.a=void 0},(t=al.prototype).clone=function(){var t=this.a;return new al({color:t&&t.slice?t.slice():t||void 0,lineCap:this.f,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},t.pp=function(){return this.a},t.vl=function(){return this.f},t.qp=function(){return this.g},t.wl=function(){return this.i},t.xl=function(){return this.j},t.Dl=function(){return this.l},t.rp=function(){return this.c},t.sp=function(t){this.a=t,this.b=void 0},t.yq=function(t){this.f=t,this.b=void 0},t.setLineDash=function(t){this.g=t,this.b=void 0},t.zq=function(t){this.i=t,this.b=void 0},t.Aq=function(t){this.j=t,this.b=void 0},t.Eq=function(t){this.l=t,this.b=void 0},t.Kq=function(t){this.c=t,this.b=void 0},(t=sl.prototype).clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new sl({geometry:t,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.Ba()})},t.Ie=function(){return this.pc},t.Iq=function(t){this.pc=t},t.U=function(){return this.Uc},t.rl=function(){return this.cb},t.Fa=function(){return this.Xa},t.yf=function(t){this.Xa=t},t.Y=function(){return this.M},t.ih=function(t){this.M=t},t.Ga=function(){return this.Ya},t.Af=function(t){this.Ya=t},t.Ka=function(){return this.ta},t.Hd=function(t){this.ta=t},t.Ba=function(){return this.bk},t.Va=function(t){"function"==typeof t?this.cb=t:"string"==typeof t?this.cb=function(e){return e.get(t)}:t?void 0!==t&&(this.cb=function(){return t}):this.cb=hl,this.Uc=t},t.$b=function(t){this.bk=t};var cl=null;function ul(){if(!cl){var t=new rl({color:"rgba(255,255,255,0.4)"}),e=new al({color:"#3399CC",width:1.25});cl=[new sl({image:new il({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return cl}function pl(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new sl({fill:new rl({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new sl({stroke:new al({color:e,width:5})}),new sl({stroke:new al({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new sl({image:new il({radius:6,fill:new rl({color:n}),stroke:new al({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function hl(t){return t.U()}function dl(t){Ae.call(this),this.c=void 0,this.a="geometry",this.f=null,this.j=void 0,this.i=null,ve(this,De(this.a),this.Oe,this),void 0!==t&&(t instanceof So||!t?this.Va(t):this.H(t))}function fl(t){Ae.call(this),t=t||{},this.a=null,this.i=Ht,this.f=new lt(6378137),this.c=void 0,ve(this,De("projection"),this.en,this),ve(this,De("tracking"),this.fn,this),void 0!==t.projection&&this.oi(t.projection),void 0!==t.trackingOptions&&this.Rj(t.trackingOptions),this.Ue(void 0!==t.tracking&&t.tracking)}function ml(t,e,n,o,i,r){var a=NaN,s=NaN,l=(n-e)/o;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-i)*t[e]+i*t[e+o],s=(1-i)*t[e+1]+i*t[e+o+1];else if(0!==l){s=t[e],l=t[e+1];var c,u=0;for(a=[0],c=e+o;c<n;c+=o){var p=t[c],h=t[c+1];u+=Math.sqrt((p-s)*(p-s)+(h-l)*(h-l)),a.push(u),s=p,l=h}for(n=i*u,l=0,u=a.length,c=!1;l<u;)0>(s=+zt(a[i=l+(u-l>>1)],n))?l=i+1:(u=i,c=!s);0>(i=c?l:~l)?(n=(n-a[-i-2])/(a[-i-1]-a[-i-2]),a=E(t[e+=(-i-2)*o],t[e+o],n),s=E(t[e+1],t[e+o+1],n)):(a=t[e+i*o],s=t[e+i*o+1])}return r?(r[0]=a,r[1]=s,r):[a,s]}function gl(t,e,n,o,i,r){if(n==e)return null;if(i<t[e+o-1])return r?((n=t.slice(e,e+o))[o-1]=i,n):null;if(t[n-1]<i)return r?((n=t.slice(n-o,n))[o-1]=i,n):null;if(i==t[e+o-1])return t.slice(e,e+o);for(e/=o,n/=o;e<n;)i<t[((r=e+n>>1)+1)*o-1]?n=r:e=r+1;if(i==(n=t[e*o-1]))return t.slice((e-1)*o,(e-1)*o+o);var a;for(r=(i-n)/(t[(e+1)*o-1]-n),n=[],a=0;a<o-1;++a)n.push(E(t[(e-1)*o+a],t[e*o+a],r));return n.push(i),n}function yl(t,e){To.call(this),this.c=null,this.o=this.D=this.j=-1,this.na(t,e)}function vl(t,e,n){for(var o,i,r,a,s,l=[],c=t(0),u=t(1),p=e(c),h=e(u),d=[u,c],f=[h,p],m=[1,0],g={},v=1e5;0<--v&&0<m.length;)r=m.pop(),c=d.pop(),p=f.pop(),(u=r.toString())in g||(l.push(p[0],p[1]),g[u]=!0),a=m.pop(),u=d.pop(),h=f.pop(),y((i=e(o=t(s=(r+a)/2)))[0],i[1],p[0],p[1],h[0],h[1])<n?(l.push(h[0],h[1]),g[u=a.toString()]=!0):(m.push(a,s,s,r),f.push(h,i,i,p),d.push(u,o,o,c));return l}function bl(t){t=t||{},this.a=t.font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.ta=t.text,this.f=t.textAlign,this.j=t.textBaseline,this.Xa=void 0!==t.fill?t.fill:new rl({color:"#333"}),this.s=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.o=void 0!==t.placement?t.placement:"point";var e=void 0===t.overflow?t.exceedLength:t.overflow;this.v=void 0!==e&&e,this.Ya=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0,this.N=t.backgroundFill?t.backgroundFill:null,this.D=t.backgroundStroke?t.backgroundStroke:null,this.C=void 0===t.padding?null:t.padding}function wl(t){t=t||{},this.i=this.v=null,this.j=this.f=1/0,this.s=this.l=-1/0,this.qa=this.oa=1/0,this.O=this.T=-1/0,this.ua=void 0!==t.targetSize?t.targetSize:100,this.ab=void 0!==t.maxLines?t.maxLines:100,this.g=[],this.c=[],this.ra=void 0!==t.strokeStyle?t.strokeStyle:El,this.D=this.o=void 0,this.a=this.b=this.N=null,1==t.showLabels&&(this.$=void 0==t.lonLabelFormatter?Jn.bind(this,"EW"):t.lonLabelFormatter,this.Wa=void 0==t.latLabelFormatter?Jn.bind(this,"NS"):t.latLabelFormatter,this.ca=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.V=void 0==t.latLabelPosition?1:t.latLabelPosition,this.B=void 0!==t.lonLabelStyle?t.lonLabelStyle:new bl({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new rl({color:"rgba(0,0,0,1)"}),stroke:new al({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==t.latLabelStyle?t.latLabelStyle:new bl({font:"12px Calibri,sans-serif",textAlign:"end",fill:new rl({color:"rgba(0,0,0,1)"}),stroke:new al({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==t.map?t.map:null)}a(dl,Ae),(t=dl.prototype).clone=function(){var t=new dl(this.L());t.Lc(this.a);var e=this.U();return e&&t.Va(e.clone()),(e=this.f)&&t.sg(e),t},t.U=function(){return this.get(this.a)},t.an=function(){return this.c},t.sl=function(){return this.a},t.bn=function(){return this.f},t.ib=function(){return this.j},t.bm=function(){this.u()},t.Oe=function(){this.i&&(Ee(this.i),this.i=null);var t=this.U();t&&(this.i=ve(t,"change",this.bm,this)),this.u()},t.Va=function(t){this.set(this.a,t)},t.sg=function(t){this.j=(this.f=t)?function(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var n=t;else f(t instanceof sl,41),n=[t];e=function(){return n}}return e}(t):void 0,this.u()},t.qc=function(t){this.c=t,this.u()},t.Lc=function(t){we(this,De(this.a),this.Oe,this),this.a=t,ve(this,De(this.a),this.Oe,this),this.Oe()},a(fl,Ae),(t=fl.prototype).ia=function(){this.Ue(!1),Ae.prototype.ia.call(this)},t.en=function(){var t=this.mi();t&&(this.i=Ut(Rt("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},t.fn=function(){if(en){var t=this.ni();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Pp.bind(this),this.Qp.bind(this),this.ai()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},t.Pp=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:b(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),(t=li(this.f,this.a,t.accuracy)).Rc(this.i),this.set("accuracyGeometry",t),this.u()},t.Qp=function(t){t.type="error",this.Ue(!1),this.b(t)},t.el=function(){return this.get("accuracy")},t.fl=function(){return this.get("accuracyGeometry")||null},t.gl=function(){return this.get("altitude")},t.hl=function(){return this.get("altitudeAccuracy")},t.cn=function(){return this.get("heading")},t.dn=function(){return this.get("position")},t.mi=function(){return this.get("projection")},t.Ol=function(){return this.get("speed")},t.ni=function(){return this.get("tracking")},t.ai=function(){return this.get("trackingOptions")},t.oi=function(t){this.set("projection",Rt(t))},t.Ue=function(t){this.set("tracking",t)},t.Rj=function(t){this.set("trackingOptions",t)},a(yl,To),(t=yl.prototype).Fk=function(t){this.A?Kt(this.A,t):this.A=t.slice(),this.u()},t.clone=function(){var t=new yl(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,n,o){return o<k(this.G(),t,e)?o:(this.o!=this.g&&(this.D=Math.sqrt(No(this.A,0,this.A.length,this.a,0)),this.o=this.g),Ro(this.A,0,this.A.length,this.a,this.D,!1,t,e,n,o))},t.dl=function(t,e){return ti(this.A,0,this.A.length,this.a,t,e)},t.Tn=function(t,e){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:gl(this.A,0,this.A.length,this.a,t,void 0!==e&&e)},t.W=function(){return Vo(this.A,0,this.A.length,this.a)},t.Ph=function(t,e){return ml(this.A,0,this.A.length,this.a,t,e)},t.Un=function(){return ss(this.A,0,this.A.length,this.a)},t.Fe=function(){return this.j!=this.g&&(this.c=this.Ph(.5,this.c),this.j=this.g),this.c},t.xd=function(t){var e=[];return e.length=Wo(this.A,0,this.A.length,this.a,t,e,0),(t=new yl(null)).ba("XY",e),t},t.S=function(){return"LineString"},t.$a=function(t){return ei(this.A,0,this.A.length,this.a,t)},t.na=function(t,e){t?(Po(this,e,t,1),this.A||(this.A=[]),this.A.length=Uo(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Ao(this,t,e),this.u()},(t=bl.prototype).clone=function(){return new bl({font:this.a,placement:this.o,maxAngle:this.s,overflow:this.v,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ka(),textAlign:this.f,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.g,offsetY:this.c})},t.Gl=function(){return this.v},t.pl=function(){return this.a},t.Bl=function(){return this.s},t.Kl=function(){return this.o},t.El=function(){return this.g},t.Fl=function(){return this.c},t.Fa=function(){return this.Xa},t.tp=function(){return this.l},t.up=function(){return this.i},t.vp=function(){return this.b},t.Ga=function(){return this.Ya},t.Ka=function(){return this.ta},t.Ql=function(){return this.f},t.Rl=function(){return this.j},t.jl=function(){return this.N},t.kl=function(){return this.D},t.Il=function(){return this.C},t.Fq=function(t){this.v=t},t.Jj=function(t){this.a=t},t.Bq=function(t){this.s=t},t.Nj=function(t){this.g=t},t.Oj=function(t){this.c=t},t.Hq=function(t){this.o=t},t.yf=function(t){this.Xa=t},t.wp=function(t){this.i=t},t.lj=function(t){this.b=t},t.Af=function(t){this.Ya=t},t.Hd=function(t){this.ta=t},t.Qj=function(t){this.f=t},t.Jq=function(t){this.j=t},t.sq=function(t){this.N=t},t.tq=function(t){this.D=t},t.Gq=function(t){this.C=t};var El=new al({color:"rgba(0,0,0,0.2)"}),Ml=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function $l(t,e,n,o,i,r,a){var s=a;return n=function(t,e,n,o,i){return vl(function(o){return[t,e+(n-e)*o]},Ft(Rt("EPSG:4326"),o),i)}(e,n,o,t.i,i),(s=void 0!==t.g[s]?t.g[s]:new yl(null)).ba("XY",n),tt(s.G(),r)&&(t.b&&(n=a,r=[(o=s.da())[0],m(r[1]+Math.abs(r[1]-r[3])*t.ca,Math.max(r[1],o[1]),Math.min(r[3],o[o.length-1]))],(n=void 0!==t.b[n]?t.b[n].Qd:new Ko(null)).na(r),t.b[a]={Qd:n,text:t.$(e)}),t.g[a++]=s),a}function Cl(t,e,n,o,i,r,a){var s=a;return n=function(t,e,n,o,i){return vl(function(o){return[e+(n-e)*o,t]},Ft(Rt("EPSG:4326"),o),i)}(e,n,o,t.i,i),(s=void 0!==t.c[s]?t.c[s]:new yl(null)).ba("XY",n),tt(s.G(),r)&&(t.a&&(n=a,o=s.da(),r=[m(r[0]+Math.abs(r[0]-r[2])*t.V,Math.max(r[0],o[0]),Math.min(r[2],o[o.length-2])),o[1]],(n=void 0!==t.a[n]?t.a[n].Qd:new Ko(null)).na(r),t.a[a]={Qd:n,text:t.Wa(e)}),t.c[a++]=s),a}function _l(t,e,n,o,i,r){Zr.call(this,t,e,n,0),this.i=o,this.M=new Image,null!==i&&(this.M.crossOrigin=i),this.g=null,this.state=0,this.c=r}function xl(t,e,n){Se.call(this),n=n||{},this.ya=t,this.state=e,this.g=null,this.key="",this.j=void 0===n.transition?250:n.transition,this.s={}}function Sl(t){if(!t.g)return t;var e=t.g;do{if(2==e.getState())return e;e=e.g}while(e);return t}function Tl(t){if(t.g){var e=t.g;do{if(2==e.getState()){e.g=null;break}1==e.getState()?t=e:0==e.getState()?t.g=e.g:t=e,e=t.g}while(e)}}function kl(t,e){t.state=e,t.u()}function Al(t,e,n){if(!t.j)return 1;var o=t.s[e];if(o){if(-1===o)return 1}else o=n,t.s[e]=o;return(e=n-o+1e3/60)>=t.j?1:so(e/t.j)}function Pl(t,e,n,o,i,r){xl.call(this,t,e,r),this.f=o,this.l=n,this.M=new Image,null!==o&&(this.M.crossOrigin=o),this.c=null,this.v=i}function Dl(t){t.c.forEach(Ee),t.c=null}function Il(){var t=wi(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function Ol(t){this.b=t}function Nl(t){this.b=t}function Ll(t){this.b=t}(t=wl.prototype).gn=function(){return this.v},t.Cl=function(){return this.g},t.Jl=function(){return this.c},t.di=function(t){var e=t.vectorContext,n=t.frameState;t=n.extent;var o=n.viewState,i=o.center,r=o.projection;if(n=(o=o.resolution)*o/(4*(n=n.pixelRatio)*n),!this.i||!jt(this.i,r)){var a=Rt("EPSG:4326"),s=r.G(),l=r.oe,c=qt(l,a,r),u=l[2],p=l[1],h=l[0],d=c[3],f=c[2],g=c[1];c=c[0],this.f=l[3],this.j=u,this.l=p,this.s=h,this.oa=d,this.qa=f,this.T=g,this.O=c,this.o=Ft(a,r),this.D=Ft(r,a),this.N=this.D(G(s)),this.i=r}for(r=this.N[0],a=this.N[1],s=-1,u=Math.pow(this.ua*o,2),p=[],h=[],o=0,l=Ml.length;o<l&&(d=Ml[o]/2,p[0]=r-d,p[1]=a-d,h[0]=r+d,h[1]=a+d,this.o(p,p),this.o(h,h),!((d=Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2))<=u));++o)s=Ml[o];if(-1==(o=s))this.g.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(i=(r=this.D(i))[0],r=r[1],a=this.ab,p=(l=qt(l=[Math.max(t[0],this.O),Math.max(t[1],this.T),Math.min(t[2],this.qa),Math.min(t[3],this.oa)],this.i,"EPSG:4326"))[3],s=l[2],h=l[1],d=l[0],u=$l(this,f=m(i=Math.floor(i/o)*o,this.s,this.j),h,p,n,t,0),l=0;f!=this.s&&l++<a;)u=$l(this,f=Math.max(f-o,this.s),h,p,n,t,u);for(f=m(i,this.s,this.j),l=0;f!=this.j&&l++<a;)u=$l(this,f=Math.min(f+o,this.j),h,p,n,t,u);for(this.g.length=u,this.b&&(this.b.length=u),u=Cl(this,i=m(r=Math.floor(r/o)*o,this.l,this.f),d,s,n,t,0),l=0;i!=this.l&&l++<a;)u=Cl(this,i=Math.max(i-o,this.l),d,s,n,t,u);for(i=m(r,this.l,this.f),l=0;i!=this.f&&l++<a;)u=Cl(this,i=Math.min(i+o,this.f),d,s,n,t,u);this.c.length=u,this.a&&(this.a.length=u)}for(e.Oa(null,this.ra),t=0,n=this.g.length;t<n;++t)i=this.g[t],e.Hb(i);for(t=0,n=this.c.length;t<n;++t)i=this.c[t],e.Hb(i);if(this.b)for(t=0,n=this.b.length;t<n;++t)i=this.b[t],this.B.Hd(i.text),e.nb(this.B),e.Hb(i.Qd);if(this.a)for(t=0,n=this.a.length;t<n;++t)i=this.a[t],this.C.Hd(i.text),e.nb(this.C),e.Hb(i.Qd)},t.setMap=function(t){this.v&&(this.v.J("postcompose",this.di,this),this.v.render()),t&&(t.I("postcompose",this.di,this),t.render()),this.v=t},a(_l,Zr),(t=_l.prototype).Y=function(){return this.M},t.kn=function(){this.state=3,this.g.forEach(Ee),this.g=null,this.u()},t.ln=function(){void 0===this.resolution&&(this.resolution=K(this.extent)/this.M.height),this.state=2,this.g.forEach(Ee),this.g=null,this.u()},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.u(),this.g=[be(this.M,"error",this.kn,this),be(this.M,"load",this.ln,this)],this.c(this,this.i))},t.ih=function(t){this.M=t},a(xl,Se),xl.prototype.u=function(){this.b("change")},xl.prototype.lb=function(){return this.key+"/"+this.ya},xl.prototype.i=function(){return this.ya},xl.prototype.getState=function(){return this.state},a(Pl,xl),(t=Pl.prototype).ia=function(){1==this.state&&(Dl(this),this.M=Il()),this.g&&Ce(this.g),this.state=5,this.u(),xl.prototype.ia.call(this)},t.Y=function(){return this.M},t.lb=function(){return this.l},t.hn=function(){this.state=3,Dl(this),this.M=Il(),this.u()},t.jn=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,Dl(this),this.u()},t.load=function(){3==this.state&&(this.state=0,this.M=new Image,null!==this.f&&(this.M.crossOrigin=this.f)),0==this.state&&(this.state=1,this.u(),this.c=[be(this.M,"error",this.hn,this),be(this.M,"load",this.jn,this)],this.v(this,this.l))},a(Nl,Ol),Nl.prototype.S=function(){return 35632},a(Ll,Ol),Ll.prototype.S=function(){return 35633};var Rl=new Nl("precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),jl=new Ll("varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");function Fl(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Ul(t,e){this.origin=G(e),this.bb=[1,0,0,1,0,0],this.Ea=[1,0,0,1,0,0],this.La=[1,0,0,1,0,0],this.V=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.b=[],this.j=null,this.g=[],this.i=[],this.a=[],this.s=null,this.f=void 0}function Hl(t,e,n,o){t.drawElements(4,o-n,e.f?5125:5123,n*(e.f?4:2))}a(Ul,Ca),Ul.prototype.Na=function(t,e,n,o,i,r,a,s,l,c,u){var p=t.b;if(this.f){var h=p.isEnabled(p.STENCIL_TEST),d=p.getParameter(p.STENCIL_FUNC),f=p.getParameter(p.STENCIL_VALUE_MASK),m=p.getParameter(p.STENCIL_REF),g=p.getParameter(p.STENCIL_WRITEMASK),y=p.getParameter(p.STENCIL_FAIL),v=p.getParameter(p.STENCIL_PASS_DEPTH_PASS),b=p.getParameter(p.STENCIL_PASS_DEPTH_FAIL);p.enable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilMask(255),p.stencilFunc(p.ALWAYS,1,255),p.stencilOp(p.KEEP,p.KEEP,p.REPLACE),this.f.Na(t,e,n,o,i,r,a,s,l,c,u),p.stencilMask(0),p.stencilFunc(p.NOTEQUAL,1,255)}tc(t,34962,this.s),tc(t,34963,this.j),r=this.Bf(p,t,i,r);var w=yo(this.bb);if($o(w,2/(n*i[0]),2/(n*i[1])),Mo(w,-o),Co(w,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),$o(e=yo(this.La),2/i[0],2/i[1]),i=yo(this.Ea),0!==o&&Mo(i,-o),p.uniformMatrix4fv(r.g,!1,Fl(this.V,w)),p.uniformMatrix4fv(r.i,!1,Fl(this.V,e)),p.uniformMatrix4fv(r.c,!1,Fl(this.V,i)),p.uniform1f(r.a,a),void 0===l)this.Od(p,t,s,!1);else{c?t=this.Ee(p,t,s,l,u):(p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT),this.Od(p,t,s,!0),t=(t=l(null))?t:void 0);var E=t}return this.Cf(p,r),this.f&&(h||p.disable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilFunc(d,m,f),p.stencilMask(g),p.stencilOp(y,b,v)),E};var Vl=[0,0,0,1],Bl=[],ql=[0,0,0,1];function Wl(t,e,n,o,i,r){return(t=(n-t)*(r-e)-(i-t)*(o-e))<=zl&&t>=-zl?void 0:0<t}var zl=Number.EPSILON||2.220446049250313e-16;function Gl(t){this.b=void 0!==t?t:[],this.a=Yl}var Yl=35044;function Kl(t,e){Ul.call(this,t,e),this.v=null,this.l=[],this.o=[],this.N=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,u:!1}}function Xl(t,e,n,o){e.uniform4fv(t.v.O,n),e.uniform1f(t.v.oa,o)}a(Kl,Ul),(t=Kl.prototype).cc=function(t,e){var n=t.Bd(),o=t.pa();if(n){this.g.push(this.b.length),this.i.push(e),this.c.u&&(this.o.push(this.b.length),this.c.u=!1),this.N=n,t=mo(t=t.da(),0,2,o,-this.origin[0],-this.origin[1]),e=this.a.length,n=this.b.length;var i,r=e/4;for(i=0;2>i;i+=o)this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=0,this.a[e++]=this.N,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=1,this.a[e++]=this.N,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=2,this.a[e++]=this.N,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=3,this.a[e++]=this.N,this.b[n++]=r,this.b[n++]=r+1,this.b[n++]=r+2,this.b[n++]=r+2,this.b[n++]=r+3,this.b[n++]=r,r+=4}else this.c.u&&(this.l.pop(),this.l.length&&(o=this.l[this.l.length-1],this.c.fillColor=o[0],this.c.strokeColor=o[1],this.c.lineWidth=o[2],this.c.u=!1))},t.gb=function(){this.s=new Gl(this.a),this.j=new Gl(this.b),this.g.push(this.b.length),0===this.o.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,n=this.j;return function(){ec(t,e),ec(t,n)}},t.Bf=function(t,e,n,o){var i=ic(e,Rl,jl);if(this.v)var r=this.v;else this.v=r=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.qa=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.O=t.getUniformLocation(e,"o"),this.T=t.getUniformLocation(e,"p"),this.b=t.getAttribLocation(e,"e"),this.j=t.getAttribLocation(e,"f"),this.N=t.getAttribLocation(e,"g")}(t,i);return e.cd(i),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,16,0),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,1,5126,!1,16,8),t.enableVertexAttribArray(r.N),t.vertexAttribPointer(r.N,1,5126,!1,16,12),t.uniform2fv(r.T,n),t.uniform1f(r.qa,o),r},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.N)},t.Od=function(t,e,n){if(st(n)){var o=this.g[this.g.length-1];for(n=this.o.length-1;0<=n;--n){var i=this.o[n],r=this.l[n];t.uniform4fv(this.v.C,r[0]),Xl(this,t,r[1],r[2]),Hl(t,e,i,o),o=i}}else{var a=this.g.length-2;for(r=o=this.g[a+1],i=this.o.length-1;0<=i;--i){var s=this.l[i];for(t.uniform4fv(this.v.C,s[0]),Xl(this,t,s[1],s[2]),s=this.o[i];0<=a&&this.g[a]>=s;){var c=this.g[a],u=this.i[a];n[u=l(u).toString()]&&(o!==r&&Hl(t,e,o,r),r=c),a--,o=c}o!==r&&Hl(t,e,o,r),o=r=s}}},t.Ee=function(t,e,n,o,i){var r,a,s=this.g.length-2,c=this.g[s+1];for(r=this.o.length-1;0<=r;--r){var u=this.l[r];for(t.uniform4fv(this.v.C,u[0]),Xl(this,t,u[1],u[2]),a=this.o[r];0<=s&&this.g[s]>=a;){u=this.g[s];var p=this.i[s];if(void 0===n[l(p).toString()]&&p.U()&&(void 0===i||tt(i,p.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hl(t,e,u,c),c=o(p)))return c;s--,c=u}}},t.Oa=function(t,e){if(e){var n=e.g;this.c.lineDash=n||Bl,n=e.i,this.c.lineDashOffset=n||0,n=(n=e.a)instanceof CanvasGradient||n instanceof CanvasPattern?ql:ba(n).map(function(t,e){return 3!=e?t/255:t})||ql,e=void 0!==(e=e.c)?e:1}else n=[0,0,0,0],e=0;t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?Vl:ba(t).map(function(t,e){return 3!=e?t/255:t})||Vl,this.c.strokeColor&&Zt(this.c.strokeColor,n)&&this.c.fillColor&&Zt(this.c.fillColor,t)&&this.c.lineWidth===e||(this.c.u=!0,this.c.fillColor=t,this.c.strokeColor=n,this.c.lineWidth=e,this.l.push([t,n,e]))};var Zl=new Nl("precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Jl=new Ll("varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");function Ql(t,e){this.j=t,this.b=e,this.a={},this.c={},this.g={},this.s=this.v=this.i=this.l=null,(this.f=Gt(n,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),ve(this.j,"webglcontextlost",this.zp,this),ve(this.j,"webglcontextrestored",this.Ap,this)}function tc(t,e,n){var o=t.b,i=n.b,r=String(l(n));if(r in t.a)o.bindBuffer(e,t.a[r].buffer);else{var a,s=o.createBuffer();o.bindBuffer(e,s),34962==e?a=new Float32Array(i):34963==e&&(a=t.f?new Uint32Array(i):new Uint16Array(i)),o.bufferData(e,a,n.a),t.a[r]={tc:n,buffer:s}}}function ec(t,e){var n=t.b;e=String(l(e));var o=t.a[e];n.isContextLost()||n.deleteBuffer(o.buffer),delete t.a[e]}function nc(t){if(!t.i){var e=t.b,n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var o=ac(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=n,t.v=o,t.s=i}return t.i}function oc(t,e){var n=String(l(e));if(n in t.c)return t.c[n];var o=t.b,i=o.createShader(e.S());return o.shaderSource(i,e.b),o.compileShader(i),t.c[n]=i}function ic(t,e,n){var o=l(e)+"/"+l(n);if(o in t.g)return t.g[o];var i=t.b,r=i.createProgram();return i.attachShader(r,oc(t,e)),i.attachShader(r,oc(t,n)),i.linkProgram(r),t.g[o]=r}function rc(t,e,n){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==n&&t.texParameteri(3553,10243,n),o}function ac(t,e,n){var o=rc(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function sc(t,e){var n=rc(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}function lc(t,e){Ul.call(this,t,e),this.C=this.D=void 0,this.v=[],this.o=[],this.qa=this.oa=this.height=void 0,this.Wa=null,this.width=this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0}function cc(t,e,n,o){var i=t.D,r=t.C,a=t.height,s=t.oa,l=t.qa,c=t.opacity,u=t.T,p=t.O,h=t.rotateWithView?1:0,d=-t.rotation,f=t.scale,m=t.width,g=Math.cos(d);d=Math.sin(d);var y,v=t.b.length,b=t.a.length;for(y=0;y<n;y+=o){var w=e[y]-t.origin[0],E=e[y+1]-t.origin[1],M=b/8,C=-f*i,_=-f*(a-r);t.a[b++]=w,t.a[b++]=E,t.a[b++]=C*g-_*d,t.a[b++]=C*d+_*g,t.a[b++]=u/l,t.a[b++]=(p+a)/s,t.a[b++]=c,t.a[b++]=h,C=f*(m-i),_=-f*(a-r),t.a[b++]=w,t.a[b++]=E,t.a[b++]=C*g-_*d,t.a[b++]=C*d+_*g,t.a[b++]=(u+m)/l,t.a[b++]=(p+a)/s,t.a[b++]=c,t.a[b++]=h,C=f*(m-i),_=f*r,t.a[b++]=w,t.a[b++]=E,t.a[b++]=C*g-_*d,t.a[b++]=C*d+_*g,t.a[b++]=(u+m)/l,t.a[b++]=p/s,t.a[b++]=c,t.a[b++]=h,C=-f*i,_=f*r,t.a[b++]=w,t.a[b++]=E,t.a[b++]=C*g-_*d,t.a[b++]=C*d+_*g,t.a[b++]=u/l,t.a[b++]=p/s,t.a[b++]=c,t.a[b++]=h,t.b[v++]=M,t.b[v++]=M+1,t.b[v++]=M+2,t.b[v++]=M,t.b[v++]=M+2,t.b[v++]=M+3}}function uc(t,e,n,o){var i,r=e.length;for(i=0;i<r;++i){var a=e[i],s=l(a).toString();s in n?a=n[s]:(a=sc(o,a),n[s]=a),t[i]=a}}function pc(t,e){lc.call(this,t,e),this.l=[],this.c=[],this.B=[],this.N=[]}function hc(t,e,n){var o=e-n;return t[0]===t[o]&&t[1]===t[o+1]&&3<(e-0)/n&&!!Do(t,0,e,n)}a(Ql,$e),(t=Ql.prototype).ia=function(){Me(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.s),t.deleteTexture(this.v)}},t.yp=function(){return this.b},t.zp=function(){rt(this.a),rt(this.c),rt(this.g),this.s=this.v=this.i=this.l=null},t.Ap=function(){},t.cd=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},a(lc,Ul),(t=lc.prototype).Db=function(t){var e=this.s,n=this.j,o=this.ig(!0),i=t.b;return function(){if(!i.isContextLost()){var r,a=0;for(r=o.length;a<r;++a)i.deleteTexture(o[a])}ec(t,e),ec(t,n)}},t.Bf=function(t,e){var n=ic(e,Zl,Jl);if(this.Wa)var o=this.Wa;else this.Wa=o=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.a=t.getUniformLocation(e,"k"),this.b=t.getAttribLocation(e,"c"),this.B=t.getAttribLocation(e,"d"),this.v=t.getAttribLocation(e,"e"),this.o=t.getAttribLocation(e,"f"),this.D=t.getAttribLocation(e,"g")}(t,n);return e.cd(n),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,32,0),t.enableVertexAttribArray(o.v),t.vertexAttribPointer(o.v,2,5126,!1,32,8),t.enableVertexAttribArray(o.B),t.vertexAttribPointer(o.B,2,5126,!1,32,16),t.enableVertexAttribArray(o.o),t.vertexAttribPointer(o.o,1,5126,!1,32,24),t.enableVertexAttribArray(o.D),t.vertexAttribPointer(o.D,1,5126,!1,32,28),o},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.B),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.D)},t.Od=function(t,e,n,o){var i=o?this.ag():this.ig();if(o=o?this.o:this.v,st(n)){var r;n=0;var a=i.length;for(r=0;n<a;++n){t.bindTexture(3553,i[n]);var s=o[n];Hl(t,e,r,s),r=s}}else for(r=a=0,s=i.length;r<s;++r){t.bindTexture(3553,i[r]);for(var c=0<r?o[r-1]:0,u=o[r],p=c;a<this.g.length&&this.g[a]<=u;){void 0!==n[l(this.i[a]).toString()]?(p!==c&&Hl(t,e,p,c),c=p=a===this.g.length-1?u:this.g[a+1]):c=a===this.g.length-1?u:this.g[a+1],a++}p!==c&&Hl(t,e,p,c)}},t.Ee=function(t,e,n,o,i){var r,a,s=this.g.length-1,c=this.ag();for(r=c.length-1;0<=r;--r){t.bindTexture(3553,c[r]);var u=0<r?this.o[r-1]:0;for(a=this.o[r];0<=s&&this.g[s]>=u;){var p=this.g[s],h=this.i[s];if(void 0===n[l(h).toString()]&&h.U()&&(void 0===i||tt(i,h.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hl(t,e,p,a),a=o(h)))return a;a=p,s--}}},t.gb=function(){this.qa=this.oa=this.height=this.C=this.D=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0,this.a=null,this.width=void 0},a(pc,lc),(t=pc.prototype).wc=function(t,e){this.g.push(this.b.length),this.i.push(e),cc(this,e=t.da(),e.length,t.pa())},t.yc=function(t,e){this.g.push(this.b.length),this.i.push(e),cc(this,e=t.da(),e.length,t.pa())},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o.push(this.b.length),this.s=new Gl(this.a),this.j=new Gl(this.b);var n={};uc(this.B,this.l,n,e),uc(this.N,this.c,n,e),this.c=this.l=null,lc.prototype.gb.call(this,t)},t.Zb=function(t){var e=t.Vc(),n=t.Y(1),o=t.He(),i=t.Eg(),r=t.i,a=t.bd(),s=t.s,c=t.f,u=t.oc();if(t=t.a,0===this.l.length)this.l.push(n);else{var p=this.l[this.l.length-1];l(p)!=l(n)&&(this.v.push(this.b.length),this.l.push(n))}0===this.c.length?this.c.push(i):l(p=this.c[this.c.length-1])!=l(i)&&(this.o.push(this.b.length),this.c.push(i)),this.D=e[0],this.C=e[1],this.height=u[1],this.oa=o[1],this.qa=o[0],this.opacity=r,this.T=a[0],this.O=a[1],this.rotation=c,this.rotateWithView=s,this.scale=t,this.width=u[0]},t.ig=function(t){return t?this.B.concat(this.N):this.B},t.ag=function(){return this.N};var dc=new Nl("precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),fc=new Ll("varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");function mc(t,e){Ul.call(this,t,e),this.v=null,this.o=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,u:!1}}function gc(t,e,n,o){var i,r=t.a.length,a=t.b.length,s="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,l="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,c=hc(e,n,o),u=a,p=1;for(i=0;i<n;i+=o){var h=r/7,d=f,f=m||[e[i],e[i+1]];if(0===i){var m=[e[i+o],e[i+o+1]];if(n-0==2*o&&Zt(f,m))break;if(!c){l&&(r=yc(t,[0,0],f,m,p*Cc*l,r),r=yc(t,[0,0],f,m,-p*Cc*l,r),t.b[a++]=h+2,t.b[a++]=h,t.b[a++]=h+1,t.b[a++]=h+1,t.b[a++]=h+3,t.b[a++]=h+2),r=yc(t,[0,0],f,m,p*Mc*(l||1),r),u=(r=yc(t,[0,0],f,m,-p*Mc*(l||1),r))/7-1;continue}d=[e[n-2*o],e[n-2*o+1]];var g=m}else{if(i===n-o){c?m=g:(r=yc(t,d=d||[0,0],f,[0,0],p*$c*(l||1),r),r=yc(t,d,f,[0,0],-p*$c*(l||1),r),t.b[a++]=h,t.b[a++]=u-1,t.b[a++]=u,t.b[a++]=u,t.b[a++]=h+1,t.b[a++]=h,l&&(r=yc(t,d,f,[0,0],p*_c*l,r),r=yc(t,d,f,[0,0],-p*_c*l,r),t.b[a++]=h+2,t.b[a++]=h,t.b[a++]=h+1,t.b[a++]=h+1,t.b[a++]=h+3,t.b[a++]=h+2));break}m=[e[i+o],e[i+o+1]]}var y=Wl(d[0],d[1],f[0],f[1],m[0],m[1])?-1:1;r=yc(t,d,f,m,y*xc*(s||1),r),r=yc(t,d,f,m,y*Sc*(s||1),r),r=yc(t,d,f,m,-y*Tc*(s||1),r),0<i&&(t.b[a++]=h,t.b[a++]=u-1,t.b[a++]=u,t.b[a++]=h+2,t.b[a++]=h,t.b[a++]=0<p*y?u:u-1),t.b[a++]=h,t.b[a++]=h+2,t.b[a++]=h+1,u=h+2,p=y,s&&(r=yc(t,d,f,m,y*kc*s,r),t.b[a++]=h+1,t.b[a++]=h+3,t.b[a++]=h)}c&&(h=h||r/7,r=yc(t,d,f,m,(y=oi([d[0],d[1],f[0],f[1],m[0],m[1]],0,6,2)?1:-1)*xc*(s||1),r),yc(t,d,f,m,-y*Tc*(s||1),r),t.b[a++]=h,t.b[a++]=u-1,t.b[a++]=u,t.b[a++]=h+1,t.b[a++]=h,t.b[a++]=0<p*y?u:u-1)}function yc(t,e,n,o,i,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=n[0],t.a[r++]=n[1],t.a[r++]=o[0],t.a[r++]=o[1],t.a[r++]=i,r}function vc(t,e,n,o){return!((n-=e)<2*o)&&(n!==2*o||!Zt([t[e],t[e+1]],[t[e+o],t[e+o+1]]))}function bc(t,e,n,o){var i;if(hc(e,e.length,o)||(e.push(e[0]),e.push(e[1])),gc(t,e,e.length,o),n.length)for(e=0,i=n.length;e<i;++e)hc(n[e],n[e].length,o)||(n[e].push(n[e][0]),n[e].push(n[e][1])),gc(t,n[e],n[e].length,o)}function wc(t,e,n){n=void 0===n?t.b.length:n,t.g.push(n),t.i.push(e),t.c.u&&(t.l.push(n),t.c.u=!1)}function Ec(t,e,n,o,i){e.uniform4fv(t.v.C,n),e.uniform1f(t.v.oa,o),e.uniform1f(t.v.O,i)}a(mc,Ul),(t=mc.prototype).uc=function(t,e){var n=t.da();t=t.pa(),vc(n,0,n.length,t)&&(n=mo(n,0,n.length,t,-this.origin[0],-this.origin[1]),this.c.u&&(this.l.push(this.b.length),this.c.u=!1),this.g.push(this.b.length),this.i.push(e),gc(this,n,n.length,t))},t.vc=function(t,e){var n=this.b.length,o=t.pb();o.unshift(0);var i,r=t.da();if(t=t.pa(),1<o.length){var a=1;for(i=o.length;a<i;++a)if(vc(r,o[a-1],o[a],t)){var s=mo(r,o[a-1],o[a],t,-this.origin[0],-this.origin[1]);gc(this,s,s.length,t)}}this.b.length>n&&(this.g.push(n),this.i.push(e),this.c.u&&(this.l.push(n),this.c.u=!1))},t.gb=function(){this.s=new Gl(this.a),this.j=new Gl(this.b),this.g.push(this.b.length),0===this.l.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,n=this.j;return function(){ec(t,e),ec(t,n)}},t.Bf=function(t,e,n,o){var i=ic(e,dc,fc);if(this.v)var r=this.v;else this.v=r=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.O=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.T=t.getUniformLocation(e,"o"),this.qa=t.getUniformLocation(e,"p"),this.l=t.getAttribLocation(e,"d"),this.b=t.getAttribLocation(e,"e"),this.s=t.getAttribLocation(e,"f"),this.f=t.getAttribLocation(e,"g")}(t,i);return e.cd(i),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,2,5126,!1,28,0),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,28,8),t.enableVertexAttribArray(r.s),t.vertexAttribPointer(r.s,2,5126,!1,28,16),t.enableVertexAttribArray(r.f),t.vertexAttribPointer(r.f,1,5126,!1,28,24),t.uniform2fv(r.T,n),t.uniform1f(r.qa,o),r},t.Cf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.s),t.disableVertexAttribArray(e.f)},t.Od=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),st(n)){var a=this.g[this.g.length-1];for(n=this.l.length-1;0<=n;--n){var s=this.l[n],c=this.o[n];Ec(this,t,c[0],c[1],c[2]),Hl(t,e,s,a),t.clear(t.DEPTH_BUFFER_BIT),a=s}}else{var u=this.g.length-2;for(c=a=this.g[u+1],s=this.l.length-1;0<=s;--s){var p=this.o[s];for(Ec(this,t,p[0],p[1],p[2]),p=this.l[s];0<=u&&this.g[u]>=p;){var h=this.g[u],d=this.i[u];n[d=l(d).toString()]&&(a!==c&&(Hl(t,e,a,c),t.clear(t.DEPTH_BUFFER_BIT)),c=h),u--,a=h}a!==c&&(Hl(t,e,a,c),t.clear(t.DEPTH_BUFFER_BIT)),a=c=p}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},t.Ee=function(t,e,n,o,i){var r,a,s=this.g.length-2,c=this.g[s+1];for(r=this.l.length-1;0<=r;--r){var u=this.o[r];for(Ec(this,t,u[0],u[1],u[2]),a=this.l[r];0<=s&&this.g[s]>=a;){u=this.g[s];var p=this.i[s];if(void 0===n[l(p).toString()]&&p.U()&&(void 0===i||tt(i,p.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hl(t,e,u,c),c=o(p)))return c;s--,c=u}}},t.Oa=function(t,e){t=e.f,this.c.lineCap=void 0!==t?t:"round",t=e.g,this.c.lineDash=t||Bl,t=e.i,this.c.lineDashOffset=t||0,t=e.j,this.c.lineJoin=void 0!==t?t:"round",t=(t=e.a)instanceof CanvasGradient||t instanceof CanvasPattern?ql:ba(t).map(function(t,e){return 3!=e?t/255:t})||ql;var n=e.c;n=void 0!==n?n:1,e=void 0!==(e=e.l)?e:10,this.c.strokeColor&&Zt(this.c.strokeColor,t)&&this.c.lineWidth===n&&this.c.miterLimit===e||(this.c.u=!0,this.c.strokeColor=t,this.c.lineWidth=n,this.c.miterLimit=e,this.o.push([t,n,e]))};var Mc=3,$c=5,Cc=7,_c=11,xc=13,Sc=17,Tc=19,kc=23,Ac=new Nl("precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Pc=new Ll("attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");function Dc(){this.b=this.a=this.g=void 0,this.c=0}function Ic(t){var e=t.b;if(e){var n=e.next,o=e.Eb;n&&(n.Eb=o),o&&(o.next=n),t.b=n||o,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=o?t.b.Eb:t.b),t.c--}}function Oc(t){if(t.b=t.g,t.b)return t.b.data}function Nc(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Lc(t){if(t.b&&t.b.next)return t.b.next.data}function Rc(t){if(t.b&&t.b.Eb)return t.b=t.b.Eb,t.b.data}function jc(t){if(t.b&&t.b.Eb)return t.b.Eb.data}function Fc(t){if(t.b)return t.b.data}function Uc(){this.a=rs.Jc(void 0),this.b={}}function Hc(t,e,n){var o=t.b[l(n)];F([o.fa,o.ea,o.la,o.ka],e)||(t.remove(n),t.Ca(e,n))}function Vc(t){return t.a.all().map(function(t){return t.value})}function Bc(t,e){return t.a.search({fa:e[0],ea:e[1],la:e[2],ka:e[3]}).map(function(t){return t.value})}function qc(t,e,n,o){return Wc(Bc(t,e),n,o)}function Wc(t,e,n){for(var o,i=0,r=t.length;i<r&&!(o=e.call(n,t[i]));i++);return o}function zc(t,e){Ul.call(this,t,e),this.f=new mc(t,e),this.v=null,this.o=[],this.c=[],this.l={fillColor:null,u:!1}}function Gc(t,e,n,o){var i=new Dc,r=new Uc;if(Yc(t,e,o,i,r,!0),e=Kc(i),n.length){var a,s=[],l=0;for(a=n.length;l<a;++l){var c={list:new Dc,Ec:void 0,gh:new Uc};s.push(c),Yc(t,n[l],o,c.list,c.gh,!1),Xc(c.list,c.gh,!0),c.Ec=Kc(c.list)}for(s.sort(function(t,e){return e.Ec[0]===t.Ec[0]?t.Ec[1]-e.Ec[1]:e.Ec[0]-t.Ec[0]}),l=0;l<s.length;++l){a=o=Oc(n=s[l].list);do{if(ru(a,r).length){var u=!0;break}a=Nc(n)}while(o!==a);!u&&Zc(n,s[l].Ec[0],i,e[0],r)&&(r.concat(s[l].gh),Xc(i,r,!1))}}else Xc(i,r,!1);!function t(e,n,o){for(var i=!1,r=tu(n,o);3<n.c;)if(r){if(!Jc(e,n,o,r,i)&&!Xc(n,o,i)&&!Qc(e,n,o,!0))break}else if(!Jc(e,n,o,r,i)&&!Xc(n,o,i)&&!Qc(e,n,o)){if(!(r=tu(n,o))){r=e,a=s=Oc(i=n);do{if((l=ru(a,o)).length){for(s=l[0],l=au(a.Z,a.X,s.Z,s.X),l=eu(r,l[0],l[1],r.a.length/2),c=new Dc,u=new Uc,nu(l,a.X,c,u),a.X=l,Hc(o,[Math.min(a.Z.x,l.x),Math.min(a.Z.y,l.y),Math.max(a.Z.x,l.x),Math.max(a.Z.y,l.y)],a),a=Nc(i);a!==s;)nu(a.Z,a.X,c,u),o.remove(a),Ic(i),a=Fc(i);nu(s.Z,l,c,u),s.Z=l,Hc(o,[Math.min(s.X.x,l.x),Math.min(s.X.y,l.y),Math.max(s.X.x,l.x),Math.max(s.X.y,l.y)],s),Xc(i,o,!1),t(r,i,o),Xc(c,u,!1),t(r,c,u);break}a=Nc(i)}while(a!==s);break}var a=2*(i=n).c,s=Array(a),l=Oc(i),c=l,u=0;do{s[u++]=c.Z.x,s[u++]=c.Z.y,c=Nc(i)}while(c!==l);i=!oi(s,0,a,2),Xc(n,o,i)}3===n.c&&(r=e.b.length,e.b[r++]=jc(n).Z.qb,e.b[r++]=Fc(n).Z.qb,e.b[r++]=Lc(n).Z.qb)}(t,i,r)}function Yc(t,e,n,o,i,r){var a,s=t.a.length/2,l=[],c=[];if(r===oi(e,0,e.length,n)){var u=r=eu(t,e[0],e[1],s++),p=n;for(a=e.length;p<a;p+=n){var h=eu(t,e[p],e[p+1],s++);c.push(nu(u,h,o)),l.push([Math.min(u.x,h.x),Math.min(u.y,h.y),Math.max(u.x,h.x),Math.max(u.y,h.y)]),u=h}}else for(u=r=eu(t,e[p=e.length-n],e[p+1],s++),p-=n,a=0;p>=a;p-=n)h=eu(t,e[p],e[p+1],s++),c.push(nu(u,h,o)),l.push([Math.min(u.x,h.x),Math.min(u.y,h.y),Math.max(u.x,h.x),Math.max(u.y,h.y)]),u=h;c.push(nu(h,r,o)),l.push([Math.min(u.x,h.x),Math.min(u.y,h.y),Math.max(u.x,h.x),Math.max(u.y,h.y)]),i.load(l,c)}function Kc(t){var e=Oc(t),n=e,o=[n.Z.x,n.Z.y];do{(n=Nc(t)).Z.x>o[0]&&(o=[n.Z.x,n.Z.y])}while(n!==e);return o}function Xc(t,e,n){var o=Oc(t),i=o,r=Nc(t),a=!1;do{var s=n?Wl(r.X.x,r.X.y,i.X.x,i.X.y,i.Z.x,i.Z.y):Wl(i.Z.x,i.Z.y,i.X.x,i.X.y,r.X.x,r.X.y);void 0===s?(ou(i,r,t,e),a=!0,r===o&&(o=Lc(t)),r=i,Rc(t)):i.X.Kb!==s&&(i.X.Kb=s,a=!0),i=r,r=Nc(t)}while(i!==o);return a}function Zc(t,e,n,o,i){for(var r=Oc(t);r.X.x!==e;)r=Nc(t);var a,s=1/0,l=ru({Z:e=r.X,X:o={x:o,y:e.y,qb:-1}},i,!0),c=0;for(a=l.length;c<a;++c){var u=l[c],p=au(e,o,u.Z,u.X,!0),h=Math.abs(e.x-p[0]);if(h<s&&void 0!==Wl(e.x,e.y,u.Z.x,u.Z.y,u.X.x,u.X.y)){s=h;var d={x:p[0],y:p[1],qb:-1};r=u}}if(1/0===s)return!1;if(l=r.X,0<s&&(r=iu(e,d,r.X,i)).length)for(d=1/0,c=0,a=r.length;c<a;++c)s=r[c],((u=Math.atan2(e.y-s.y,o.x-s.x))<d||u===d&&s.x<l.x)&&(d=u,l=s);for(r=Oc(n);r.X.x!==l.x||r.X.y!==l.y;)r=Nc(n);return o={x:e.x,y:e.y,qb:e.qb,Kb:void 0},c={x:r.X.x,y:r.X.y,qb:r.X.qb,Kb:void 0},Lc(t).Z=o,nu(e,r.X,t,i),nu(c,o,t,i),r.X=c,t.b&&(t.g=t.b,t.a=t.b.Eb),n.concat(t),!0}function Jc(t,e,n,o,i){var r=t.b.length,a=Oc(e),s=jc(e),l=a,c=Nc(e),u=Lc(e),p=!1;do{var h=l.Z,d=l.X,f=c.X;if(!1===d.Kb){var m=o?0===iu(h,d,f,n,!0).length:i?su(u.X,f,d,h,s.Z):su(s.Z,h,d,f,u.X);!o&&0!==ru({Z:h,X:f},n).length||!m||!o&&!1!==h.Kb&&!1!==f.Kb&&oi([s.Z.x,s.Z.y,h.x,h.y,d.x,d.y,f.x,f.y,u.X.x,u.X.y],0,10,2)!==!i||(t.b[r++]=h.qb,t.b[r++]=d.qb,t.b[r++]=f.qb,ou(l,c,e,n),c===a&&(a=u),p=!0)}s=jc(e),l=Fc(e),c=Nc(e),u=Lc(e)}while(l!==a&&3<e.c);return p}function Qc(t,e,n,o){var i=Oc(e);Nc(e);var r=i,a=Nc(e),s=!1;do{var l=au(r.Z,r.X,a.Z,a.X,o);if(l){s=t.b.length;var c=t.a.length/2,u=Rc(e);Ic(e),n.remove(u);var p=u===i;if(o?(l[0]===r.Z.x&&l[1]===r.Z.y?(Rc(e),l=r.Z,a.Z=l,n.remove(r),p=p||r===i):(l=a.X,r.X=l,n.remove(a),p=p||a===i),Ic(e)):(l=eu(t,l[0],l[1],c),r.X=l,a.Z=l,Hc(n,[Math.min(r.Z.x,r.X.x),Math.min(r.Z.y,r.X.y),Math.max(r.Z.x,r.X.x),Math.max(r.Z.y,r.X.y)],r),Hc(n,[Math.min(a.Z.x,a.X.x),Math.min(a.Z.y,a.X.y),Math.max(a.Z.x,a.X.x),Math.max(a.Z.y,a.X.y)],a)),t.b[s++]=u.Z.qb,t.b[s++]=u.X.qb,t.b[s++]=l.qb,s=!0,p)break}r=jc(e),a=Nc(e)}while(r!==i);return s}function tu(t,e){var n=Oc(t),o=n;do{if(ru(o,e).length)return!1;o=Nc(t)}while(o!==n);return!0}function eu(t,e,n,o){var i=t.a.length;return t.a[i++]=e,t.a[i++]=n,{x:e,y:n,qb:o,Kb:void 0}}function nu(t,e,n,o){var i={Z:t,X:e},r={Eb:void 0,next:void 0,data:i},a=n.b;if(a){var s=a.next;r.Eb=a,r.next=s,a.next=r,s&&(s.Eb=r),a===n.a&&(n.a=r)}else n.g=r,n.a=r,r.next=r,r.Eb=r;return n.b=r,n.c++,o&&o.Ca([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i}function ou(t,e,n,o){Fc(n)===e&&(Ic(n),t.X=e.X,o.remove(e),Hc(o,[Math.min(t.Z.x,t.X.x),Math.min(t.Z.y,t.X.y),Math.max(t.Z.x,t.X.x),Math.max(t.Z.y,t.X.y)],t))}function iu(t,e,n,o,i){var r,a,s=[],l=Bc(o,[Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,r=l.length;o<r;++o)for(a in l[o]){var c=l[o][a];"object"!=typeof c||i&&!c.Kb||c.x===t.x&&c.y===t.y||c.x===e.x&&c.y===e.y||c.x===n.x&&c.y===n.y||-1!==s.indexOf(c)||!Zo([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,c.x,c.y)||s.push(c)}return s}function ru(t,e,n){var o,i=t.Z,r=t.X,a=[],s=0;for(o=(e=Bc(e,[Math.min(i.x,r.x),Math.min(i.y,r.y),Math.max(i.x,r.x),Math.max(i.y,r.y)])).length;s<o;++s){var l=e[s];t!==l&&(n||l.Z!==r||l.X!==i)&&au(i,r,l.Z,l.X,n)&&a.push(l)}return a}function au(t,e,n,o,i){var r=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(0!==r&&(o=((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x))/r,n=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/r,!i&&o>zl&&o<1-zl&&n>zl&&n<1-zl||i&&0<=o&&1>=o&&0<=n&&1>=n))return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}function su(t,e,n,o,i){if(void 0===e.Kb||void 0===o.Kb)return!1;var r=(n.x-o.x)*(e.y-o.y)>(n.y-o.y)*(e.x-o.x);return i=(i.x-o.x)*(e.y-o.y)<(i.y-o.y)*(e.x-o.x),t=(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x),n=(n.x-e.x)*(o.y-e.y)<(n.y-e.y)*(o.x-e.x),e=e.Kb?n||t:n&&t,(o.Kb?i||r:i&&r)&&e}function lu(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.g=wi(t,t),this.i=this.g.canvas}function cu(t,e,n,o){e=[e,1],0<n.width&&0<n.height&&e.push(n),0<o.width&&0<o.height&&e.push(o),t.a.splice.apply(t.a,e)}function uu(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==e?e:2048,this.b=void 0!==t.space?t.space:1,this.f=[new lu(this.a,this.b)],this.c=this.a,this.i=[new lu(this.c,this.b)]}function pu(t,e){var n,o=0;for(n=t.length;o<n;++o){var i=t[o];if(i=i.get(e))return i}return null}function hu(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,Bm:e.image}}function du(t,e,n,o,i,r,a){var s,l=e?t.i:t.f,c=0;for(s=l.length;c<s;++c){var u=l[c];if(u=u.add(n,o,i,r,a))return u;u||c!==s-1||(e?(u=Math.min(2*t.c,t.g),t.c=u):(u=Math.min(2*t.a,t.g),t.a=u),u=new lu(u,t.b),l.push(u),++s)}return null}function fu(t,e){lc.call(this,t,e),this.c=[],this.ua=[],this.Ub=wi(0,0).canvas,this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.B={},this.l=void 0,this.opacity=this.scale=1}function mu(t,e){if(1===e.length){var n=t.l,o=t.N;(t=t.Ub.getContext("2d")).font=o.font,t=Math.ceil(t.measureText(e).width*o.scale),n.Bh.add(e,t,n.height,function(t,n,i){t.font=o.font,t.fillStyle=o.fillColor,t.strokeStyle=o.strokeColor,t.lineWidth=o.lineWidth,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.textAlign="left",t.textBaseline="top",Je&&o.lineDash&&(t.setLineDash(o.lineDash),t.lineDashOffset=o.lineDashOffset),1!==o.scale&&t.setTransform(o.scale,0,0,o.scale,0,0),o.strokeColor&&t.strokeText(e,n,i),o.fillColor&&t.fillText(e,n,i)})&&(n.width[e]=t)}}function gu(t,e,n){this.c=e,this.i=t,this.g=n,this.a={}}function yu(t,e){var n,o=[];for(n in t.a){var i,r=t.a[n];for(i in r)o.push(r[i].Db(e))}return function(){for(var t,e=o.length,n=0;n<e;n++)t=o[n].apply(this,arguments);return t}}function vu(t,e,n,o,i,r,a,s,l,c,u){var p,h,d=bu,f=Object.keys(t.a).map(Number);f.sort(function(t,e){return e-t});var m=0;for(p=f.length;m<p;++m){var g=t.a[f[m].toString()];for(h=ls.length-1;0<=h;--h){var y=g[ls[h]];if(void 0!==y&&(y=y.Na(e,n,o,i,d,r,a,s,l,c,u)))return y}}}Dc.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.Eb=this.b,e.Eb=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.g=t.g,this.a=t.a,this.c=t.c;t.b=void 0,t.g=void 0,t.a=void 0,t.c=0}},(t=Uc.prototype).Ca=function(t,e){t={fa:t[0],ea:t[1],la:t[2],ka:t[3],value:e},this.a.Ca(t),this.b[l(e)]=t},t.load=function(t,e){for(var n=Array(e.length),o=0,i=e.length;o<i;o++){var r=t[o],a=e[o];r={fa:r[0],ea:r[1],la:r[2],ka:r[3],value:a},n[o]=r,this.b[l(a)]=r}this.a.load(n)},t.remove=function(t){t=l(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},t.forEach=function(t,e){return Wc(Vc(this),t,e)},t.clear=function(){this.a.clear(),this.b={}},t.G=function(t){var e=this.a.data;return N(e.fa,e.ea,e.la,e.ka,t)},t.concat=function(t){for(var e in this.a.load(t.a.all()),t.b)this.b[0|e]=t.b[0|e]},a(zc,Ul),(t=zc.prototype).xc=function(t,e){var n,o,i,r=t.td(),a=t.pa(),s=this.b.length,l=this.f.b.length;t=t.da();var c=o=0;for(n=r.length;c<n;++c){var u=r[c];if(0<u.length){var p=mo(t,o,u[0],a,-this.origin[0],-this.origin[1]);if(p.length){var h=[];for(o=1,i=u.length;o<i;++o)if(u[o]!==u[o-1]){var d=mo(t,u[o-1],u[o],a,-this.origin[0],-this.origin[1]);h.push(d)}bc(this.f,p,h,a),Gc(this,p,h,a)}}o=u[u.length-1]}this.b.length>s&&(this.g.push(s),this.i.push(e),this.l.u&&(this.c.push(s),this.l.u=!1)),this.f.b.length>l&&wc(this.f,e,l)},t.zc=function(t,e){var n=t.pb(),o=t.pa();if(0<n.length){var i=mo(t=t.da().map(Number),0,n[0],o,-this.origin[0],-this.origin[1]);if(i.length){var r,a=[],s=1;for(r=n.length;s<r;++s)if(n[s]!==n[s-1]){var l=mo(t,n[s-1],n[s],o,-this.origin[0],-this.origin[1]);a.push(l)}this.g.push(this.b.length),this.i.push(e),this.l.u&&(this.c.push(this.b.length),this.l.u=!1),wc(this.f,e),bc(this.f,i,a,o),Gc(this,i,a,o)}}},t.gb=function(t){this.s=new Gl(this.a),this.j=new Gl(this.b),this.g.push(this.b.length),this.f.gb(t),0===this.c.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,n=this.j,o=this.f.Db(t);return function(){ec(t,e),ec(t,n),o()}},t.Bf=function(t,e){var n=ic(e,Ac,Pc);if(this.v)var o=this.v;else this.v=o=new function(t,e){this.g=t.getUniformLocation(e,"b"),this.i=t.getUniformLocation(e,"c"),this.c=t.getUniformLocation(e,"d"),this.C=t.getUniformLocation(e,"e"),this.a=t.getUniformLocation(e,"f"),this.b=t.getAttribLocation(e,"a")}(t,n);return e.cd(n),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,8,0),o},t.Cf=function(t,e){t.disableVertexAttribArray(e.b)},t.Od=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),st(n)){var a=this.g[this.g.length-1];for(n=this.c.length-1;0<=n;--n){var s=this.c[n],c=this.o[n];t.uniform4fv(this.v.C,c),Hl(t,e,s,a),a=s}}else{var u=this.g.length-2;for(c=a=this.g[u+1],s=this.c.length-1;0<=s;--s){var p=this.o[s];for(t.uniform4fv(this.v.C,p),p=this.c[s];0<=u&&this.g[u]>=p;){var h=this.g[u],d=this.i[u];n[d=l(d).toString()]&&(a!==c&&(Hl(t,e,a,c),t.clear(t.DEPTH_BUFFER_BIT)),c=h),u--,a=h}a!==c&&(Hl(t,e,a,c),t.clear(t.DEPTH_BUFFER_BIT)),a=c=p}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},t.Ee=function(t,e,n,o,i){var r,a,s=this.g.length-2,c=this.g[s+1];for(r=this.c.length-1;0<=r;--r){var u=this.o[r];for(t.uniform4fv(this.v.C,u),a=this.c[r];0<=s&&this.g[s]>=a;){u=this.g[s];var p=this.i[s];if(void 0===n[l(p).toString()]&&p.U()&&(void 0===i||tt(i,p.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hl(t,e,u,c),c=o(p)))return c;s--,c=u}}},t.Oa=function(t,e){t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?Vl:ba(t).map(function(t,e){return 3!=e?t/255:t})||Vl,this.l.fillColor&&Zt(t,this.l.fillColor)||(this.l.fillColor=t,this.l.u=!0,this.o.push(t)),e?this.f.Oa(null,e):this.f.Oa(null,new al({color:[0,0,0,0],lineWidth:0}))},lu.prototype.get=function(t){return this.c[t]||null},lu.prototype.add=function(t,e,n,o,i){var r,a=0;for(r=this.a.length;a<r;++a){var s=this.a[a];if(s.width>=e+this.b&&s.height>=n+this.b)return r={offsetX:s.x+this.b,offsetY:s.y+this.b,image:this.i},this.c[t]=r,o.call(i,this.g,s.x+this.b,s.y+this.b),t=a,e+=this.b,o=n+this.b,s.width-e>s.height-o?cu(this,t,n={x:s.x+e,y:s.y,width:s.width-e,height:s.height},e={x:s.x,y:s.y+o,width:e,height:s.height-o}):cu(this,t,n={x:s.x+e,y:s.y,width:s.width-e,height:o},e={x:s.x,y:s.y+o,width:s.width,height:s.height-o}),r}return null},uu.prototype.add=function(t,e,n,o,i,r){return e+this.b>this.g||n+this.b>this.g?null:(o=du(this,!1,t,e,n,o,r))?hu(o,t=du(this,!0,t,e,n,void 0!==i?i:s,r)):null},a(fu,lc),(t=fu.prototype).Wb=function(t,e){if(this.ta){var n=null,o=2,i=2;switch(t.S()){case"Point":case"MultiPoint":o=(n=t.da()).length,i=t.pa();break;case"Circle":n=t.xa();break;case"LineString":n=t.Fe();break;case"MultiLineString":o=(n=t.Ge()).length;break;case"Polygon":n=t.Td();break;case"MultiPolygon":o=(n=th(t)).length}this.g.push(this.b.length),this.i.push(e),t=this.l;var r,a,s=function(t,e){var n=t.l,o=e.length*n.height;return[e.map(function(e){var o,i=0,r=0;for(o=e.length;r<o;++r){var a=e[r];n.width[a]||mu(t,a),i+=n.width[a]?n.width[a]:0}return i}).reduce(function(t,e){return Math.max(t,e)}),o]}(this,e=this.ta.split("\n")),c=Math.round(s[0]*this.ab-this.$),u=Math.round(s[1]*this.ra-this.ca),p=this.N.lineWidth/2*this.N.scale;for(s=0,r=e.length;s<r;++s){var h=0,d=t.height*s,f=e[s].split(""),m=0;for(a=f.length;m<a;++m){var g=t.Bh,y=f[m],v=pu(g.f,y);if(v?g=hu(v,g=pu(g.i,y)):g=null,g){v=g.image,this.D=c-h,this.C=u-d,this.T=0===m?g.offsetX-p:g.offsetX,this.O=g.offsetY,this.height=t.height,this.width=0===m||m===f.length-1?t.width[f[m]]+p:t.width[f[m]],this.oa=v.height,this.qa=v.width,0===this.c.length?this.c.push(v):l(g=this.c[this.c.length-1])!=l(v)&&(this.v.push(this.b.length),this.c.push(v)),g=n,y=o;var b=i;for(v=0;v<y;v+=b)cc(this,g,y,b)}h+=this.width}}}},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o=this.v,this.s=new Gl(this.a),this.j=new Gl(this.b),uc(this.ua,this.c,{},e),this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.c=null,this.B={},this.l=void 0,lc.prototype.gb.call(this,t)},t.nb=function(t){var e=this.N,n=t.Fa(),o=t.Ga();if(t&&t.Ka()&&(n||o)){for(var i in n?(n=n.b,e.fillColor=$a(n||Vl)):e.fillColor=null,o?(n=o.a,e.strokeColor=$a(n||ql),e.lineWidth=o.c||1,e.lineCap=o.f||"round",e.lineDashOffset=o.i||0,e.lineJoin=o.j||"round",e.miterLimit=o.l||10,o=o.g,e.lineDash=o?o.slice():Bl):(e.strokeColor=null,e.lineWidth=0),e.font=t.a||"10px sans-serif",e.scale=t.b||1,this.ta=t.Ka(),o=cs[t.f],n=cs[t.j],this.ab=void 0===o?.5:o,this.ra=void 0===n?.5:n,this.$=t.g||0,this.ca=t.c||0,this.rotateWithView=!!t.l,this.rotation=t.i||0,t=[],e)(e[i]||0===e[i])&&(Array.isArray(e[i])?t=t.concat(e[i]):t.push(e[i]));for(n="",i=0,o=t.length;i<o;++i)n+=t[i];i=n,this.B[i]||((t=this.Ub.getContext("2d")).font=e.font,t=Math.ceil((1.5*t.measureText("M").width+e.lineWidth/2)*e.scale),this.B[i]={Bh:new uu({space:e.lineWidth+1}),width:{},height:t}),this.l=this.B[i]}else this.ta=""},t.ig=function(){return this.ua},t.ag=function(){return this.ua},a(gu,as),(t=gu.prototype).Vb=function(){},t.Ja=function(t,e){var n=void 0!==t?t.toString():"0";return void 0===(t=this.a[n])&&(t={},this.a[n]=t),void 0===(n=t[e])&&(n=new wu[e](this.i,this.c),t[e]=n),n},t.yg=function(){return st(this.a)},t.Na=function(t,e,n,o,i,r,a,s){var l,c,u=Object.keys(this.a).map(Number);u.sort(zt);var p=0;for(l=u.length;p<l;++p){var h=this.a[u[p].toString()],d=0;for(c=ls.length;d<c;++d){var f=h[ls[d]];void 0!==f&&f.Na(t,e,n,o,i,r,a,s,void 0,!1)}}},t.wa=function(t,e,n,o,i,r,a,s,l,c){var u,p=e.b;return p.bindFramebuffer(p.FRAMEBUFFER,nc(e)),void 0!==this.g&&(u=S(R(t),o*this.g)),vu(this,e,t,o,i,a,s,l,function(t){var e=new Uint8Array(4);if(p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,e),0<e[3]&&(t=c(t)))return t},!0,u)};var bu=[1,1],wu={Circle:Kl,Image:pc,LineString:mc,Polygon:zc,Text:fu};function Eu(t,e,n,o,i,r,a){this.b=t,this.g=e,this.c=r,this.i=a,this.l=i,this.j=o,this.f=n,this.a=this.s=this.v=this.o=null}function Mu(t,e,n){var o=t.b;(e=e.Ja(0,"Text")).nb(t.a),e.Wb(n,null),e.gb(o),e.Na(t.b,t.g,t.f,t.j,t.l,t.i,1,{},void 0,!1),e.Db(o)()}a(Eu,Ca),(t=Eu.prototype).Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t,null);break;case"LineString":this.uc(t,null);break;case"Polygon":this.zc(t,null);break;case"MultiPoint":this.wc(t,null);break;case"MultiLineString":this.vc(t,null);break;case"MultiPolygon":this.xc(t,null);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t,null)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&tt(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e,n=0;for(e=(t=t.a).length;n<e;++n)this.Hb(t[n])},t.yc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"Image");i.Zb(this.o),i.yc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.wc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"Image");i.Zb(this.o),i.wc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.uc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"LineString");i.Oa(null,this.s),i.uc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.vc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"LineString");i.Oa(null,this.s),i.vc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.zc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"Polygon");i.Oa(this.v,this.s),i.zc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.xc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"Polygon");i.Oa(this.v,this.s),i.xc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.cc=function(t,e){var n=this.b,o=new gu(1,this.c),i=o.Ja(0,"Circle");i.Oa(this.v,this.s),i.cc(t,e),i.gb(n),i.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),i.Db(n)(),this.a&&Mu(this,o,t)},t.Zb=function(t){this.o=t},t.Oa=function(t,e){this.v=t,this.s=e},t.nb=function(t){this.a=t};var $u=new Nl("precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),Cu=new Ll("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");function _u(t,e){Da.call(this,e),this.c=t,this.V=new Gl([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.f=this.Mb=null,this.j=void 0,this.v=[1,0,0,1,0,0],this.N=[1,0,0,1,0,0],this.C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.o=null}function xu(t,e,n,o){if(Te(t=t.a,e)){var i=o.viewState;t.b(new Qr(e,new Eu(n,i.center,i.resolution,i.rotation,o.size,o.extent,o.pixelRatio),o,null,n))}}function Su(t,e){_u.call(this,t,e),this.l=this.i=this.M=null}function Tu(t,e){Ya.call(this,t,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.N=this.D=0,this.C=wi(),this.s=!0,this.g=Be(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Ql(this.b,this.g),ve(this.b,"webglcontextlost",this.Co,this),ve(this.b,"webglcontextrestored",this.Do,this),this.a=new ta,this.o=null,this.j=new jn(function(t){var e=t[1];t=t[2];var n=e[0]-this.o[0];return e=e[1]-this.o[1],65536*Math.log(t)+Math.sqrt(n*n+e*e)/t}.bind(this),function(t){return t[0].lb()}),this.B=function(){if(0!==this.j.b.length){Vn(this.j);var t=Fn(this.j);ku(this,t[0],t[3],t[4])}return!1}.bind(this),this.f=0,Pu(this)}function ku(t,e,n,o){var i=t.g,r=e.lb();if(t.a.a.hasOwnProperty(r))t=t.a.get(r),i.bindTexture(3553,t.Mb),9729!=t.hi&&(i.texParameteri(3553,10240,9729),t.hi=9729),9729!=t.ji&&(i.texParameteri(3553,10241,9729),t.ji=9729);else{var a=i.createTexture();if(i.bindTexture(3553,a),0<o){var s=t.C.canvas,l=t.C;t.D!==n[0]||t.N!==n[1]?(s.width=n[0],s.height=n[1],t.D=n[0],t.N=n[1]):l.clearRect(0,0,n[0],n[1]),l.drawImage(e.Y(),o,o,n[0],n[1],0,0,n[0],n[1]),i.texImage2D(3553,0,6408,6408,5121,s)}else i.texImage2D(3553,0,6408,6408,5121,e.Y());i.texParameteri(3553,10240,9729),i.texParameteri(3553,10241,9729),i.texParameteri(3553,10242,33071),i.texParameteri(3553,10243,33071),t.a.set(r,{Mb:a,hi:9729,ji:9729})}}function Au(t,e,n){var o=t.l;if(Te(o,e)){t=t.i;var i=n.viewState;o.b(new Qr(e,new Eu(t,i.center,i.resolution,i.rotation,n.size,n.extent,n.pixelRatio),n,null,t))}}function Pu(t){(t=t.g).activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}a(_u,Da),_u.prototype.Zi=function(t,e,n){xu(this,"precompose",n,t),tc(n,34962,this.V);var o=n.b,i=ic(n,$u,Cu);if(this.o)var r=this.o;else this.o=r=new function(t,e){this.f=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"f"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}(o,i);n.cd(i)&&(o.enableVertexAttribArray(r.b),o.vertexAttribPointer(r.b,2,5126,!1,16,0),o.enableVertexAttribArray(r.a),o.vertexAttribPointer(r.a,2,5126,!1,16,8),o.uniform1i(r.i,0)),o.uniformMatrix4fv(r.f,!1,Fl(this.C,this.v)),o.uniformMatrix4fv(r.c,!1,Fl(this.C,this.N)),o.uniform1f(r.g,e.opacity),o.bindTexture(3553,this.Mb),o.drawArrays(5,0,4),xu(this,"postcompose",n,t)},_u.prototype.Ag=function(){this.f=this.Mb=null,this.j=void 0},a(Su,_u),Su.handles=function(t,e){return"webgl"===t&&"IMAGE"===e.S()},Su.create=function(t,e){return new Su(t,e)},Su.prototype.wa=function(t,e,n,o,i){var r=this.a;return r.ha().wa(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Su.prototype.Bg=function(t,e){var n=this.c.g,o=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,s=i.rotation,l=this.M,c=this.Mb,u=this.a.ha(),p=t.viewHints,h=t.extent;return void 0!==e.extent&&(h=X(h,e.extent)),p[0]||p[1]||et(h)||(e=u.Y(h,a,o,i.projection))&&Ia(this,e)&&(l=e,c=function(t,e){return e=e.Y(),sc(t.c.g,e)}(this,e),this.Mb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.Mb))),l&&(function(t,e,n,o,i,r,a,s){e*=r,n*=r,yo(t=t.N),$o(t,2*o/e,2*o/n),Mo(t,-a),Co(t,s[0]-i[0],s[1]-i[1]),$o(t,(s[2]-s[0])/2,(s[3]-s[1])/2),Co(t,1,1)}(this,(n=this.c.i.j).width,n.height,o,r,a,s,l.G()),this.l=null,yo(o=this.v),$o(o,1,-1),Co(o,0,-1),this.M=l,this.Mb=c,La(t,u)),!!l},Su.prototype.cf=function(t,e){return void 0!==this.wa(t,e,0,po,this)},Su.prototype.zg=function(t,e,n,o){if(this.M&&this.M.Y())if(this.a.ha().wa!==s){var i=Eo(e.pixelToCoordinateTransform,t.slice());if(this.wa(i,e,0,po,this))return n.call(o,this.a,null)}else{if(i=[this.M.Y().width,this.M.Y().height],!this.l){var r=e.size;Co(e=[1,0,0,1,0,0],-1,-1),$o(e,2/r[0],2/r[1]),Co(e,0,r[1]),$o(e,1,-1),r=xo(this.N.slice());var a=[1,0,0,1,0,0];Co(a,0,i[1]),$o(a,1,-1),$o(a,i[0]/2,i[1]/2),Co(a,1,1),vo(a,r),vo(a,e),this.l=a}if(!(0>(t=Eo(this.l,t.slice()))[0]||t[0]>i[0]||0>t[1]||t[1]>i[1])&&(this.i||(this.i=wi(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),t[0],t[1],1,1,0,0,1,1),0<(i=this.i.getImageData(0,0,1,1).data)[3]))return n.call(o,this.a,i)}},a(Tu,Ya),Tu.handles=function(t){return qe&&"webgl"===t},Tu.create=function(t,e){return new Tu(t,e)},(t=Tu.prototype).ia=function(){var t=this.g;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.Mb)}),Ce(this.i),Ya.prototype.ia.call(this)},t.Yk=function(t,e){t=this.g;for(var n;1024<this.a.i-this.f;){if(n=this.a.g.Pc)t.deleteTexture(n.Mb);else{if(+this.a.g.jc==e.index)break;--this.f}this.a.pop()}},t.S=function(){return"webgl"},t.Co=function(t){for(var e in t.preventDefault(),this.a.clear(),this.f=0,t=this.c)t[e].Ag()},t.Do=function(){Pu(this),this.l.render()},t.bh=function(t){var e=this.i,n=this.g;if(n.isContextLost())return!1;if(!t)return this.s&&(this.b.style.display="none",this.s=!1),!1;this.o=t.focus,this.a.set((-t.index).toString(),null),++this.f,Au(this,"precompose",t);var o=[],i=t.layerStatesArray;Jt(i);var r,a=t.viewState.resolution,s=0;for(r=i.length;s<r;++s){var l=i[s];if(ji(l,a)&&"ready"==l.Vj){var c=Za(this,l.layer);c.Bg(t,l,e)&&o.push(l)}}for(i=t.size[0]*t.pixelRatio,a=t.size[1]*t.pixelRatio,this.b.width==i&&this.b.height==a||(this.b.width=i,this.b.height=a),n.bindFramebuffer(36160,null),n.clearColor(0,0,0,0),n.clear(16384),n.enable(3042),n.viewport(0,0,this.b.width,this.b.height),s=0,r=o.length;s<r;++s)(c=Za(this,(l=o[s]).layer)).Zi(t,l,e);this.s||(this.b.style.display="",this.s=!0),Ka(t),1024<this.a.i-this.f&&t.postRenderFunctions.push(this.Yk.bind(this)),0!==this.j.b.length&&(t.postRenderFunctions.push(this.B),t.animate=!0),Au(this,"postcompose",t),Qa(this,t),t.postRenderFunctions.push(Xa)},t.wa=function(t,e,n,o,i,r,a){if(this.g.isContextLost())return!1;var s,l=e.viewState,c=e.layerStatesArray;for(s=c.length-1;0<=s;--s){var u=c[s],p=u.layer;if(ji(u,l.resolution)&&r.call(a,p)&&(u=Za(this,p).wa(t,e,n,o,i)))return u}},t.Ui=function(t,e,n,o,i){if(n=!1,this.g.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var l=s[r],c=l.layer;if(ji(l,a.resolution)&&o.call(i,c)&&(n=Za(this,c).cf(t,e)))return!0}return n},t.Ti=function(t,e,n,o,i){if(this.g.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var l=s[r],c=l.layer;if(ji(l,a.resolution)&&i.call(o,c)&&(l=Za(this,c).zg(t,e,n,o)))return l}};var Du=new Nl("precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Iu=new Ll("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");function Ou(t,e){_u.call(this,t,e),this.T=Du,this.ca=Iu,this.i=null,this.B=new Gl([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.l=null,this.s=-1,this.O=[0,0]}function Nu(t,e){_u.call(this,t,e),this.s=!1,this.O=-1,this.T=NaN,this.D=[1/0,1/0,-1/0,-1/0],this.l=this.i=this.B=null}function Lu(t){(t=it({},t)).controls||(t.controls=Wi()),t.interactions||(t.interactions=Xr()),Pi.call(this,t)}function Ru(t){Ae.call(this),this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={ze:"",Se:"",xf:"",Ef:"",visible:!0},this.c=null,ve(this,De(Hu),this.am,this),ve(this,De(Vu),this.km,this),ve(this,De(Bu),this.om,this),ve(this,De(qu),this.qm,this),ve(this,De(Wu),this.rm,this),void 0!==t.element&&this.Hj(t.element),this.Mj(void 0!==t.offset?t.offset:[0,0]),this.Pj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.We(t.position)}function ju(t,e){var n=t.getBoundingClientRect();return[t=n.left+window.pageXOffset,n=n.top+window.pageYOffset,t+e[0],n+e[1]]}function Fu(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function Uu(t){var e=t.Ve(),n=t.pi();if(e&&e.c&&n){n=e.Ia(n);var o=e.Cb();e=t.element.style;var i=t.Xh(),r=t.Yh();Fu(t,!0);var a=i[0];i=i[1],"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.Se&&(t.a.Se=e.left=""),a=Math.round(o[0]-n[0]-a)+"px",t.a.xf!=a&&(t.a.xf=e.right=a)):(""!==t.a.xf&&(t.a.xf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a-=t.element.offsetWidth/2),a=Math.round(n[0]+a)+"px",t.a.Se!=a&&(t.a.Se=e.left=a)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.Ef&&(t.a.Ef=e.top=""),n=Math.round(o[1]-n[1]-i)+"px",t.a.ze!=n&&(t.a.ze=e.bottom=n)):(""!==t.a.ze&&(t.a.ze=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(i-=t.element.offsetHeight/2),n=Math.round(n[1]+i)+"px",t.a.Ef!=n&&(t.a.Ef=e.top=n))}else Fu(t,!1)}a(Ou,_u),Ou.handles=function(t,e){return"webgl"===t&&"TILE"===e.S()},Ou.create=function(t,e){return new Ou(t,e)},(t=Ou.prototype).ia=function(){ec(this.c.i,this.B),_u.prototype.ia.call(this)},t.Rf=function(t,e,n){var o=this.c;return function(i,r){return $w(t,e,i,r,function(t){var e=o.a.a.hasOwnProperty(t.lb());return e&&(n[i]||(n[i]={}),n[i][t.ya.toString()]=t),e})}},t.Ag=function(){_u.prototype.Ag.call(this),this.i=null},t.Bg=function(t,e,n){var o=this.c,i=n.b,r=t.viewState,a=r.projection,s=this.a,l=s.ha(),c=l.eb(a),u=c.Dc(r.resolution),h=c.Ta(u),d=l.Zd(u,t.pixelRatio,a),m=d[0]/_(c.Za(u),this.O)[0],g=h/m,y=l.Xc(m)*l.Zf(a),v=r.center,b=t.extent,w=re(c,b,u);if(this.l&&function(t,e){return t.fa==e.fa&&t.ea==e.ea&&t.la==e.la&&t.ka==e.ka}(this.l,w)&&this.s==l.g)g=this.D;else{var E=[w.la-w.fa+1,w.ka-w.ea+1],M=function(t){return f(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(Math.max(E[0]*d[0],E[1]*d[1]));E=g*M;var C=c.Ic(u),x=C[0]+w.fa*d[0]*g;g=[x,g=C[1]+w.ea*d[1]*g,x+E,g+E],function(t,e,n){var o=t.c.g;if(void 0===t.j||t.j!=n){e.postRenderFunctions.push(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,o,t.f,t.Mb)),e=ac(o,n,n);var i=o.createFramebuffer();o.bindFramebuffer(36160,i),o.framebufferTexture2D(36160,36064,3553,e,0),t.Mb=e,t.f=i,t.j=n}else o.bindFramebuffer(36160,t.f)}(this,t,M),i.viewport(0,0,M,M),i.clearColor(0,0,0,0),i.clear(16384),i.disable(3042),M=ic(n,this.T,this.ca),n.cd(M),this.i||(this.i=new function(t,e){this.c=t.getUniformLocation(e,"d"),this.g=t.getUniformLocation(e,"e"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}(i,M)),tc(n,34962,this.B),i.enableVertexAttribArray(this.i.b),i.vertexAttribPointer(this.i.b,2,5126,!1,16,0),i.enableVertexAttribArray(this.i.a),i.vertexAttribPointer(this.i.a,2,5126,!1,16,8),i.uniform1i(this.i.g,0),(n={})[u]={};var S=this.Rf(l,a,n),T=s.i();M=!0,x=[1/0,1/0,-1/0,-1/0];var k,A,P,D=new p(0,0,0,0);for(k=w.fa;k<=w.la;++k)for(A=w.ea;A<=w.ka;++A){if(C=l.ad(u,k,A,m,a),void 0!==e.extent){var I=c.Ma(C.ya,x);if(!tt(I,e.extent))continue}if((I=2==(I=C.getState())||4==I||3==I&&!T)||(C=Sl(C)),2==(I=C.getState())){if(o.a.a.hasOwnProperty(C.lb())){n[u][C.ya.toString()]=C;continue}}else if(4==I||3==I&&!T)continue;M=!1,(I=oe(c,C.ya,S,D,x))||(C=ie(c,C.ya,D,x))&&S(u+1,C)}for((e=Object.keys(n).map(Number)).sort(zt),S=new Float32Array(4),T=0,D=e.length;T<D;++T)for(P in k=n[e[T]])C=k[P],I=c.Ma(C.ya,x),S[0]=2*(I[2]-I[0])/E,S[1]=2*(I[3]-I[1])/E,S[2]=2*(I[0]-g[0])/E-1,S[3]=2*(I[1]-g[1])/E-1,i.uniform4fv(this.i.c,S),ku(o,C,d,y*m),i.drawArrays(5,0,4);M?(this.l=w,this.D=g,this.s=l.g):(this.D=this.l=null,this.s=-1,t.animate=!0)}Ra(t.usedTiles,l,u,w);var O=o.j;return ja(t,l,c,m,a,b,u,s.c(),function(t){2!=t.getState()||o.a.a.hasOwnProperty(t.lb())||t.lb()in O.a||O.i([t,ae(c,t.ya),c.Ta(t.ya[0]),d,y*m])},this),Na(t,l),La(t,l),yo(i=this.v),Co(i,(Math.round(v[0]/h)*h-g[0])/(g[2]-g[0]),(Math.round(v[1]/h)*h-g[1])/(g[3]-g[1])),0!==r.rotation&&Mo(i,r.rotation),$o(i,t.size[0]*r.resolution/(g[2]-g[0]),t.size[1]*r.resolution/(g[3]-g[1])),Co(i,-.5,-.5),!0},t.zg=function(t,e,n,o){if(this.f){t=[(t=Eo(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()))[0]*this.j,t[1]*this.j],(e=this.c.i.b).bindFramebuffer(e.FRAMEBUFFER,this.f);var i=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,i),0<i[3])return n.call(o,this.a,i)}},a(Nu,_u),Nu.handles=function(t,e){return"webgl"===t&&"VECTOR"===e.S()},Nu.create=function(t,e){return new Nu(t,e)},(t=Nu.prototype).Zi=function(t,e,n){this.l=e;var o=t.viewState,i=this.i,r=t.size,a=t.pixelRatio,s=this.c.g;i&&!i.yg()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,r[0]*a,r[1]*a),i.Na(n,o.center,o.resolution,o.rotation,r,a,e.opacity,e.Te?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},t.ia=function(){var t=this.i;t&&(yu(t,this.c.i)(),this.i=null),_u.prototype.ia.call(this)},t.wa=function(t,e,n,o,i){if(this.i&&this.l){n=e.viewState;var r=this.a,a={};return this.i.wa(t,this.c.i,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=l(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},t.cf=function(t,e){if(this.i&&this.l){var n=e.viewState;return function(t,e,n,o,i,r,a,s){var l=n.b;return l.bindFramebuffer(l.FRAMEBUFFER,nc(n)),void 0!==vu(t,n,e,o,i,r,a,s,function(){var t=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,t),0<t[3]},!1)}(this.i,t,this.c.i,n.resolution,n.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},t.zg=function(t,e,n,o){if(t=Eo(e.pixelToCoordinateTransform,t.slice()),this.cf(t,e))return n.call(o,this.a,null)},t.$i=function(){Oa(this)},t.Bg=function(t,e,n){function o(t){var e=t.ib();if(e)var n=e.call(t,c);else(e=i.ib())&&(n=e(t,c));if(n){if(n){if(e=!1,Array.isArray(n))for(var o=n.length-1;0<=o;--o)e=Hs(h,t,n[o],Us(c,u),this.$i,this)||e;else e=Hs(h,t,n,Us(c,u),this.$i,this)||e;t=e}else t=!1;this.s=this.s||t}}var i=this.a;La(t,e=i.ha());var r=t.viewHints[0],a=t.viewHints[1],s=i.ca,l=i.ra;if(!this.s&&!s&&r||!l&&a)return!0;a=t.extent,r=(s=t.viewState).projection;var c=s.resolution,u=t.pixelRatio;s=i.g;var p=i.f;if(void 0===(l=i.get(Bv))&&(l=Fs),a=S(a,p*c),!this.s&&this.T==c&&this.O==s&&this.B==l&&P(this.D,a))return!0;this.i&&t.postRenderFunctions.push(yu(this.i,n)),this.s=!1;var h=new gu(.5*c/u,a,i.f);if(e.ae(a,c,r),l){var d=[];e.ec(a,function(t){d.push(t)},this),d.sort(l),d.forEach(o,this)}else e.ec(a,o,this);return function(t,e){for(var n in t.a){var o,i=t.a[n];for(o in i)i[o].gb(e)}}(h,n),this.T=c,this.O=s,this.B=l,this.D=a,this.i=h,!0},ki("MAP_RENDERER",es),Ai([qa,os,Bs,qs]),ki("MAP_RENDERER",Tu),Ai([Su,Ou,Nu]),a(Lu,Pi),a(Ru,Ae),(t=Ru.prototype).Rd=function(){return this.get(Hu)},t.nn=function(){return this.id},t.Ve=function(){return this.get(Vu)},t.Xh=function(){return this.get(Bu)},t.pi=function(){return this.get(qu)},t.Yh=function(){return this.get(Wu)},t.am=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.element.appendChild(t)},t.km=function(){this.c&&(Mi(this.element),Ee(this.c),this.c=null);var t=this.Ve();t&&(this.c=ve(t,"postrender",this.render,this),Uu(this),t=this.stopEvent?t.v:t.o,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},t.render=function(){Uu(this)},t.om=function(){Uu(this)},t.qm=function(){if(Uu(this),this.get(qu)&&this.autoPan){var t=this.Ve();if(t&&t.Cc()){var e=ju(t.Cc(),t.Cb()),n=this.Rd(),o=n.offsetWidth,i=getComputedStyle(n);o+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),i=n.offsetHeight;var r=getComputedStyle(n),a=ju(n,[o,i+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)]);n=this.autoPanMargin,P(e,a)||(o=a[0]-e[0],i=e[2]-a[2],r=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>o?e[0]=o-n:0>i&&(e[0]=Math.abs(i)+n),0>r?e[1]=r-n:0>a&&(e[1]=Math.abs(a)+n),0===e[0]&&0===e[1])||(n=t.aa().xa(),e=[(n=t.Ia(n))[0]+e[0],n[1]+e[1]],t.aa().animate({center:t.Ra(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},t.rm=function(){Uu(this)},t.Hj=function(t){this.set(Hu,t)},t.setMap=function(t){this.set(Vu,t)},t.Mj=function(t){this.set(Bu,t)},t.We=function(t){this.set(qu,t)},t.Pj=function(t){this.set(Wu,t)};var Hu="element",Vu="map",Bu="offset",qu="position",Wu="positioning";function zu(t,e,n,o,i,r){xl.call(this,t,e,r),this.c=0,this.l=null,this.v=o,this.a=null,this.f={},this.C=i,this.N=n}function Gu(t,e,n){return t.f[l(e)+","+n]}a(zu,xl),(t=zu.prototype).ia=function(){this.a=null,this.f={},this.state=5,this.u(),xl.prototype.ia.call(this)},t.G=function(){return this.l||Yu},t.qn=function(){return this.v},t.pn=function(){return this.a},t.lb=function(){return this.N},t.rn=function(){return this.o},t.load=function(){0==this.state&&(kl(this,1),this.C(this,this.N),this.D(null,NaN,null))},t.Cp=function(t,e,n){this.vg(e),this.Ij(t),this.ri(n)},t.Bp=function(){kl(this,3)},t.ri=function(t){this.l=t},t.Ij=function(t){this.a=t,kl(this,2)},t.vg=function(t){this.o=t},t.ug=function(t){this.D=t};var Yu=[0,0,4096,4096];function Ku(t){t=t||{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"",this.v="string"==typeof e?document.createTextNode(e):e;var n=t.tipLabel?t.tipLabel:"Toggle full-screen";(e=document.createElement("button")).className=this.c+"-"+Zu(),e.setAttribute("type","button"),e.title=n,e.appendChild(this.l),ve(e,"click",this.C,this),(n=document.createElement("div")).className=this.c+" ol-unselectable ol-control "+(Xu()?"":"ol-unsupported"),n.appendChild(e),Ii.call(this,{element:n,target:t.target}),this.D=void 0!==t.keys&&t.keys,this.j=t.source}function Xu(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function Zu(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function Ju(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}a(Ku,Ii),Ku.prototype.C=function(t){t.preventDefault(),Xu()&&(t=this.a)&&(Zu()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.Cc(),this.D?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Ju(t):Ju(t)))},Ku.prototype.o=function(){var t=this.element.firstElementChild,e=this.a;Zu()?(t.className=this.c+"-true",Ei(this.v,this.l)):(t.className=this.c+"-false",Ei(this.l,this.v)),e&&e.Oc()},Ku.prototype.setMap=function(t){Ii.prototype.setMap.call(this,t),t&&this.s.push(ve(document,Qu(),this.o,this))};var Qu=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();function tp(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Ii.call(this,{element:e,render:t.render?t.render:ep,target:t.target}),ve(this,De(op),this.En,this),t.coordinateFormat&&this.Gj(t.coordinateFormat),t.projection&&this.ti(t.projection),this.o=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.v=e.innerHTML,this.l=this.j=this.c=null}function ep(t){(t=t.frameState)?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,np(this,this.l)}function np(t,e){var n=t.o;if(e&&t.c){if(!t.j){var o=t.si();t.j=o?Ut(t.c,o):Ht}(e=t.a.Ra(e))&&(t.j(e,e),n=(n=t.Qh())?n(e):e.toString())}t.v&&n==t.v||(t.element.innerHTML=n,t.v=n)}a(tp,Ii),(t=tp.prototype).En=function(){this.j=null},t.Qh=function(){return this.get(ip)},t.si=function(){return this.get(op)},t.mm=function(t){this.l=this.a.ud(t),np(this,this.l)},t.nm=function(){np(this,null),this.l=null},t.setMap=function(t){Ii.prototype.setMap.call(this,t),t&&(t=t.a,this.s.push(ve(t,"mousemove",this.mm,this),ve(t,"mouseout",this.nm,this)))},t.Gj=function(t){this.set(ip,t)},t.ti=function(t){this.set(op,Rt(t))};var op="projection",ip="coordinateFormat";function rp(t){function e(t){t=s.Sd(t),l.a.aa().ub(t),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}function n(t){t=s.Sd({clientX:t.clientX-u.offsetWidth/2,clientY:t.clientY+u.offsetHeight/2}),c.We(t)}t=t||{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",i=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"";"string"==typeof r?(this.o=document.createElement("span"),this.o.textContent=r):this.o=r,"string"==typeof(r=void 0!==t.label?t.label:"")?(this.D=document.createElement("span"),this.D.textContent=r):this.D=r;var a=this.l&&!this.j?this.o:this.D;(r=document.createElement("button")).setAttribute("type","button"),r.title=i,r.appendChild(a),ve(r,"click",this.Hn,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var s=this.c=new Pi({controls:new Ne,interactions:new Ne,view:t.view});t.layers&&t.layers.forEach(function(t){s.xe(t)},this),(i=document.createElement("DIV")).className="ol-overviewmap-box",i.style.boxSizing="border-box",this.v=new Ru({position:[0,0],positioning:"bottom-left",element:i}),this.c.ye(this.v),(i=document.createElement("div")).className=o+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),i.appendChild(this.C),i.appendChild(r),Ii.call(this,{element:i,render:t.render?t.render:ap,target:t.target});var l=this,c=this.v,u=this.v.Rd();u.addEventListener("mousedown",function(){window.addEventListener("mousemove",n),window.addEventListener("mouseup",e)})}function ap(){var t=this.a,e=this.c;if(t.c&&e.c){var n=t.Cb();t=t.aa().qd(n);var o=e.Cb();n=e.aa().qd(o);var i=e.Ia(Z(t)),r=e.Ia(z(t));e=Math.abs(i[0]-r[0]),i=Math.abs(i[1]-r[1]),r=o[0],o=o[1],e<.1*r||i<.1*o||e>.75*r||i>.75*o?sp(this):P(n,t)||(t=this.c,n=this.a.aa(),t.aa().ub(n.xa()))}lp(this)}function sp(t){var e=t.a;t=t.c;var n=e.Cb();e=e.aa().qd(n),t=t.aa(),nt(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Uf(e)}function lp(t){var e=t.a,n=t.c;if(e.c&&n.c){var o=e.Cb(),i=e.aa(),r=n.aa();n=i.Sa(),e=t.v;var a=t.v.Rd(),s=i.qd(o);if(o=r.Pa(),i=W(s),r=J(s),t=t.a.aa().xa()){var l=[i[0]-t[0],i[1]-t[1]];eo(l,n),Xn(l,t)}e.We(l),a&&(a.style.width=Math.abs((i[0]-r[0])/o)+"px",a.style.height=Math.abs((r[1]-i[1])/o)+"px")}}function cp(t){t.element.classList.toggle("ol-collapsed"),t.j?Ei(t.o,t.D):Ei(t.D,t.o),t.j=!t.j;var e=t.c;t.j||e.c||(e.Oc(),sp(t),be(e,"postrender",function(){lp(this)},t))}function up(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.o=null,this.v=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.B=void 0,this.D="",Ii.call(this,{element:this.c,render:t.render?t.render:hp,target:t.target}),ve(this,De(fp),this.V,this),this.O(t.units||"metric")}a(rp,Ii),(t=rp.prototype).setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.aa())&&we(e,De("rotation"),this.Qe,this),this.c.Ad(null)),Ii.prototype.setMap.call(this,t),t&&(this.c.Ad(this.C),this.s.push(ve(t,"propertychange",this.lm,this)),0===this.c.Xe().kc()&&this.c.zf(t.hc()),t=t.aa()))&&(ve(t,De("rotation"),this.Qe,this),vi(t)&&(this.c.Oc(),sp(this)))},t.lm=function(t){"view"===t.key&&((t=t.oldValue)&&we(t,De("rotation"),this.Qe,this),ve(t=this.a.aa(),De("rotation"),this.Qe,this))},t.Qe=function(){this.c.aa().ce(this.a.aa().Sa())},t.Hn=function(t){t.preventDefault(),cp(this)},t.Gn=function(){return this.l},t.Jn=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&cp(this))},t.In=function(t){this.l&&this.j!==t&&cp(this)},t.Fn=function(){return this.j},t.Hl=function(){return this.c},a(up,Ii);var pp=[1,2,5];function hp(t){(t=t.frameState)?this.o=t.viewState:this.o=null,dp(this)}function dp(t){var e=t.o;if(e){var n=e.center,o=e.projection,i=t.C();e=Pt(o,e.resolution,n,"degrees"==i?"degrees":"m"),"degrees"!=i&&(e*=o.Bc());var r=t.v*e;for(n="","degrees"==i?(n=ht.degrees,"degrees"==o.a?r*=n:e/=n,r<n/60?(n="",e*=3600):r<n?(n="",e*=60):n=""):"imperial"==i?.9144>r?(n="in",e/=.0254):1609.344>r?(n="ft",e/=.3048):(n="mi",e/=1609.344):"nautical"==i?(e/=1852,n="nm"):"metric"==i?.001>r?(n="m",e*=1e6):1>r?(n="mm",e*=1e3):1e3>r?n="m":(n="km",e/=1e3):"us"==i?.9144>r?(n="in",e*=39.37):1609.344>r?(n="ft",e/=.30480061):(n="mi",e/=1609.3472):f(!1,33),i=3*Math.floor(Math.log(t.v*e)/Math.log(10));;){if(r=pp[(i%3+3)%3]*Math.pow(10,Math.floor(i/3)),o=Math.round(r/e),isNaN(o))return t.c.style.display="none",void(t.j=!1);if(o>=t.v)break;++i}e=r+" "+n,t.D!=e&&(t.l.innerHTML=e,t.D=e),t.B!=o&&(t.l.style.width=o+"px",t.B=o),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}up.prototype.C=function(){return this.get(fp)},up.prototype.V=function(){dp(this)},up.prototype.O=function(t){this.set(fp,t)};var fp="units";function mp(t){t=t||{},this.c=void 0,this.j=gp,this.D=this.v=0,this.O=null,this.$=!1,this.V=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=e+"-thumb ol-unselectable";var o=document.createElement("div");o.className=e+" ol-unselectable ol-control",o.appendChild(n),this.l=new Cn(o),ve(this.l,"pointerdown",this.$l,this),ve(this.l,"pointermove",this.Yl,this),ve(this.l,"pointerup",this.Zl,this),ve(o,"click",this.Xl,this),ve(n,"click",xe),Ii.call(this,{element:o,render:t.render?t.render:yp})}a(mp,Ii),mp.prototype.ia=function(){Ce(this.l),Ii.prototype.ia.call(this)};var gp=0;function yp(t){if(t.frameState){if(!this.$){var e=this.element,n=e.offsetWidth,o=e.offsetHeight,i=e.firstElementChild,r=getComputedStyle(i);e=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),i=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom),this.O=[e,i],n>o?(this.j=1,this.D=n-e):(this.j=gp,this.v=o-i),this.$=!0}(t=t.frameState.viewState.resolution)!==this.c&&(this.c=t,vp(this,t))}}function vp(t,e){e=1-function(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/n}}(t.a.aa())(e);var n=t.element.firstElementChild;1==t.j?n.style.left=t.D*e+"px":n.style.top=t.v*e+"px"}function bp(t,e){return function(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return e/Math.pow(2,t*n)}}(t.a.aa())(1-e)}function wp(t){t=t||{},this.extent=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",n=void 0!==t.label?t.label:"E",o=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",i=document.createElement("button");i.setAttribute("type","button"),i.title=o,i.appendChild("string"==typeof n?document.createTextNode(n):n),ve(i,"click",this.c,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(i),Ii.call(this,{element:n,target:t.target})}(t=mp.prototype).setMap=function(t){Ii.prototype.setMap.call(this,t),t&&t.render()},t.Xl=function(t){var e=this.a.aa();t=bp(this,m(1===this.j?(t.offsetX-this.O[0]/2)/this.D:(t.offsetY-this.O[1]/2)/this.v,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.V,easing:lo})},t.$l=function(t){this.o||t.b.target!==this.element.firstElementChild||(bi(this.a.aa(),1,1),this.C=t.clientX,this.B=t.clientY,this.o=!0)},t.Yl=function(t){if(this.o){var e=this.element.firstElementChild;this.c=bp(this,m(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.D:(t.clientY-this.B+parseInt(e.style.top,10))/this.v,0,1)),this.a.aa().gd(this.c),vp(this,this.c),this.C=t.clientX,this.B=t.clientY}},t.Zl=function(){if(this.o){var t=this.a.aa();bi(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.V,easing:lo}),this.o=!1,this.B=this.C=void 0}},a(wp,Ii),wp.prototype.c=function(t){t.preventDefault(),t=this.a.aa();var e=this.extent?this.extent:t.v.G();t.Uf(e)};var Ep=document.implementation.createDocument("","",null);function Mp(t,e){return Ep.createElementNS(t,e)}function $p(t,e){return function t(e,n,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)n?o.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):o.push(e.nodeValue);else for(e=e.firstChild;e;e=e.nextSibling)t(e,n,o);return o}(t,e,[]).join("")}function Cp(t){return t instanceof Document}function _p(t){return t instanceof Node}function xp(t){return(new DOMParser).parseFromString(t,"application/xml")}function Sp(t,e){return function(n,o){void 0!==(n=t.call(e,n,o))&&Kt(o[o.length-1],n)}}function Tp(t,e){return function(n,o){void 0!==(n=t.call(void 0!==e?e:this,n,o))&&o[o.length-1].push(n)}}function kp(t,e){return function(n,o){void 0!==(n=t.call(void 0!==e?e:this,n,o))&&(o[o.length-1]=n)}}function Ap(t){return function(e,n){var o=t.call(this,e,n);void 0!==o&&(n=n[n.length-1],((e=e.localName)in n?n[e]:n[e]=[]).push(o))}}function Pp(t,e){return function(n,o){var i=t.call(this,n,o);void 0!==i&&(o[o.length-1][void 0!==e?e:n.localName]=i)}}function Dp(t,e){return function(n,o,i){t.call(void 0!==e?e:this,n,o,i),i[i.length-1].node.appendChild(n)}}function Ip(t){var e,n;return function(o,i,r){if(void 0===e){e={};var a={};a[o.localName]=t,e[o.namespaceURI]=a,n=Op(o.localName)}Up(e,n,i,r)}}function Op(t,e){return function(n,o,i){return n=o[o.length-1].node,void 0===(o=t)&&(o=i),i=e,void 0===e&&(i=n.namespaceURI),Mp(i,o)}}var Np=Op();function Lp(t,e){for(var n=e.length,o=Array(n),i=0;i<n;++i)o[i]=t[e[i]];return o}function Rp(t,e,n){var o;n=void 0!==n?n:{};var i=0;for(o=t.length;i<o;++i)n[t[i]]=e;return n}function jp(t,e,n,o){for(e=e.firstElementChild;e;e=e.nextElementSibling){var i=t[e.namespaceURI];void 0!==i&&(void 0!==(i=i[e.localName])&&i.call(o,e,n))}}function Fp(t,e,n,o,i){return o.push(t),jp(e,n,o,i),o.pop()}function Up(t,e,n,o,i,r){for(var a,s,l=(void 0!==i?i:n).length,c=0;c<l;++c)void 0!==(a=n[c])&&(void 0!==(s=e.call(r,a,o,void 0!==i?i[c]:void 0))&&t[s.namespaceURI][s.localName].call(r,s,a,o))}function Hp(t,e,n,o,i,r,a){i.push(t),Up(e,n,o,i,r,a),i.pop()}function Vp(t,e,n,o){return function(i,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,r,a):t,!0),"arraybuffer"==e.S()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t=e.S();if("json"==t||"text"==t)var i=s.responseText;else"xml"==t?(i=s.responseXML)||(i=xp(s.responseText)):"arraybuffer"==t&&(i=s.response);i?n.call(this,e.Qa(i,{featureProjection:a}),e.sb(i),e.cg()):o.call(this)}else o.call(this)}.bind(this),s.onerror=function(){o.call(this)}.bind(this),s.send()}}function Bp(t,e){return Vp(t,e,function(t){this.Qc(t)},s)}function qp(){this.i=this.defaultDataProjection=null}function Wp(t,e,n){var o;return n&&(o={dataProjection:n.dataProjection?n.dataProjection:t.sb(e),featureProjection:n.featureProjection}),zp(t,o)}function zp(t,e){return it({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function Gp(t,e,n){var o,i=n?Rt(n.featureProjection):null,r=n?Rt(n.dataProjection):null;if(o=i&&r&&!jt(i,r)?t instanceof So?(e?t.clone():t).mb(e?i:r,e?r:i):qt(t,r,i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);o===t&&(o=o.clone()),o.Rc(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return o}function Yp(){qp.call(this)}function Kp(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Xp(t,e){To.call(this),this.c=[],this.j=this.o=-1,this.na(t,e)}function Zp(t,e){var n,o=t.ja,i=[],r=[],a=0;for(n=e.length;a<n;++a){var s=e[a];0===a&&(o=s.ja),Kt(i,s.da()),r.push(i.length)}t.ba(o,i,r)}function Jp(t,e){To.call(this),this.na(t,e)}function Qp(t,e){To.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function th(t){if(t.o!=t.g){var e,n=t.A,o=t.c,i=t.a,r=0,a=[],s=0;for(e=o.length;s<e;++s){var l=o[s];r=j(n,r,l[0],i),a.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=l[l.length-1]}for(n=eh(t),o=t.c,i=t.a,s=0,e=[],l=0,r=o.length;l<r;++l){var c=o[l];e=Qo(n,s,c,i,a,2*l,e),s=c[c.length-1]}t.D=e,t.o=t.g}return t.D}function eh(t){if(t.T!=t.g){var e=t.A;t:{var n,o=t.c,i=0;for(n=o.length;i<n;++i)if(!ii(e,o[i],t.a,void 0)){o=!1;break t}o=!0}o?t.j=e:(t.j=e.slice(),t.j.length=ai(t.j,t.c,t.a)),t.T=t.g}return t.j}function nh(t,e){var n,o=t.ja,i=[],r=[],a=0;for(n=e.length;a<n;++a){var s=e[a];0===a&&(o=s.ja);var l,c=i.length,u=s.pb(),p=0;for(l=u.length;p<l;++p)u[p]+=c;Kt(i,s.da()),r.push(u)}t.ba(o,i,r)}function oh(t){t=t||{},qp.call(this),this.b=t.geometryName}function ih(t,e){if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)var n="Point";else if(t.points)n="MultiPoint";else if(t.paths)n=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var o,i=t.rings,r=rh(t),a=[],s=[];n=[];var l=0;for(o=i.length;l<o;++l)a.length=0,Uo(a,0,i[l],r.length),oi(a,0,a.length,r.length)?s.push([i[l]]):n.push(i[l]);for(;n.length;){for(i=n.shift(),r=!1,l=s.length-1;0<=l;l--)if(P(new Go(s[l][0]).G(),new Go(i).G())){s[l].push(i),r=!0;break}r||s.push([i.reverse()])}t=it({},t),1===s.length?(n="Polygon",t.rings=s[0]):(n="MultiPolygon",t.rings=s)}return Gp((0,sh[n])(t),!1,e)}function rh(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function ah(t){return{hasZ:"XYZ"===(t=t.ja)||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}qp.prototype.cg=function(){return null},a(Yp,qp),(t=Yp.prototype).S=function(){return"json"},t.Yb=function(t,e){return this.dd(Kp(t),Wp(this,t,e))},t.Qa=function(t,e){return this.Mg(Kp(t),Wp(this,t,e))},t.ed=function(t,e){return this.Qg(Kp(t),Wp(this,t,e))},t.sb=function(t){return this.Tg(Kp(t))},t.Jd=function(t,e){return JSON.stringify(this.ld(t,e))},t.ac=function(t,e){return JSON.stringify(this.qe(t,e))},t.md=function(t,e){return JSON.stringify(this.se(t,e))},a(Xp,To),(t=Xp.prototype).Gk=function(t){this.A?Kt(this.A,t.da().slice()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new Xp(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,n,o){return o<k(this.G(),t,e)?o:(this.j!=this.g&&(this.o=Math.sqrt(Lo(this.A,0,this.c,this.a,0)),this.j=this.g),jo(this.A,0,this.c,this.a,this.o,!1,t,e,n,o))},t.Wn=function(t,e,n){return"XYM"!=this.ja&&"XYZM"!=this.ja||0===this.A.length?null:function(t,e,n,o,i,r){var a=0;if(r)return gl(t,a,e[e.length-1],n,o,i);if(o<t[n-1])return i?((t=t.slice(0,n))[n-1]=o,t):null;if(t[t.length-1]<o)return i?((t=t.slice(t.length-n))[n-1]=o,t):null;for(i=0,r=e.length;i<r;++i){var s=e[i];if(a!=s){if(o<t[a+n-1])break;if(o<=t[s-1])return gl(t,a,s,n,o,!1);a=s}}return null}(this.A,this.c,this.a,t,void 0!==e&&e,void 0!==n&&n)},t.W=function(){return Bo(this.A,0,this.c,this.a)},t.pb=function(){return this.c},t.yl=function(t){if(0>t||this.c.length<=t)return null;var e=new yl(null);return e.ba(this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.wd=function(){var t,e=this.A,n=this.c,o=this.ja,i=[],r=0,a=0;for(t=n.length;a<t;++a){var s=n[a],l=new yl(null);l.ba(o,e.slice(r,s)),i.push(l),r=s}return i},t.Ge=function(){var t,e=[],n=this.A,o=0,i=this.c,r=this.a,a=0;for(t=i.length;a<t;++a){var s=i[a];Kt(e,o=ml(n,o,s,r,.5)),o=s}return e},t.xd=function(t){var e,n=[],o=[],i=this.A,r=this.c,a=this.a,s=0,l=0,c=0;for(e=r.length;c<e;++c){var u=r[c];l=Wo(i,s,u,a,t,n,l),o.push(l),s=u}return n.length=l,(t=new Xp(null)).ba("XY",n,o),t},t.S=function(){return"MultiLineString"},t.$a=function(t){t:{var e,n=this.A,o=this.c,i=this.a,r=0,a=0;for(e=o.length;a<e;++a){if(ei(n,r,o[a],i,t)){t=!0;break t}r=o[a]}t=!1}return t},t.na=function(t,e){t?(Po(this,e,t,2),this.A||(this.A=[]),t=Ho(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,n){Ao(this,t,e),this.c=n,this.u()},a(Jp,To),(t=Jp.prototype).Ik=function(t){this.A?Kt(this.A,t.da()):this.A=t.da().slice(),this.u()},t.clone=function(){var t=new Jp(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,n,o){if(o<k(this.G(),t,e))return o;var i,r=this.A,a=this.a,s=0;for(i=r.length;s<i;s+=a){var l=v(t,e,r[s],r[s+1]);if(l<o){for(o=l,l=0;l<a;++l)n[l]=r[s+l];n.length=a}}return o},t.W=function(){return Vo(this.A,0,this.A.length,this.a)},t.Ll=function(t){var e=this.A?this.A.length/this.a:0;return 0>t||e<=t?null:((e=new Ko(null)).ba(this.ja,this.A.slice(t*this.a,(t+1)*this.a)),e)},t.de=function(){var t,e=this.A,n=this.ja,o=this.a,i=[],r=0;for(t=e.length;r<t;r+=o){var a=new Ko(null);a.ba(n,e.slice(r,r+o)),i.push(a)}return i},t.S=function(){return"MultiPoint"},t.$a=function(t){var e,n=this.A,o=this.a,i=0;for(e=n.length;i<e;i+=o){if(D(t,n[i],n[i+1]))return!0}return!1},t.na=function(t,e){t?(Po(this,e,t,1),this.A||(this.A=[]),this.A.length=Uo(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Ao(this,t,e),this.u()},a(Qp,To),(t=Qp.prototype).Jk=function(t){if(this.A){var e,n=this.A.length;Kt(this.A,t.da());var o=0;for(e=(t=t.pb().slice()).length;o<e;++o)t[o]+=n}else this.A=t.da().slice(),t=t.pb().slice(),this.c.push();this.c.push(t),this.u()},t.clone=function(){for(var t=new Qp(null),e=this.c.length,n=Array(e),o=0;o<e;++o)n[o]=this.c[o].slice();return t.ba(this.ja,this.A.slice(),n),t},t.Nb=function(t,e,n,o){if(o<k(this.G(),t,e))return o;if(this.C!=this.g){var i,r=this.c,a=0,s=0,l=0;for(i=r.length;l<i;++l){var c=r[l];s=Lo(this.A,a,c,this.a,s),a=c[c.length-1]}this.B=Math.sqrt(s),this.C=this.g}var u;r=eh(this),a=this.c,s=this.a,l=this.B,i=0,c=[NaN,NaN];var p=0;for(u=a.length;p<u;++p){var h=a[p];o=jo(r,i,h,s,l,!0,t,e,n,o,c),i=h[h.length-1]}return o},t.Zc=function(t,e){t:{var n=eh(this),o=this.c,i=0;if(0!==o.length){var r,a=0;for(r=o.length;a<r;++a){var s=o[a];if(Jo(n,i,s,this.a,t,e)){t=!0;break t}i=s[s.length-1]}}t=!1}return t},t.Xn=function(){var t,e=eh(this),n=this.c,o=0,i=0,r=0;for(t=n.length;r<t;++r){var a=n[r];i+=Io(e,o,a,this.a),o=a[a.length-1]}return i},t.W=function(t){if(void 0!==t){var e=eh(this).slice();ai(e,this.c,this.a,t)}else e=this.A;return qo(e,0,this.c,this.a)},t.td=function(){return this.c},t.ul=function(){var t=new Jp(null);return t.ba("XYM",th(this).slice()),t},t.xd=function(t){var e=[],n=[],o=this.A,i=this.c,r=this.a;t=Math.sqrt(t);var a,s=0,l=0,c=0;for(a=i.length;c<a;++c){var u=i[c],p=[];l=zo(o,s,u,r,t,e,l,p),n.push(p),s=u[u.length-1]}return e.length=l,(o=new Qp(null)).ba("XY",e,n),o},t.Ml=function(t){if(0>t||this.c.length<=t)return null;if(0===t)var e=0;else e=(e=this.c[t-1])[e.length-1];var n=(t=this.c[t].slice())[t.length-1];if(0!==e){var o,i=0;for(o=t.length;i<o;++i)t[i]-=e}return(i=new si(null)).ba(this.ja,this.A.slice(e,n),t),i},t.Vd=function(){var t,e,n=this.ja,o=this.A,i=this.c,r=[],a=0,s=0;for(t=i.length;s<t;++s){var l=i[s].slice(),c=l[l.length-1];if(0!==a){var u=0;for(e=l.length;u<e;++u)l[u]-=a}(u=new si(null)).ba(n,o.slice(a,c),l),r.push(u),a=c}return r},t.S=function(){return"MultiPolygon"},t.$a=function(t){t:{var e,n=eh(this),o=this.c,i=this.a,r=0,a=0;for(e=o.length;a<e;++a){var s=o[a];if(ni(n,r,s,i,t)){t=!0;break t}r=s[s.length-1]}t=!1}return t},t.na=function(t,e){if(t){Po(this,e,t,3),this.A||(this.A=[]),e=this.A;var n=this.a,o=this.c,i=0;o=o||[];var r,a=0,s=0;for(r=t.length;s<r;++s)i=Ho(e,i,t[s],n,o[a]),o[a++]=i,i=i[i.length-1];o.length=a,0===o.length?this.A.length=0:(t=o[o.length-1],this.A.length=0===t.length?0:t[t.length-1]),this.u()}else this.ba("XY",null,this.c)},t.ba=function(t,e,n){Ao(this,t,e),this.c=n,this.u()},a(oh,Yp);var sh={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Ko([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Ko([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Ko([t.x,t.y,t.m],"XYM"):new Ko([t.x,t.y])},LineString:function(t){return new yl(t.paths[0],rh(t))},Polygon:function(t){return new si(t.rings,rh(t))},MultiPoint:function(t){return new Jp(t.points,rh(t))},MultiLineString:function(t){return new Xp(t.paths,rh(t))},MultiPolygon:function(t){return new Qp(t.rings,rh(t))}},lh={Point:function(t){var e,n=t.W();return"XYZ"===(t=t.ja)?e={x:n[0],y:n[1],z:n[2]}:"XYM"===t?e={x:n[0],y:n[1],m:n[2]}:"XYZM"===t?e={x:n[0],y:n[1],z:n[2],m:n[3]}:"XY"===t?e={x:n[0],y:n[1]}:f(!1,34),e},LineString:function(t){var e=ah(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.W()]}},Polygon:function(t){var e=ah(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.W(!1)}},MultiPoint:function(t){var e=ah(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.W()}},MultiLineString:function(t){var e=ah(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.W()}},MultiPolygon:function(t){var e=ah(t);t=t.W(!1);for(var n=[],o=0;o<t.length;o++)for(var i=t[o].length-1;0<=i;i--)n.push(t[o][i]);return{hasZ:e.hasZ,hasM:e.hasM,rings:n}}};function ch(t,e){return(0,lh[t.S()])(Gp(t,!0,e),e)}function uh(){this.g=new XMLSerializer,qp.call(this)}function ph(t,e,n){return 0<(t=hh(t,e,n)).length?t[0]:null}function hh(t,e,n){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Kt(o,t.Kc(e,n));return o}function dh(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:kp(dh.prototype.ge),featureMembers:kp(dh.prototype.ge)},uh.call(this)}(t=oh.prototype).dd=function(t,e){var n=ih(t.geometry,e),o=new dl;return this.b&&o.Lc(this.b),o.Va(n),e&&e.pg&&t.attributes[e.pg]&&o.qc(t.attributes[e.pg]),t.attributes&&o.H(t.attributes),o},t.Mg=function(t,e){if(e=e||{},t.features){var n,o=[],i=t.features;for(e.pg=t.objectIdFieldName,t=0,n=i.length;t<n;++t)o.push(this.dd(i[t],e));return o}return[this.dd(t,e)]},t.Qg=function(t,e){return ih(t,e)},t.Tg=function(t){return t.spatialReference&&t.spatialReference.wkid?Rt("EPSG:"+t.spatialReference.wkid):null},t.se=function(t,e){return ch(t,zp(this,e))},t.ld=function(t,e){e=zp(this,e);var n={},o=t.U();return o&&(n.geometry=ch(o,e),e&&e.featureProjection&&(n.geometry.spatialReference={wkid:Rt(e.featureProjection).wb.split(":").pop()})),delete(e=t.L())[t.a],n.attributes=st(e)?{}:e,n},t.qe=function(t,e){e=zp(this,e);var n,o=[],i=0;for(n=t.length;i<n;++i)o.push(this.ld(t[i],e));return{features:o}},a(uh,qp),(t=uh.prototype).S=function(){return"xml"},t.Yb=function(t,e){return Cp(t)?ph(this,t,e):_p(t)?this.Lg(t,e):"string"==typeof t?ph(this,t=xp(t),e):null},t.Lg=function(){return null},t.Qa=function(t,e){return Cp(t)?hh(this,t,e):_p(t)?this.Kc(t,e):"string"==typeof t?hh(this,t=xp(t),e):[]},t.ed=function(t,e){return Cp(t)?null:_p(t)?this.vj(t,e):("string"==typeof t&&xp(t),null)},t.vj=function(){return null},t.sb=function(t){return Cp(t)?this.Sg(t):_p(t)?this.uf(t):"string"==typeof t?(t=xp(t),this.Sg(t)):null},t.Sg=function(){return this.defaultDataProjection},t.uf=function(){return this.defaultDataProjection},t.Jd=function(){return this.g.serializeToString(this.mh())},t.mh=function(){return null},t.ac=function(t,e){return t=this.bc(t,e),this.g.serializeToString(t)},t.bc=function(){return null},t.md=function(t,e){return t=this.re(t,e),this.g.serializeToString(t)},t.re=function(){return null},a(dh,uh);var fh=/^[\s\xa0]*$/;function mh(t){return gh(t=$p(t,!1))}function gh(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function yh(t){return t=$p(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function vh(t){return bh(t=$p(t,!1))}function bh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function wh(t){return Eh(t=$p(t,!1))}function Eh(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Mh(t){return $p(t,!1).trim()}function $h(t,e){xh(t,e?"1":"0")}function Ch(t,e){t.appendChild(Ep.createTextNode(e.toPrecision()))}function _h(t,e){t.appendChild(Ep.createTextNode(e.toString()))}function xh(t,e){t.appendChild(Ep.createTextNode(e))}function Sh(t){t=t||{},dh.call(this,t),this.s=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.f=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==t.hasZ&&t.hasZ}function Th(t,e,n){var o=n[n.length-1];n=o.hasZ,t.setAttribute("srsDimension",n?3:2),o=o.srsName;for(var i,r=(e=e.W()).length,a=Array(r),s=0;s<r;++s){i=e[s];var l=s,c=n,u="enu";o&&(u=Rt(o).b),u="en"===u.substr(0,2)?i[0]+" "+i[1]:i[1]+" "+i[0],c&&(u+=" "+(i[2]||0)),a[l]=u}xh(t,a.join(" "))}(t=dh.prototype).ge=function(t,e){var n=t.localName,o=null;if("FeatureCollection"==n)o="http://www.opengis.net/wfs"===t.namespaceURI?Fp([],this.b,t,e,this):Fp(null,this.b,t,e,this);else if("featureMembers"==n||"featureMember"==n){var i,r=e[0],a=r.featureType,s=r.featureNS;if(!a&&t.childNodes){a=[],s={};var l=0;for(i=t.childNodes.length;l<i;++l){var c=t.childNodes[l];if(1===c.nodeType){var u=c.nodeName.split(":").pop();if(-1===a.indexOf(u)){var p="",h=0;for(var d in c=c.namespaceURI,s){if(s[d]===c){p=d;break}++h}p||(s[p="p"+h]=c),a.push(p+":"+u)}}}"featureMember"!=n&&(r.featureType=a,r.featureNS=s)}for(var f in"string"==typeof s&&(l=s,(s={}).p0=l),r={},a=Array.isArray(a)?a:[a],s){for(u={},l=0,i=a.length;l<i;++l)(-1===a[l].indexOf(":")?"p0":a[l].split(":")[0])===f&&(u[a[l].split(":").pop()]="featureMembers"==n?Tp(this.Kg,this):kp(this.Kg,this));r[s[f]]=u}o=Fp("featureMember"==n?void 0:[],r,t,e)}return null===o&&(o=[]),o},t.rf=function(t,e){var n=e[0];if(n.srsName=t.firstElementChild.getAttribute("srsName"),n.srsDimension=t.firstElementChild.getAttribute("srsDimension"),t=Fp(null,this.qh,t,e,this))return Gp(t,!1,n)},t.Kg=function(t,e){var n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,i={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var a=$p(t,!1);fh.test(a)&&(a=void 0),i[r]=a}else"boundedBy"!==r&&(o=r),i[r]=this.rf(t,e)}return e=new dl(i),o&&e.Lc(o),n&&e.qc(n),e},t.Aj=function(t,e){if(t=this.qf(t,e))return(e=new Ko(null)).ba("XYZ",t),e},t.yj=function(t,e){if(t=Fp([],this.kk,t,e,this))return new Jp(t)},t.xj=function(t,e){if(t=Fp([],this.jk,t,e,this))return Zp(e=new Xp(null),t),e},t.zj=function(t,e){if(t=Fp([],this.lk,t,e,this))return nh(e=new Qp(null),t),e},t.qj=function(t,e){jp(this.pk,t,e,this)},t.fi=function(t,e){jp(this.hk,t,e,this)},t.rj=function(t,e){jp(this.qk,t,e,this)},t.sf=function(t,e){if(t=this.qf(t,e))return(e=new yl(null)).ba("XYZ",t),e},t.Xp=function(t,e){if(t=Fp(null,this.te,t,e,this))return t},t.wj=function(t,e){if(t=this.qf(t,e))return Yo(e=new Go(null),"XYZ",t),e},t.tf=function(t,e){if((t=Fp([null],this.Gf,t,e,this))&&t[0]){e=new si(null);var n,o=t[0],i=[o.length],r=1;for(n=t.length;r<n;++r)Kt(o,t[r]),i.push(o.length);return e.ba("XYZ",o,i),e}},t.qf=function(t,e){return Fp(null,this.te,t,e,this)},t.kk={"http://www.opengis.net/gml":{pointMember:Tp(dh.prototype.qj),pointMembers:Tp(dh.prototype.qj)}},t.jk={"http://www.opengis.net/gml":{lineStringMember:Tp(dh.prototype.fi),lineStringMembers:Tp(dh.prototype.fi)}},t.lk={"http://www.opengis.net/gml":{polygonMember:Tp(dh.prototype.rj),polygonMembers:Tp(dh.prototype.rj)}},t.pk={"http://www.opengis.net/gml":{Point:Tp(dh.prototype.qf)}},t.hk={"http://www.opengis.net/gml":{LineString:Tp(dh.prototype.sf)}},t.qk={"http://www.opengis.net/gml":{Polygon:Tp(dh.prototype.tf)}},t.ue={"http://www.opengis.net/gml":{LinearRing:kp(dh.prototype.Xp)}},t.vj=function(t,e){return(t=this.rf(t,[Wp(this,t,e||{})]))?t:null},t.Kc=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&it(n,Wp(this,t,e)),this.ge(t,[n])||[]},t.uf=function(t){return Rt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},a(Sh,dh),(t=Sh.prototype).aq=function(t,e){if(t=Fp([],this.ik,t,e,this))return Zp(e=new Xp(null),t),e},t.bq=function(t,e){if(t=Fp([],this.mk,t,e,this))return nh(e=new Qp(null),t),e},t.Gh=function(t,e){jp(this.ek,t,e,this)},t.Xj=function(t,e){jp(this.sk,t,e,this)},t.fq=function(t,e){return Fp([null],this.nk,t,e,this)},t.iq=function(t,e){return Fp([null],this.rk,t,e,this)},t.gq=function(t,e){return Fp([null],this.Gf,t,e,this)},t.$p=function(t,e){return Fp([null],this.te,t,e,this)},t.Fm=function(t,e){(t=Fp(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Zk=function(t,e){(t=Fp(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.Bj=function(t,e){if((t=Fp([null],this.tk,t,e,this))&&t[0]){e=new si(null);var n,o=t[0],i=[o.length],r=1;for(n=t.length;r<n;++r)Kt(o,t[r]),i.push(o.length);return e.ba("XYZ",o,i),e}},t.tj=function(t,e){if(t=Fp([null],this.fk,t,e,this))return(e=new yl(null)).ba("XYZ",t),e},t.Wp=function(t,e){return N((t=Fp([null],this.gk,t,e,this))[1][0],t[1][1],t[2][0],t[2][1])},t.Yp=function(t,e){var n,o=$p(t,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;for(t=[];n=i.exec(o);)t.push(parseFloat(n[1])),o=o.substr(n[0].length);if(""===o){if(o="enu",(e=e[0].srsName)&&(o=Rt(e).b),"neu"===o)for(e=0,o=t.length;e<o;e+=3)i=t[e],t[e]=t[e+1],t[e+1]=i;if(2==(e=t.length)&&t.push(0),0!==e)return t}},t.Pg=function(t,e){var n=$p(t,!1).replace(/^\s*|\s*$/g,""),o=(e=e[0]).srsName,i=e.srsDimension;e="enu",o&&(e=Rt(o).b),n=n.split(/\s+/),o=2,t.getAttribute("srsDimension")?o=Eh(t.getAttribute("srsDimension")):t.getAttribute("dimension")?o=Eh(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?o=Eh(t.parentNode.getAttribute("srsDimension")):i&&(o=Eh(i));for(var r,a=[],s=0,l=n.length;s<l;s+=o)t=parseFloat(n[s]),i=parseFloat(n[s+1]),r=3===o?parseFloat(n[s+2]):0,"en"===e.substr(0,2)?a.push(t,i,r):a.push(i,t,r);return a},t.te={"http://www.opengis.net/gml":{pos:kp(Sh.prototype.Yp),posList:kp(Sh.prototype.Pg)}},t.Gf={"http://www.opengis.net/gml":{interior:Sh.prototype.Fm,exterior:Sh.prototype.Zk}},t.qh={"http://www.opengis.net/gml":{Point:kp(dh.prototype.Aj),MultiPoint:kp(dh.prototype.yj),LineString:kp(dh.prototype.sf),MultiLineString:kp(dh.prototype.xj),LinearRing:kp(dh.prototype.wj),Polygon:kp(dh.prototype.tf),MultiPolygon:kp(dh.prototype.zj),Surface:kp(Sh.prototype.Bj),MultiSurface:kp(Sh.prototype.bq),Curve:kp(Sh.prototype.tj),MultiCurve:kp(Sh.prototype.aq),Envelope:kp(Sh.prototype.Wp)}},t.ik={"http://www.opengis.net/gml":{curveMember:Tp(Sh.prototype.Gh),curveMembers:Tp(Sh.prototype.Gh)}},t.mk={"http://www.opengis.net/gml":{surfaceMember:Tp(Sh.prototype.Xj),surfaceMembers:Tp(Sh.prototype.Xj)}},t.ek={"http://www.opengis.net/gml":{LineString:Tp(dh.prototype.sf),Curve:Tp(Sh.prototype.tj)}},t.sk={"http://www.opengis.net/gml":{Polygon:Tp(dh.prototype.tf),Surface:Tp(Sh.prototype.Bj)}},t.tk={"http://www.opengis.net/gml":{patches:kp(Sh.prototype.fq)}},t.fk={"http://www.opengis.net/gml":{segments:kp(Sh.prototype.iq)}},t.gk={"http://www.opengis.net/gml":{lowerCorner:Tp(Sh.prototype.Pg),upperCorner:Tp(Sh.prototype.Pg)}},t.nk={"http://www.opengis.net/gml":{PolygonPatch:kp(Sh.prototype.gq)}},t.rk={"http://www.opengis.net/gml":{LineStringSegment:kp(Sh.prototype.$p)}},t.Hi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Mp(t.namespaceURI,"pos"),t.appendChild(o),t=(n=n[n.length-1]).hasZ,o.setAttribute("srsDimension",t?3:2);var i=n.srsName;n="enu",i&&(n=Rt(i).b),e=e.W(),n="en"===n.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(n+=" "+(e[2]||0)),xh(o,n)};var kh={"http://www.opengis.net/gml":{lowerCorner:Dp(xh),upperCorner:Dp(xh)}};(t=Sh.prototype).Pn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),Hp({node:t},kh,Np,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)},t.Ei=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Mp(t.namespaceURI,"posList"),t.appendChild(o),Th(o,e,n)},t.On=function(t,e){e=(t=e[e.length-1]).node;var n=t.exteriorWritten;return void 0===n&&(t.exteriorWritten=!0),Mp(e.namespaceURI,void 0!==n?"interior":"exterior")},t.af=function(t,e,n){var o=n[n.length-1],i=o.hasZ;o=o.srsName,"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Hp({node:t,hasZ:i,srsName:o},Ih,this.On,e,n,void 0,this)):"Surface"===t.nodeName&&(i=Mp(t.namespaceURI,"patches"),t.appendChild(i),t=Mp(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.af(t,e,n))},t.$e=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Mp(t.namespaceURI,"posList"),t.appendChild(o),Th(o,e,n)):"Curve"===t.nodeName&&(o=Mp(t.namespaceURI,"segments"),t.appendChild(o),t=Mp(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.$e(t,e,n))},t.Gi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.surface,r&&t.setAttribute("srsName",r),e=e.Vd(),Hp({node:t,hasZ:i,srsName:r,surface:o},Ah,this.l,e,n,void 0,this)},t.Qn=function(t,e,n){var o=n[n.length-1],i=o.srsName;o=o.hasZ,i&&t.setAttribute("srsName",i),e=e.de(),Hp({node:t,hasZ:o,srsName:i},Ph,Op("pointMember"),e,n,void 0,this)},t.Fi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.curve,r&&t.setAttribute("srsName",r),e=e.wd(),Hp({node:t,hasZ:i,srsName:r,curve:o},Dh,this.l,e,n,void 0,this)},t.Ii=function(t,e,n){var o=Mp(t.namespaceURI,"LinearRing");t.appendChild(o),this.Ei(o,e,n)},t.Ji=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.af(o,e,n))},t.Rn=function(t,e,n){var o=Mp(t.namespaceURI,"Point");t.appendChild(o),this.Hi(o,e,n)},t.Di=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.$e(o,e,n))},t.Yc=function(t,e,n){var o,i=n[n.length-1],r=it({},i);r.node=t,o=Array.isArray(e)?i.dataProjection?qt(e,i.featureProjection,i.dataProjection):e:Gp(e,!0,i),Hp(r,Oh,this.a,[o],n,void 0,this)},t.Ci=function(t,e,n){var o=e.c;o&&t.setAttribute("fid",o);var i=(o=n[n.length-1]).featureNS,r=e.a;o.tb||(o.tb={},o.tb[i]={});var a=e.L();e=[];var s=[];for(c in a){var l=a[c];null!==l&&(e.push(c),s.push(l),c==r||l instanceof So?c in o.tb[i]||(o.tb[i][c]=Dp(this.Yc,this)):c in o.tb[i]||(o.tb[i][c]=Dp(xh)))}var c=it({},o);c.node=t,Hp(c,o.tb,Op(void 0,i),s,n,e)};var Ah={"http://www.opengis.net/gml":{surfaceMember:Dp(Sh.prototype.Ji),polygonMember:Dp(Sh.prototype.Ji)}},Ph={"http://www.opengis.net/gml":{pointMember:Dp(Sh.prototype.Rn)}},Dh={"http://www.opengis.net/gml":{lineStringMember:Dp(Sh.prototype.Di),curveMember:Dp(Sh.prototype.Di)}},Ih={"http://www.opengis.net/gml":{exterior:Dp(Sh.prototype.Ii),interior:Dp(Sh.prototype.Ii)}},Oh={"http://www.opengis.net/gml":{Curve:Dp(Sh.prototype.$e),MultiCurve:Dp(Sh.prototype.Fi),Point:Dp(Sh.prototype.Hi),MultiPoint:Dp(Sh.prototype.Qn),LineString:Dp(Sh.prototype.$e),MultiLineString:Dp(Sh.prototype.Fi),LinearRing:Dp(Sh.prototype.Ei),Polygon:Dp(Sh.prototype.af),MultiPolygon:Dp(Sh.prototype.Gi),Surface:Dp(Sh.prototype.af),MultiSurface:Dp(Sh.prototype.Gi),Envelope:Dp(Sh.prototype.Pn)}},Nh={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};function Lh(t){t=t||{},dh.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=Tp(dh.prototype.ge),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Rh(t){return(t=Mp(t,"coordinates")).setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function jh(t,e,n){var o=n[n.length-1];n=o.hasZ,o=o.srsName;for(var i,r=(e=e.W()).length,a=Array(r),s=0;s<r;++s)i=e[s],a[s]=Fh(i,o,n);xh(t,a.join(" "))}function Fh(t,e,n){var o="enu";return e&&(o=Rt(e).b),e="en"===o.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],n&&(e+=","+(t[2]||0)),e}Sh.prototype.l=function(t,e){return Mp("http://www.opengis.net/gml",Nh[e[e.length-1].node.nodeName])},Sh.prototype.a=function(t,e){var n=e[e.length-1];e=n.multiSurface;var o=n.surface,i=n.curve;return n=n.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"LineString"===t&&!0===i?t="Curve":"MultiLineString"===t&&!0===n&&(t="MultiCurve"),Mp("http://www.opengis.net/gml",t)},Sh.prototype.re=function(t,e){e=zp(this,e);var n=Mp("http://www.opengis.net/gml","geom"),o={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f};return e&&it(o,e),this.Yc(n,t,[o]),n},Sh.prototype.bc=function(t,e){e=zp(this,e);var n=Mp("http://www.opengis.net/gml","featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};e&&it(o,e);var i=(e=[o])[e.length-1];o=i.featureType;var r=i.featureNS,a={};return a[r]={},a[r][o]=Dp(this.Ci,this),(i=it({},i)).node=n,Hp(i,a,Op(o,r),t,e),n},a(Lh,dh),(t=Lh.prototype).uj=function(t,e){t=$p(t,!1).replace(/^\s*|\s*$/g,"");var n=e[0].srsName;e="enu",n&&(n=Rt(n))&&(e=n.b);for(var o,i,r=[],a=0,s=(t=t.trim().split(/\s+/)).length;a<s;a++)i=t[a].split(/,+/),n=parseFloat(i[0]),o=parseFloat(i[1]),i=3===i.length?parseFloat(i[2]):0,"en"===e.substr(0,2)?r.push(n,o,i):r.push(o,n,i);return r},t.Up=function(t,e){return N((t=Fp([null],this.dk,t,e,this))[1][0],t[1][1],t[1][3],t[1][4])},t.Dm=function(t,e){(t=Fp(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Ep=function(t,e){(t=Fp(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.te={"http://www.opengis.net/gml":{coordinates:kp(Lh.prototype.uj)}},t.Gf={"http://www.opengis.net/gml":{innerBoundaryIs:Lh.prototype.Dm,outerBoundaryIs:Lh.prototype.Ep}},t.dk={"http://www.opengis.net/gml":{coordinates:Tp(Lh.prototype.uj)}},t.qh={"http://www.opengis.net/gml":{Point:kp(dh.prototype.Aj),MultiPoint:kp(dh.prototype.yj),LineString:kp(dh.prototype.sf),MultiLineString:kp(dh.prototype.xj),LinearRing:kp(dh.prototype.wj),Polygon:kp(dh.prototype.tf),MultiPolygon:kp(dh.prototype.zj),Box:kp(Lh.prototype.Up)}},t.wg=function(t,e){var n=e[e.length-1];e=n.multiSurface;var o=n.surface;return n=n.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"MultiLineString"===t&&!0===n&&(t="MultiCurve"),Mp("http://www.opengis.net/gml",t)},t.ui=function(t,e,n){var o,i=n[n.length-1],r=it({},i);r.node=t,o=Array.isArray(e)?i.dataProjection?qt(e,i.featureProjection,i.dataProjection):e:Gp(e,!0,i),Hp(r,Uh,this.wg,[o],n,void 0,this)},t.Ye=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Rh(t.namespaceURI),t.appendChild(o),jh(o,e,n)):"Curve"===t.nodeName&&(o=Mp(t.namespaceURI,"segments"),t.appendChild(o),t=Mp(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Ye(t,e,n))},t.Ze=function(t,e,n){var o=n[n.length-1],i=o.hasZ;o=o.srsName,"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Hp({node:t,hasZ:i,srsName:o},Hh,this.Kn,e,n,void 0,this)):"Surface"===t.nodeName&&(i=Mp(t.namespaceURI,"patches"),t.appendChild(i),t=Mp(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.Ze(t,e,n))},t.Kn=function(t,e){e=(t=e[e.length-1]).node;var n=t.exteriorWritten;return void 0===n&&(t.exteriorWritten=!0),Mp(e.namespaceURI,void 0!==n?"innerBoundaryIs":"outerBoundaryIs")},t.Ai=function(t,e,n){var o=Mp(t.namespaceURI,"LinearRing");t.appendChild(o),this.wi(o,e,n)},t.xi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.curve,r&&t.setAttribute("srsName",r),e=e.wd(),Hp({node:t,hasZ:i,srsName:r,curve:o},Bh,this.a,e,n,void 0,this)},t.zi=function(t,e,n){var o=n[n.length-1];n=o.hasZ;var i=o.srsName;i&&t.setAttribute("srsName",i),o=Rh(t.namespaceURI),t.appendChild(o),xh(o,t=Fh(t=e.W(),i,n))},t.Mn=function(t,e,n){var o=n[n.length-1],i=o.hasZ;(o=o.srsName)&&t.setAttribute("srsName",o),e=e.de(),Hp({node:t,hasZ:i,srsName:o},Vh,Op("pointMember"),e,n,void 0,this)},t.Nn=function(t,e,n){var o=Mp(t.namespaceURI,"Point");t.appendChild(o),this.zi(o,e,n)},t.vi=function(t,e,n){var o=this.wg(e,n);o&&(t.appendChild(o),this.Ye(o,e,n))},t.wi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Rh(t.namespaceURI),t.appendChild(o),jh(o,e,n)},t.yi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.surface,r&&t.setAttribute("srsName",r),e=e.Vd(),Hp({node:t,hasZ:i,srsName:r,surface:o},Wh,this.a,e,n,void 0,this)},t.Bi=function(t,e,n){var o=this.wg(e,n);o&&(t.appendChild(o),this.Ze(o,e,n))},t.Ln=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),Hp({node:t},zh,Np,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)};var Uh={"http://www.opengis.net/gml":{Curve:Dp(Lh.prototype.Ye),MultiCurve:Dp(Lh.prototype.xi),Point:Dp(Lh.prototype.zi),MultiPoint:Dp(Lh.prototype.Mn),LineString:Dp(Lh.prototype.Ye),MultiLineString:Dp(Lh.prototype.xi),LinearRing:Dp(Lh.prototype.wi),Polygon:Dp(Lh.prototype.Ze),MultiPolygon:Dp(Lh.prototype.yi),Surface:Dp(Lh.prototype.Ze),MultiSurface:Dp(Lh.prototype.yi),Envelope:Dp(Lh.prototype.Ln)}},Hh={"http://www.opengis.net/gml":{outerBoundaryIs:Dp(Lh.prototype.Ai),innerBoundaryIs:Dp(Lh.prototype.Ai)}},Vh={"http://www.opengis.net/gml":{pointMember:Dp(Lh.prototype.Nn)}},Bh={"http://www.opengis.net/gml":{lineStringMember:Dp(Lh.prototype.vi),curveMember:Dp(Lh.prototype.vi)}};Lh.prototype.a=function(t,e){return Mp("http://www.opengis.net/gml",qh[e[e.length-1].node.nodeName])};var qh={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Wh={"http://www.opengis.net/gml":{surfaceMember:Dp(Lh.prototype.Bi),polygonMember:Dp(Lh.prototype.Bi)}},zh={"http://www.opengis.net/gml":{lowerCorner:Dp(xh),upperCorner:Dp(xh)}};function Gh(t){t=t||{},uh.call(this),this.defaultDataProjection=Rt("EPSG:4326"),this.b=t.readExtensions}a(Gh,uh);var Yh=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function Kh(t,e,n,o){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in o?(t.push(o.ele),delete o.ele,e.hasZ=!0):t.push(0),"time"in o?(t.push(o.time),delete o.time,e.hasM=!0):t.push(0),t}function Xh(t,e,n){var o="XY",i=2;if(t.hasZ&&t.hasM?(o="XYZM",i=4):t.hasZ?(o="XYZ",i=3):t.hasM&&(o="XYM",i=3),4!==i){var r,a=0;for(r=e.length/4;a<r;a++)e[a*i]=e[4*a],e[a*i+1]=e[4*a+1],t.hasZ&&(e[a*i+2]=e[4*a+2]),t.hasM&&(e[a*i+2]=e[4*a+3]);if(e.length=e.length/4*i,n)for(a=0,r=n.length;a<r;a++)n[a]=n[a]/4*i}return o}function Zh(t,e){var n=e[e.length-1],o=t.getAttribute("href");null!==o&&(n.link=o),jp(id,t,e)}function Jh(t,e){e[e.length-1].extensionsNode_=t}function Qh(t,e){var n=e[0];if(t=Fp({flatCoordinates:[],layoutOptions:{}},rd,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.layoutOptions;delete t.layoutOptions,o=Xh(o,e);var i=new yl(null);return i.ba(o,e),Gp(i,!1,n),(n=new dl(i)).H(t),n}}function td(t,e){var n=e[0];if(t=Fp({flatCoordinates:[],ends:[],layoutOptions:{}},sd,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.ends;delete t.ends;var i=t.layoutOptions;delete t.layoutOptions,i=Xh(i,e,o);var r=new Xp(null);return r.ba(i,e,o),Gp(r,!1,n),(n=new dl(r)).H(t),n}}function ed(t,e){var n=e[0];if(e=Fp({},ud,t,e)){var o={};return Gp(t=new Ko(t=Kh([],o,t,e),o=Xh(o,t)),!1,n),(n=new dl(t)).H(e),n}}var nd={rte:Qh,trk:td,wpt:ed},od=Rp(Yh,{rte:Tp(Qh),trk:Tp(td),wpt:Tp(ed)}),id=Rp(Yh,{text:Pp(Mh,"linkText"),type:Pp(Mh,"linkType")}),rd=Rp(Yh,{name:Pp(Mh),cmt:Pp(Mh),desc:Pp(Mh),src:Pp(Mh),link:Zh,number:Pp(wh),extensions:Jh,type:Pp(Mh),rtept:function(t,e){var n=Fp({},ad,t,e);n&&Kh((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,n)}}),ad=Rp(Yh,{ele:Pp(vh),time:Pp(yh)}),sd=Rp(Yh,{name:Pp(Mh),cmt:Pp(Mh),desc:Pp(Mh),src:Pp(Mh),link:Zh,number:Pp(wh),type:Pp(Mh),extensions:Jh,trkseg:function(t,e){var n=e[e.length-1];jp(ld,t,e),n.ends.push(n.flatCoordinates.length)}}),ld=Rp(Yh,{trkpt:function(t,e){var n=Fp({},cd,t,e);n&&Kh((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,n)}}),cd=Rp(Yh,{ele:Pp(vh),time:Pp(yh)}),ud=Rp(Yh,{ele:Pp(vh),time:Pp(yh),magvar:Pp(vh),geoidheight:Pp(vh),name:Pp(Mh),cmt:Pp(Mh),desc:Pp(Mh),src:Pp(Mh),link:Zh,sym:Pp(Mh),type:Pp(Mh),fix:Pp(Mh),sat:Pp(wh),hdop:Pp(vh),vdop:Pp(vh),pdop:Pp(vh),ageofdgpsdata:Pp(vh),dgpsid:Pp(wh),extensions:Jh});function pd(t,e){e||(e=[]);for(var n=0,o=e.length;n<o;++n){var i=e[n];if(t.b){var r=i.get("extensionsNode_")||null;t.b(i,r)}i.set("extensionsNode_",void 0)}}function hd(t,e,n){t.setAttribute("href",e),e=n[n.length-1].properties,Hp({node:t},md,Np,[e.linkText,e.linkType],n,fd)}function dd(t,e,n){var o=n[n.length-1],i=o.node.namespaceURI,r=o.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),o.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}o=Lp(r,e="rtept"==t.nodeName?vd[i]:$d[i]),Hp({node:t,properties:r},Cd,Np,o,n,e)}Gh.prototype.Lg=function(t,e){if(!Gt(Yh,t.namespaceURI))return null;var n=nd[t.localName];return n&&(t=n(t,[Wp(this,t,e)]))?(pd(this,[t]),t):null},Gh.prototype.Kc=function(t,e){return Gt(Yh,t.namespaceURI)&&"gpx"==t.localName&&(t=Fp([],od,t,[Wp(this,t,e)]))?(pd(this,t),t):[]};var fd=["text","type"],md=Rp(Yh,{text:Dp(xh),type:Dp(xh)}),gd=Rp(Yh,"name cmt desc src link number type rtept".split(" ")),yd=Rp(Yh,{name:Dp(xh),cmt:Dp(xh),desc:Dp(xh),src:Dp(xh),link:Dp(hd),number:Dp(_h),type:Dp(xh),rtept:Ip(Dp(dd))}),vd=Rp(Yh,["ele","time"]),bd=Rp(Yh,"name cmt desc src link number type trkseg".split(" ")),wd=Rp(Yh,{name:Dp(xh),cmt:Dp(xh),desc:Dp(xh),src:Dp(xh),link:Dp(hd),number:Dp(_h),type:Dp(xh),trkseg:Ip(Dp(function(t,e,n){Hp({node:t,geometryLayout:e.ja,properties:{}},Md,Ed,e.W(),n)}))}),Ed=Op("trkpt"),Md=Rp(Yh,{trkpt:Dp(dd)}),$d=Rp(Yh,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Cd=Rp(Yh,{ele:Dp(Ch),time:Dp(function(t,e){e=new Date(1e3*e),t.appendChild(Ep.createTextNode(e.getUTCFullYear()+"-"+Yn(e.getUTCMonth()+1)+"-"+Yn(e.getUTCDate())+"T"+Yn(e.getUTCHours())+":"+Yn(e.getUTCMinutes())+":"+Yn(e.getUTCSeconds())+"Z"))}),magvar:Dp(Ch),geoidheight:Dp(Ch),name:Dp(xh),cmt:Dp(xh),desc:Dp(xh),src:Dp(xh),link:Dp(hd),sym:Dp(xh),type:Dp(xh),fix:Dp(xh),sat:Dp(_h),hdop:Dp(Ch),vdop:Dp(Ch),pdop:Dp(Ch),ageofdgpsdata:Dp(Ch),dgpsid:Dp(_h)}),_d={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function xd(t,e){if((t=t.U())&&(t=_d[t.S()]))return Mp(e[e.length-1].node.namespaceURI,t)}var Sd=Rp(Yh,{rte:Dp(function(t,e,n){var o=n[0],i=e.L();t={node:t,properties:i},(e=e.U())&&(e=Gp(e,!0,o),t.geometryLayout=e.ja,i.rtept=e.W()),i=Lp(i,o=gd[n[n.length-1].node.namespaceURI]),Hp(t,yd,Np,i,n,o)}),trk:Dp(function(t,e,n){var o=n[0],i=e.L();t={node:t,properties:i},(e=e.U())&&(e=Gp(e,!0,o),i.trkseg=e.wd()),i=Lp(i,o=bd[n[n.length-1].node.namespaceURI]),Hp(t,wd,Np,i,n,o)}),wpt:Dp(function(t,e,n){var o=n[0],i=n[n.length-1];i.properties=e.L(),(e=e.U())&&(e=Gp(e,!0,o),i.geometryLayout=e.ja,dd(t,e.W(),n))})});function Td(t){So.call(this),this.a=t||null,Pd(this)}function kd(t){var e,n=[],o=0;for(e=t.length;o<e;++o)n.push(t[o].clone());return n}function Ad(t){var e;if(t.a){var n=0;for(e=t.a.length;n<e;++n)we(t.a[n],"change",t.u,t)}}function Pd(t){var e;if(t.a){var n=0;for(e=t.a.length;n<e;++n)ve(t.a[n],"change",t.u,t)}}function Dd(t){t=t||{},qp.call(this),this.defaultDataProjection=Rt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Rt(t.featureProjection)),this.b=t.geometryName,this.a=t.extractGeometryName}function Id(t,e){return t?Gp((0,Nd[t.type])(t),!1,e):null}function Od(t,e){return(0,Ld[t.S()])(Gp(t,!0,e),e)}Gh.prototype.bc=function(t,e){e=zp(this,e);var n=Mp("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),Hp({node:n},Sd,xd,t,[e]),n},a(Td,So),(t=Td.prototype).clone=function(){var t=new Td(null);return t.Kj(this.a),t},t.Nb=function(t,e,n,o){if(o<k(this.G(),t,e))return o;var i,r=this.a,a=0;for(i=r.length;a<i;++a)o=r[a].Nb(t,e,n,o);return o},t.Zc=function(t,e){var n,o=this.a,i=0;for(n=o.length;i<n;++i)if(o[i].Zc(t,e))return!0;return!1},t.Ae=function(t){L(t);for(var e=this.a,n=0,o=e.length;n<o;++n)U(t,e[n].G());return t},t.vd=function(){return kd(this.a)},t.Wd=function(t){if(this.l!=this.g&&(rt(this.i),this.f=0,this.l=this.g),0>t||0!==this.f&&t<this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n,o=[],i=this.a,r=!1,a=0;for(n=i.length;a<n;++a){var s=i[a],l=s.Wd(t);o.push(l),l!==s&&(r=!0)}return r?(Ad(t=new Td(null)),t.a=o,Pd(t),t.u(),this.i[e]=t):(this.f=t,this)},t.S=function(){return"GeometryCollection"},t.$a=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)if(n[o].$a(t))return!0;return!1},t.rotate=function(t,e){for(var n=this.a,o=0,i=n.length;o<i;++o)n[o].rotate(t,e);this.u()},t.scale=function(t,e,n){n||(n=G(this.G()));for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].scale(t,e,n);this.u()},t.Kj=function(t){t=kd(t),Ad(this),this.a=t,Pd(this),this.u()},t.Rc=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)n[o].Rc(t);this.u()},t.translate=function(t,e){var n,o=this.a,i=0;for(n=o.length;i<n;++i)o[i].translate(t,e);this.u()},t.ia=function(){Ad(this),So.prototype.ia.call(this)},a(Dd,Yp);var Nd={Point:function(t){return new Ko(t.coordinates)},LineString:function(t){return new yl(t.coordinates)},Polygon:function(t){return new si(t.coordinates)},MultiPoint:function(t){return new Jp(t.coordinates)},MultiLineString:function(t){return new Xp(t.coordinates)},MultiPolygon:function(t){return new Qp(t.coordinates)},GeometryCollection:function(t,e){return new Td(t=t.geometries.map(function(t){return Id(t,e)}))}},Ld={Point:function(t){return{type:"Point",coordinates:t.W()}},LineString:function(t){return{type:"LineString",coordinates:t.W()}},Polygon:function(t,e){if(e)var n=e.rightHanded;return{type:"Polygon",coordinates:t.W(n)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.W()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.W()}},MultiPolygon:function(t,e){if(e)var n=e.rightHanded;return{type:"MultiPolygon",coordinates:t.W(n)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var n=it({},e);return delete n.featureProjection,Od(t,n)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};function Rd(){qp.call(this)}function jd(t){return"string"==typeof t?t:""}function Fd(t){t=t||{},qp.call(this),this.defaultDataProjection=Rt("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}(t=Dd.prototype).dd=function(t,e){e=Id((t="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e);var n=new dl;return this.b?n.Lc(this.b):this.a&&void 0!==t.geometry_name&&n.Lc(t.geometry_name),n.Va(e),void 0!==t.id&&n.qc(t.id),t.properties&&n.H(t.properties),n},t.Mg=function(t,e){if("FeatureCollection"===t.type){var n,o=[],i=0;for(n=(t=t.features).length;i<n;++i)o.push(this.dd(t[i],e))}else o=[this.dd(t,e)];return o},t.Qg=function(t,e){return Id(t,e)},t.Tg=function(t){var e;return(t=t.crs)?"name"==t.type?e=Rt(t.properties.name):f(!1,36):e=this.defaultDataProjection,e},t.ld=function(t,e){e=zp(this,e);var n={type:"Feature"},o=t.c;return void 0!==o&&(n.id=o),(o=t.U())?n.geometry=Od(o,e):n.geometry=null,delete(e=t.L())[t.a],st(e)?n.properties=null:n.properties=e,n},t.qe=function(t,e){e=zp(this,e);var n,o=[],i=0;for(n=t.length;i<n;++i)o.push(this.ld(t[i],e));return{type:"FeatureCollection",features:o}},t.se=function(t,e){return Od(t,zp(this,e))},a(Rd,qp),(t=Rd.prototype).S=function(){return"text"},t.Yb=function(t,e){return this.fe(jd(t),zp(this,e))},t.Qa=function(t,e){return this.Ng(jd(t),zp(this,e))},t.ed=function(t,e){return this.Gd(jd(t),zp(this,e))},t.sb=function(){return this.defaultDataProjection},t.Jd=function(t,e){return this.pe(t,zp(this,e))},t.ac=function(t,e){return this.nh(t,zp(this,e))},t.md=function(t,e){return this.Kd(t,zp(this,e))},a(Fd,Rd);var Ud,Hd,Vd,Bd,qd,Wd,zd,Gd,Yd,Kd,Xd,Zd,Jd,Qd,tf,ef=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,nf=/^H.([A-Z]{3}).*?:(.*)/,of=/^HFDTE(\d{2})(\d{2})(\d{2})/,rf=/\r\n|\r|\n/;function af(t,e,n,o,i,r){Se.call(this),this.j=null,this.M=t||new Image,null!==o&&(this.M.crossOrigin=o),this.c=r?document.createElement("CANVAS"):null,this.f=r,this.i=null,this.g=i,this.a=n,this.l=e,this.s=!1,2==this.g&&sf(this)}function sf(t){var e=wi(1,1);try{e.drawImage(t.M,0,0),e.getImageData(0,0,1,1)}catch(e){t.s=!0}}function lf(t){t=t||{},this.l=void 0!==t.anchor?t.anchor:[.5,.5],this.o=null,this.g=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.qa=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,n=void 0!==t.imgSize?t.imgSize:null,o=t.src;f(!(void 0!==o&&e),4),f(!e||e&&n,5),void 0!==o&&0!==o.length||!e||(o=e.src||l(e).toString()),f(void 0!==o&&0<o.length,6);var i=void 0!==t.src?0:2;this.j=void 0!==t.color?ba(t.color):null;var r=this.qa,a=this.j,s=Ga.get(o,r,a);s||(s=new af(e,o,n,r,i,a),Ga.set(o,r,a,s)),this.b=s,this.oa=void 0!==t.offset?t.offset:[0,0],this.c=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.N=null,this.D=void 0!==t.size?t.size:null,tl.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function cf(t){t=t||{},uh.call(this),Ud||(Vd=new rl({color:Hd=[255,255,255,1]}),Wd=qd="pixels",Kd=new lf({anchor:Bd=[20,2],anchorOrigin:"bottom-left",anchorXUnits:qd,anchorYUnits:Wd,crossOrigin:"anonymous",rotation:0,scale:Yd=.5,size:zd=[64,64],src:Gd="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),Xd="NO_IMAGE",Zd=new al({color:Hd,width:1}),Jd=new al({color:[51,51,51,1],width:2}),Qd=new bl({font:"bold 16px Helvetica",fill:Vd,stroke:Jd,scale:.8}),tf=new sl({fill:Vd,image:Kd,text:Qd,stroke:Zd,zIndex:0}),Ud=[tf]),this.defaultDataProjection=Rt("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:Ud,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.f=void 0===t.showPointNames||t.showPointNames}(t=Fd.prototype).fe=function(t,e){var n=this.b,o=t.split(rf);t={};var i,r=[],a=2e3,s=0,l=1,c=-1,u=0;for(i=o.length;u<i;++u){var p,h=o[u];if("B"==h.charAt(0)){if(p=ef.exec(h)){h=parseInt(p[1],10);var d=parseInt(p[2],10),f=parseInt(p[3],10),m=parseInt(p[4],10)+parseInt(p[5],10)/6e4;"S"==p[6]&&(m=-m);var g=parseInt(p[7],10)+parseInt(p[8],10)/6e4;"W"==p[9]&&(g=-g),r.push(g,m),"none"!=n&&r.push("gps"==n?parseInt(p[11],10):"barometric"==n?parseInt(p[12],10):0),(p=Date.UTC(a,s,l,h,d,f))<c&&(p=Date.UTC(a,s,l+1,h,d,f)),r.push(p/1e3),c=p}}else"H"==h.charAt(0)&&((p=of.exec(h))?(l=parseInt(p[1],10),s=parseInt(p[2],10)-1,a=2e3+parseInt(p[3],10)):(p=nf.exec(h))&&(t[p[1]]=p[2].trim()))}return 0===r.length?null:((o=new yl(null)).ba("none"==n?"XYM":"XYZM",r),(e=new dl(Gp(o,!1,e))).H(t),e)},t.Ng=function(t,e){return(t=this.fe(t,e))?[t]:[]},t.pe=function(){},t.nh=function(){},t.Kd=function(){},t.Gd=function(){},a(af,Se),af.prototype.v=function(){this.g=3,this.i.forEach(Ee),this.i=null,this.b("change")},af.prototype.o=function(){if(this.g=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(Ee),this.i=null,sf(this),!this.s&&null!==this.f){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),n=e.data,o=this.f[0]/255,i=this.f[1]/255,r=this.f[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=o,n[a+1]*=i,n[a+2]*=r;t.putImageData(e,0,0)}this.b("change")},af.prototype.Y=function(){return this.c?this.c:this.M},af.prototype.load=function(){if(0==this.g){this.g=1,this.i=[be(this.M,"error",this.v,this),be(this.M,"load",this.o,this)];try{this.M.src=this.l}catch(t){this.v()}}},a(lf,tl),(t=lf.prototype).clone=function(){return new lf({anchor:this.l.slice(),anchorOrigin:this.g,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.b.l,offset:this.oa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.f,rotateWithView:this.s})},t.Vc=function(){if(this.o)return this.o;var t=this.l,e=this.oc();if("fraction"==this.C||"fraction"==this.B){if(!e)return null;t=this.l.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.g){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=-t[0]+e[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=-t[1]+e[1])}return this.o=t},t.np=function(){return this.j},t.Y=function(t){return this.b.Y(t)},t.He=function(){return this.b.a},t.gf=function(){return this.b.g},t.Eg=function(){var t=this.b;if(!t.j)if(t.s){var e=t.a[0],n=t.a[1],o=wi(e,n);o.fillRect(0,0,e,n),t.j=o.canvas}else t.j=t.M;return t.j},t.bd=function(){if(this.N)return this.N;var t=this.oa;if("top-left"!=this.c){var e=this.oc(),n=this.b.a;if(!e||!n)return null;t=t.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=n[1]-e[1]-t[1])}return this.N=t},t.op=function(){return this.b.l},t.oc=function(){return this.D?this.D:this.b.a},t.gi=function(t,e){ve(this.b,"change",t,e)},t.load=function(){this.b.load()},t.Yj=function(t,e){we(this.b,"change",t,e)},a(cf,uh);var uf=["http://www.google.com/kml/ext/2.2"],pf=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],hf={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};function df(t,e){var n=[0,0],o="start";if(t.Y()){var i=t.Y().He();null===i&&(i=zd),2==i.length&&(o=t.Y().a,n[0]=o*i[0]/2,n[1]=-o*i[1]/2,o="left")}return null!==t.Ka()?((t=(i=t.Ka()).clone()).Jj(i.a||Qd.a),t.lj(i.b||Qd.b),t.yf(i.Fa()||Qd.Fa()),t.Af(i.Ga()||Jd)):t=Qd.clone(),t.Hd(e),t.Nj(n[0]),t.Oj(n[1]),t.Qj(o),new sl({text:t})}function ff(t,e,n,o,i){return function(){var r=i,a="";if(r&&this.U()&&(r="Point"===this.U().S()),r&&(a=this.get("name"),r=r&&a),t)return r?(r=df(t[0],a),t.concat(r)):t;if(e){var s=function t(e,n,o){return Array.isArray(e)?e:"string"==typeof e?(!(e in o)&&"#"+e in o&&(e="#"+e),t(o[e],n,o)):n}(e,n,o);return r?(r=df(s[0],a),s.concat(r)):s}return r?(r=df(n[0],a),n.concat(r)):n}}function mf(t){if(t=$p(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function gf(t){t=$p(t,!1);for(var e,n=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=o.exec(t);)n.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return n}function yf(t){var e=$p(t,!1).trim();return(t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function vf(t){return vh(t)}function bf(t,e){return Fp(null,Lf,t,e)}function wf(t,e){if(e=Fp({A:[],ak:[]},jf,t,e)){var n;t=e.A,e=e.ak;var o=0;for(n=Math.min(t.length,e.length);o<n;++o)t[4*o+3]=e[o];return(e=new yl(null)).ba("XYZM",t),e}}function Ef(t,e){var n=Fp({},Nf,t,e);if(t=Fp(null,Ff,t,e))return(e=new yl(null)).ba("XYZ",t),e.H(n),e}function Mf(t,e){var n=Fp({},Nf,t,e);if(t=Fp(null,Ff,t,e))return(e=new si(null)).ba("XYZ",t,[t.length]),e.H(n),e}function $f(t,e){if(!(t=Fp([],Wf,t,e)))return null;if(0===t.length)return new Td(t);var n,o=!0,i=t[0].S(),r=1;for(n=t.length;r<n;++r)if((e=t[r]).S()!=i){o=!1;break}if(o)if("Point"==i){var a=t[0];for(o=a.ja,i=a.da(),r=1,n=t.length;r<n;++r)Kt(i,(e=t[r]).da());(a=new Jp(null)).ba(o,i),Sf(a,t)}else"LineString"==i?(Zp(a=new Xp(null),t),Sf(a,t)):"Polygon"==i?(nh(a=new Qp(null),t),Sf(a,t)):"GeometryCollection"==i?a=new Td(t):f(!1,37);else a=new Td(t);return a}function Cf(t,e){var n=Fp({},Nf,t,e);if(t=Fp(null,Ff,t,e))return(e=new Ko(null)).ba("XYZ",t),e.H(n),e}function _f(t,e){var n=Fp({},Nf,t,e);if((t=Fp([null],Rf,t,e))&&t[0]){e=new si(null);var o,i=t[0],r=[i.length],a=1;for(o=t.length;a<o;++a)Kt(i,t[a]),r.push(i.length);return e.ba("XYZ",i,r),e.H(n),e}}function xf(t,e){if(!(e=Fp({},tm,t,e)))return null;t="fillStyle"in e?e.fillStyle:Vd;var n=e.fill;void 0===n||n||(t=null),(n="imageStyle"in e?e.imageStyle:Kd)==Xd&&(n=void 0);var o="textStyle"in e?e.textStyle:Qd,i="strokeStyle"in e?e.strokeStyle:Zd;return void 0===(e=e.outline)||e||(i=null),[new sl({fill:t,image:n,stroke:i,text:o,zIndex:void 0})]}function Sf(t,e){var n,o,i,r=e.length,a=Array(e.length),s=Array(e.length),l=Array(e.length),c=o=i=!1;for(n=0;n<r;++n){var u=e[n];a[n]=u.get("extrude"),s[n]=u.get("tessellate"),l[n]=u.get("altitudeMode"),c=c||void 0!==a[n],o=o||void 0!==s[n],i=i||l[n]}c&&t.set("extrude",a),o&&t.set("tessellate",s),i&&t.set("altitudeMode",l)}function Tf(t,e){jp(Pf,t,e)}function kf(t,e){jp(Df,t,e)}var Af=Rp(pf,{displayName:Pp(Mh),value:Pp(Mh)}),Pf=Rp(pf,{Data:function(t,e){var n=t.getAttribute("name");jp(Af,t,e),t=e[e.length-1],null!==n?t[n]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){jp(Qf,t,e)}}),Df=Rp(pf,{LatLonAltBox:function(t,e){(t=Fp({},If,t,e))&&((e=e[e.length-1]).extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=Fp({},Of,t,e))&&((e=e[e.length-1]).minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),If=Rp(pf,{altitudeMode:Pp(Mh),minAltitude:Pp(vh),maxAltitude:Pp(vh),north:Pp(vh),south:Pp(vh),east:Pp(vh),west:Pp(vh)}),Of=Rp(pf,{minLodPixels:Pp(vh),maxLodPixels:Pp(vh),minFadeExtent:Pp(vh),maxFadeExtent:Pp(vh)}),Nf=Rp(pf,{extrude:Pp(mh),tessellate:Pp(mh),altitudeMode:Pp(Mh)}),Lf=Rp(pf,{coordinates:kp(gf)}),Rf=Rp(pf,{innerBoundaryIs:function(t,e){(t=Fp(void 0,Vf,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=Fp(void 0,Kf,t,e))&&(e[e.length-1][0]=t)}}),jf=Rp(pf,{when:function(t,e){e=e[e.length-1].ak,t=$p(t,!1),t=Date.parse(t),e.push(isNaN(t)?0:t)}},Rp(uf,{coord:function(t,e){e=e[e.length-1].A,t=$p(t,!1),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),Ff=Rp(pf,{coordinates:kp(gf)}),Uf=Rp(pf,{href:Pp(yf)},Rp(uf,{x:Pp(vh),y:Pp(vh),w:Pp(vh),h:Pp(vh)})),Hf=Rp(pf,{Icon:Pp(function(t,e){return(t=Fp({},Uf,t,e))?t:null}),heading:Pp(vh),hotSpot:Pp(function(t){var e=t.getAttribute("xunits"),n=t.getAttribute("yunits"),o="insetPixels"!==e?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),oh:hf[e],y:parseFloat(t.getAttribute("y")),ph:hf[n],origin:o}}),scale:Pp(vf)}),Vf=Rp(pf,{LinearRing:kp(bf)}),Bf=Rp(pf,{color:Pp(mf),scale:Pp(vf)}),qf=Rp(pf,{color:Pp(mf),width:Pp(vh)}),Wf=Rp(pf,{LineString:Tp(Ef),LinearRing:Tp(Mf),MultiGeometry:Tp($f),Point:Tp(Cf),Polygon:Tp(_f)}),zf=Rp(uf,{Track:Tp(wf)}),Gf=Rp(pf,{ExtendedData:Tf,Region:kf,Link:function(t,e){jp(Yf,t,e)},address:Pp(Mh),description:Pp(Mh),name:Pp(Mh),open:Pp(mh),phoneNumber:Pp(Mh),visibility:Pp(mh)}),Yf=Rp(pf,{href:Pp(yf)}),Kf=Rp(pf,{LinearRing:kp(bf)}),Xf=Rp(pf,{Style:Pp(xf),key:Pp(Mh),styleUrl:Pp(yf)}),Zf=Rp(pf,{ExtendedData:Tf,Region:kf,MultiGeometry:Pp($f,"geometry"),LineString:Pp(Ef,"geometry"),LinearRing:Pp(Mf,"geometry"),Point:Pp(Cf,"geometry"),Polygon:Pp(_f,"geometry"),Style:Pp(xf),StyleMap:function(t,e){(t=Fp(void 0,em,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:f(!1,38))},address:Pp(Mh),description:Pp(Mh),name:Pp(Mh),open:Pp(mh),phoneNumber:Pp(Mh),styleUrl:Pp(yf),visibility:Pp(mh)},Rp(uf,{MultiTrack:Pp(function(t,e){if(t=Fp([],zf,t,e))return Zp(e=new Xp(null),t),e},"geometry"),Track:Pp(wf,"geometry")})),Jf=Rp(pf,{color:Pp(mf),fill:Pp(mh),outline:Pp(mh)}),Qf=Rp(pf,{SimpleData:function(t,e){var n=t.getAttribute("name");null!==n&&(t=Mh(t),e[e.length-1][n]=t)}}),tm=Rp(pf,{IconStyle:function(t,e){if(t=Fp({},Hf,t,e)){e=e[e.length-1];var n,o="Icon"in t?t.Icon:{},i=!("Icon"in t)||0<Object.keys(o).length,r=o.href;r?n=r:i&&(n=Gd),r="bottom-left";var a,s=t.hotSpot;if(s){var l=[s.x,s.y],c=s.oh,u=s.ph;r=s.origin}else n===Gd?(l=Bd,c=qd,u=Wd):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(l=[.5,0],u=c="fraction");s=o.x;var p,h,d=o.y;void 0!==s&&void 0!==d&&(a=[s,d]),s=o.w,o=o.h,void 0!==s&&void 0!==o&&(p=[s,o]),void 0!==(o=t.heading)&&(h=b(o)),t=t.scale,i?(n==Gd&&(p=zd,void 0===t&&(t=Yd)),n=new lf({anchor:l,anchorOrigin:r,anchorXUnits:c,anchorYUnits:u,crossOrigin:"anonymous",offset:a,offsetOrigin:"bottom-left",rotation:h,scale:t,size:p,src:n}),e.imageStyle=n):e.imageStyle=Xd}},LabelStyle:function(t,e){(t=Fp({},Bf,t,e))&&(e[e.length-1].textStyle=new bl({fill:new rl({color:"color"in t?t.color:Hd}),scale:t.scale}))},LineStyle:function(t,e){(t=Fp({},qf,t,e))&&(e[e.length-1].strokeStyle=new al({color:"color"in t?t.color:Hd,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=Fp({},Jf,t,e)){(e=e[e.length-1]).fillStyle=new rl({color:"color"in t?t.color:Hd});var n=t.fill;void 0!==n&&(e.fill=n),void 0!==(t=t.outline)&&(e.outline=t)}}}),em=Rp(pf,{Pair:function(t,e){if(t=Fp({},Xf,t,e)){var n=t.key;n&&"normal"==n&&((n=t.styleUrl)&&(e[e.length-1]=n),(t=t.Style)&&(e[e.length-1]=t))}}});function nm(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=om(t,e);if(n)return n}}function om(t,e){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling)if(Gt(pf,n.namespaceURI)&&"name"==n.localName)return Mh(n);for(n=e.firstElementChild;n;n=n.nextElementSibling)if(e=n.localName,Gt(pf,n.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)&&(e=om(t,n)))return e}function im(t,e){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Kt(n,rm(t,e));return n}function rm(t,e){var n,o=[];for(n=e.firstElementChild;n;n=n.nextElementSibling)if(Gt(pf,n.namespaceURI)&&"NetworkLink"==n.localName){var i=Fp({},Gf,n,[]);o.push(i)}for(n=e.firstElementChild;n;n=n.nextElementSibling)e=n.localName,!Gt(pf,n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Kt(o,rm(t,n));return o}function am(t,e){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Kt(n,t.vf(e));return n}function sm(t,e){var n;for(e=[255*(4==(e=ba(e)).length?e[3]:1),e[2],e[1],e[0]],n=0;4>n;++n){var o=parseInt(e[n],10).toString(16);e[n]=1==o.length?"0"+o:o}xh(t,e.join(""))}function lm(t,e,n){t={node:t};var o=e.S();if("GeometryCollection"==o)var i=e.vd(),r=Fm;else"MultiPoint"==o?(i=e.de(),r=qm):"MultiLineString"==o?(i=e.wd(),r=Wm):"MultiPolygon"==o?(i=e.Vd(),r=Gm):f(!1,39);Hp(t,Tm,r,i,n)}function cm(t,e,n){Hp({node:t},Sm,zm,[e],n)}function um(t,e,n){var o={node:t};e.c&&t.setAttribute("id",e.c),t=e.L();var i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.a]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!i[t]});if(0<r.length){var a=Lp(t,r);Hp(o,Am,Vm,[{names:r,values:a}],n)}(r=e.ib())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Ka())&&(t.name=r.Ka())),t=Lp(t,r=km[n[n.length-1].node.namespaceURI]),Hp(o,Am,Np,t,n,r),t=n[0],(e=e.U())&&(e=Gp(e,!0,t)),Hp(o,Am,Fm,[e],n)}function pm(t,e,n){var o=e.da();(t={node:t}).layout=e.ja,t.stride=e.pa(),(e=e.L()).coordinates=o,e=Lp(e,o=Pm[n[n.length-1].node.namespaceURI]),Hp(t,Dm,Np,e,n,o)}function hm(t,e,n){var o=(e=e.Ud()).shift();Hp(t={node:t},Im,Bm,e,n),Hp(t,Im,Ym,[o],n)}function dm(t,e){Ch(t,Math.round(1e6*e)/1e6)}(t=cf.prototype).Jg=function(t,e){if(t=Fp([],Rp(pf,{Document:Sp(this.Jg,this),Folder:Sp(this.Jg,this),Placemark:Tp(this.Rg,this),Style:this.kq.bind(this),StyleMap:this.jq.bind(this)}),t,e,this))return t},t.Rg=function(t,e){var n=Fp({geometry:null},Zf,t,e);if(n){var o=new dl;return null!==(t=t.getAttribute("id"))&&o.qc(t),e=e[0],(t=n.geometry)&&Gp(t,!1,e),o.Va(t),delete n.geometry,this.c&&o.sg(ff(n.Style,n.styleUrl,this.a,this.b,this.f)),delete n.Style,o.H(n),o}},t.kq=function(t,e){var n=t.getAttribute("id");null!==n&&(e=xf(t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),n=t?new URL("#"+n,t).href:"#"+n,this.b[n]=e)},t.jq=function(t,e){var n=t.getAttribute("id");null!==n&&(e=Fp(void 0,em,t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),n=t?new URL("#"+n,t).href:"#"+n,this.b[n]=e)},t.Lg=function(t,e){return Gt(pf,t.namespaceURI)&&(t=this.Rg(t,[Wp(this,t,e)]))?t:null},t.Kc=function(t,e){if(!Gt(pf,t.namespaceURI))return[];var n=t.localName;if("Document"==n||"Folder"==n)return(n=this.Jg(t,[Wp(this,t,e)]))?n:[];if("Placemark"==n)return(e=this.Rg(t,[Wp(this,t,e)]))?[e]:[];if("kml"==n){for(n=[],t=t.firstElementChild;t;t=t.nextElementSibling){var o=this.Kc(t,e);o&&Kt(n,o)}return n}return[]},t.cq=function(t){return Cp(t)?nm(this,t):_p(t)?om(this,t):"string"==typeof t?nm(this,t=xp(t)):void 0},t.eq=function(t){var e=[];return Cp(t)?Kt(e,im(this,t)):_p(t)?Kt(e,rm(this,t)):"string"==typeof t&&Kt(e,im(this,t=xp(t))),e},t.hq=function(t){var e=[];return Cp(t)?Kt(e,am(this,t)):_p(t)?Kt(e,this.vf(t)):"string"==typeof t&&Kt(e,am(this,t=xp(t))),e},t.vf=function(t){var e,n=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(Gt(pf,e.namespaceURI)&&"Region"==e.localName){var o=Fp({},Df,e,[]);n.push(o)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!Gt(pf,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Kt(n,this.vf(e));return n};var fm=Rp(pf,["Document","Placemark"]),mm=Rp(pf,{Document:Dp(function(t,e,n){Hp({node:t},gm,jm,e,n,void 0,this)}),Placemark:Dp(um)}),gm=Rp(pf,{Placemark:Dp(um)}),ym=Rp(pf,{Data:Dp(function(t,e,n){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&Hp(t,ym,Np,[e.displayName],n,["displayName"]),null!==e&&e.value&&Hp(t,ym,Np,[e.value],n,["value"])):Hp(t,ym,Np,[e],n,["value"])}),value:Dp(function(t,e){xh(t,e)}),displayName:Dp(function(t,e){t.appendChild(Ep.createCDATASection(e))})}),vm={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},bm=Rp(pf,["href"],Rp(uf,["x","y","w","h"])),wm=Rp(pf,{href:Dp(xh)},Rp(uf,{x:Dp(Ch),y:Dp(Ch),w:Dp(Ch),h:Dp(Ch)})),Em=Rp(pf,["scale","heading","Icon","hotSpot"]),Mm=Rp(pf,{Icon:Dp(function(t,e,n){t={node:t};var o=bm[n[n.length-1].node.namespaceURI],i=Lp(e,o);Hp(t,wm,Np,i,n,o),i=Lp(e,o=bm[uf[0]]),Hp(t,wm,Rm,i,n,o)}),heading:Dp(Ch),hotSpot:Dp(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.oh),t.setAttribute("yunits",e.ph)}),scale:Dp(dm)}),$m=Rp(pf,["color","scale"]),Cm=Rp(pf,{color:Dp(sm),scale:Dp(dm)}),_m=Rp(pf,["color","width"]),xm=Rp(pf,{color:Dp(sm),width:Dp(Ch)}),Sm=Rp(pf,{LinearRing:Dp(pm)}),Tm=Rp(pf,{LineString:Dp(pm),Point:Dp(pm),Polygon:Dp(hm),GeometryCollection:Dp(lm)}),km=Rp(pf,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Am=Rp(pf,{ExtendedData:Dp(function(t,e,n){t={node:t};var o=e.names;e=e.values;for(var i=o.length,r=0;r<i;r++)Hp(t,ym,Hm,[{name:o[r],value:e[r]}],n)}),MultiGeometry:Dp(lm),LineString:Dp(pm),LinearRing:Dp(pm),Point:Dp(pm),Polygon:Dp(hm),Style:Dp(function(t,e,n){t={node:t};var o={},i=e.Fa(),r=e.Ga(),a=e.Y();e=e.Ka(),a instanceof lf&&(o.IconStyle=a),e&&(o.LabelStyle=e),r&&(o.LineStyle=r),i&&(o.PolyStyle=i),o=Lp(o,e=Nm[n[n.length-1].node.namespaceURI]),Hp(t,Lm,Np,o,n,e)}),address:Dp(xh),description:Dp(xh),name:Dp(xh),open:Dp($h),phoneNumber:Dp(xh),styleUrl:Dp(xh),visibility:Dp($h)}),Pm=Rp(pf,["extrude","tessellate","altitudeMode","coordinates"]),Dm=Rp(pf,{extrude:Dp($h),tessellate:Dp($h),altitudeMode:Dp(xh),coordinates:Dp(function(t,e,n){var o,i=(n=n[n.length-1]).layout;n=n.stride,"XY"==i||"XYM"==i?o=2:"XYZ"==i||"XYZM"==i?o=3:f(!1,34);var r,a=e.length,s="";if(0<a){for(s+=e[0],i=1;i<o;++i)s+=","+e[i];for(r=n;r<a;r+=n)for(s+=" "+e[r],i=1;i<o;++i)s+=","+e[r+i]}xh(t,s)})}),Im=Rp(pf,{outerBoundaryIs:Dp(cm),innerBoundaryIs:Dp(cm)}),Om=Rp(pf,{color:Dp(sm)}),Nm=Rp(pf,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Lm=Rp(pf,{IconStyle:Dp(function(t,e,n){t={node:t};var o={},i=e.oc(),r=e.He(),a={href:e.b.l};if(i){a.w=i[0],a.h=i[1];var s=e.Vc(),l=e.bd();l&&r&&0!==l[0]&&l[1]!==i[1]&&(a.x=l[0],a.y=r[1]-(l[1]+i[1])),!s||s[0]===i[0]/2&&s[1]===i[1]/2||(o.hotSpot={x:s[0],oh:"pixels",y:i[1]-s[1],ph:"pixels"})}o.Icon=a,1!==(i=e.a)&&(o.scale=i),0!==(e=e.f)&&(o.heading=e),o=Lp(o,e=Em[n[n.length-1].node.namespaceURI]),Hp(t,Mm,Np,o,n,e)}),LabelStyle:Dp(function(t,e,n){t={node:t};var o={},i=e.Fa();i&&(o.color=i.b),(e=e.b)&&1!==e&&(o.scale=e),o=Lp(o,e=$m[n[n.length-1].node.namespaceURI]),Hp(t,Cm,Np,o,n,e)}),LineStyle:Dp(function(t,e,n){t={node:t};var o=_m[n[n.length-1].node.namespaceURI];e=Lp({color:e.a,width:e.c},o),Hp(t,xm,Np,e,n,o)}),PolyStyle:Dp(function(t,e,n){Hp({node:t},Om,Um,[e.b],n)})});function Rm(t,e,n){return Mp(uf[0],"gx:"+n)}function jm(t,e){return Mp(e[e.length-1].node.namespaceURI,"Placemark")}function Fm(t,e){if(t)return Mp(e[e.length-1].node.namespaceURI,vm[t.S()])}var Um=Op("color"),Hm=Op("Data"),Vm=Op("ExtendedData"),Bm=Op("innerBoundaryIs"),qm=Op("Point"),Wm=Op("LineString"),zm=Op("LinearRing"),Gm=Op("Polygon"),Ym=Op("outerBoundaryIs");function Km(t,e,n,o,i){this.l=i,this.f=t,this.b=e,this.a=this.c=null,this.g=n,this.j=o,this.s=[1,0,0,1,0,0]}function Xm(t){qp.call(this),t=t||{},this.defaultDataProjection=new ft({code:"EPSG:3857",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Km,this.g=t.geometryName,this.f=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null,this.a=null}function Zm(t,e,n){if(3===t){t={keys:[],values:[],features:[]};var o=n.Ua()+n.ga;n.Og(Jm,t,o),t.length=t.features.length,t.length&&(e[t.name]=t)}}function Jm(t,e,n){if(15===t)e.version=n.Ua();else if(1===t)e.name=n.Vg();else if(5===t)e.extent=n.Ua();else if(2===t)e.features.push(n.ga);else if(3===t)e.keys.push(n.Vg());else if(4===t){t=null;for(var o=n.Ua()+n.ga;n.ga<o;)t=1===(t=n.Ua()>>3)?n.Vg():2===t?n.Zp():3===t?n.Vp():4===t?n.lq():5===t?n.Ua():6===t?n.Ug():7===t?n.Tp():null;e.values.push(t)}}function Qm(t,e,n){if(1==t)e.id=n.Ua();else if(2==t)for(t=n.Ua()+n.ga;n.ga<t;){var o=e.layer.keys[n.Ua()],i=e.layer.values[n.Ua()];e.properties[o]=i}else 3==t?e.type=n.Ua():4==t&&(e.geometry=n.ga)}function tg(t,e,n){var o=n.type;if(0===o)return null;var i=n.id,r=n.properties;r[t.f]=n.layer.name;var a,s=[],l=[],c=l;e.ga=n.geometry,n=e.Ua()+e.ga;for(var u=1,p=0,h=0,d=0,m=0,g=0;e.ga<n;)p||(u=7&(p=e.Ua()),p>>=3),p--,1===u||2===u?(h+=e.Ug(),d+=e.Ug(),1===u&&m>g&&(c.push(m),g=m),s.push(h,d),m+=2):7===u?m>g&&(s.push(s[g],s[g+1]),m+=2):f(!1,59);if(m>g&&c.push(m),e=l.length,1===o?a=1===e?"Point":"MultiPoint":2===o?a=1===e?"LineString":"MultiLineString":3===o&&(a="Polygon"),o=a,t.b===Km)s=new t.b(o,s,l,r,i);else{if("Polygon"==o){for(o=[],c=e=a=0,n=l.length;c<n;++c)oi(s,a,u=l[c],2)||(o.push(l.slice(e,c)),e=c),a=u;1<o.length?(l=o,o=new Qp(null)):o=new si(null)}else o="Point"===o?new Ko(null):"LineString"===o?new yl(null):"Polygon"===o?new si(null):"MultiPoint"===o?new Jp(null):"MultiLineString"===o?new Xp(null):null;o.ba("XY",s,l),s=new t.b,t.g&&s.Lc(t.g),t=Gp(o,!1,zp(t,void 0)),s.Va(t),s.qc(i),s.H(r)}return s}function eg(){uh.call(this),this.defaultDataProjection=Rt("EPSG:4326")}function ng(t,e){e[e.length-1].le[t.getAttribute("k")]=t.getAttribute("v")}cf.prototype.bc=function(t,e){e=zp(this,e);var n=Mp(pf[4],"kml");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",uf[0]),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:n},i={};return 1<t.length?i.Document=t:1==t.length&&(i.Placemark=t[0]),i=Lp(i,t=fm[n.namespaceURI]),Hp(o,mm,Np,i,[e],t,this),n},rs.Ld=function(){},function(t){function e(t){this.tc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ga=0,this.length=this.tc.length}function n(t,e,n){var i=n.tc,r=i[n.ga++],a=(112&r)>>4;if(128>r)return o(t,a,e);if(a|=(127&(r=i[n.ga++]))<<3,128>r)return o(t,a,e);if(a|=(127&(r=i[n.ga++]))<<10,128>r)return o(t,a,e);if(a|=(127&(r=i[n.ga++]))<<17,128>r)return o(t,a,e);if(a|=(127&(r=i[n.ga++]))<<24,128>r)return o(t,a,e);if(128>(r=i[n.ga++]))return o(t,a|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var i=function(t,e,n,o,i){var r=8*i-o-1,a=(1<<r)-1,s=a>>1,l=-7;i=n?i-1:0;var c=n?-1:1,u=t[e+i];for(i+=c,n=u&(1<<-l)-1,u>>=-l,l+=r;0<l;n=256*n+t[e+i],i+=c,l-=8);for(r=n&(1<<-l)-1,n>>=-l,l+=o;0<l;r=256*r+t[e+i],i+=c,l-=8);if(0===n)n=1-s;else{if(n===a)return r?NaN:1/0*(u?-1:1);r+=Math.pow(2,o),n-=s}return(u?-1:1)*r*Math.pow(2,n-o)};e.c=0,e.g=1,e.b=2,e.a=5,e.prototype={Og:function(t,e,n){for(n=n||this.length;this.ga<n;){var o=this.Ua(),i=o>>3,r=this.ga;this.type=7&o,t(i,e,this),this.ga===r&&this.Lq(o)}return e},Zp:function(){var t=i(this.tc,this.ga,!0,23,4);return this.ga+=4,t},Vp:function(){var t=i(this.tc,this.ga,!0,52,8);return this.ga+=8,t},Ua:function(t){var e=this.tc,o=e[this.ga++],i=127&o;return 128>o?i:(i|=(127&(o=e[this.ga++]))<<7,128>o?i:(i|=(127&(o=e[this.ga++]))<<14,128>o?i:(i|=(127&(o=e[this.ga++]))<<21,128>o?i:n(i|(15&(o=e[this.ga]))<<28,t,this))))},lq:function(){return this.Ua(!0)},Ug:function(){var t=this.Ua();return 1==t%2?(t+1)/-2:t/2},Tp:function(){return!!this.Ua()},Vg:function(){for(var t=this.Ua()+this.ga,e=this.tc,n="",o=this.ga;o<t;){var i=e[o],r=null,a=239<i?4:223<i?3:191<i?2:1;if(o+a>t)break;if(1===a)128>i&&(r=i);else if(2===a){var s=e[o+1];128==(192&s)&&(127>=(r=(31&i)<<6|63&s)&&(r=null))}else if(3===a){s=e[o+1];var l=e[o+2];128==(192&s)&&128==(192&l)&&(2047>=(r=(15&i)<<12|(63&s)<<6|63&l)||55296<=r&&57343>=r)&&(r=null)}else if(4===a){s=e[o+1],l=e[o+2];var c=e[o+3];128==(192&s)&&128==(192&l)&&128==(192&c)&&(65535>=(r=(15&i)<<18|(63&s)<<12|(63&l)<<6|63&c)||1114112<=r)&&(r=null)}null===r?(r=65533,a=1):65535<r&&(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n+=String.fromCharCode(r),o+=a}return this.ga=t,n},Lq:function(t){if((t&=7)===e.c)for(;127<this.tc[this.ga++];);else if(t===e.b)this.ga=this.Ua()+this.ga;else if(t===e.a)this.ga+=4;else{if(t!==e.g)throw Error("Unimplemented type: "+t);this.ga+=8}}},t.default=e}(rs.Ld=rs.Ld||{}),rs.Ld=rs.Ld.default,(t=Km.prototype).get=function(t){return this.j[t]},t.pb=Km.prototype.td=function(){return this.g},t.G=function(){return this.i||(this.i="Point"===this.f?R(this.b):j(this.b,0,this.b.length,2)),this.i},t.Td=function(){if(!this.c){var t=G(this.G());this.c=Qo(this.b,0,this.g,2,t,0)}return this.c},t.Fe=function(){return this.a||(this.a=ml(this.b,0,this.b.length,2,.5)),this.a},t.Ge=function(){if(!this.a){this.a=[];for(var t=this.b,e=0,n=this.g,o=0,i=n.length;o<i;++o){var r=n[o];e=ml(t,e,r,2,.5),Kt(this.a,e),e=r}}return this.a},t.Ao=function(){return this.l},t.Xb=function(){return this.b},t.da=Km.prototype.Xb,t.U=function(){return this},t.Bo=function(){return this.j},t.Wd=Km.prototype.U,t.pa=function(){return 2},t.ib=s,t.S=function(){return this.f},t.mb=function(t){var e=t.G();e=K(t=t.oe)/K(e);var n=this.s;_o(n,t[0],t[3],e,-e,0,0,0),fo(this.b,0,this.b.length,2,n,this.b)},a(Xm,qp),(t=Xm.prototype).cg=function(){return this.a},t.S=function(){return"arraybuffer"},t.Qa=function(t){var e,n=this.c,o=(t=new rs.Ld(t)).Og(Zm,{}),i=[];for(e in o)if(!n||-1!=n.indexOf(e)){for(var r,a=o[e],s=0,l=a.length;s<l;++s){var c=a;(r=t).ga=c.features[s];var u=r.Ua()+r.ga;c={layer:c,type:0,properties:{}},r.Og(Qm,c,u),r=c,i.push(tg(this,t,r))}this.a=a?[0,0,a.extent,a.extent]:null}return i},t.sb=function(){return this.defaultDataProjection},t.Sn=function(t){this.c=t},t.Yb=function(){},t.ed=function(){},t.Jd=function(){},t.md=function(){},t.ac=function(){},a(eg,uh);var og=[null],ig=Rp(og,{nd:function(t,e){e[e.length-1].zd.push(t.getAttribute("ref"))},tag:ng}),rg=Rp(og,{node:function(t,e){var n=e[0],o=e[e.length-1],i=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];o.ki[i]=r,st((t=Fp({le:{}},ag,t,e)).le)||(Gp(r=new Ko(r),!1,n),(n=new dl(r)).qc(i),n.H(t.le),o.features.push(n))},way:function(t,e){t=Fp({id:t.getAttribute("id"),zd:[],le:{}},ig,t,e),e[e.length-1].lh.push(t)}}),ag=Rp(og,{tag:ng});function sg(t,e,n,o){var i;i=void 0!==o?o:[];for(var r=o=0;r<e;){var a=t[r++];for(i[o++]=t[r++],i[o++]=a,a=2;a<n;++a)i[o++]=t[r++]}i.length=o}function lg(t){t=t||{},qp.call(this),this.defaultDataProjection=Rt("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function cg(t,e,n){var o,i,r=Array(e);for(o=0;o<e;++o)r[o]=0;var a=0;for(i=t.length;a<i;)for(o=0;o<e;++o,++a){var s=t[a],l=s-r[o];r[o]=s,t[a]=l}return pg(t,n||1e5)}function ug(t,e,n){var o,i,r=Array(e);for(o=0;o<e;++o)r[o]=0;for(t=hg(t,n||1e5),n=0,i=t.length;n<i;)for(o=0;o<e;++o,++n)r[o]+=t[n],t[n]=r[o];return t}function pg(t,e){var n;e=e||1e5;var o=0;for(n=t.length;o<n;++o)t[o]=Math.round(t[o]*e);for(e=0,o=t.length;e<o;++e)n=t[e],t[e]=0>n?~(n<<1):n<<1;for(e="",o=0,n=t.length;o<n;++o){for(var i,r=t[o],a="";32<=r;)i=63+(32|31&r),a+=String.fromCharCode(i),r>>=5;e+=a+=String.fromCharCode(r+63)}return e}function hg(t,e){e=e||1e5;var n,o=[],i=0,r=0,a=0;for(n=t.length;a<n;++a){var s=t.charCodeAt(a)-63;i|=(31&s)<<r,32>s?(o.push(i),r=i=0):r+=5}for(t=0,i=o.length;t<i;++t)r=o[t],o[t]=1&r?~(r>>1):r>>1;for(t=0,i=o.length;t<i;++t)o[t]/=e;return o}function dg(t){t=t||{},qp.call(this),this.a=t.layerName,this.b=t.layers?t.layers:null,this.defaultDataProjection=Rt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function fg(t,e){var n,o,i=[],r=0;for(o=t.length;r<o;++r){var a=t[r];0<r&&i.pop(),n=0<=a?e[a]:e[~a].slice().reverse(),i.push.apply(i,n)}for(t=0,e=i.length;t<e;++t)i[t]=i[t].slice();return i}function mg(t,e,n,o,i,r,a){var s,l=[],c=0;for(s=(t=t.geometries).length;c<s;++c)l[c]=gg(t[c],e,n,o,i,r,a);return l}function gg(t,e,n,o,i,r,a){var s=t.type,l=vg[s];return n="Point"===s||"MultiPoint"===s?l(t,n,o):l(t,e),(e=new dl).Va(Gp(n,!1,a)),void 0!==t.id&&e.qc(t.id),t=t.properties,i&&(t||(t={}),t[i]=r),t&&e.H(t),e}function yg(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}eg.prototype.Kc=function(t,e){if(e=Wp(this,t,e),"osm"==t.localName){t=Fp({ki:{},lh:[],features:[]},rg,t,[e]);for(var n=0;n<t.lh.length;n++){for(var o=t.lh[n],i=[],r=0,a=o.zd.length;r<a;r++)Kt(i,t.ki[o.zd[r]]);o.zd[0]==o.zd[o.zd.length-1]?(r=new si(null)).ba("XY",i,[i.length]):(r=new yl(null)).ba("XY",i),Gp(r,!1,e),(i=new dl(r)).qc(o.id),i.H(o.le),t.features.push(i)}if(t.features)return t.features}return[]},eg.prototype.mh=function(){},eg.prototype.bc=function(){},eg.prototype.re=function(){},a(lg,Rd),(t=lg.prototype).fe=function(t,e){return new dl(t=this.Gd(t,e))},t.Ng=function(t,e){return[this.fe(t,e)]},t.Gd=function(t,e){var n=ko(this.a);return sg(t=ug(t,n,this.b),t.length,n,t),Gp(new yl(n=Vo(t,0,t.length,n),this.a),!1,zp(this,e))},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):(f(!1,40),"")},t.nh=function(t,e){return this.pe(t[0],e)},t.Kd=function(t,e){return e=(t=Gp(t,!0,zp(this,e))).da(),t=t.pa(),sg(e,e.length,t,e),cg(e,t,this.b)},a(dg,Yp),dg.prototype.Mg=function(t,e){if("Topology"==t.type){var n=null,o=null;if(t.transform){var i=t.transform;n=i.scale,o=i.translate}var r=t.arcs;if(i){i=n;var a,s=o,l=0;for(a=r.length;l<a;++l){var c,u=r[l],p=i,h=s,d=0,f=0,m=0;for(c=u.length;m<c;++m){var g=u[m];d+=g[0],f+=g[1],g[0]=d,g[1]=f,yg(g,p,h)}}}for(var y in i=[],t=t.objects,s=this.a,t)this.b&&-1==this.b.indexOf(y)||("GeometryCollection"===t[y].type?(l=t[y],i.push.apply(i,mg(l,r,n,o,s,y,e))):(l=t[y],i.push(gg(l,r,n,o,s,y,e))));return i}return[]},dg.prototype.Tg=function(){return this.defaultDataProjection};var vg={Point:function(t,e,n){return t=t.coordinates,e&&n&&yg(t,e,n),new Ko(t)},LineString:function(t,e){return new yl(t=fg(t.arcs,e))},Polygon:function(t,e){var n,o=[],i=0;for(n=t.arcs.length;i<n;++i)o[i]=fg(t.arcs[i],e);return new si(o)},MultiPoint:function(t,e,n){var o;if(t=t.coordinates,e&&n){var i=0;for(o=t.length;i<o;++i)yg(t[i],e,n)}return new Jp(t)},MultiLineString:function(t,e){var n,o=[],i=0;for(n=t.arcs.length;i<n;++i)o[i]=fg(t.arcs[i],e);return new Xp(o)},MultiPolygon:function(t,e){var n,o,i=[],r=0;for(o=t.arcs.length;r<o;++r){var a=t.arcs[r],s=[],l=0;for(n=a.length;l<n;++l)s[l]=fg(a[l],e);i[r]=s}return new Qp(i)}};function bg(t){this.rc=t}function wg(t,e){this.rc=t,this.b=Array.prototype.slice.call(arguments,1),f(2<=this.b.length,57)}function Eg(t){var e=["And"].concat(Array.prototype.slice.call(arguments));wg.apply(this,e)}function Mg(t,e,n){this.rc="BBOX",this.geometryName=t,this.extent=e,this.srsName=n}function $g(t,e,n,o){this.rc=t,this.geometryName=e||"the_geom",this.geometry=n,this.srsName=o}function Cg(t,e,n){$g.call(this,"Contains",t,e,n)}function _g(t,e){this.rc=t,this.b=e}function xg(t,e,n){_g.call(this,"During",t),this.a=e,this.g=n}function Sg(t,e,n,o){_g.call(this,t,e),this.g=n,this.a=o}function Tg(t,e,n){Sg.call(this,"PropertyIsEqualTo",t,e,n)}function kg(t,e){Sg.call(this,"PropertyIsGreaterThan",t,e)}function Ag(t,e){Sg.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Pg(t,e,n){$g.call(this,"Intersects",t,e,n)}function Dg(t,e,n){_g.call(this,"PropertyIsBetween",t),this.a=e,this.g=n}function Ig(t,e,n,o,i,r){_g.call(this,"PropertyIsLike",t),this.c=e,this.f=void 0!==n?n:"*",this.i=void 0!==o?o:".",this.g=void 0!==i?i:"!",this.a=r}function Og(t){_g.call(this,"PropertyIsNull",t)}function Ng(t,e){Sg.call(this,"PropertyIsLessThan",t,e)}function Lg(t,e){Sg.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function Rg(t){this.rc="Not",this.condition=t}function jg(t,e,n){Sg.call(this,"PropertyIsNotEqualTo",t,e,n)}function Fg(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));wg.apply(this,e)}function Ug(t,e,n){$g.call(this,"Within",t,e,n)}function Hg(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Eg,e))}function Vg(t,e,n){return new Mg(t,e,n)}function Bg(t){t=t||{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Sh,this.l=t.schemaLocation?t.schemaLocation:qg["1.1.0"],uh.call(this)}(t=dg.prototype).ld=function(){},t.qe=function(){},t.se=function(){},t.Qg=function(){},t.dd=function(){},a(wg,bg),a(Eg,wg),a(Mg,bg),a($g,bg),a(Cg,$g),a(_g,bg),a(xg,_g),a(Sg,_g),a(Tg,Sg),a(kg,Sg),a(Ag,Sg),a(Pg,$g),a(Dg,_g),a(Ig,_g),a(Og,_g),a(Ng,Sg),a(Lg,Sg),a(Rg,bg),a(jg,Sg),a(Fg,wg),a(Ug,$g),a(Bg,uh);var qg={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};function Wg(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return Gg(t,e)}Bg.prototype.Kc=function(t,e){var n={featureType:this.c,featureNS:this.a};return it(n,Wp(this,t,e||{})),e=[n],this.b.b["http://www.opengis.net/gml"].featureMember=Tp(dh.prototype.ge),(t=Fp([],this.b.b,t,e,this.b))||(t=[]),t},Bg.prototype.j=function(t){return Cp(t)?Jg(t):_p(t)?Fp({},Zg,t,[]):"string"==typeof t?Jg(t=xp(t)):void 0},Bg.prototype.f=function(t){return Cp(t)?Wg(this,t):_p(t)?Gg(this,t):"string"==typeof t?Wg(this,t=xp(t)):void 0};var zg={"http://www.opengis.net/gml":{boundedBy:Pp(dh.prototype.rf,"bounds")}};function Gg(t,e){var n={},o=Eh(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=o,Fp(n,zg,e,[],t.b)}var Yg={"http://www.opengis.net/wfs":{totalInserted:Pp(wh),totalUpdated:Pp(wh),totalDeleted:Pp(wh)}},Kg={"http://www.opengis.net/ogc":{FeatureId:Tp(function(t){return t.getAttribute("fid")})}},Xg={"http://www.opengis.net/wfs":{Feature:function(t,e){jp(Kg,t,e)}}},Zg={"http://www.opengis.net/wfs":{TransactionSummary:Pp(function(t,e){return Fp({},Yg,t,e)},"transactionSummary"),InsertResults:Pp(function(t,e){return Fp([],Xg,t,e)},"insertIds")}};function Jg(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Fp({},Zg,t,[])}var Qg={"http://www.opengis.net/wfs":{PropertyName:Dp(xh)}};function ty(t,e){var n=Mp("http://www.opengis.net/ogc","Filter"),o=Mp("http://www.opengis.net/ogc","FeatureId");n.appendChild(o),o.setAttribute("fid",e),t.appendChild(n)}function ey(t,e){return t=(t||"feature")+":",0===e.indexOf(t)?e:t+e}var ny={"http://www.opengis.net/wfs":{Insert:Dp(function(t,e,n){var o=n[n.length-1],i=o.gmlVersion;if(o=Mp(o.featureNS,o.featureType),t.appendChild(o),2===i){t=Lh.prototype,(i=e.c)&&o.setAttribute("fid",i);var r=(i=n[n.length-1]).featureNS,a=e.a;i.tb||(i.tb={},i.tb[r]={});var s=e.L();e=[];var l=[];for(u in s){var c=s[u];null!==c&&(e.push(u),l.push(c),u==a||c instanceof So?u in i.tb[r]||(i.tb[r][u]=Dp(t.ui,t)):u in i.tb[r]||(i.tb[r][u]=Dp(xh)))}var u=it({},i);u.node=o,Hp(u,i.tb,Op(void 0,r),l,n,e)}else Sh.prototype.Ci(o,e,n)}),Update:Dp(function(t,e,n){var o=n[n.length-1];f(void 0!==e.c,27);var i=o.featurePrefix,r=o.featureNS,a=e.a;if(t.setAttribute("typeName",ey(i,o.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),void 0!==(i=e.c)){for(var s=[],l=0,c=(r=e.P()).length;l<c;l++){var u=e.get(r[l]);if(void 0!==u){var p=r[l];u instanceof So&&(p=a),s.push({name:p,value:u})}}Hp({gmlVersion:o.gmlVersion,node:t,hasZ:o.hasZ,srsName:o.srsName},ny,Op("Property"),s,n),ty(t,i)}}),Delete:Dp(function(t,e,n){n=n[n.length-1],f(void 0!==e.c,26);var o=n.featurePrefix,i=n.featureNS;t.setAttribute("typeName",ey(o,n.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,i),void 0!==(e=e.c)&&ty(t,e)}),Property:Dp(function(t,e,n){var o=Mp("http://www.opengis.net/wfs","Name"),i=n[n.length-1].gmlVersion;t.appendChild(o),xh(o,e.name),void 0!==e.value&&null!==e.value&&(o=Mp("http://www.opengis.net/wfs","Value"),t.appendChild(o),e.value instanceof So?2===i?Lh.prototype.ui(o,e.value,n):Sh.prototype.Yc(o,e.value,n):xh(o,e.value))}),Native:Dp(function(t,e){e.Uq&&t.setAttribute("vendorId",e.Uq),void 0!==e.qq&&t.setAttribute("safeToIgnore",e.qq),void 0!==e.value&&xh(t,e.value)})}};function oy(t,e,n){t={node:t};for(var o=0,i=(e=e.b).length;o<i;++o){var r=e[o];Hp(t,cy,Op(r.rc),[r],n)}}function iy(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),ay(t,e.b),sy(t,""+e.g)}function ry(t,e,n){xh(t=Mp("http://www.opengis.net/ogc",t),n),e.appendChild(t)}function ay(t,e){ry("PropertyName",t,e)}function sy(t,e){ry("Literal",t,e)}function ly(t,e){var n=Mp("http://www.opengis.net/gml","TimeInstant");t.appendChild(n),t=Mp("http://www.opengis.net/gml","timePosition"),n.appendChild(t),xh(t,e)}var cy={"http://www.opengis.net/wfs":{Query:Dp(function(t,e,n){var o=n[n.length-1],i=o.featurePrefix,r=o.featureNS,a=o.propertyNames,s=o.srsName;t.setAttribute("typeName",i?ey(i,e):e),s&&t.setAttribute("srsName",s),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),(e=it({},o)).node=t,Hp(e,Qg,Op("PropertyName"),a,n),(o=o.filter)&&(a=Mp("http://www.opengis.net/ogc","Filter"),t.appendChild(a),Hp({node:a},cy,Op(o.rc),[o],n))})},"http://www.opengis.net/ogc":{During:Dp(function(t,e){var n=Mp("http://www.opengis.net/fes","ValueReference");xh(n,e.b),t.appendChild(n),n=Mp("http://www.opengis.net/gml","TimePeriod"),t.appendChild(n),t=Mp("http://www.opengis.net/gml","begin"),n.appendChild(t),ly(t,e.a),t=Mp("http://www.opengis.net/gml","end"),n.appendChild(t),ly(t,e.g)}),And:Dp(oy),Or:Dp(oy),Not:Dp(function(t,e,n){e=e.condition,Hp({node:t},cy,Op(e.rc),[e],n)}),BBOX:Dp(function(t,e,n){n[n.length-1].srsName=e.srsName,ay(t,e.geometryName),Sh.prototype.Yc(t,e.extent,n)}),Contains:Dp(function(t,e,n){n[n.length-1].srsName=e.srsName,ay(t,e.geometryName),Sh.prototype.Yc(t,e.geometry,n)}),Intersects:Dp(function(t,e,n){n[n.length-1].srsName=e.srsName,ay(t,e.geometryName),Sh.prototype.Yc(t,e.geometry,n)}),Within:Dp(function(t,e,n){n[n.length-1].srsName=e.srsName,ay(t,e.geometryName),Sh.prototype.Yc(t,e.geometry,n)}),PropertyIsEqualTo:Dp(iy),PropertyIsNotEqualTo:Dp(iy),PropertyIsLessThan:Dp(iy),PropertyIsLessThanOrEqualTo:Dp(iy),PropertyIsGreaterThan:Dp(iy),PropertyIsGreaterThanOrEqualTo:Dp(iy),PropertyIsNull:Dp(function(t,e){ay(t,e.b)}),PropertyIsBetween:Dp(function(t,e){ay(t,e.b);var n=Mp("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(n),sy(n,""+e.a),n=Mp("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(n),sy(n,""+e.g)}),PropertyIsLike:Dp(function(t,e){t.setAttribute("wildCard",e.f),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),ay(t,e.b),sy(t,""+e.c)})}};function uy(t){t=t||{},qp.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function py(t){return 0===(t=t.W()).length?"":t.join(" ")}function hy(t){for(var e=[],n=0,o=(t=t.W()).length;n<o;++n)e.push(t[n].join(" "));return e.join(",")}function dy(t){for(var e=[],n=0,o=(t=t.Ud()).length;n<o;++n)e.push("("+hy(t[n])+")");return e.join(",")}function fy(t){var e=t.S(),n=(0,my[e])(t);if(e=e.toUpperCase(),t instanceof To){var o="";"XYZ"!==(t=t.ja)&&"XYZM"!==t||(o+="Z"),"XYM"!==t&&"XYZM"!==t||(o+="M"),0<(t=o).length&&(e+=" "+t)}return 0===n.length?e+" EMPTY":e+"("+n+")"}Bg.prototype.s=function(t){var e=Mp("http://www.opengis.net/wfs","GetFeature");if(e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0"),t){t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count);var n=t.filter;if(t.bbox){f(t.geometryName,12);var o=Vg(t.geometryName,t.bbox,t.srsName);n=n?Hg(n,o):o}}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),n={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:n,propertyNames:t.propertyNames?t.propertyNames:[]},f(Array.isArray(t.featureTypes),11),t=t.featureTypes,(o=it({},(n=[n])[n.length-1])).node=e,Hp(o,cy,Op("Query"),t,n),e},Bg.prototype.v=function(t,e,n,o){var i=[],r=Mp("http://www.opengis.net/wfs","Transaction"),a=o.version?o.version:"1.1.0",s="1.0.0"===a?2:3;if(r.setAttribute("service","WFS"),r.setAttribute("version",a),o){var l=o.gmlOptions?o.gmlOptions:{};o.handle&&r.setAttribute("handle",o.handle)}r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",qg[a]);var c=o.featurePrefix?o.featurePrefix:"feature";return t&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName},it(a,l),Hp(a,ny,Op("Insert"),t,i)),e&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName},it(a,l),Hp(a,ny,Op("Update"),e,i)),n&&Hp({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:s,srsName:o.srsName},ny,Op("Delete"),n,i),o.nativeElements&&Hp({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:s,srsName:o.srsName},ny,Op("Native"),o.nativeElements,i),r},Bg.prototype.Sg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.uf(t);return null},Bg.prototype.uf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=(t=t.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.rf(t,e),Rt(e.pop().srsName)}return null},a(uy,Rd);var my={Point:py,LineString:hy,Polygon:dy,MultiPoint:function(t){for(var e=[],n=0,o=(t=t.de()).length;n<o;++n)e.push("("+py(t[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],n=0,o=(t=t.wd()).length;n<o;++n)e.push("("+hy(t[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],n=0,o=(t=t.Vd()).length;n<o;++n)e.push("("+dy(t[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],n=0,o=(t=t.vd()).length;n<o;++n)e.push(fy(t[n]));return e.join(",")}};function gy(t){this.g=t,this.a="XY"}function yy(t){t.b=function t(e){var n=e.a.charAt(++e.b),o={position:e.b,value:n};if("("==n)o.type=2;else if(","==n)o.type=5;else if(")"==n)o.type=3;else if("0"<=n&&"9">=n||"."==n||"-"==n){o.type=4,n=e.b;var i=!1,r=!1;do{"."==a?i=!0:"e"!=a&&"E"!=a||(r=!0);var a=e.a.charAt(++e.b)}while("0"<=a&&"9">=a||"."==a&&(void 0===i||!i)||!r&&("e"==a||"E"==a)||r&&("-"==a||"+"==a));e=parseFloat(e.a.substring(n,e.b--)),o.value=e}else if("a"<=n&&"z">=n||"A"<=n&&"Z">=n){o.type=1,n=e.b;do{a=e.a.charAt(++e.b)}while("a"<=a&&"z">=a||"A"<=a&&"Z">=a);e=e.a.substring(n,e.b--).toUpperCase(),o.value=e}else{if(" "==n||"\t"==n||"\r"==n||"\n"==n)return t(e);if(""!==n)throw Error("Unexpected character: "+n);o.type=6}return o}(t.g)}function vy(t,e){return(e=t.b.type==e)&&yy(t),e}function by(t){for(var e=[],n=t.a.length,o=0;o<n;++o){var i=t.b;if(!vy(t,4))break;e.push(i.value)}if(e.length==n)return e;throw Error($y(t))}function wy(t){for(var e=[by(t)];vy(t,5);)e.push(by(t));return e}function Ey(t){for(var e=[t.Gg()];vy(t,5);)e.push(t.Gg());return e}function My(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&yy(t),e}function $y(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}(t=uy.prototype).fe=function(t,e){return(t=this.Gd(t,e))?((e=new dl).Va(t),e):null},t.Ng=function(t,e){var n=[];t=this.Gd(t,e),e=[];for(var o=0,i=(n=this.b&&"GeometryCollection"==t.S()?t.a:[t]).length;o<i;++o)(t=new dl).Va(n[o]),e.push(t);return e},t.Gd=function(t,e){return yy(t=new gy(new function(t){this.a=t,this.b=-1}(t))),(t=function t(e){var n=e.b;if(vy(e,1)){n=n.value;var o="XY",i=e.b;if(1==e.b.type&&("Z"===(i=i.value)?o="XYZ":"M"===i?o="XYM":"ZM"===i&&(o="XYZM"),"XY"!==o&&yy(e)),e.a=o,"GEOMETRYCOLLECTION"==n){t:{if(vy(e,2)){n=[];do{n.push(t(e))}while(vy(e,5));if(vy(e,3)){e=n;break t}}else if(My(e)){e=[];break t}throw Error($y(e))}return new Td(e)}if(i=_y[n],o=Cy[n],!i||!o)throw Error("Invalid geometry type: "+n);return n=i.call(e),new o(n,e.a)}throw Error($y(e))}(t))?Gp(t,!1,e):null},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):""},t.nh=function(t,e){if(1==t.length)return this.pe(t[0],e);for(var n=[],o=0,i=t.length;o<i;++o)n.push(t[o].U());return t=new Td(n),this.Kd(t,e)},t.Kd=function(t,e){return fy(Gp(t,!0,e))},(t=gy.prototype).Hg=function(){if(vy(this,2)){var t=by(this);if(vy(this,3))return t}else if(My(this))return null;throw Error($y(this))},t.Gg=function(){if(vy(this,2)){var t=wy(this);if(vy(this,3))return t}else if(My(this))return[];throw Error($y(this))},t.Ig=function(){if(vy(this,2)){var t=Ey(this);if(vy(this,3))return t}else if(My(this))return[];throw Error($y(this))},t.Hp=function(){if(vy(this,2)){var t;if(2==this.b.type)for(t=[this.Hg()];vy(this,5);)t.push(this.Hg());else t=wy(this);if(vy(this,3))return t}else if(My(this))return[];throw Error($y(this))},t.Gp=function(){if(vy(this,2)){var t=Ey(this);if(vy(this,3))return t}else if(My(this))return[];throw Error($y(this))},t.Ip=function(){if(vy(this,2)){for(var t=[this.Ig()];vy(this,5);)t.push(this.Ig());if(vy(this,3))return t}else if(My(this))return[];throw Error($y(this))};var Cy={POINT:Ko,LINESTRING:yl,POLYGON:si,MULTIPOINT:Jp,MULTILINESTRING:Xp,MULTIPOLYGON:Qp},_y={POINT:gy.prototype.Hg,LINESTRING:gy.prototype.Gg,POLYGON:gy.prototype.Ig,MULTIPOINT:gy.prototype.Hp,MULTILINESTRING:gy.prototype.Gp,MULTIPOLYGON:gy.prototype.Ip};function xy(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Sy(){}function Ty(){this.version=void 0}function ky(t,e){return Fp({},Ky,t,e)}function Ay(t,e){return Fp({},Wy,t,e)}function Py(t,e){if(e=ky(t,e))return t=[Eh(t.getAttribute("width")),Eh(t.getAttribute("height"))],e.size=t,e}function Dy(t,e){return Fp([],Xy,t,e)}Sy.prototype.read=function(t){return Cp(t)?this.a(t):_p(t)?this.b(t):"string"==typeof t?(t=xp(t),this.a(t)):null},a(Ty,Sy),Ty.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Ty.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Fp({version:this.version},Oy,t,[]))?t:null};var Iy=[null,"http://www.opengis.net/wms"],Oy=Rp(Iy,{Service:Pp(function(t,e){return Fp({},Ly,t,e)}),Capability:Pp(function(t,e){return Fp({},Ny,t,e)})}),Ny=Rp(Iy,{Request:Pp(function(t,e){return Fp({},qy,t,e)}),Exception:Pp(function(t,e){return Fp([],Uy,t,e)}),Layer:Pp(function(t,e){return Fp({},Hy,t,e)})}),Ly=Rp(Iy,{Name:Pp(Mh),Title:Pp(Mh),Abstract:Pp(Mh),KeywordList:Pp(Dy),OnlineResource:Pp(xy),ContactInformation:Pp(function(t,e){return Fp({},Ry,t,e)}),Fees:Pp(Mh),AccessConstraints:Pp(Mh),LayerLimit:Pp(wh),MaxWidth:Pp(wh),MaxHeight:Pp(wh)}),Ry=Rp(Iy,{ContactPersonPrimary:Pp(function(t,e){return Fp({},jy,t,e)}),ContactPosition:Pp(Mh),ContactAddress:Pp(function(t,e){return Fp({},Fy,t,e)}),ContactVoiceTelephone:Pp(Mh),ContactFacsimileTelephone:Pp(Mh),ContactElectronicMailAddress:Pp(Mh)}),jy=Rp(Iy,{ContactPerson:Pp(Mh),ContactOrganization:Pp(Mh)}),Fy=Rp(Iy,{AddressType:Pp(Mh),Address:Pp(Mh),City:Pp(Mh),StateOrProvince:Pp(Mh),PostCode:Pp(Mh),Country:Pp(Mh)}),Uy=Rp(Iy,{Format:Tp(Mh)}),Hy=Rp(Iy,{Name:Pp(Mh),Title:Pp(Mh),Abstract:Pp(Mh),KeywordList:Pp(Dy),CRS:Ap(Mh),EX_GeographicBoundingBox:Pp(function(t,e){var n=Fp({},By,t,e);if(n){t=n.westBoundLongitude,e=n.southBoundLatitude;var o=n.eastBoundLongitude;if(n=n.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==o&&void 0!==n)return[t,e,o,n]}}),BoundingBox:Ap(function(t){var e=[bh(t.getAttribute("minx")),bh(t.getAttribute("miny")),bh(t.getAttribute("maxx")),bh(t.getAttribute("maxy"))],n=[bh(t.getAttribute("resx")),bh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:n}}),Dimension:Ap(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:gh(t.getAttribute("multipleValues")),nearestValue:gh(t.getAttribute("nearestValue")),current:gh(t.getAttribute("current")),values:Mh(t)}}),Attribution:Pp(function(t,e){return Fp({},Vy,t,e)}),AuthorityURL:Ap(function(t,e){if(e=ky(t,e))return e.name=t.getAttribute("name"),e}),Identifier:Ap(Mh),MetadataURL:Ap(function(t,e){if(e=ky(t,e))return e.type=t.getAttribute("type"),e}),DataURL:Ap(ky),FeatureListURL:Ap(ky),Style:Ap(function(t,e){return Fp({},Yy,t,e)}),MinScaleDenominator:Pp(vh),MaxScaleDenominator:Pp(vh),Layer:Ap(function(t,e){var n=e[e.length-1],o=Fp({},Hy,t,e);if(o)return void 0===(e=gh(t.getAttribute("queryable")))&&(e=n.queryable),o.queryable=void 0!==e&&e,void 0===(e=Eh(t.getAttribute("cascaded")))&&(e=n.cascaded),o.cascaded=e,void 0===(e=gh(t.getAttribute("opaque")))&&(e=n.opaque),o.opaque=void 0!==e&&e,void 0===(e=gh(t.getAttribute("noSubsets")))&&(e=n.noSubsets),o.noSubsets=void 0!==e&&e,(e=bh(t.getAttribute("fixedWidth")))||(e=n.fixedWidth),o.fixedWidth=e,(t=bh(t.getAttribute("fixedHeight")))||(t=n.fixedHeight),o.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(o[t]=(o[t]||[]).concat(n[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in o||(o[t]=n[t])}),o})}),Vy=Rp(Iy,{Title:Pp(Mh),OnlineResource:Pp(xy),LogoURL:Pp(Py)}),By=Rp(Iy,{westBoundLongitude:Pp(vh),eastBoundLongitude:Pp(vh),southBoundLatitude:Pp(vh),northBoundLatitude:Pp(vh)}),qy=Rp(Iy,{GetCapabilities:Pp(Ay),GetMap:Pp(Ay),GetFeatureInfo:Pp(Ay)}),Wy=Rp(Iy,{Format:Ap(Mh),DCPType:Ap(function(t,e){return Fp({},zy,t,e)})}),zy=Rp(Iy,{HTTP:Pp(function(t,e){return Fp({},Gy,t,e)})}),Gy=Rp(Iy,{Get:Pp(ky),Post:Pp(ky)}),Yy=Rp(Iy,{Name:Pp(Mh),Title:Pp(Mh),Abstract:Pp(Mh),LegendURL:Ap(Py),StyleSheetURL:Pp(ky),StyleURL:Pp(ky)}),Ky=Rp(Iy,{Format:Pp(Mh),OnlineResource:Pp(xy)}),Xy=Rp(Iy,{Keyword:Tp(Mh)});function Zy(t){t=t||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new Lh,this.c=t.layers?t.layers:null,uh.call(this)}function Jy(){}a(Zy,uh),Zy.prototype.Kc=function(t,e){var n={};e&&it(n,Wp(this,t,e)),n=[n],t.setAttribute("namespaceURI",this.a);var o=t.localName;if(e=[],0!==t.childNodes.length){if("msGMLOutput"==o)for(var i=0,r=t.childNodes.length;i<r;i++){var a=t.childNodes[i];if(a.nodeType===Node.ELEMENT_NODE){var s=n[0],l=a.localName.replace("_layer","");if(!this.c||Gt(this.c,l)){l+="_feature",s.featureType=l,s.featureNS=this.a;var c={};c[l]=Tp(this.b.Kg,this.b),s=Rp([s.featureNS,null],c),a.setAttribute("namespaceURI",this.a),(a=Fp([],s,a,n,this.b))&&Kt(e,a)}}}"FeatureCollection"==o&&(t=Fp([],this.b.b,t,[{}],this.b))&&(e=t)}return e},Zy.prototype.mh=function(){},Zy.prototype.bc=function(){},Zy.prototype.re=function(){},a(Jy,Sy),Jy.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Jy.prototype.b=function(t){return(t=Fp({},tv,t,[]))?t:null};var Qy=[null,"http://www.opengis.net/ows/1.1"],tv=Rp(Qy,{ServiceIdentification:Pp(function(t,e){return Fp({},hv,t,e)}),ServiceProvider:Pp(function(t,e){return Fp({},dv,t,e)}),OperationsMetadata:Pp(function(t,e){return Fp({},lv,t,e)})}),ev=Rp(Qy,{DeliveryPoint:Pp(Mh),City:Pp(Mh),AdministrativeArea:Pp(Mh),PostalCode:Pp(Mh),Country:Pp(Mh),ElectronicMailAddress:Pp(Mh)}),nv=Rp(Qy,{Value:Ap(function(t){return Mh(t)})}),ov=Rp(Qy,{AllowedValues:Pp(function(t,e){return Fp({},nv,t,e)})}),iv=Rp(Qy,{Phone:Pp(function(t,e){return Fp({},cv,t,e)}),Address:Pp(function(t,e){return Fp({},ev,t,e)})}),rv=Rp(Qy,{HTTP:Pp(function(t,e){return Fp({},av,t,e)})}),av=Rp(Qy,{Get:Ap(function(t,e){var n=xy(t);if(n)return Fp({href:n},uv,t,e)}),Post:void 0}),sv=Rp(Qy,{DCP:Pp(function(t,e){return Fp({},rv,t,e)})}),lv=Rp(Qy,{Operation:function(t,e){var n=t.getAttribute("name");(t=Fp({},sv,t,e))&&(e[e.length-1][n]=t)}}),cv=Rp(Qy,{Voice:Pp(Mh),Facsimile:Pp(Mh)}),uv=Rp(Qy,{Constraint:Ap(function(t,e){var n=t.getAttribute("name");if(n)return Fp({name:n},ov,t,e)})}),pv=Rp(Qy,{IndividualName:Pp(Mh),PositionName:Pp(Mh),ContactInfo:Pp(function(t,e){return Fp({},iv,t,e)})}),hv=Rp(Qy,{Abstract:Pp(Mh),AccessConstraints:Pp(Mh),Fees:Pp(Mh),Title:Pp(Mh),ServiceTypeVersion:Pp(Mh),ServiceType:Pp(Mh)}),dv=Rp(Qy,{ProviderName:Pp(Mh),ProviderSite:Pp(xy),ServiceContact:Pp(function(t,e){return Fp({},pv,t,e)})});function fv(){this.g=new Jy}function mv(t){var e=Mh(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}a(fv,Sy),fv.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},fv.prototype.b=function(t){var e=t.getAttribute("version").trim(),n=this.g.b(t);return n?(n.version=e,(n=Fp(n,vv,t,[]))?n:null):null};var gv=[null,"http://www.opengis.net/wmts/1.0"],yv=[null,"http://www.opengis.net/ows/1.1"],vv=Rp(gv,{Contents:Pp(function(t,e){return Fp({},bv,t,e)})}),bv=Rp(gv,{Layer:Ap(function(t,e){return Fp({},wv,t,e)}),TileMatrixSet:Ap(function(t,e){return Fp({},Sv,t,e)})}),wv=Rp(gv,{Style:Ap(function(t,e){if(e=Fp({},Ev,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e}),Format:Ap(Mh),TileMatrixSetLink:Ap(function(t,e){return Fp({},Mv,t,e)}),Dimension:Ap(function(t,e){return Fp({},_v,t,e)}),ResourceURL:Ap(function(t){var e=t.getAttribute("format"),n=t.getAttribute("template");t=t.getAttribute("resourceType");var o={};return e&&(o.format=e),n&&(o.template=n),t&&(o.resourceType=t),o})},Rp(yv,{Title:Pp(Mh),Abstract:Pp(Mh),WGS84BoundingBox:Pp(function(t,e){if(2==(t=Fp([],xv,t,e)).length)return x(t)}),Identifier:Pp(Mh)})),Ev=Rp(gv,{LegendURL:Ap(function(t){var e={};return e.format=t.getAttribute("format"),e.href=xy(t),e})},Rp(yv,{Title:Pp(Mh),Identifier:Pp(Mh)})),Mv=Rp(gv,{TileMatrixSet:Pp(Mh),TileMatrixSetLimits:Pp(function(t,e){return Fp([],$v,t,e)})}),$v=Rp(gv,{TileMatrixLimits:Tp(function(t,e){return Fp({},Cv,t,e)})}),Cv=Rp(gv,{TileMatrix:Pp(Mh),MinTileRow:Pp(wh),MaxTileRow:Pp(wh),MinTileCol:Pp(wh),MaxTileCol:Pp(wh)}),_v=Rp(gv,{Default:Pp(Mh),Value:Ap(Mh)},Rp(yv,{Identifier:Pp(Mh)})),xv=Rp(yv,{LowerCorner:Tp(mv),UpperCorner:Tp(mv)}),Sv=Rp(gv,{WellKnownScaleSet:Pp(Mh),TileMatrix:Ap(function(t,e){return Fp({},Tv,t,e)})},Rp(yv,{SupportedCRS:Pp(Mh),Identifier:Pp(Mh)})),Tv=Rp(gv,{TopLeftCorner:Pp(mv),ScaleDenominator:Pp(vh),TileWidth:Pp(wh),TileHeight:Pp(wh),MatrixWidth:Pp(wh),MatrixHeight:Pp(wh)},Rp(yv,{Identifier:Pp(Mh)}));function kv(t,e,n){To.call(this),this.hh(t,e||0,n)}function Av(t){var e=t.A[t.a]-t.A[0];return e*e+(t=t.A[t.a+1]-t.A[1])*t}function Pv(t){t=t||{},Yi.call(this,{handleEvent:po}),this.j=t.formatConstructors?t.formatConstructors:[],this.s=t.projection?Rt(t.projection):null,this.a=null,this.f=t.source||null,this.target=t.target?t.target:null}function Dv(t){var e,n=0;for(e=(t=t.dataTransfer.files).length;n<e;++n){var o=t.item(n),i=new FileReader;i.addEventListener("load",this.l.bind(this,o)),i.readAsText(o)}}function Iv(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function Ov(t){var e=t.v;e&&(e=t.target?t.target:e.a,t.a=[ve(e,"drop",Dv,t),ve(e,"dragenter",Iv,t),ve(e,"dragover",Iv,t),ve(e,"drop",Iv,t)])}function Nv(t){t.a&&(t.a.forEach(Ee),t.a=null)}a(kv,To),(t=kv.prototype).clone=function(){var t=new kv(null);return Ao(t,this.ja,this.A.slice()),t.u(),t},t.Nb=function(t,e,n,o){var i=this.A;t-=i[0];var r=e-i[1];if((e=t*t+r*r)<o){if(0===e)for(o=0;o<this.a;++o)n[o]=i[o];else for(o=this.Bd()/Math.sqrt(e),n[0]=i[0]+o*t,n[1]=i[1]+o*r,o=2;o<this.a;++o)n[o]=i[o];return n.length=this.a,e}return o},t.Zc=function(t,e){var n=this.A;return(t-=n[0])*t+(e-=n[1])*e<=Av(this)},t.xa=function(){return this.A.slice(0,this.a)},t.Ae=function(t){var e=this.A,n=e[this.a]-e[0];return N(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},t.Bd=function(){return Math.sqrt(Av(this))},t.S=function(){return"Circle"},t.$a=function(t){var e=this.G();return!!tt(t,e)&&(e=this.xa(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||B(t,this.Bb,this))},t.ub=function(t){var e,n=this.a,o=t.slice();for(o[n]=o[0]+(this.A[n]-this.A[0]),e=1;e<n;++e)o[n+e]=t[e];Ao(this,this.ja,o),this.u()},t.hh=function(t,e,n){if(t){var o;for(Po(this,n,t,0),this.A||(this.A=[]),t=Fo(n=this.A,t),n[t++]=n[0]+e,e=1,o=this.a;e<o;++e)n[t++]=n[e];n.length=t}else Ao(this,"XY",null);this.u()},t.W=function(){},t.na=function(){},t.fd=function(t){this.A[this.a]=this.A[0]+t,this.u()},a(Pv,Yi),Pv.prototype.l=function(t,e){e=e.target.result;var n=this.v,o=this.s;o||(o=n.aa().v);var i,r=[],a=0;for(i=(n=this.j).length;a<i;++a){var s=new n[a],l={featureProjection:o};try{r=s.Qa(e,l)}catch(t){r=null}if(r&&0<r.length)break}this.f&&(this.f.clear(),this.f.Qc(r)),this.b(new Rv(Lv,t,r,o))},Pv.prototype.Ha=function(t){Yi.prototype.Ha.call(this,t),t?Ov(this):Nv(this)},Pv.prototype.setMap=function(t){Nv(this),Yi.prototype.setMap.call(this,t),this.c()&&Ov(this)};var Lv="addfeatures";function Rv(t,e,n,o){_e.call(this,t),this.features=n,this.file=e,this.projection=o}function jv(t){t=t||{},ur.call(this,{handleDownEvent:Hv,handleDragEvent:Fv,handleUpEvent:Uv}),this.s=t.condition?t.condition:ar,this.a=this.f=void 0,this.j=0,this.o=void 0!==t.duration?t.duration:400}function Fv(t){if(lr(t)){var e=t.map,n=e.Cb(),o=t.pixel;t=o[0]-n[0]/2,o=n[1]/2-o[1],n=Math.atan2(o,t),t=Math.sqrt(t*t+o*o),(e=e.aa()).l.rotation!==zn&&void 0!==this.f&&(o=n-this.f,Ki(e,e.Sa()-o)),this.f=n,void 0!==this.a&&Zi(e,n=this.a*(e.Pa()/t)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function Uv(t){if(!lr(t))return!0;bi(t=t.map.aa(),1,-1);var e=this.j-1,n=t.Sa();Ki(t,n=t.constrainRotation(n,0),void 0,void 0),n=t.Pa();var o=this.o;return Zi(t,n=t.constrainResolution(n,0,e),void 0,o),this.j=0,!1}function Hv(t){return!(!lr(t)||!this.s(t))&&(bi(t.map.aa(),1,1),this.a=this.f=void 0,!0)}function Vv(t){var e=it({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Ri.call(this,e),this.D=void 0!==t.declutter&&t.declutter,this.f=void 0!==t.renderBuffer?t.renderBuffer:100,this.C=null,this.V=void 0,this.j(t.style),this.ca=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.ra=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,this.l=t.renderMode||"vector",this.type="VECTOR"}a(Rv,_e),a(jv,ur),a(Vv,Ri),Vv.prototype.B=function(){return this.C},Vv.prototype.ib=function(){return this.V},Vv.prototype.j=function(t){this.C=void 0!==t?t:ul,this.V=null===t?void 0:ll(this.C),this.u()};var Bv="renderOrder";function qv(){return[[-1/0,-1/0,1/0,1/0]]}function Wv(t){Ae.call(this),this.c=Rt(t.projection),this.v=null,this.C=zv(this,t.attributions),this.T=t.logo,this.ra=void 0!==t.state?t.state:"ready",this.D=void 0!==t.wrapX&&t.wrapX}function zv(t,e){if(!e)return null;if(e instanceof de)return t.v=[e],function(){return[e.og]};if(Array.isArray(e)){if(e[0]instanceof de){t.v=e;var n=e.map(function(t){return t.og});return function(){return n}}return t.v=e.map(function(t){return new de({html:t})}),function(){return e}}return"function"==typeof e?e:(t.v=[new de({html:e})],function(){return[e]})}function Gv(t,e){t.ra=e,t.u()}function Yv(t){t=t||{},Wv.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.o=s,this.O=t.format,this.$=void 0==t.overlaps||t.overlaps,this.V=t.url,void 0!==t.loader?this.o=t.loader:void 0!==this.V&&(f(this.O,7),this.o=Bp(this.V,this.O)),this.ca=void 0!==t.strategy?t.strategy:qv;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=e?new Uc:null,this.B=new Uc,this.f={},this.j={},this.l={},this.s={},this.i=null,t.features instanceof Ne)var n=t.features,o=n.a;else Array.isArray(t.features)&&(o=t.features);e||void 0!==n||(n=new Ne(o)),void 0!==o&&Zv(this,o),void 0!==n&&function(t,e){var n=!1;ve(t,"addfeature",function(t){n||(n=!0,e.push(t.feature),n=!1)}),ve(t,"removefeature",function(t){n||(n=!0,e.remove(t.feature),n=!1)}),ve(e,"add",function(t){n||(n=!0,this.Gb(t.element),n=!1)},t),ve(e,"remove",function(t){n||(n=!0,this.Lb(t.element),n=!1)},t),t.i=e}(this,n)}function Kv(t,e,n){t.s[e]=[ve(n,"change",t.gj,t),ve(n,"propertychange",t.gj,t)]}function Xv(t,e,n){var o=!0,i=n.c;return void 0!==i?i.toString()in t.j?o=!1:t.j[i.toString()]=n:(f(!(e in t.l),30),t.l[e]=n),o}function Zv(t,e){var n,o=[],i=[],r=[],a=0;for(n=e.length;a<n;a++){var s=e[a],c=l(s).toString();Xv(t,c,s)&&i.push(s)}for(a=0,n=i.length;a<n;a++)Kv(t,c=l(s=i[a]).toString(),s),(e=s.U())?(c=e.G(),o.push(c),r.push(s)):t.f[c]=s;for(t.a&&t.a.load(o,r),a=0,n=i.length;a<n;a++)t.b(new Qv("addfeature",i[a]))}function Jv(t,e){for(var n in t.j)if(t.j[n]===e){delete t.j[n];break}}function Qv(t,e){_e.call(this,t),this.feature=e}function tb(t){ur.call(this,{handleDownEvent:nb,handleEvent:eb,handleUpEvent:ob}),this.V=!1,this.ca=null,this.o=!1,this.ob=t.source?t.source:null,this.La=t.features?t.features:null,this.Xk=t.snapTolerance?t.snapTolerance:12,this.O=t.type,this.f=function(t){var e;return"Point"===t||"MultiPoint"===t?e=ub:"LineString"===t||"MultiLineString"===t?e=pb:"Polygon"===t||"MultiPolygon"===t?e=hb:"Circle"===t&&(e=db),e}(this.O),this.$k=!!t.stopClick,this.Ea=t.minPoints?t.minPoints:this.f===hb?3:2,this.ua=t.maxPoints?t.maxPoints:1/0,this.Md=t.finishCondition?t.finishCondition:po;var e=t.geometryFunction;if(!e)if("Circle"===this.O)e=function(t,e){return(e=e||new kv([NaN,NaN])).hh(t[0],Math.sqrt(oo(t[0],t[1]))),e};else{var n,o=this.f;o===ub?n=Ko:o===pb?n=yl:o===hb&&(n=si),e=function(t,e){return e?o===hb?t[0].length?e.na([t[0].concat([t[0][0]])]):e.na([]):e.na(t):e=new n(t),e}}this.cb=e,this.T=this.C=this.a=this.B=this.j=this.s=null,this.sc=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ra=new Vv({source:new Yv({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:function(){var t=pl();return function(e){return t[e.U().S()]}}()}),this.bb=t.geometryName,this.Wk=t.condition?t.condition:rr,this.If=t.freehand?po:t.freehandCondition?t.freehandCondition:ar,ve(this,De("active"),this.Ki,this)}function eb(t){this.o=this.f!==ub&&this.If(t);var e=!0;return this.o&&"pointerdrag"===t.type&&null!==this.j?(sb(this,t),e=!1):this.o&&"pointerdown"===t.type?e=!1:"pointermove"===t.type?e=ib(this,t):"dblclick"===t.type&&(e=!1),hr.call(this,t)&&e}function nb(t){return this.V=!this.o,this.o?(this.ca=t.pixel,this.s||ab(this,t),!0):!!this.Wk(t)&&(this.ca=t.pixel,!0)}function ob(t){var e=!0;ib(this,t);var n=this.f===db;return this.V?(this.s?this.o||n?this.Pd():rb(this,t)?this.Md(t)&&this.Pd():sb(this,t):(ab(this,t),this.f===ub&&this.Pd()),e=!1):this.o&&(this.s=null,lb(this)),!e&&this.$k&&t.stopPropagation(),e}function ib(t,e){if(t.ca&&(!t.o&&t.V||t.o&&!t.V)){var n=t.ca,o=e.pixel,i=n[0]-o[0];i=i*i+(n=n[1]-o[1])*n,t.V=t.o?i>t.sc:i<=t.sc}return t.s?(i=e.coordinate,n=t.j.U(),t.f===ub?o=t.a:t.f===hb?(o=(o=t.a[0])[o.length-1],rb(t,e)&&(i=t.s.slice())):o=(o=t.a)[o.length-1],o[0]=i[0],o[1]=i[1],t.cb(t.a,n),t.B&&t.B.U().na(i),n instanceof si&&t.f!==hb?(t.C||(t.C=new dl(new yl(null))),i=n.Wh(0),(e=t.C.U()).ba(i.ja,i.da())):t.T&&(e=t.C.U()).na(t.T),cb(t)):(e=e.coordinate.slice(),t.B?t.B.U().na(e):(t.B=new dl(new Ko(e)),cb(t))),!0}function rb(t,e){var n=!1;if(t.j){var o=!1,i=[t.s];if(t.f===pb?o=t.a.length>t.Ea:t.f===hb&&(o=t.a[0].length>t.Ea,i=[t.a[0][0],t.a[0][t.a[0].length-2]]),o){o=e.map;for(var r=0,a=i.length;r<a;r++){var s=i[r],l=o.Ia(s),c=e.pixel;if(n=c[0]-l[0],l=c[1]-l[1],n=Math.sqrt(n*n+l*l)<=(t.o?1:t.Xk)){t.s=s;break}}}}return n}function ab(t,e){e=e.coordinate,t.s=e,t.f===ub?t.a=e.slice():t.f===hb?(t.a=[[e.slice(),e.slice()]],t.T=t.a[0]):(t.a=[e.slice(),e.slice()],t.f===db&&(t.T=t.a)),t.T&&(t.C=new dl(new yl(t.T))),e=t.cb(t.a),t.j=new dl,t.bb&&t.j.Lc(t.bb),t.j.Va(e),cb(t),t.b(new fb("drawstart",t.j))}function sb(t,e){e=e.coordinate;var n,o=t.j.U();if(t.f===pb){t.s=e.slice();var i=t.a;i.length>=t.ua&&(t.o?i.pop():n=!0),i.push(e.slice()),t.cb(i,o)}else t.f===hb&&((i=t.a[0]).length>=t.ua&&(t.o?i.pop():n=!0),i.push(e.slice()),n&&(t.s=i[0]),t.cb(t.a,o));cb(t),n&&t.Pd()}function lb(t){t.s=null;var e=t.j;return e&&(t.j=null,t.B=null,t.C=null,t.ra.ha().clear(!0)),e}function cb(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.B&&e.push(t.B),(t=t.ra.ha()).clear(!0),t.Qc(e)}a(Wv,Ae),(t=Wv.prototype).wa=s,t.za=function(){return this.v},t.Aa=function(){return this.T},t.Da=function(){return this.c},t.getState=function(){return this.ra},t.sa=function(){this.u()},t.va=function(t){this.C=zv(this,t),this.u()},a(Yv,Wv),(t=Yv.prototype).Gb=function(t){var e=l(t).toString();if(Xv(this,e,t)){Kv(this,e,t);var n=t.U();n?(e=n.G(),this.a&&this.a.Ca(e,t)):this.f[e]=t,this.b(new Qv("addfeature",t))}this.u()},t.Qc=function(t){Zv(this,t),this.u()},t.clear=function(t){if(t){for(var e in this.s)this.s[e].forEach(Ee);this.i||(this.s={},this.j={},this.l={})}else if(this.a)for(var n in this.a.forEach(this.Yg,this),this.f)this.Yg(this.f[n]);this.i&&this.i.clear(),this.a&&this.a.clear(),this.B.clear(),this.f={},this.b(new Qv("clear")),this.u()},t.Lh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},t.ec=function(t,e,n){return this.a?qc(this.a,t,e,n):this.i?this.i.forEach(e,n):void 0},t.Mh=function(t,e,n){return this.ec(t,function(o){if(o.U().$a(t)&&(o=e.call(n,o)))return o})},t.Th=function(){return this.i},t.ee=function(){if(this.i)var t=this.i.a;else this.a&&(t=Vc(this.a),st(this.f)||Kt(t,at(this.f)));return t},t.Sh=function(t){var e=[];return function(t,e,n){t.ec([e[0],e[1],e[0],e[1]],function(t){if(t.U().Bb(e))return n.call(void 0,t)})}(this,t,function(t){e.push(t)}),e},t.Yf=function(t){return Bc(this.a,t)},t.Oh=function(t,e){var n=t[0],o=t[1],i=null,r=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||po;return qc(this.a,s,function(t){if(l(t)){var e=t.U(),c=a;(a=e.Nb(n,o,r,a))<c&&(i=t,t=Math.sqrt(a),s[0]=n-t,s[1]=o-t,s[2]=n+t,s[3]=o+t)}}),i},t.G=function(t){return this.a.G(t)},t.Rh=function(t){return void 0!==(t=this.j[t.toString()])?t:null},t.ej=function(){return this.O},t.fj=function(){return this.V},t.gj=function(t){var e=l(t=t.target).toString(),n=t.U();n?(n=n.G(),e in this.f?(delete this.f[e],this.a&&this.a.Ca(n,t)):this.a&&Hc(this.a,n,t)):e in this.f||(this.a&&this.a.remove(t),this.f[e]=t),void 0!==(n=t.c)?(n=n.toString(),e in this.l?(delete this.l[e],this.j[n]=t):this.j[n]!==t&&(Jv(this,t),this.j[n]=t)):e in this.l||(Jv(this,t),this.l[e]=t),this.u(),this.b(new Qv("changefeature",t))},t.ae=function(t,e,n){var o,i=this.B,r=0;for(o=(t=this.ca(t,e)).length;r<o;++r){var a=t[r];qc(i,a,function(t){return P(t.extent,a)})||(this.o.call(this,a,e,n),i.Ca(a,{extent:a.slice()}))}},t.Cj=function(t){var e,n=this.B;qc(n,t,function(n){if(F(n.extent,t))return e=n,!0}),e&&n.remove(e)},t.Lb=function(t){var e=l(t).toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(t),this.Yg(t),this.u()},t.Yg=function(t){var e=l(t).toString();this.s[e].forEach(Ee),delete this.s[e];var n=t.c;void 0!==n?delete this.j[n.toString()]:delete this.l[e],this.b(new Qv("removefeature",t))},t.hj=function(t){this.o=t},a(Qv,_e),a(tb,ur),(t=tb.prototype).setMap=function(t){ur.prototype.setMap.call(this,t),this.Ki()},t.nq=function(){if(this.j){var t=this.j.U();if(this.f===pb){var e=this.a;e.splice(-2,1),this.cb(e,t),2<=e.length&&(this.s=e[e.length-2].slice())}else if(this.f===hb){(e=this.a[0]).splice(-2,1),this.C.U().na(e),this.cb(this.a,t)}0===e.length&&(this.s=null),cb(this)}},t.Pd=function(){var t=lb(this),e=this.a,n=t.U();this.f===pb?(e.pop(),this.cb(e,n)):this.f===hb&&(e[0].pop(),this.cb(e,n),e=n.W()),"MultiPoint"===this.O?t.Va(new Jp([e])):"MultiLineString"===this.O?t.Va(new Xp([e])):"MultiPolygon"===this.O&&t.Va(new Qp([e])),this.b(new fb("drawend",t)),this.La&&this.La.push(t),this.ob&&this.ob.Gb(t)},t.Zn=function(t){var e=t.U();this.j=t,this.a=e.W(),t=this.a[this.a.length-1],this.s=t.slice(),this.a.push(t.slice()),cb(this),this.b(new fb("drawstart",this.j))},t.jd=ho,t.Ki=function(){var t=this.v,e=this.c();t&&e||lb(this),this.ra.setMap(e?t:null)};var ub="Point",pb="LineString",hb="Polygon",db="Circle";function fb(t,e){_e.call(this,t),this.feature=e}function mb(t){var e=t||{};this.a=this.j=null,this.C=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.B=!1,this.T=this.s=null,t||(t={}),ur.call(this,{handleDownEvent:yb,handleDragEvent:vb,handleEvent:gb,handleUpEvent:bb}),this.o=new Vv({source:new Yv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:function(){var t=pl();return function(){return t.Polygon}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.O=new Vv({source:new Yv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:function(){var t=pl();return function(){return t.Point}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&this.f(t.extent)}function gb(t){if(!(t instanceof un))return!0;if("pointermove"==t.type&&!this.D){var e=t.pixel,n=t.map,o=Mb(this,e,n);o||(o=n.Ra(e)),$b(this,o)}return hr.call(this,t),!1}function yb(t){function e(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null}var n=t.pixel,o=t.map,i=this.G();return(t=Mb(this,n,o))&&i?(n=t[0]==i[0]||t[0]==i[2]?t[0]:null,o=t[1]==i[1]||t[1]==i[3]?t[1]:null,null!==n&&null!==o?this.a=wb(e(t)):null!==n?this.a=Eb(e([n,i[1]]),e([n,i[3]])):null!==o&&(this.a=Eb(e([i[0],o]),e([i[2],o])))):(t=o.Ra(n),this.f([t[0],t[1],t[0],t[1]]),this.a=wb(t)),!0}function vb(t){return this.a&&(t=t.coordinate,this.f(this.a(t)),$b(this,t)),!0}function bb(){this.a=null;var t=this.G();return t&&0!==q(t)||this.f(null),!1}function wb(t){return function(e){return x([t,e])}}function Eb(t,e){return t[0]==e[0]?function(n){return x([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return x([t,[e[0],n[1]]])}:null}function Mb(t,e,n){var o=n.Ra(e),i=t.G();if(i){(i=[[[i[0],i[1]],[i[0],i[3]]],[[i[0],i[3]],[i[2],i[3]]],[[i[2],i[3]],[i[2],i[1]]],[[i[2],i[1]],[i[0],i[1]]]]).sort(function(t,e){return ro(o,t)-ro(o,e)}),i=i[0];var r=Zn(o,i),a=n.Ia(r);if(io(e,a)<=t.C)return e=n.Ia(i[0]),n=n.Ia(i[1]),e=oo(a,e),n=oo(a,n),t.B=Math.sqrt(Math.min(e,n))<=t.C,t.B&&(r=e>n?i[1]:i[0]),r}return null}function $b(t,e){var n=t.T;n?n.U().na(e):(n=new dl(new Ko(e)),t.T=n,t.O.ha().Gb(n))}function Cb(t){_e.call(this,"extentchanged"),this.extent=t}function _b(t){if(ur.call(this,{handleDownEvent:Ab,handleDragEvent:Pb,handleEvent:Ib,handleUpEvent:Db}),this.Md=t.condition?t.condition:cr,this.bb=function(t){return tr(t)&&ir(t)},this.ob=t.deleteCondition?t.deleteCondition:this.bb,this.sc=t.insertVertexCondition?t.insertVertexCondition:po,this.La=this.f=null,this.Ea=[0,0],this.C=this.T=!1,this.a=new Uc,this.ra=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.s=this.ua=!1,this.j=[],this.B=new Vv({source:new Yv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:function(){var t=pl();return function(){return t.Point}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ca={Point:this.io,LineString:this.Mi,LinearRing:this.Mi,Polygon:this.jo,MultiPoint:this.fo,MultiLineString:this.eo,MultiPolygon:this.ho,Circle:this.bo,GeometryCollection:this.co},this.V=null,t.source?(this.V=t.source,t=new Ne(this.V.ee()),ve(this.V,"addfeature",this.vm,this),ve(this.V,"removefeature",this.xm,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.o=t,this.o.forEach(this.xg,this),ve(this.o,"add",this.$n,this),ve(this.o,"remove",this.ao,this),this.O=null}function xb(t,e){t.C||(t.C=!0,t.b(new jb("modifystart",t.o,e)))}function Sb(t,e){!function(t,e){var n=[];(t=t.a).forEach(function(t){e===t.feature&&n.push(t)});for(var o=n.length-1;0<=o;--o)t.remove(n[o])}(t,e),t.f&&0===t.o.kc()&&(t.B.ha().Lb(t.f),t.f=null),we(e,"change",t.Li,t)}function Tb(t,e){var n=t.f;n?n.U().na(e):(n=new dl(new Ko(e)),t.f=n,t.B.ha().Gb(n))}function kb(t,e){return t.index-e.index}function Ab(t){if(!this.Md(t))return!1;Ob(this,t.pixel,t.map);var e=t.map.Ra(t.pixel);this.j.length=0,this.C=!1;var n=this.f;if(n){var o=[],i=x([n=n.U().W()]),r={};(i=Bc(this.a,i)).sort(kb);for(var a=0,s=i.length;a<s;++a){var c=i[a],u=c.ma,p=l(c.feature),h=c.depth;h&&(p+="-"+h.join("-")),r[p]||(r[p]=Array(2)),"Circle"===c.geometry.S()&&1===c.index?to(u=Lb(e,c),n)&&!r[p][0]&&(this.j.push([c,0]),r[p][0]=c):to(u[0],n)&&!r[p][0]?(this.j.push([c,0]),r[p][0]=c):to(u[1],n)&&!r[p][1]?("LineString"!==c.geometry.S()&&"MultiLineString"!==c.geometry.S()||!r[p][0]||0!==r[p][0].index)&&(this.j.push([c,1]),r[p][1]=c):this.sc(t)&&l(u)in this.La&&!r[p][0]&&!r[p][1]&&o.push([c,n])}for(o.length&&xb(this,t),t=o.length-1;0<=t;--t)this.Em.apply(this,o[t])}return!!this.f}function Pb(t){this.T=!1,xb(this,t),t=t.coordinate;for(var e=0,n=this.j.length;e<n;++e){var o=this.j[e],i=o[0],r=i.depth,a=i.geometry,s=i.ma;for(o=o[1];t.length<a.pa();)t.push(s[o][t.length]);switch(a.S()){case"Point":var l=t;s[0]=s[1]=t;break;case"MultiPoint":(l=a.W())[i.index]=t,s[0]=s[1]=t;break;case"LineString":(l=a.W())[i.index+o]=t,s[o]=t;break;case"MultiLineString":case"Polygon":(l=a.W())[r[0]][i.index+o]=t,s[o]=t;break;case"MultiPolygon":(l=a.W())[r[1]][r[0]][i.index+o]=t,s[o]=t;break;case"Circle":s[0]=s[1]=t,0===i.index?(this.s=!0,a.ub(t)):(this.s=!0,a.fd(io(a.xa(),t))),this.s=!1}l&&(i=a,r=l,this.s=!0,i.na(r),this.s=!1)}Tb(this,t)}function Db(t){for(var e,n,o=this.j.length-1;0<=o;--o)if("Circle"===(n=(e=this.j[o][0]).geometry).S()){var i=n.xa(),r=e.Tf[0];e=e.Tf[1],r.ma[0]=r.ma[1]=i,e.ma[0]=e.ma[1]=i,Hc(this.a,R(i),r),Hc(this.a,n.G(),e)}else Hc(this.a,x(e.ma),e);return this.C&&(this.b(new jb("modifyend",this.o,t)),this.C=!1),!1}function Ib(t){return!(t instanceof un)||(this.O=t,t.map.aa().Vh()||"pointermove"!=t.type||this.D||(this.Ea=t.pixel,Ob(this,t.pixel,t.map)),this.f&&this.ob(t)&&(e=!("singleclick"!=t.type||!this.T)||this.Dj()),"singleclick"==t.type&&(this.T=!1),hr.call(this,t)&&!e);var e}function Ob(t,e,n){var o=n.Ra(e),i=S(R(o),n.aa().Pa()*t.ra);if(0<(i=Bc(t.a,i)).length){i.sort(function(t,e){return Nb(o,t)-Nb(o,e)});var r=i[0],a=r.ma,s=Lb(o,r),c=n.Ia(s),u=io(e,c);if(u<=t.ra){if(e={},"Circle"===r.geometry.S()&&1===r.index)t.ua=!0,Tb(t,s);else for(u=n.Ia(a[0]),r=n.Ia(a[1]),n=oo(c,u),c=oo(c,r),u=Math.sqrt(Math.min(n,c)),t.ua=u<=t.ra,t.ua&&(s=n>c?a[1]:a[0]),Tb(t,s),c=1,n=i.length;c<n&&(s=i[c].ma,to(a[0],s[0])&&to(a[1],s[1])||to(a[0],s[1])&&to(a[1],s[0]));++c)e[l(s)]=!0;return e[l(a)]=!0,void(t.La=e)}}t.f&&(t.B.ha().Lb(t.f),t.f=null)}function Nb(t,e){var n=e.geometry;return"Circle"===n.S()&&1===e.index?(t=oo(n.xa(),t),(n=Math.sqrt(t)-n.Bd())*n):ro(t,e.ma)}function Lb(t,e){var n=e.geometry;return"Circle"===n.S()&&1===e.index?n.Ib(t):Zn(t,e.ma)}function Rb(t,e,n,o,i){qc(t.a,e.G(),function(t){t.geometry===e&&(void 0===o||void 0===t.depth||Zt(t.depth,o))&&t.index>n&&(t.index+=i)})}function jb(t,e,n){_e.call(this,t),this.features=e,this.mapBrowserEvent=n}function Fb(t){if(Yi.call(this,{handleEvent:Ub}),t=t||{},this.C=t.condition?t.condition:ir,this.D=t.addCondition?t.addCondition:ho,this.B=t.removeCondition?t.removeCondition:ho,this.T=t.toggleCondition?t.toggleCondition:ar,this.s=!!t.multi&&t.multi,this.l=t.filter?t.filter:po,this.j=t.hitTolerance?t.hitTolerance:0,this.f=new Vv({source:new Yv({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:function(){var t=pl();return Kt(t.Polygon,t.LineString),Kt(t.GeometryCollection,t.LineString),function(e){return e.U()?t[e.U().S()]:null}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return Gt(e,t)}}else t=po;this.o=t,this.a={},ve(t=this.f.ha().i,"add",this.ko,this),ve(t,"remove",this.oo,this)}function Ub(t){if(!this.C(t))return!0;var e=this.D(t),n=this.B(t),o=this.T(t),i=!e&&!n&&!o,r=t.map,a=this.f.ha().i,s=[],c=[];if(i){for(rt(this.a),r.Tc(t.pixel,function(t,e){if(this.l(t,e))return c.push(t),t=l(t),this.a[t]=e,!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j}),i=a.kc()-1;0<=i;--i){r=a.item(i);var u=c.indexOf(r);-1<u?c.splice(u,1):(a.remove(r),s.push(r))}0!==c.length&&a.qg(c)}else{for(r.Tc(t.pixel,function(t,i){if(this.l(t,i))return!e&&!o||Gt(a.a,t)?(n||o)&&Gt(a.a,t)&&(s.push(t),i=l(t),delete this.a[i]):(c.push(t),t=l(t),this.a[t]=i),!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j}),i=s.length-1;0<=i;--i)a.remove(s[i]);a.qg(c)}return(0<c.length||0<s.length)&&this.b(new Hb(Vb,c,s,t)),or(t)}function Hb(t,e,n,o){_e.call(this,t),this.selected=e,this.deselected=n,this.mapBrowserEvent=o}a(fb,_e),a(mb,ur),mb.prototype.setMap=function(t){this.o.setMap(t),this.O.setMap(t),ur.prototype.setMap.call(this,t)},mb.prototype.G=function(){return this.j},mb.prototype.f=function(t){this.j=t||null;var e=this.s;e?t?e.Va(ci(t)):e.Va(void 0):(this.s=e=new dl(t?ci(t):{}),this.o.ha().Gb(e)),this.b(new Cb(this.j))},a(Cb,_e),a(_b,ur),(t=_b.prototype).xg=function(t){var e=t.U();e&&e.S()in this.ca&&this.ca[e.S()].call(this,t,e),(e=this.v)&&e.c&&this.c()&&Ob(this,this.Ea,e),ve(t,"change",this.Li,this)},t.Ha=function(t){this.f&&!t&&(this.B.ha().Lb(this.f),this.f=null),ur.prototype.Ha.call(this,t)},t.setMap=function(t){this.B.setMap(t),ur.prototype.setMap.call(this,t)},t.vm=function(t){t.feature&&this.o.push(t.feature)},t.xm=function(t){t.feature&&this.o.remove(t.feature)},t.$n=function(t){this.xg(t.element)},t.Li=function(t){this.s||(Sb(this,t=t.target),this.xg(t))},t.ao=function(t){Sb(this,t.element)},t.io=function(t,e){var n=e.W();t={feature:t,geometry:e,ma:[n,n]},this.a.Ca(e.G(),t)},t.fo=function(t,e){var n,o=e.W(),i=0;for(n=o.length;i<n;++i){var r=o[i];r={feature:t,geometry:e,depth:[i],index:i,ma:[r,r]},this.a.Ca(e.G(),r)}},t.Mi=function(t,e){var n,o=e.W(),i=0;for(n=o.length-1;i<n;++i){var r=o.slice(i,i+2),a={feature:t,geometry:e,index:i,ma:r};this.a.Ca(x(r),a)}},t.eo=function(t,e){var n,o,i=e.W(),r=0;for(o=i.length;r<o;++r){var a=i[r],s=0;for(n=a.length-1;s<n;++s){var l=a.slice(s,s+2),c={feature:t,geometry:e,depth:[r],index:s,ma:l};this.a.Ca(x(l),c)}}},t.jo=function(t,e){var n,o,i=e.W(),r=0;for(o=i.length;r<o;++r){var a=i[r],s=0;for(n=a.length-1;s<n;++s){var l=a.slice(s,s+2),c={feature:t,geometry:e,depth:[r],index:s,ma:l};this.a.Ca(x(l),c)}}},t.ho=function(t,e){var n,o,i,r=e.W(),a=0;for(i=r.length;a<i;++a){var s=r[a],l=0;for(o=s.length;l<o;++l){var c=s[l],u=0;for(n=c.length-1;u<n;++u){var p=c.slice(u,u+2),h={feature:t,geometry:e,depth:[l,a],index:u,ma:p};this.a.Ca(x(p),h)}}}},t.bo=function(t,e){var n=e.xa(),o={feature:t,geometry:e,index:0,ma:[n,n]};t={feature:t,geometry:e,index:1,ma:[n,n]},o.Tf=t.Tf=[o,t],this.a.Ca(R(n),o),this.a.Ca(e.G(),t)},t.co=function(t,e){var n=e.a;for(e=0;e<n.length;++e)this.ca[n[e].S()].call(this,t,n[e])},t.Em=function(t,e){for(var n,o=t.ma,i=t.feature,r=t.geometry,a=t.depth,s=t.index;e.length<r.pa();)e.push(0);switch(r.S()){case"MultiLineString":case"Polygon":(n=r.W())[a[0]].splice(s+1,0,e);break;case"MultiPolygon":(n=r.W())[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":(n=r.W()).splice(s+1,0,e);break;default:return}this.s=!0,r.na(n),this.s=!1,(n=this.a).remove(t),Rb(this,r,s,a,1),t={ma:[o[0],e],feature:i,geometry:r,depth:a,index:s},n.Ca(x(t.ma),t),this.j.push([t,1]),e={ma:[e,o[1]],feature:i,geometry:r,depth:a,index:s+1},n.Ca(x(e.ma),e),this.j.push([e,0]),this.T=!0},t.Dj=function(){if(this.O&&"pointerdrag"!=this.O.type){var t=this.O;xb(this,t);var e,n,o=this.j,i={};for(n=o.length-1;0<=n;--n){var r=o[n],a=r[0],s=l(a.feature);a.depth&&(s+="-"+a.depth.join("-")),s in i||(i[s]={}),0===r[1]?(i[s].right=a,i[s].index=a.index):1==r[1]&&(i[s].left=a,i[s].index=a.index+1)}for(s in i){var c=i[s].right,u=i[s].left,p=(n=i[s].index)-1;a=void 0!==u?u:c,0>p&&(p=0);var h=e=(r=a.geometry).W(),d=!1;switch(r.S()){case"MultiLineString":2<e[a.depth[0]].length&&(e[a.depth[0]].splice(n,1),d=!0);break;case"LineString":2<e.length&&(e.splice(n,1),d=!0);break;case"MultiPolygon":h=h[a.depth[1]];case"Polygon":4<(h=h[a.depth[0]]).length&&(n==h.length-1&&(n=0),h.splice(n,1),d=!0,0===n&&(h.pop(),h.push(h[0]),p=h.length-1))}d&&(d=r,this.s=!0,d.na(e),this.s=!1,e=[],void 0!==u&&(this.a.remove(u),e.push(u.ma[0])),void 0!==c&&(this.a.remove(c),e.push(c.ma[1])),void 0!==u&&void 0!==c&&(u={depth:a.depth,feature:a.feature,geometry:a.geometry,index:p,ma:e},this.a.Ca(x(u.ma),u)),Rb(this,r,n,a.depth,-1),this.f&&(this.B.ha().Lb(this.f),this.f=null),o.length=0)}return this.b(new jb("modifyend",this.o,t)),this.C=!1,!0}return!1},a(jb,_e),a(Fb,Yi),(t=Fb.prototype).lo=function(){return this.f.ha().i},t.mo=function(){return this.j},t.no=function(t){return t=l(t),this.a[t]},t.po=function(t){this.j=t},t.setMap=function(t){var e=this.v,n=this.f.ha().i;e&&n.forEach(e.Zj,e),Yi.prototype.setMap.call(this,t),this.f.setMap(t),t&&n.forEach(t.Uj,t)},t.ko=function(t){var e=this.v;e&&e.Uj(t.element)},t.oo=function(t){var e=this.v;e&&e.Zj(t.element)},a(Hb,_e);var Vb="select";function Bb(t){ur.call(this,{handleEvent:Wb,handleDownEvent:po,handleUpEvent:zb}),t=t||{},this.s=t.source?t.source:null,this.O=void 0===t.vertex||t.vertex,this.C=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.ra=[],this.B={},this.V={},this.o={},this.T=null,this.f=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.ua=function(t,e){return ro(this.T,t.ma)-ro(this.T,e.ma)}.bind(this),this.a=new Uc,this.ca={Point:this.wo,LineString:this.Pi,LinearRing:this.Pi,Polygon:this.xo,MultiPoint:this.uo,MultiLineString:this.to,MultiPolygon:this.vo,GeometryCollection:this.so,Circle:this.ro}}function qb(t,e,n,o){var i=o.Ra([e[0]-t.f,e[1]+t.f]),r=o.Ra([e[0]+t.f,e[1]-t.f]);i=x([i,r]);var a=Bc(t.a,i);t.O&&!t.C&&(a=a.filter(function(t){return"Circle"!==t.feature.U().S()}));var s=!1;i=!1;var l=r=null;if(0<a.length){t.T=n,a.sort(t.ua);var c=a[0].ma;s="Circle"===a[0].feature.U().S(),t.O&&!t.C?(n=o.Ia(c[0]),s=o.Ia(c[1]),n=oo(e,n),e=oo(e,s),(s=(s=Math.sqrt(Math.min(n,e)))<=t.f)&&(i=!0,r=n>e?c[1]:c[0],l=o.Ia(r))):t.C&&(r=s?function(t,e){var n=e.Bd(),o=e.xa();e=o[0],o=o[1];var i=t[0]-e;t=t[1]-o,0===i&&0===t&&(i=1);var r=Math.sqrt(i*i+t*t);return[e+n*i/r,o+n*t/r]}(n,a[0].feature.U()):Zn(n,c),io(e,l=o.Ia(r))<=t.f&&(i=!0,t.O&&!s&&(n=o.Ia(c[0]),s=o.Ia(c[1]),n=oo(l,n),e=oo(l,s),s=(s=Math.sqrt(Math.min(n,e)))<=t.f)))&&(r=n>e?c[1]:c[0],l=o.Ia(r)),i&&(l=[Math.round(l[0]),Math.round(l[1])])}return{Mq:i,vertex:r,Vq:l}}function Wb(t){var e=qb(this,t.pixel,t.coordinate,t.map);return e.Mq&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.Vq),hr.call(this,t)}function zb(){var t=at(this.o);return t.length&&(t.forEach(this.$j,this),this.o={}),!1}function Gb(t){if(ur.call(this,{handleDownEvent:Yb,handleDragEvent:Xb,handleMoveEvent:Zb,handleUpEvent:Kb}),t=t||{},this.a=null,this.j=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)var e=t.layers;else{var n=t.layers;e=function(t){return Gt(n,t)}}else e=po;this.C=e,this.s=t.hitTolerance?t.hitTolerance:0,this.f=null,ve(this,De("active"),this.o,this)}function Yb(t){if(this.f=Jb(this,t.pixel,t.map),!this.a&&this.f){this.a=t.coordinate,Zb.call(this,t);var e=this.j||new Ne([this.f]);return this.b(new tw("translatestart",e,t.coordinate)),!0}return!1}function Kb(t){if(this.a){this.a=null,Zb.call(this,t);var e=this.j||new Ne([this.f]);return this.b(new tw("translateend",e,t.coordinate)),!0}return!1}function Xb(t){if(this.a){var e=(t=t.coordinate)[0]-this.a[0],n=t[1]-this.a[1],o=this.j||new Ne([this.f]);o.forEach(function(t){var o=t.U();o.translate(e,n),t.Va(o)}),this.a=t,this.b(new tw("translating",o,t))}}function Zb(t){var e=t.map.a;Jb(this,t.pixel,t.map)?(e.classList.remove(this.a?"ol-grab":"ol-grabbing"),e.classList.add(this.a?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}function Jb(t,e,n){return n.Tc(e,function(t){if(!this.j||Gt(this.j.a,t))return t}.bind(t),{layerFilter:t.C,hitTolerance:t.s})}function Qb(t,e){var n=t.v;t=t.c(),n&&t||(n=n||e)&&n.a.classList.remove("ol-grab","ol-grabbing")}function tw(t,e,n){_e.call(this,t),this.features=e,this.coordinate=n}function ew(t){var e=it({},t=t||{});delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Vv.call(this,e),this.c=null,this.$=void 0!==t.shadow?t.shadow:250,this.O=void 0,this.T=null,ve(this,De(iw),this.cm,this),this.Lj(t.gradient?t.gradient:nw),this.Fj(void 0!==t.blur?t.blur:15),this.fd(void 0!==t.radius?t.radius:8),ve(this,De(ow),this.mg,this),ve(this,De(rw),this.mg,this),this.mg();var n,o=t.weight?t.weight:"weight";n="string"==typeof o?function(t){return t.get(o)}:o,this.j(function(t){var e=255*(t=void 0!==(t=n(t))?m(t,0,1):1)|0,o=this.T[e];return o||(o=[new sl({image:new lf({opacity:t,src:this.O})})],this.T[e]=o),o}.bind(this)),this.set(Bv,null),ve(this,"render",this.tm,this)}a(Bb,ur),(t=Bb.prototype).Gb=function(t,e){e=void 0===e||e;var n=l(t),o=t.U();if(o){var i=this.ca[o.S()];i&&(this.V[n]=o.G([1/0,1/0,-1/0,-1/0]),i.call(this,t,o))}e&&(this.B[n]=ve(t,"change",this.qo,this))},t.bl=function(t){this.Gb(t)},t.cl=function(t){this.Lb(t)},t.Ni=function(t){if(t instanceof Qv)var e=t.feature;else t instanceof Fe&&(e=t.element);this.Gb(e)},t.Oi=function(t){if(t instanceof Qv)var e=t.feature;else t instanceof Fe&&(e=t.element);this.Lb(e)},t.qo=function(t){if(t=t.target,this.D){var e=l(t);e in this.o||(this.o[e]=t)}else this.$j(t)},t.Lb=function(t,e){e=void 0===e||e;var n=l(t),o=this.V[n];if(o){var i=this.a,r=[];for(qc(i,o,function(e){t===e.feature&&r.push(e)}),o=r.length-1;0<=o;--o)i.remove(r[o])}e&&(Ee(this.B[n]),delete this.B[n])},t.setMap=function(t){var e,n=this.v,o=this.ra;this.j?e=this.j:this.s&&(e=this.s.ee()),n&&(o.forEach(Ee),o.length=0,e.forEach(this.cl,this)),ur.prototype.setMap.call(this,t),t&&(this.j?o.push(ve(this.j,"add",this.Ni,this),ve(this.j,"remove",this.Oi,this)):this.s&&o.push(ve(this.s,"addfeature",this.Ni,this),ve(this.s,"removefeature",this.Oi,this)),e.forEach(this.bl,this))},t.jd=ho,t.$j=function(t){this.Lb(t,!1),this.Gb(t,!1)},t.ro=function(t,e){var n,o=0;for(n=(e=ui(e).W()[0]).length-1;o<n;++o){var i=e.slice(o,o+2),r={feature:t,ma:i};this.a.Ca(x(i),r)}},t.so=function(t,e){var n=e.a;for(e=0;e<n.length;++e){var o=this.ca[n[e].S()];o&&o.call(this,t,n[e])}},t.Pi=function(t,e){var n,o=0;for(n=(e=e.W()).length-1;o<n;++o){var i=e.slice(o,o+2),r={feature:t,ma:i};this.a.Ca(x(i),r)}},t.to=function(t,e){var n,o,i=0;for(o=(e=e.W()).length;i<o;++i){var r=e[i],a=0;for(n=r.length-1;a<n;++a){var s=r.slice(a,a+2),l={feature:t,ma:s};this.a.Ca(x(s),l)}}},t.uo=function(t,e){var n,o=e.W(),i=0;for(n=o.length;i<n;++i){var r=o[i];r={feature:t,ma:[r,r]},this.a.Ca(e.G(),r)}},t.vo=function(t,e){var n,o,i,r=0;for(i=(e=e.W()).length;r<i;++r){var a=e[r],s=0;for(o=a.length;s<o;++s){var l=a[s],c=0;for(n=l.length-1;c<n;++c){var u=l.slice(c,c+2),p={feature:t,ma:u};this.a.Ca(x(u),p)}}}},t.wo=function(t,e){var n=e.W();t={feature:t,ma:[n,n]},this.a.Ca(e.G(),t)},t.xo=function(t,e){var n,o,i=0;for(o=(e=e.W()).length;i<o;++i){var r=e[i],a=0;for(n=r.length-1;a<n;++a){var s=r.slice(a,a+2),l={feature:t,ma:s};this.a.Ca(x(s),l)}}},a(Gb,ur),Gb.prototype.B=function(){return this.s},Gb.prototype.T=function(t){this.s=t},Gb.prototype.setMap=function(t){var e=this.v;ur.prototype.setMap.call(this,t),Qb(this,e)},Gb.prototype.o=function(){Qb(this,null)},a(tw,_e),a(ew,Vv);var nw=["#00f","#0ff","#0f0","#ff0","#f00"];(t=ew.prototype).Nh=function(){return this.get(ow)},t.Uh=function(){return this.get(iw)},t.Ri=function(){return this.get(rw)},t.cm=function(){for(var t=this.Uh(),e=wi(1,256),n=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),i=0,r=t.length;i<r;++i)n.addColorStop(i*o,t[i]);e.fillStyle=n,e.fillRect(0,0,1,256),this.c=e.getImageData(0,0,1,256).data},t.mg=function(){var t=this.Ri(),e=this.Nh(),n=t+e+1,o=2*n;(o=wi(o,o)).shadowOffsetX=o.shadowOffsetY=this.$,o.shadowBlur=e,o.shadowColor="#000",o.beginPath(),e=n-this.$,o.arc(e,e,t,0,2*Math.PI,!0),o.fill(),this.O=o.canvas.toDataURL(),this.T=Array(256),this.u()},t.tm=function(t){var e,n,o=(t=t.context).canvas,i=(o=t.getImageData(0,0,o.width,o.height)).data,r=0;for(e=i.length;r<e;r+=4)(n=4*i[r+3])&&(i[r]=this.c[n],i[r+1]=this.c[n+1],i[r+2]=this.c[n+2]);t.putImageData(o,0,0)},t.Fj=function(t){this.set(ow,t)},t.Lj=function(t){this.set(iw,t)},t.fd=function(t){this.set(rw,t)};var ow="blur",iw="gradient",rw="radius";function aw(t){Ri.call(this,t||{}),this.type="IMAGE"}function sw(t){var e=it({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Ri.call(this,e),this.j(void 0!==t.preload?t.preload:0),this.C(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="TILE"}function lw(t){var e=(t=t||{}).renderMode||"hybrid";f(void 0==e||"image"==e||"hybrid"==e||"vector"==e,28),t.declutter&&"image"==e&&(e="hybrid"),t.renderMode=e,delete(e=it({},t)).preload,delete e.useInterimTilesOnError,Vv.call(this,e),this.T(t.preload?t.preload:0),this.O(!t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="VECTOR_TILE"}function cw(t,e){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(a){if(a)return t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(i,function(){return(-a[2]-1).toString()}).replace(r,function(){var t=e.a?e.a[a[0]]:null;return f(t,55),(t.ka-t.ea+1+a[2]).toString()})}}function uw(t,e){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=cw(t[i],e);return pw(o)}function pw(t){return 1===t.length?t[0]:function(e,n,o){if(e)return t[w((e[1]<<e[0])+e[2],t.length)](e,n,o)}}function hw(){}function dw(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o,i=n[2].charCodeAt(0);for(o=n[1].charCodeAt(0);o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(i=parseInt(n[2],10),o=parseInt(n[1],10);o<=i;o++)e.push(t.replace(n[0],o.toString()));return e}return e.push(t),e}function fw(t,e,n,o){function i(){delete window[a],r.parentNode.removeChild(r)}var r=document.createElement("script"),a="olc_"+l(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(o||"callback")+"="+a;var s=setTimeout(function(){i(),n&&n()},1e4);window[a]=function(t){clearTimeout(s),i(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function mw(t){ta.call(this,t)}function gw(t,e,n,o){var i=Bt(n,e,t);return n=Pt(e,o,n),void 0!==(e=e.Bc())&&(n*=e),void 0!==(e=t.Bc())&&(n/=e),(e=t.G())&&!A(e,i)||(t=Pt(t,n,i)/n,isFinite(t)&&0<t&&(n/=t)),n}function yw(t,e,n,o){t=n-t,e=o-e;var i=Math.sqrt(t*t+e*e);return[Math.round(n+t/i),Math.round(o+e/i)]}function vw(t,e,n,o,i,r,a,s,l,c,u){var p=wi(Math.round(n*t),Math.round(n*e));if(0===l.length)return p.canvas;p.scale(n,n);var h=[1/0,1/0,-1/0,-1/0];l.forEach(function(t){U(h,t.extent)});var d=wi(Math.round(n*Q(h)/o),Math.round(n*K(h)/o)),f=n/o;l.forEach(function(t){d.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,(t.extent[0]-h[0])*f,-(t.extent[3]-h[3])*f,Q(t.extent)*f,K(t.extent)*f)});var m=Z(a);return s.c.forEach(function(t){var e=t.source,i=t.target,a=e[1][0],s=e[1][1],l=e[2][0],c=e[2][1];t=(i[0][0]-m[0])/r;var u=-(i[0][1]-m[1])/r,f=(i[1][0]-m[0])/r,g=-(i[1][1]-m[1])/r,y=(i[2][0]-m[0])/r,v=-(i[2][1]-m[1])/r;i=e[0][0],e=e[0][1];t:{for(s=(a=[[a-=i,s-=e,0,0,f-t],[l-=i,c-=e,0,0,y-t],[0,0,a,s,g-u],[0,0,l,c,v-u]]).length,l=0;l<s;l++){c=l;for(var b=Math.abs(a[l][l]),w=l+1;w<s;w++){var E=Math.abs(a[w][l]);E>b&&(b=E,c=w)}if(0===b){a=null;break t}for(b=a[c],a[c]=a[l],a[l]=b,c=l+1;c<s;c++)for(b=-a[c][l]/a[l][l],w=l;w<s+1;w++)a[c][w]=l==w?0:a[c][w]+b*a[l][w]}for(l=Array(s),c=s-1;0<=c;c--)for(l[c]=a[c][s]/a[c][c],b=c-1;0<=b;b--)a[b][s]-=a[b][c]*l[c];a=l}a&&(p.save(),p.beginPath(),s=yw(l=(t+f+y)/3,c=(u+g+v)/3,t,u),f=yw(l,c,f,g),y=yw(l,c,y,v),p.moveTo(f[0],f[1]),p.lineTo(s[0],s[1]),p.lineTo(y[0],y[1]),p.clip(),p.transform(a[0],a[2],a[1],a[3],t,u),p.translate(h[0]-i,h[3]-e),p.scale(o/n,-o/n),p.drawImage(d.canvas,0,0),p.restore())}),u&&(p.save(),p.strokeStyle="black",p.lineWidth=1,s.c.forEach(function(t){var e=t.target;t=(e[0][0]-m[0])/r;var n=-(e[0][1]-m[1])/r,o=(e[1][0]-m[0])/r,i=-(e[1][1]-m[1])/r,a=(e[2][0]-m[0])/r;e=-(e[2][1]-m[1])/r,p.beginPath(),p.moveTo(o,i),p.lineTo(t,n),p.lineTo(a,e),p.closePath(),p.stroke()}),p.restore()),p.canvas}function bw(t,e,n,o,i){this.g=t,this.i=e;var r={},a=Ft(this.i,this.g);if(this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.f=o,this.v=i*i,this.c=[],this.l=!1,this.s=this.g.g&&!!o&&!!this.g.G()&&Q(o)==Q(this.g.G()),this.b=this.g.G()?Q(this.g.G()):null,this.j=this.i.G()?Q(this.i.G()):null,function t(e,n,o,i,r,a,s,l,c,u){var p=x([a,s,l,c]),h=e.b?Q(p)/e.b:null,d=e.b,f=e.g.g&&.5<h&&1>h,m=!1;if(0<u){if(e.i.c&&e.j){var g=x([n,o,i,r]);m|=.25<Q(g)/e.j}!f&&e.g.c&&h&&(m|=.25<h)}if(m||!e.f||tt(p,e.f)){if(!(m||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(c[0])&&isFinite(c[1]))){if(!(0<u))return;m=!0}if(0<u&&(m||(p=e.a([(n[0]+i[0])/2,(n[1]+i[1])/2]),d=f?(w(a[0],d)+w(l[0],d))/2-w(p[0],d):(a[0]+l[0])/2-p[0],p=(a[1]+l[1])/2-p[1],m=d*d+p*p>e.v),m))return void(Math.abs(n[0]-i[0])<=Math.abs(n[1]-i[1])?(f=[(o[0]+i[0])/2,(o[1]+i[1])/2],d=e.a(f),p=[(r[0]+n[0])/2,(r[1]+n[1])/2],h=e.a(p),t(e,n,o,f,p,a,s,d,h,u-1),t(e,p,f,i,r,h,d,l,c,u-1)):(f=[(n[0]+o[0])/2,(n[1]+o[1])/2],d=e.a(f),p=[(i[0]+r[0])/2,(i[1]+r[1])/2],h=e.a(p),t(e,n,f,p,r,a,d,h,c,u-1),t(e,f,o,i,p,d,s,l,h,u-1)));if(f){if(!e.s)return;e.l=!0}e.c.push({source:[a,l,c],target:[n,i,r]}),e.c.push({source:[a,s,l],target:[n,o,i]})}}(this,t=Z(n),e=J(n),o=z(n),n=W(n),i=this.a(t),this.a(e),this.a(o),this.a(n),10),this.l){var s=1/0;this.c.forEach(function(t){s=Math.min(s,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-s>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-s>this.b/2&&(e[0][0]-=this.b),e[1][0]-s>this.b/2&&(e[1][0]-=this.b),e[2][0]-s>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function ww(t){var e=[1/0,1/0,-1/0,-1/0];return t.c.forEach(function(t){t=t.source,H(e,t[0]),H(e,t[1]),H(e,t[2])}),e}function Ew(t,e,n,o,i,r,a,s,l,c,u){if(xl.call(this,i,0),this.B=void 0!==u&&u,this.C=a,this.D=s,this.N=null,this.c=e,this.l=o,this.v=r||i,this.a=[],this.Id=null,this.f=0,r=o.Ma(this.v),s=this.l.G(),i=this.c.G(),0===q(r=s?X(r,s):r))this.state=4;else if((s=t.G())&&(i=i?X(i,s):s),o=gw(t,n,G(r),o.Ta(this.v[0])),!isFinite(o)||0>=o)this.state=4;else if(this.o=new bw(t,n,r,i,o*(void 0!==c?c:.5)),0===this.o.c.length)this.state=4;else if(this.f=e.Dc(o),n=ww(this.o),i&&(t.g?(n[1]=m(n[1],i[1],i[3]),n[3]=m(n[3],i[1],i[3])):n=X(n,i)),q(n)){for(e=(t=re(e,n,this.f)).fa;e<=t.la;e++)for(n=t.ea;n<=t.ka;n++)(c=l(this.f,e,n,a))&&this.a.push(c);0===this.a.length&&(this.state=4)}else this.state=4}function Mw(t){Wv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.bb=void 0!==t.opaque&&t.opaque,this.sc=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new mw(t.cacheSize),this.j=[0,0],this.jc="",this.Ea={transition:t.transition}}function $w(t,e,n,o,i){if(!(t=t.Yd(e)))return!1;e=!0;for(var r,a,s=o.fa;s<=o.la;++s)for(var l=o.ea;l<=o.ka;++l)r=n+"/"+s+"/"+l,a=!1,t.a.hasOwnProperty(r)&&((a=2===(r=t.get(r)).getState())&&(a=!1!==i(r))),a||(e=!1);return e}function Cw(t,e){t.jc!==e&&(t.jc=e,t.u())}function _w(t,e,n){var o=void 0!==n?n:t.c;if(n=t.eb(o),t.D&&o.c){var i=e;e=i[0],t=ae(n,i),A(o=he(o),t)?e=i:(i=Q(o),t[0]+=i*Math.ceil((o[0]-t[0])/i),e=n.jg(t,e))}if(i=e[0],o=e[1],t=e[2],n.minZoom>i||i>n.maxZoom)n=!1;else{var r=n.G();n=!(n=r?re(n,r,i):n.a?n.a[i]:null)||d(n,o,t)}return n?e:null}function xw(t,e){_e.call(this,t),this.tile=e}function Sw(t){Mw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.dc?this.dc.bind(this):hw,this.urls=null,t.urls?this.vb(t.urls):t.url&&this.rb(t.url),t.tileUrlFunction&&this.hb(t.tileUrlFunction),this.V={}}function Tw(t){Sw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Pw,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Pl,this.f={},this.s={},this.ob=t.reprojectionErrorThreshold,this.O=!1}function kw(t,e,n,o,i,r,a){return i=(n=_w(t,e=[e,n,o],r))?t.tileUrlFunction(n,i,r):void 0,(i=new t.tileClass(e,void 0!==i?0:4,void 0!==i?i:"",t.crossOrigin,t.tileLoadFunction,t.Ea)).key=a,ve(i,"change",t.dj,t),i}function Aw(t,e,n,o,i,r){var a=e+"/"+n+"/"+o,s=t.jc;if(t.a.a.hasOwnProperty(a)){var l=t.a.get(a);if(l.key!=s){var c=l;l=kw(t,e,n,o,i,r,s),0==c.getState()?l.g=c.g:l.g=c,Tl(l),t.a.replace(a,l)}}else l=kw(t,e,n,o,i,r,s),t.a.set(a,l);return l}function Pw(t,e){t.Y().src=e}function Dw(t){this.i=void 0!==t.hidpi&&t.hidpi,Tw.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Rt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.culture?t.culture:"en-us",this.$=void 0!==t.maxZoom?t.maxZoom:-1,this.l=t.key,this.B=t.imagerySet,fw("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.B+"?uriScheme=https&include=ImageryProviders&key="+this.l+"&c="+this.o,this.La.bind(this),void 0,"jsonp")}function Iw(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:ce({extent:he(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})}function Ow(t){this.o=t.account,this.B=t.map||"",this.i=t.config||{},this.l={},Iw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),Nw(this)}function Nw(t){var e=JSON.stringify(t.i);if(t.l[e])Lw(t,t.l[e]);else{var n="https://"+t.o+".carto.com/api/v1/map";t.B&&(n+="/named/"+t.B);var o=new XMLHttpRequest;o.addEventListener("load",t.em.bind(t,e)),o.addEventListener("error",t.dm.bind(t)),o.open("POST",n),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t.i))}}function Lw(t,e){t.rb("https://"+e.cdn_url.https+"/"+t.o+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function Rw(t){Yv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return f((t=t.U())instanceof Ko,10),t},this.source=t.source,this.source.I("change",Rw.prototype.sa,this)}function jw(t){if(void 0!==t.resolution){t.features.length=0;for(var e=[1/0,1/0,-1/0,-1/0],n=t.distance*t.resolution,o=t.source.ee(),i={},r=0,a=o.length;r<a;r++){var s=o[r];l(s).toString()in i||!(s=t.geometryFunction(s))||(R(s=s.W(),e),S(e,n,e),s=(s=t.source.Yf(e)).filter(function(t){return!((t=l(t).toString())in i)&&(i[t]=!0)}),t.features.push(Fw(t,s)))}}}function Fw(t,e){for(var n=[0,0],o=e.length-1;0<=o;--o){var i=t.geometryFunction(e[o]);i?Xn(n,i.W()):e.splice(o,1)}return no(n,1/e.length),(t=new dl(new Ko(n))).set("features",e),t}function Uw(t,e,n,o,i,r){this.s=e,this.l=t.G();var a=e.G(),s=a?X(n,a):n;a=gw(t,e,G(s),o),this.f=new bw(t,e,s,this.l,.5*a),this.c=o,this.g=n,t=ww(this.f),this.j=(this.Tb=r(t,a,i))?this.Tb.a:1,this.je=this.i=null,i=2,this.Tb&&(i=0),Zr.call(this,n,o,this.j,i)}function Hw(t){Wv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.o=void 0!==t.resolutions?t.resolutions:null,this.i=null,this.ua=0}function Vw(t,e){return t.o&&(e=t.o[Yt(t.o,e,0)]),e}function Bw(t,e){t.Y().src=e}function qw(t,e){_e.call(this,t),this.image=e}a(aw,Ri),a(sw,Ri),sw.prototype.c=function(){return this.get("preload")},sw.prototype.j=function(t){this.set("preload",t)},sw.prototype.i=function(){return this.get("useInterimTilesOnError")},sw.prototype.C=function(t){this.set("useInterimTilesOnError",t)},a(lw,Vv),lw.prototype.c=function(){return this.get("preload")},lw.prototype.i=function(){return this.get("useInterimTilesOnError")},lw.prototype.T=function(t){this.set("preload",t)},lw.prototype.O=function(t){this.set("useInterimTilesOnError",t)},a(mw,ta),mw.prototype.sd=function(t){for(var e,n;ea(this);){var o;if((o=(n=(e=this.g.Pc).ya[0].toString())in t)&&(e=e.ya,o=d(t[n],e[1],e[2])),o)break;Ce(this.pop())}},a(Ew,xl),Ew.prototype.ia=function(){1==this.state&&(this.Id.forEach(Ee),this.Id=null),xl.prototype.ia.call(this)},Ew.prototype.Y=function(){return this.N},Ew.prototype.he=function(){var t=[];if(this.a.forEach(function(e){e&&2==e.getState()&&t.push({extent:this.c.Ma(e.ya),image:e.Y()})},this),this.a.length=0,0===t.length)this.state=3;else{var e=this.v[0],n=this.l.Za(e),o="number"==typeof n?n:n[0];n="number"==typeof n?n:n[1],e=this.l.Ta(e);var i=this.c.Ta(this.f),r=this.l.Ma(this.v);this.N=vw(o,n,this.C,i,this.c.G(),e,r,this.o,t,this.D,this.B),this.state=2}this.u()},Ew.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=0;this.Id=[],this.a.forEach(function(e){var n=e.getState();if(0==n||1==n){t++;var o=ve(e,"change",function(){var n=e.getState();2!=n&&3!=n&&4!=n||(Ee(o),0===--t&&(this.Id.forEach(Ee),this.Id=null,this.he()))},this);this.Id.push(o)}},this),this.a.forEach(function(t){0==t.getState()&&t.load()}),0===t&&setTimeout(this.he.bind(this),0)}},a(Mw,Wv),(t=Mw.prototype).cj=function(){return ea(this.a)},t.sd=function(t,e){(t=this.Yd(t))&&t.sd(e)},t.Zf=function(){return 0},t.eg=function(){return this.bb},t.jb=function(){return this.tileGrid},t.eb=function(t){return this.tileGrid?this.tileGrid:le(t)},t.Yd=function(t){var e=this.c;return e&&!jt(e,t)?null:this.a},t.Xc=function(){return this.sc},t.Zd=function(t,e,n){return n=this.eb(n),e=this.Xc(e),t=_(n.Za(t),this.j),1==e?t:C(t,e,this.j)},t.sa=function(){this.a.clear(),this.u()},t.kh=s,a(xw,_e),a(Sw,Mw),(t=Sw.prototype).yb=function(){return this.tileLoadFunction},t.zb=function(){return this.tileUrlFunction},t.Ab=function(){return this.urls},t.dj=function(t){var e=l(t=t.target),n=t.getState();if(1==n){this.V[e]=!0;var o="tileloadstart"}else e in this.V&&(delete this.V[e],o=3==n?"tileloaderror":2==n||5==n?"tileloadend":void 0);void 0!=o&&this.b(new xw(o,t))},t.Fb=function(t){this.a.clear(),this.tileLoadFunction=t,this.u()},t.hb=function(t,e){this.tileUrlFunction=t,function(t){if(0!==t.i){var e=t.c.jc.split("/").map(Number)[0];t.forEach(function(t){if(t.ya[0]!==e){var n=t.ya;this.remove(n[0]+"/"+n[1]+"/"+n[2]),Ce(t)}},t)}}(this.a),void 0!==e?Cw(this,e):this.u()},t.rb=function(t){var e=this.urls=dw(t);this.hb(this.dc?this.dc.bind(this):uw(e,this.tileGrid),t)},t.vb=function(t){this.urls=t;var e=t.join("\n");this.hb(this.dc?this.dc.bind(this):uw(t,this.tileGrid),e)},t.kh=function(t,e,n){t=t+"/"+e+"/"+n,this.a.a.hasOwnProperty(t)&&this.a.get(t)},a(Tw,Sw),(t=Tw.prototype).cj=function(){if(ea(this.a))return!0;for(var t in this.f)if(ea(this.f[t]))return!0;return!1},t.sd=function(t,e){for(var n in t=this.Yd(t),this.a.sd(this.a==t?e:{}),this.f){var o=this.f[n];o.sd(o==t?e:{})}},t.Zf=function(t){return this.c&&t&&!jt(this.c,t)?0:this.$f()},t.$f=function(){return 0},t.eg=function(t){return!(this.c&&t&&!jt(this.c,t))&&Sw.prototype.eg.call(this,t)},t.eb=function(t){var e=this.c;return!this.tileGrid||e&&!jt(e,t)?((e=l(t).toString())in this.s||(this.s[e]=le(t)),this.s[e]):this.tileGrid},t.Yd=function(t){var e=this.c;return!e||jt(e,t)?this.a:((t=l(t).toString())in this.f||(this.f[t]=new mw(this.a.highWaterMark)),this.f[t])},t.ad=function(t,e,n,o,i){var r=this.c;if(r&&i&&!jt(r,i)){var a,s=this.Yd(i);if(t=(n=[t,e,n])[0]+"/"+n[1]+"/"+n[2],s.a.hasOwnProperty(t)&&(a=s.get(t)),e=this.jc,a&&a.key==e)return a;var l=this.eb(r),c=this.eb(i),u=_w(this,n,i);return(o=new Ew(r,l,i,c,n,u,this.Xc(o),this.$f(),function(t,e,n,o){return Aw(this,t,e,n,o,r)}.bind(this),this.ob,this.O)).key=e,a?(o.g=a,Tl(o),s.replace(t,o)):s.set(t,o),o}return Aw(this,t,e,n,o,r||i)},t.Qb=function(t){if(this.O!=t){for(var e in this.O=t,this.f)this.f[e].clear();this.u()}},t.Rb=function(t,e){(t=Rt(t))&&((t=l(t).toString())in this.s||(this.s[t]=e))},a(Dw,Tw),Dw.prototype.ca=function(){return this.l},Dw.prototype.ua=function(){return this.B},Dw.prototype.La=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Gv(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var n=t.resourceSets[0].resources[0];t=-1==this.$?n.zoomMax:this.$;var o=he(this.c);this.tileGrid=ce({extent:o,minZoom:n.zoomMin,maxZoom:t,tileSize:(n.imageWidth==n.imageHeight?n.imageWidth:[n.imageWidth,n.imageHeight])/(this.i?2:1)});var i=this.o,r=this.i;if(this.tileUrlFunction=pw(n.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=n.imageUrl.replace("{subdomain}",t).replace("{culture}",i);return function(t){if(t)return te(t[0],t[1],-t[2]-1,e),t=o,r&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",function(t){var e,n=t[0],o=Array(n),i=1<<n-1;for(e=0;e<n;++e){var r=48;t[1]&i&&(r+=1),t[2]&i&&(r+=2),o[e]=String.fromCharCode(r),i>>=1}return o.join("")}(e))}})),n.imageryProviders){var a=Ut(Rt("EPSG:4326"),this.c);this.va(function(t){var e=[],o=t.viewState.zoom;return n.imageryProviders.map(function(n){for(var i=!1,r=n.coverageAreas,s=0,l=r.length;s<l;++s){var c=r[s];if(o>=c.zoomMin&&o<=c.zoomMax&&tt(c=ot([(c=c.bbox)[1],c[0],c[3],c[2]],a),t.extent)){i=!0;break}}i&&e.push(n.attribution)}),e.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),e})}this.T=e,Gv(this,"ready")}},a(Iw,Tw),a(Ow,Iw),(t=Ow.prototype).nl=function(){return this.i},t.Sq=function(t){it(this.i,t),Nw(this)},t.uq=function(t){this.i=t||{},Nw(this)},t.em=function(t,e){if(!(e=e.target).status||200<=e.status&&300>e.status){try{var n=JSON.parse(e.responseText)}catch(t){return void Gv(this,"error")}Lw(this,n),this.l[t]=n,Gv(this,"ready")}else Gv(this,"error")},t.dm=function(){Gv(this,"error")},a(Rw,Yv),(t=Rw.prototype).Eo=function(){return this.distance},t.Fo=function(){return this.source},t.ae=function(t,e,n){this.source.ae(t,e,n),e!==this.resolution&&(this.clear(),this.resolution=e,jw(this),this.Qc(this.features))},t.vq=function(t){this.distance=t,this.sa()},t.sa=function(){this.clear(),jw(this),this.Qc(this.features),Yv.prototype.sa.call(this)},a(Uw,Zr),Uw.prototype.ia=function(){1==this.state&&(Ee(this.je),this.je=null),Zr.prototype.ia.call(this)},Uw.prototype.Y=function(){return this.i},Uw.prototype.he=function(){var t=this.Tb.getState();2==t&&(this.i=vw(Q(this.g)/this.c,K(this.g)/this.c,this.j,this.Tb.resolution,0,this.c,this.g,this.f,[{extent:this.Tb.G(),image:this.Tb.Y()}],0)),this.state=t,this.u()},Uw.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=this.Tb.getState();2==t||3==t?this.he():(this.je=ve(this.Tb,"change",function(){var t=this.Tb.getState();2!=t&&3!=t||(Ee(this.je),this.je=null,this.he())},this),this.Tb.load())}},a(Hw,Wv),Hw.prototype.Y=function(t,e,n,o){var i=this.c;if(i&&o&&!jt(i,o)){if(this.i){if(this.ua==this.g&&jt(this.i.s,o)&&this.i.resolution==e&&F(this.i.G(),t))return this.i;Ce(this.i),this.i=null}return this.i=new Uw(i,o,t,e,n,function(t,e,n){return this.Wc(t,e,n,i)}.bind(this)),this.ua=this.g,this.i}return i&&(o=i),this.Wc(t,e,n,o)},Hw.prototype.j=function(t){switch((t=t.target).getState()){case 1:this.b(new qw(Ww,t));break;case 2:this.b(new qw(zw,t));break;case 3:this.b(new qw(Gw,t))}},a(qw,_e);var Ww="imageloadstart",zw="imageloadend",Gw="imageloaderror";function Yw(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var o=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+o}function Kw(t){t=t||{},Hw.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.$=void 0===t.hidpi||t.hidpi,this.a=t.url,this.f=void 0!==t.imageLoadFunction?t.imageLoadFunction:Bw,this.s=t.params||{},this.M=null,this.l=[0,0],this.O=0,this.B=void 0!==t.ratio?t.ratio:1.5}function Xw(t){Hw.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.Ea=t.canvasFunction,this.V=null,this.$=0,this.La=void 0!==t.ratio?t.ratio:1.5}function Zw(t){Hw.call(this,{projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.l=void 0!==t.displayDpi?t.displayDpi:96,this.f=t.params||{},this.O=t.url,this.a=void 0!==t.imageLoadFunction?t.imageLoadFunction:Bw,this.$=void 0===t.hidpi||t.hidpi,this.ca=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.s=void 0!==t.ratio?t.ratio:1,this.Ea=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.B=0}function Jw(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,o=void 0!==t.imageLoadFunction?t.imageLoadFunction:Bw;Hw.call(this,{attributions:t.attributions,logo:t.logo,projection:Rt(t.projection)}),this.M=new _l(e,void 0,1,t.url,n,o),this.a=t.imageSize?t.imageSize:null,ve(this.M,"change",this.j,this)}function Qw(t){this.a=t.source,this.ob=[1,0,0,1,0,0],this.f=wi(),this.l=[0,0],this.ca=rs.Jc(9),this.bb=void 0==t.renderBuffer?100:t.renderBuffer,this.B=null,Xw.call(this,{attributions:t.attributions,canvasFunction:this.Mk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.a.getState()}),this.O=null,this.s=void 0,this.aj(t.style),ve(this.a,"change",this.To,this)}function tE(t){t=t||{},Hw.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.ca=void 0!==t.crossOrigin?t.crossOrigin:null,this.f=t.url,this.s=void 0!==t.imageLoadFunction?t.imageLoadFunction:Bw,this.a=t.params||{},this.l=!0,oE(this),this.$=t.serverType,this.Ea=void 0===t.hidpi||t.hidpi,this.M=null,this.B=[0,0],this.V=0,this.O=void 0!==t.ratio?t.ratio:1.5}a(Kw,Hw),(t=Kw.prototype).Ho=function(){return this.s},t.Wc=function(t,e,n,o){if(void 0===this.a)return null;e=Vw(this,e),n=this.$?n:1;var i=this.M;if(i&&this.O==this.g&&i.resolution==e&&i.a==n&&P(i.G(),t))return i;it(i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.s);var r=((t=t.slice())[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.B){var s=this.B*Q(t)/2,l=this.B*K(t)/2;t[0]=r-s,t[1]=a-l,t[2]=r+s,t[3]=a+l}s=e/n,l=Math.ceil(Q(t)/s);var c=Math.ceil(K(t)/s);return t[0]=r-s*l/2,t[2]=r+s*l/2,t[1]=a-s*c/2,t[3]=a+s*c/2,this.l[0]=l,this.l[1]=c,r=t,a=this.l,s=n,o=o.wb.split(":").pop(),i.SIZE=a[0]+","+a[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*s),(r=(o=this.a).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==o&&f(!1,50),i=Yw(r,i),this.M=new _l(t,e,n,i,this.V,this.f),this.O=this.g,ve(this.M,"change",this.j,this),this.M},t.Go=function(){return this.f},t.Io=function(){return this.a},t.Jo=function(t){this.M=null,this.f=t,this.u()},t.Ko=function(t){t!=this.a&&(this.a=t,this.M=null,this.u())},t.Lo=function(t){it(this.s,t),this.M=null,this.u()},a(Xw,Hw),Xw.prototype.Wc=function(t,e,n,o){e=Vw(this,e);var i=this.V;return i&&this.$==this.g&&i.resolution==e&&i.a==n&&P(i.G(),t)?i:(nt(t=t.slice(),this.La),(o=this.Ea(t,e,n,[Q(t)/e*n,K(t)/e*n],o))&&(i=new Jr(t,e,n,o)),this.V=i,this.$=this.g,i)},a(Zw,Hw),(t=Zw.prototype).No=function(){return this.f},t.Wc=function(t,e,n){e=Vw(this,e),n=this.$?n:1;var o=this.M;if(o&&this.B==this.g&&o.resolution==e&&o.a==n&&P(o.G(),t))return o;1!=this.s&&nt(t=t.slice(),this.s);var i=[Q(t)/e*n,K(t)/e*n];if(void 0!==this.O){o=this.O;var r=G(t),a=this.ca,s=Q(t),l=K(t),c=i[0],u=i[1],p=.0254/this.l;i={OPERATION:this.Ea?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:u*s>c*l?s*a/(c*p):l*a/(u*p),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]},it(i,this.f),ve(o=new _l(t,e,n,o=Yw(o,i),this.V,this.a),"change",this.j,this)}else o=null;return this.M=o,this.B=this.g,o},t.Mo=function(){return this.a},t.Po=function(t){it(this.f,t),this.u()},t.Oo=function(t){this.M=null,this.a=t,this.u()},a(Jw,Hw),Jw.prototype.Wc=function(t){return tt(t,this.M.G())?this.M:null},Jw.prototype.j=function(t){if(2==this.M.getState()){var e=this.M.G(),n=this.M.Y();if(this.a)var o=this.a[0],i=this.a[1];else o=n.width,i=n.height;if((e=Math.ceil(Q(e)/(K(e)/i)))!=o){var r=(e=wi(e,i)).canvas;e.drawImage(n,0,0,o,i,0,0,r.width,r.height),this.M.ih(r)}}Hw.prototype.j.call(this,t)},a(Qw,Xw),(t=Qw.prototype).Mk=function(t,e,n,o,i){var r=new Is(.5*e/n,t,e,n,this.a.$,this.ca,this.bb);this.a.ae(t,e,i);var a=!1;return this.a.ec(t,function(t){var o,i;if(!(o=a))if((o=t.ib())?i=o.call(t,e):this.s&&(i=this.s(t,e)),i){var s,l=!1;for(Array.isArray(i)||(i=[i]),o=0,s=i.length;o<s;++o)l=Hs(r,t,i[o],Us(e,n),this.So,this)||l;o=l}else o=!1;a=o},this),Ls(r),a?null:(this.l[0]!=o[0]||this.l[1]!=o[1]?(this.f.canvas.width=o[0],this.f.canvas.height=o[1],this.l[0]=o[0],this.l[1]=o[1]):this.f.clearRect(0,0,o[0],o[1]),this.ca.clear(),t=function(t,e,n,o,i){return n=o/n,_o(t.ob,i[0]/2,i[1]/2,n,-n,0,-e[0],-e[1])}(this,G(t),e,n,o),r.Na(this.f,t,0,{}),this.B=r,this.f.canvas)},t.wa=function(t,e,n,o,i,r){if(this.B){var a={};return this.B.wa(t,e,0,o,i,function(t){var e=l(t).toString();if(!(e in a))return a[e]=!0,r(t)},null)}},t.Qo=function(){return this.a},t.Ro=function(){return this.O},t.ib=function(){return this.s},t.So=function(){this.u()},t.To=function(){Gv(this,this.a.getState())},t.aj=function(t){this.O=void 0!==t?t:ul,this.s=t?ll(this.O):void 0,this.u()},a(tE,Hw);var eE=[101,101];function nE(t,e,n,o,i,r){if(f(void 0!==t.f,9),r[t.l?"CRS":"SRS"]=i.wb,"STYLES"in t.a||(r.STYLES=""),1!=o)switch(t.$){case"geoserver":o=90*o+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+";dpi:"+o:"dpi:"+o;break;case"mapserver":r.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":r.DPI=90*o;break;default:f(!1,8)}var a;return r.WIDTH=n[0],r.HEIGHT=n[1],n=i.b,a=t.l&&"ne"==n.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),Yw(t.f,r)}function oE(t){t.l=0<=Kn(t.a.VERSION||"1.3.0")}function iE(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],Iw.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function rE(t){this.B=null,this.Ea=void 0!==t.operationType?t.operationType:"pixel",this.La=void 0!==t.threads?t.threads:1,this.f=function(t){for(var e=t.length,n=Array(e),o=0;o<e;++o){var i=o,r=t[o],a=null;r instanceof Mw?(r=new sw({source:r}),a=new os(r)):r instanceof Hw&&(r=new aw({source:r}),a=new qa(r)),n[i]=a}return n}(t.sources);for(var e=0,n=this.f.length;e<n;++e)ve(this.f[e],"change",this.u,this);this.$=new Bn(function(){return 1},this.u.bind(this)),n={};for(var o=0,i=(e=function(t){return t.map(function(t){return Ci(t.a)})}(this.f)).length;o<i;++o)n[l(e[o].layer)]=e[o];this.a=null,this.O={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],extent:null,focus:null,index:0,layerStates:n,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.$,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Hw.call(this,{}),void 0!==t.operation&&this.s(t.operation,t.lib)}(t=tE.prototype).Uo=function(t,e,n,o){if(void 0!==this.f){n=Rt(n);var i=this.c;i&&i!==n&&(e=gw(i,n,t,e),t=Bt(t,n,i));var r=Y(t,e,0,eE),a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return it(a,this.a,o),o=Math.floor((r[3]-t[1])/e),a[this.l?"I":"X"]=Math.floor((t[0]-r[0])/e),a[this.l?"J":"Y"]=o,nE(this,r,eE,1,i||n,a)}},t.Wo=function(){return this.a},t.Wc=function(t,e,n,o){if(void 0===this.f)return null;e=Vw(this,e),1==n||this.Ea&&void 0!==this.$||(n=1);var i=e/n,r=G(t),a=Y(r,i,0,[Math.ceil(Q(t)/i),Math.ceil(K(t)/i)]);return t=Y(r,i,0,[Math.ceil(this.O*Q(t)/i),Math.ceil(this.O*K(t)/i)]),(r=this.M)&&this.V==this.g&&r.resolution==e&&r.a==n&&P(r.G(),a)?r:(it(a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.a),this.B[0]=Math.round(Q(t)/i),this.B[1]=Math.round(K(t)/i),o=nE(this,t,this.B,n,o,a),this.M=new _l(t,e,n,o,this.ca,this.s),this.V=this.g,ve(this.M,"change",this.j,this),this.M)},t.Vo=function(){return this.s},t.Xo=function(){return this.f},t.Yo=function(t){this.M=null,this.s=t,this.u()},t.Zo=function(t){t!=this.f&&(this.f=t,this.M=null,this.u())},t.$o=function(t){it(this.a,t),oE(this),this.M=null,this.u()},a(iE,Iw),rs.nf={},rs.nf.Hf=function(){},function(t){function e(t,e,n){return a?new ImageData(t,e,n):((e=s.createImageData(e,n)).data.set(t),e)}function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(n){var o=n.buffers,i=n.meta,r=n.width,a=n.height,s=o.length,l=o[0].byteLength;if(n.imageOps){for(l=Array(s),n=0;n<s;++n){var c=n,u=new Uint8ClampedArray(o[n]),p=r,h=a;u=e?new ImageData(u,p,h):{data:u,width:p,height:h},l[c]=u}r=t(l,i).data}else{for(r=new Uint8ClampedArray(l),a=Array(s),c=Array(s),n=0;n<s;++n)a[n]=new Uint8ClampedArray(o[n]),c[n]=[0,0,0,0];for(o=0;o<l;o+=4){for(n=0;n<s;++n)u=a[n],c[n][0]=u[o],c[n][1]=u[o+1],c[n][2]=u[o+2],c[n][3]=u[o+3];n=t(c,i),r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}}return r.buffer}}function o(t,e){var o=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),(o=new Worker(o)).addEventListener("message",e),o}function i(t,e){var o=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:o(t),meta:t.meta}})},0)}}}function r(t){var e;this.Jf=!!t.Cm;var n=[];if(e=0===t.threads?0:this.Jf?1:t.threads||1)for(var r=0;r<e;++r)n[r]=o(t,this.xh.bind(this,r));else n[0]=i(t,this.xh.bind(this,0));this.we=n,this.Nd=[],this.Bk=t.Sp||1/0,this.ve=0,this.od={},this.Kf=null}var a=!0;try{new ImageData(10,10)}catch(t){a=!1}var s=document.createElement("canvas").getContext("2d");r.prototype.Rp=function(t,e,n){this.zk({inputs:t,ii:e,callback:n}),this.uh()},r.prototype.zk=function(t){for(this.Nd.push(t);this.Nd.length>this.Bk;)this.Nd.shift().callback(null,null)},r.prototype.uh=function(){if(0===this.ve&&0<this.Nd.length){var t=this.Kf=this.Nd.shift(),e=t.inputs[0].width,n=t.inputs[0].height,o=t.inputs.map(function(t){return t.data.buffer}),i=this.we.length;if(this.ve=i,1===i)this.we[0].postMessage({buffers:o,meta:t.ii,imageOps:this.Jf,width:e,height:n},o);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/i),a=0;a<i;++a){for(var s=a*r,l=[],c=0,u=o.length;c<u;++c)l.push(o[a].slice(s,s+r));this.we[a].postMessage({buffers:l,meta:t.ii,imageOps:this.Jf,width:e,height:n},l)}}},r.prototype.xh=function(t,e){this.hr||(this.od[t]=e.data,--this.ve,0===this.ve&&this.Ck())},r.prototype.Ck=function(){var t=this.Kf,n=this.we.length;if(1===n)var o=new Uint8ClampedArray(this.od[0].buffer),i=this.od[0].meta;else{var r=t.inputs[0].data.length;o=new Uint8ClampedArray(r),i=Array(r),r=4*Math.ceil(r/4/n);for(var a=0;a<n;++a){var s=a*r;o.set(new Uint8ClampedArray(this.od[a].buffer),s),i[a]=this.od[a].meta}}this.Kf=null,this.od={},t.callback(null,e(o,t.inputs[0].width,t.inputs[0].height),i),this.uh()},t.default={Hf:r},t.Hf=r}(rs.nf=rs.nf||{}),a(rE,Hw),rE.prototype.s=function(t,e){this.B=new rs.nf.Hf({operation:t,Cm:"image"===this.Ea,Sp:1,lib:e,threads:this.La}),this.u()},rE.prototype.Y=function(t,e,n,o){n=!0;for(var i,r=0,a=this.f.length;r<a;++r)if("ready"!==(i=this.f[r].a.ha()).getState()){n=!1;break}if(!n)return null;if((n=it({},this.O)).viewState=it({},n.viewState),i=G(t),n.extent=t.slice(),n.focus=i,n.size[0]=Math.round(Q(t)/e),n.size[1]=Math.round(K(t)/e),n.time=Date.now(),n.animate=!1,(r=n.viewState).center=i,r.projection=o,r.resolution=e,this.l=n,this.a&&(o=this.a.resolution,i=this.a.G(),e===o&&F(t,i)||(this.a=null)),!this.a||this.g!==this.V)t:{for(t=this.l,o=this.f.length,e=Array(o),i=0;i<o;++i){r=this.f[i],a=t;var s=t.layerStatesArray[i];if(r.$c(a,s)){var l=a.size[0],c=a.size[1];if(aE){var u=aE.canvas;u.width!==l||u.height!==c?aE=wi(l,c):aE.clearRect(0,0,l,c)}else aE=wi(l,c);r.df(a,s,aE),r=aE.getImageData(0,0,l,c)}else r=null;if(!r)break t;e[i]=r}o={},this.b(new sE(lE,t,o)),this.B.Rp(e,o,this.ca.bind(this,t))}return qn(n.tileQueue,16,16),n.animate&&requestAnimationFrame(this.u.bind(this)),this.a},rE.prototype.ca=function(t,e,n,o){if(!e&&n){e=t.extent;var i=t.viewState.resolution;if(i===this.l.viewState.resolution&&F(e,this.l.extent)){if(this.a)var r=this.a.Y().getContext("2d");else r=wi(Math.round(Q(e)/i),Math.round(K(e)/i)),this.a=new Jr(e,i,1,r.canvas);r.putImageData(n,0,0),this.u(),this.V=this.g,this.b(new sE(cE,t,o))}}};var aE=null;function sE(t,e,n){_e.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=n}a(sE,_e),rE.prototype.Wc=function(){return null};var lE="beforeoperations",cE="afteroperations";function uE(t){var e=t.layer.indexOf("-");e=dE[-1==e?t.layer:t.layer.slice(0,e)];var n=hE[t.layer];Iw.call(this,{attributions:pE,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.Ob,wrapX:t.wrapX})}a(uE,Iw);var pE=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],hE={terrain:{Ob:"jpg",opaque:!0},"terrain-background":{Ob:"jpg",opaque:!0},"terrain-labels":{Ob:"png",opaque:!1},"terrain-lines":{Ob:"png",opaque:!1},"toner-background":{Ob:"png",opaque:!0},toner:{Ob:"png",opaque:!0},"toner-hybrid":{Ob:"png",opaque:!1},"toner-labels":{Ob:"png",opaque:!1},"toner-lines":{Ob:"png",opaque:!1},"toner-lite":{Ob:"png",opaque:!0},watercolor:{Ob:"jpg",opaque:!0}},dE={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function fE(t){t=t||{},Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.i=t.params||{},this.l=[1/0,1/0,-1/0,-1/0],Cw(this,mE(this))}function mE(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function gE(t){Mw.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function yE(t,e,n){xl.call(this,t,2),this.c=e,this.ta=n,this.a=null}function vE(t){if(this.i=null,Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Rt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),t.url)if(t.jsonp)fw(t.url,this.Cg.bind(this),this.ef.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.bp.bind(this)),e.addEventListener("error",this.ap.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Cg(t.tileJSON):f(!1,51)}function bE(t){if(Mw.call(this,{projection:Rt("EPSG:3857"),state:"loading"}),this.s=void 0===t.preemptive||t.preemptive,this.l=hw,this.f=void 0,this.i=t.jsonp||!1,t.url)if(this.i)fw(t.url,this.Dg.bind(this),this.ff.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.gp.bind(this)),e.addEventListener("error",this.fp.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Dg(t.tileJSON):f(!1,51)}function wE(t,e,n,o,i,r){xl.call(this,t,e),this.v=n,this.a=o,this.N=i,this.c=this.l=this.f=null,this.o=r}function EE(t){if(0==t.state)if(t.state=1,t.o)fw(t.v,t.bj.bind(t),t.Ne.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.ep.bind(t)),e.addEventListener("error",t.cp.bind(t)),e.open("GET",t.v),e.send()}}function ME(t){var e=(t=t||{}).params||{};Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.gutter?t.gutter:0,this.i=e,this.l=!0,this.B=t.serverType,this.$=void 0===t.hidpi||t.hidpi,this.ca=[1/0,1/0,-1/0,-1/0],_E(this),Cw(this,CE(this))}function $E(t,e,n,o,i,r,a){var s=t.urls;if(s){if(a.WIDTH=n[0],a.HEIGHT=n[1],a[t.l?"CRS":"SRS"]=r.wb,"STYLES"in t.i||(a.STYLES=""),1!=i)switch(t.B){case"geoserver":n=90*i+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+";dpi:"+n:"dpi:"+n;break;case"mapserver":a.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":a.DPI=90*i;break;default:f(!1,52)}return r=r.b,t.l&&"ne"==r.substr(0,2)&&(t=o[0],o[0]=o[1],o[1]=t,t=o[2],o[2]=o[3],o[3]=t),a.BBOX=o.join(","),Yw(1==s.length?s[0]:s[w((e[1]<<e[0])+e[2],s.length)],a)}}function CE(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function _E(t){t.l=0<=Kn(t.i.VERSION||"1.3.0")}function xE(t,e,n,o,i,r,a,s,l,c,u,p,h,d,f){if(xl.call(this,t,e,f),this.v={},this.o={},this.c=c,this.a=[],this.D=n,this.l=r,this.f=[],this.N=[],r){var m=l.Ma(r),g=l.Ta(t[0]);s.Vf(m,s.Dc(g),function(t){var e=X(m,s.Ma(t)),n=s.G();n&&(e=X(e,n)),.5<=Q(e)/g&&.5<=K(e)/g&&(e=t.toString(),(n=c[e])||(n=a(t,u,p),n=c[e]=new h(t,void 0==n?4:0,void 0==n?"":n,o,i),this.N.push(ve(n,"change",d))),n.c++,this.a.push(e))}.bind(this))}}function SE(t,e){return(e=l(e).toString())in t.v||(t.v[e]=wi()),t.v[e]}function TE(t,e){return(e=l(e).toString())in t.o||(t.o[e]={Be:!1,eh:null,wf:-1,fh:-1}),t.o[e]}function kE(t,e){t.ug(Vp(e,t.v,t.Cp.bind(t),t.Bp.bind(t)))}function AE(t){var e=t.projection||"EPSG:3857",n=t.extent||he(e),o=t.tileGrid||ce({extent:n,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});Sw.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:n,logo:t.logo,opaque:!1,projection:e,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:kE,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.l=t.format?t.format:null,this.i={},this.s=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:zu,this.f={}}function PE(t){this.s=t.matrixIds,ee.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function DE(t,e,n){var o=[],i=[],r=[],a=[],s=[],l=void 0!==n?n:[],c=(n=Rt((n=t.SupportedCRS).replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Rt(n)).Bc(),u="ne"==n.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<l.length)||Xt(l,function(e){return t.Identifier==e.TileMatrix})){i.push(t.Identifier),e=28e-5*t.ScaleDenominator/c;var n=t.TileWidth,p=t.TileHeight;u?r.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):r.push(t.TopLeftCorner),o.push(e),a.push(n==p?n:[n,p]),s.push([t.MatrixWidth,-t.MatrixHeight])}}),new PE({extent:e,origins:r,resolutions:o,matrixIds:i,tileSizes:a,sizes:s})}function IE(t){this.La=void 0!==t.version?t.version:"1.0.0",this.B=void 0!==t.format?t.format:"image/jpeg",this.i=void 0!==t.dimensions?t.dimensions:{},this.$=t.layer,this.o=t.matrixSet,this.ca=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=dw(t.url));var n=this.ua=void 0!==t.requestEncoding?t.requestEncoding:"KVP",o=t.tileGrid,i={layer:this.$,style:this.ca,tilematrixset:this.o};"KVP"==n&&it(i,{Service:"WMTS",Request:"GetTile",Version:this.La,Format:this.B});var r=this.i;this.l=function(t){return t="KVP"==n?Yw(t,i):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t}),function(e){if(e){var i={TileMatrix:o.s[e[0]],TileCol:e[1],TileRow:-e[2]-1};return it(i,r),e=t,"KVP"==n?Yw(e,i):e.replace(/\{(\w+?)\}/g,function(t,e){return i[e]})}}};var a=e&&0<e.length?pw(e.map(this.l)):hw;Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:a,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),Cw(this,OE(this))}function OE(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function NE(t){var e=(t=t||{}).size,n=e[0],o=e[1];e=t.extent||[0,-e[1],e[0],0];var i=[],r=t.tileSize||256,a=r;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:RE){case RE:for(;n>a||o>a;)i.push([Math.ceil(n/a),Math.ceil(o/a)]),a+=a;break;case jE:for(;n>a||o>a;)i.push([Math.ceil(n/a),Math.ceil(o/a)]),n>>=1,o>>=1;break;default:f(!1,53)}i.push([1,1]),i.reverse(),o=[1];var s=[0];for(a=1,n=i.length;a<n;a++)o.push(1<<a),s.push(i[a-1][0]*i[a-1][1]+s[a-1]);o.reverse();var l=new ee({tileSize:r,extent:e,origin:Z(e),resolutions:o});(e=t.url)&&-1==e.indexOf("{TileGroup}")&&-1==e.indexOf("{tileIndex}")&&(e+="{TileGroup}/{z}-{x}-{y}.jpg"),e=pw((e=dw(e)).map(function(t){return function(e){if(e){var n=e[0],o=e[1],r=o+(e=-e[2]-1)*i[n][0],a={z:n,x:o,y:e,tileIndex:r,TileGroup:"TileGroup"+((r+s[n])/l.Za(n)|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return a[e]})}}})),Tw.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:LE.bind(null,l),tileGrid:l,tileUrlFunction:e,transition:t.transition})}function LE(t,e,n,o,i,r,a){Pl.call(this,e,n,o,i,r,a),this.a=null,this.o=_(t.Za(e[0]))}a(fE,Tw),fE.prototype.o=function(){return this.i},fE.prototype.Xc=function(t){return t},fE.prototype.dc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.eb(n)),!(o.b.length<=t[0])){var i=o.Ma(t,this.l),r=_(o.Za(t[0]),this.j);1!=e&&(r=C(r,e,this.j)),it(o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var a=this.urls;return a?(n=n.wb.split(":").pop(),o.SIZE=r[0]+","+r[1],o.BBOX=i.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=Math.round(o.DPI?o.DPI*e:90*e),t=Yw(t=(1==a.length?a[0]:a[w((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),o)):t=void 0,t}},fE.prototype.B=function(t){it(this.i,t),Cw(this,mE(this))},a(gE,Mw),gE.prototype.ad=function(t,e,n){var o=t+"/"+e+"/"+n;if(this.a.a.hasOwnProperty(o))return this.a.get(o);var i=_(this.tileGrid.Za(t));return i=new yE(t=[t,e,n],i,e=(e=_w(this,t))?_w(this,e).toString():""),this.a.set(o,i),i},a(yE,xl),yE.prototype.Y=function(){if(this.a)return this.a;var t=this.c,e=wi(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.ta,t[0]/2,t[1]/2),this.a=e.canvas},yE.prototype.load=function(){},a(vE,Tw),(t=vE.prototype).bp=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ef()}this.Cg(e)}else this.ef()},t.ap=function(){this.ef()},t.Sl=function(){return this.i},t.Cg=function(t){var e=Rt("EPSG:4326"),n=this.c;if(void 0!==t.bounds){var o=Ut(e,n);o=ot(t.bounds,o)}var i=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=n=ce({extent:he(n),maxZoom:r,minZoom:i}),this.tileUrlFunction=uw(t.tiles,n),void 0!==t.attribution&&!this.C){var a=void 0!==o?o:e.G();this.va(function(e){return tt(a,e.extent)?[t.attribution]:null})}this.i=t,Gv(this,"ready")},t.ef=function(){Gv(this,"error")},a(bE,Mw),(t=bE.prototype).gp=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ff()}this.Dg(e)}else this.ff()},t.fp=function(){this.ff()},t.Pl=function(){return this.f},t.al=function(t,e,n,o,i){this.tileGrid?(e=this.tileGrid.Le(t,e),function(t,e,n,o,i){0==t.state&&!0===i?(be(t,"change",function(){n.call(o,this.getData(e))},t),EE(t)):!0===i?setTimeout(function(){n.call(o,this.getData(e))}.bind(t),0):n.call(o,t.getData(e))}(this.ad(e[0],e[1],e[2],1,this.c),t,n,o,i)):!0===i?setTimeout(function(){n.call(o,null)},0):n.call(o,null)},t.ff=function(){Gv(this,"error")},t.Dg=function(t){var e=Rt("EPSG:4326"),n=this.c;if(void 0!==t.bounds){var o=Ut(e,n);o=ot(t.bounds,o)}var i=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=n=ce({extent:he(n),maxZoom:r,minZoom:i}),this.f=t.template,i=t.grids){if(this.l=uw(i,n),void 0!==t.attribution){var a=void 0!==o?o:e.G();this.va(function(e){return tt(a,e.extent)?[t.attribution]:null})}Gv(this,"ready")}else Gv(this,"error")},t.ad=function(t,e,n,o,i){var r=t+"/"+e+"/"+n;return this.a.a.hasOwnProperty(r)?this.a.get(r):(e=_w(this,t=[t,e,n],i),o=new wE(t,void 0!==(o=this.l(e,o,i))?0:4,void 0!==o?o:"",this.tileGrid.Ma(t),this.s,this.i),this.a.set(r,o),o)},t.kh=function(t,e,n){t=t+"/"+e+"/"+n,this.a.a.hasOwnProperty(t)&&this.a.get(t)},a(wE,xl),(t=wE.prototype).Y=function(){return null},t.getData=function(t){if(!this.f||!this.l)return null;var e=this.f[Math.floor((1-(t[1]-this.a[1])/(this.a[3]-this.a[1]))*this.f.length)];return"string"!=typeof e?null:(93<=(e=e.charCodeAt(Math.floor((t[0]-this.a[0])/(this.a[2]-this.a[0])*e.length)))&&e--,35<=e&&e--,t=null,(e-=32)in this.l&&(e=this.l[e],t=this.c&&e in this.c?this.c[e]:e),t)},t.lb=function(){return this.v},t.Ne=function(){this.state=3,this.u()},t.bj=function(t){this.f=t.grid,this.l=t.keys,this.c=t.data,this.state=4,this.u()},t.ep=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.Ne()}this.bj(e)}else this.Ne()},t.cp=function(){this.Ne()},t.load=function(){this.N&&EE(this)},a(ME,Tw),(t=ME.prototype).hp=function(t,e,n,o){n=Rt(n);var i=this.c,r=this.tileGrid;if(r||(r=this.eb(n)),e=r.Le(t,e),!(r.b.length<=e[0])){var a=r.Ta(e[0]),s=r.Ma(e,this.ca);r=_(r.Za(e[0]),this.j);var l=this.o;return 0!==l&&(r=M(r,l,this.j),s=S(s,a*l,s)),i&&i!==n&&(a=gw(i,n,t,a),s=qt(s,n,i),t=Bt(t,n,i)),l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},it(l,this.i,o),o=Math.floor((s[3]-t[1])/a),l[this.l?"I":"X"]=Math.floor((t[0]-s[0])/a),l[this.l?"J":"Y"]=o,$E(this,e,r,s,1,i||n,l)}},t.$f=function(){return this.o},t.ip=function(){return this.i},t.Xc=function(t){return this.$&&void 0!==this.B?t:1},t.dc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.eb(n)),!(o.b.length<=t[0])){1==e||this.$&&void 0!==this.B||(e=1);var i=o.Ta(t[0]),r=o.Ma(t,this.ca);o=_(o.Za(t[0]),this.j);var a=this.o;return 0!==a&&(o=M(o,a,this.j),r=S(r,i*a,r)),1!=e&&(o=C(o,e,this.j)),it(i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),$E(this,t,o,r,e,n,i)}},t.jp=function(t){it(this.i,t),_E(this),Cw(this,CE(this))},a(xE,xl),(t=xE.prototype).ia=function(){for(var t=0,e=this.a.length;t<e;++t){var n=this.a[t],o=this.c[n];o.c--,0==o.c&&(delete this.c[n],Ce(o))}this.a.length=0,this.c=null,this.f.forEach(Ee),this.f.length=0,this.g&&Ce(this.g),this.state=5,this.u(),this.N.forEach(Ee),this.N.length=0,xl.prototype.ia.call(this)},t.Y=function(t){return-1==TE(this,t).fh?null:SE(this,t).canvas},t.lb=function(){return this.a.join("/")+"-"+this.D},t.load=function(){var t=0,e={};0==this.state&&kl(this,1),1==this.state&&this.a.forEach(function(n){var o=this.c[n];0==o.state&&(o.ug(this.C),o.load()),1==o.state&&(n=ve(o,"change",function(){var n=o.getState();if(2==n||3==n){var i=l(o);3==n?e[i]=!0:(--t,delete e[i]),0==t-Object.keys(e).length&&this.Kh()}}.bind(this)),this.f.push(n),++t)}.bind(this)),0==t-Object.keys(e).length&&setTimeout(this.Kh.bind(this),0)},t.Kh=function(){for(var t=this.a.length,e=0,n=t-1;0<=n;--n){var o=this.c[this.a[n]].getState();2!=o&&--t,4==o&&++e}t==this.a.length?(this.f.forEach(Ee),this.f.length=0,kl(this,2)):kl(this,e==this.a.length?4:3)},a(AE,Sw),(t=AE.prototype).clear=function(){this.a.clear(),this.i={}},t.ad=function(t,e,n,o,i){var r=t+"/"+e+"/"+n;return this.a.a.hasOwnProperty(r)?this.a.get(r):(o=new xE(t=[t,e,n],null!==(e=_w(this,t,i))?0:4,this.g,this.l,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.eb(i),this.i,o,i,this.tileClass,this.dj.bind(this),this.Ea),this.a.set(r,o),o)},t.eb=function(t){var e=t.wb,n=this.f[e];return n||(n=this.tileGrid,n=this.f[e]=pe(t,void 0,n?n.Za(n.minZoom):void 0)),n},t.Xc=function(t){return t},t.Zd=function(t,e,n){return t=_(this.eb(n).Za(t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},a(PE,ee),PE.prototype.v=function(){return this.s},a(IE,Tw),(t=IE.prototype).vb=function(t){this.urls=t;var e=t.join("\n");this.hb(this.dc?this.dc.bind(this):pw(t.map(this.l.bind(this))),e)},t.ol=function(){return this.i},t.kp=function(){return this.B},t.lp=function(){return this.$},t.Al=function(){return this.o},t.Nl=function(){return this.ua},t.mp=function(){return this.ca},t.Ul=function(){return this.La},t.Tq=function(t){it(this.i,t),Cw(this,OE(this))},a(NE,Tw),a(LE,Pl),LE.prototype.Y=function(){if(this.a)return this.a;var t=Pl.prototype.Y.call(this);if(2==this.state){var e=this.o;return t.width==e[0]&&t.height==e[1]?this.a=t:((e=wi(e[0],e[1])).drawImage(t,0,0),this.a=e.canvas)}return t};var RE="default",jE="truncated";return u.prototype.code=u.prototype.code,r("ol.Attribution",de),de.prototype.getHTML=de.prototype.b,r("ol.CanvasMap",Gs),r("ol.Collection",Ne),Ne.prototype.clear=Ne.prototype.clear,Ne.prototype.extend=Ne.prototype.qg,Ne.prototype.forEach=Ne.prototype.forEach,Ne.prototype.getArray=Ne.prototype.Xm,Ne.prototype.item=Ne.prototype.item,Ne.prototype.getLength=Ne.prototype.kc,Ne.prototype.insertAt=Ne.prototype.Re,Ne.prototype.pop=Ne.prototype.pop,Ne.prototype.push=Ne.prototype.push,Ne.prototype.remove=Ne.prototype.remove,Ne.prototype.removeAt=Ne.prototype.Wg,Ne.prototype.setAt=Ne.prototype.rq,Fe.prototype.element=Fe.prototype.element,r("ol.color.asArray",ba),r("ol.color.asString",wa),r("ol.colorlike.asColorLike",$a),r("ol.control.defaults",Wi),r("ol.coordinate.add",Xn),r("ol.coordinate.createStringXY",function(t){return function(e){return ao(e,t)}}),r("ol.coordinate.format",Qn),r("ol.coordinate.rotate",eo),r("ol.coordinate.toStringHDMS",function(t,e){return t?Jn("NS",t[1],e)+" "+Jn("EW",t[0],e):""}),r("ol.coordinate.toStringXY",ao),r("ol.DeviceOrientation",Ys),Ys.prototype.getAlpha=Ys.prototype.Ym,Ys.prototype.getBeta=Ys.prototype.ll,Ys.prototype.getGamma=Ys.prototype.ql,Ys.prototype.getHeading=Ys.prototype.Zm,Ys.prototype.getTracking=Ys.prototype.li,Ys.prototype.setTracking=Ys.prototype.rg,r("ol.easing.easeIn",so),r("ol.easing.easeOut",lo),r("ol.easing.inAndOut",co),r("ol.easing.linear",uo),r("ol.easing.upAndDown",function(t){return.5>t?co(2*t):1-co(2*(t-.5))}),r("ol.extent.boundingExtent",x),r("ol.extent.buffer",S),r("ol.extent.containsCoordinate",A),r("ol.extent.containsExtent",P),r("ol.extent.containsXY",D),r("ol.extent.createEmpty",O),r("ol.extent.equals",F),r("ol.extent.extend",U),r("ol.extent.getArea",q),r("ol.extent.getBottomLeft",W),r("ol.extent.getBottomRight",z),r("ol.extent.getCenter",G),r("ol.extent.getHeight",K),r("ol.extent.getIntersection",X),r("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),r("ol.extent.getTopLeft",Z),r("ol.extent.getTopRight",J),r("ol.extent.getWidth",Q),r("ol.extent.intersects",tt),r("ol.extent.isEmpty",et),r("ol.extent.applyTransform",ot),r("ol.Feature",dl),dl.prototype.clone=dl.prototype.clone,dl.prototype.getGeometry=dl.prototype.U,dl.prototype.getId=dl.prototype.an,dl.prototype.getGeometryName=dl.prototype.sl,dl.prototype.getStyle=dl.prototype.bn,dl.prototype.getStyleFunction=dl.prototype.ib,dl.prototype.setGeometry=dl.prototype.Va,dl.prototype.setStyle=dl.prototype.sg,dl.prototype.setId=dl.prototype.qc,dl.prototype.setGeometryName=dl.prototype.Lc,r("ol.featureloader.xhr",Bp),r("ol.Geolocation",fl),fl.prototype.getAccuracy=fl.prototype.el,fl.prototype.getAccuracyGeometry=fl.prototype.fl,fl.prototype.getAltitude=fl.prototype.gl,fl.prototype.getAltitudeAccuracy=fl.prototype.hl,fl.prototype.getHeading=fl.prototype.cn,fl.prototype.getPosition=fl.prototype.dn,fl.prototype.getProjection=fl.prototype.mi,fl.prototype.getSpeed=fl.prototype.Ol,fl.prototype.getTracking=fl.prototype.ni,fl.prototype.getTrackingOptions=fl.prototype.ai,fl.prototype.setProjection=fl.prototype.oi,fl.prototype.setTracking=fl.prototype.Ue,fl.prototype.setTrackingOptions=fl.prototype.Rj,r("ol.Graticule",wl),wl.prototype.getMap=wl.prototype.gn,wl.prototype.getMeridians=wl.prototype.Cl,wl.prototype.getParallels=wl.prototype.Jl,wl.prototype.setMap=wl.prototype.setMap,r("ol.has.DEVICE_PIXEL_RATIO",Ze),r("ol.has.CANVAS",Qe),r("ol.has.DEVICE_ORIENTATION",tn),r("ol.has.GEOLOCATION",en),r("ol.has.TOUCH",nn),r("ol.has.WEBGL",qe),_l.prototype.getImage=_l.prototype.Y,_l.prototype.load=_l.prototype.load,Pl.prototype.getImage=Pl.prototype.Y,r("ol.inherits",a),r("ol.interaction.defaults",Xr),r("ol.Kinetic",zi),r("ol.loadingstrategy.all",qv),r("ol.loadingstrategy.bbox",function(t){return[t]}),r("ol.loadingstrategy.tile",function(t){return function(e,n){n=t.Dc(n),e=re(t,e,n);var o=[];for((n=[n,0,0])[1]=e.fa;n[1]<=e.la;++n[1])for(n[2]=e.ea;n[2]<=e.ka;++n[2])o.push(t.Ma(n));return o}}),r("ol.Map",Lu),He.prototype.originalEvent=He.prototype.originalEvent,He.prototype.pixel=He.prototype.pixel,He.prototype.coordinate=He.prototype.coordinate,He.prototype.dragging=He.prototype.dragging,Ue.prototype.map=Ue.prototype.map,Ue.prototype.frameState=Ue.prototype.frameState,r("ol.Object",Ae),Ae.prototype.get=Ae.prototype.get,Ae.prototype.getKeys=Ae.prototype.P,Ae.prototype.getProperties=Ae.prototype.L,Ae.prototype.set=Ae.prototype.set,Ae.prototype.setProperties=Ae.prototype.H,Ae.prototype.unset=Ae.prototype.R,Oe.prototype.key=Oe.prototype.key,Oe.prototype.oldValue=Oe.prototype.oldValue,r("ol.Observable",ke),r("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Ee(t[e]);else Ee(t)}),ke.prototype.changed=ke.prototype.u,ke.prototype.dispatchEvent=ke.prototype.b,ke.prototype.getRevision=ke.prototype.K,ke.prototype.on=ke.prototype.I,ke.prototype.once=ke.prototype.once,ke.prototype.un=ke.prototype.J,r("ol.Overlay",Ru),Ru.prototype.getElement=Ru.prototype.Rd,Ru.prototype.getId=Ru.prototype.nn,Ru.prototype.getMap=Ru.prototype.Ve,Ru.prototype.getOffset=Ru.prototype.Xh,Ru.prototype.getPosition=Ru.prototype.pi,Ru.prototype.getPositioning=Ru.prototype.Yh,Ru.prototype.setElement=Ru.prototype.Hj,Ru.prototype.setMap=Ru.prototype.setMap,Ru.prototype.setOffset=Ru.prototype.Mj,Ru.prototype.setPosition=Ru.prototype.We,Ru.prototype.setPositioning=Ru.prototype.Pj,r("ol.PluggableMap",Pi),Pi.prototype.addControl=Pi.prototype.Mf,Pi.prototype.addInteraction=Pi.prototype.Nf,Pi.prototype.addLayer=Pi.prototype.xe,Pi.prototype.addOverlay=Pi.prototype.ye,Pi.prototype.forEachFeatureAtPixel=Pi.prototype.Tc,Pi.prototype.getFeaturesAtPixel=Pi.prototype.Xf,Pi.prototype.forEachLayerAtPixel=Pi.prototype.tg,Pi.prototype.hasFeatureAtPixel=Pi.prototype.ng,Pi.prototype.getEventCoordinate=Pi.prototype.Sd,Pi.prototype.getEventPixel=Pi.prototype.ud,Pi.prototype.getTarget=Pi.prototype.Xd,Pi.prototype.getTargetElement=Pi.prototype.Cc,Pi.prototype.getCoordinateFromPixel=Pi.prototype.Ra,Pi.prototype.getControls=Pi.prototype.Wf,Pi.prototype.getOverlays=Pi.prototype.gg,Pi.prototype.getOverlayById=Pi.prototype.fg,Pi.prototype.getInteractions=Pi.prototype.bg,Pi.prototype.getLayerGroup=Pi.prototype.hc,Pi.prototype.getLayers=Pi.prototype.Xe,Pi.prototype.getPixelFromCoordinate=Pi.prototype.Ia,Pi.prototype.getSize=Pi.prototype.Cb,Pi.prototype.getView=Pi.prototype.aa,Pi.prototype.getViewport=Pi.prototype.kg,Pi.prototype.renderSync=Pi.prototype.dh,Pi.prototype.render=Pi.prototype.render,Pi.prototype.removeControl=Pi.prototype.Xg,Pi.prototype.removeInteraction=Pi.prototype.Zg,Pi.prototype.removeLayer=Pi.prototype.$g,Pi.prototype.removeOverlay=Pi.prototype.ah,Pi.prototype.setLayerGroup=Pi.prototype.zf,Pi.prototype.setSize=Pi.prototype.be,Pi.prototype.setTarget=Pi.prototype.Ad,Pi.prototype.setView=Pi.prototype.jh,Pi.prototype.updateSize=Pi.prototype.Oc,r("ol.proj.METERS_PER_UNIT",ht),r("ol.proj.setProj4",function(t){dt=t}),r("ol.proj.getPointResolution",Pt),r("ol.proj.addEquivalentProjections",Dt),r("ol.proj.addProjection",It),r("ol.proj.addCoordinateTransforms",Nt),r("ol.proj.fromLonLat",function(t,e){return Bt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),r("ol.proj.toLonLat",function(t,e){return(-180>(e=(t=Bt(t,void 0!==e?e:"EPSG:3857","EPSG:4326"))[0])||180<e)&&(t[0]=w(e+180,360)-180),t}),r("ol.proj.get",Rt),r("ol.proj.equivalent",jt),r("ol.proj.getTransform",Ft),r("ol.proj.transform",Bt),r("ol.proj.transformExtent",qt),r("ol.render.toContext",function(t,e){var n=t.canvas,o=e||{};return e=o.pixelRatio||Ze,(o=o.size)&&(n.width=o[0]*e,n.height=o[1]*e,n.style.width=o[0]+"px",n.style.height=o[1]+"px"),new _a(t,e,n=[0,0,n.width,n.height],o=$o([1,0,0,1,0,0],e,e),0)}),r("ol.size.toSize",_),r("ol.Sphere",lt),lt.prototype.geodesicArea=lt.prototype.a,lt.prototype.haversineDistance=lt.prototype.b,r("ol.Sphere.getLength",function t(e,n){var o=n||{},i=o.radius||6371008.8;o=o.projection||"EPSG:3857";var r,a=(e=e.clone().mb(o,"EPSG:4326")).S();switch(o=0,a){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":o=ct(n=e.W(),i);break;case"MultiLineString":case"Polygon":for(n=e.W(),e=0,a=n.length;e<a;++e)o+=ct(n[e],i);break;case"MultiPolygon":for(n=e.W(),e=0,a=n.length;e<a;++e){var s=n[e],l=0;for(r=s.length;l<r;++l)o+=ct(s[l],i)}break;case"GeometryCollection":for(i=e.vd(),e=0,a=i.length;e<a;++e)o+=t(i[e],n);break;default:throw Error("Unsupported geometry type: "+a)}return o}),r("ol.Sphere.getArea",function t(e,n){var o=n||{},i=o.radius||6371008.8;o=o.projection||"EPSG:3857";var r,a=(e=e.clone().mb(o,"EPSG:4326")).S();switch(o=0,a){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(n=e.W(),o=Math.abs(pt(n[0],i)),e=1,a=n.length;e<a;++e)o-=Math.abs(pt(n[e],i));break;case"MultiPolygon":for(n=e.W(),e=0,a=n.length;e<a;++e){var s=n[e];o+=Math.abs(pt(s[0],i));var l=1;for(r=s.length;l<r;++l)o-=Math.abs(pt(s[l],i))}break;case"GeometryCollection":for(i=e.vd(),e=0,a=i.length;e<a;++e)o+=t(i[e],n);break;default:throw Error("Unsupported geometry type: "+a)}return o}),r("ol.style.iconImageCache",Ga),xl.prototype.getTileCoord=xl.prototype.i,xl.prototype.load=xl.prototype.load,r("ol.tilegrid.createXYZ",ce),zu.prototype.getExtent=zu.prototype.G,zu.prototype.getFormat=zu.prototype.qn,zu.prototype.getFeatures=zu.prototype.pn,zu.prototype.getProjection=zu.prototype.rn,zu.prototype.setExtent=zu.prototype.ri,zu.prototype.setFeatures=zu.prototype.Ij,zu.prototype.setProjection=zu.prototype.vg,zu.prototype.setLoader=zu.prototype.ug,r("ol.View",hi),hi.prototype.animate=hi.prototype.animate,hi.prototype.getAnimating=hi.prototype.Ac,hi.prototype.getInteracting=hi.prototype.Vh,hi.prototype.cancelAnimations=hi.prototype.rd,hi.prototype.constrainCenter=hi.prototype.Sc,hi.prototype.constrainResolution=hi.prototype.constrainResolution,hi.prototype.constrainRotation=hi.prototype.constrainRotation,hi.prototype.getCenter=hi.prototype.xa,hi.prototype.calculateExtent=hi.prototype.qd,hi.prototype.getMaxResolution=hi.prototype.sn,hi.prototype.getMinResolution=hi.prototype.vn,hi.prototype.getMaxZoom=hi.prototype.tn,hi.prototype.setMaxZoom=hi.prototype.Cq,hi.prototype.getMinZoom=hi.prototype.wn,hi.prototype.setMinZoom=hi.prototype.Dq,hi.prototype.getProjection=hi.prototype.xn,hi.prototype.getResolution=hi.prototype.Pa,hi.prototype.getResolutions=hi.prototype.yn,hi.prototype.getResolutionForExtent=hi.prototype.Je,hi.prototype.getRotation=hi.prototype.Sa,hi.prototype.getZoom=hi.prototype.lg,hi.prototype.getZoomForResolution=hi.prototype.Me,hi.prototype.getResolutionForZoom=hi.prototype.$h,hi.prototype.fit=hi.prototype.Uf,hi.prototype.centerOn=hi.prototype.Nk,hi.prototype.rotate=hi.prototype.rotate,hi.prototype.setCenter=hi.prototype.ub,hi.prototype.setResolution=hi.prototype.gd,hi.prototype.setRotation=hi.prototype.ce,hi.prototype.setZoom=hi.prototype.Tj,r("ol.xml.getAllTextContent",$p),r("ol.xml.parse",xp),Ql.prototype.getGL=Ql.prototype.yp,Ql.prototype.useProgram=Ql.prototype.cd,r("ol.tilegrid.TileGrid",ee),ee.prototype.forEachTileCoord=ee.prototype.Vf,ee.prototype.getMaxZoom=ee.prototype.mj,ee.prototype.getMinZoom=ee.prototype.nj,ee.prototype.getOrigin=ee.prototype.Ic,ee.prototype.getResolution=ee.prototype.Ta,ee.prototype.getResolutions=ee.prototype.oj,ee.prototype.getTileCoordExtent=ee.prototype.Ma,ee.prototype.getTileCoordForCoordAndResolution=ee.prototype.Le,ee.prototype.getTileCoordForCoordAndZ=ee.prototype.jg,ee.prototype.getTileSize=ee.prototype.Za,ee.prototype.getZForResolution=ee.prototype.Dc,r("ol.tilegrid.WMTS",PE),PE.prototype.getMatrixIds=PE.prototype.v,r("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",DE),r("ol.style.AtlasManager",uu),r("ol.style.Circle",il),il.prototype.setRadius=il.prototype.fd,r("ol.style.Fill",rl),rl.prototype.clone=rl.prototype.clone,rl.prototype.getColor=rl.prototype.g,rl.prototype.setColor=rl.prototype.c,r("ol.style.Icon",lf),lf.prototype.clone=lf.prototype.clone,lf.prototype.getAnchor=lf.prototype.Vc,lf.prototype.getColor=lf.prototype.np,lf.prototype.getImage=lf.prototype.Y,lf.prototype.getOrigin=lf.prototype.bd,lf.prototype.getSrc=lf.prototype.op,lf.prototype.getSize=lf.prototype.oc,lf.prototype.load=lf.prototype.load,Wa.prototype.setSize=Wa.prototype.c,r("ol.style.Image",tl),tl.prototype.getOpacity=tl.prototype.hf,tl.prototype.getRotateWithView=tl.prototype.jf,tl.prototype.getRotation=tl.prototype.kf,tl.prototype.getScale=tl.prototype.lf,tl.prototype.getSnapToPixel=tl.prototype.Ke,tl.prototype.setOpacity=tl.prototype.Ed,tl.prototype.setRotation=tl.prototype.mf,tl.prototype.setScale=tl.prototype.Fd,r("ol.style.RegularShape",el),el.prototype.clone=el.prototype.clone,el.prototype.getAnchor=el.prototype.Vc,el.prototype.getAngle=el.prototype.ij,el.prototype.getFill=el.prototype.Fa,el.prototype.getImage=el.prototype.Y,el.prototype.getOrigin=el.prototype.bd,el.prototype.getPoints=el.prototype.jj,el.prototype.getRadius=el.prototype.kj,el.prototype.getRadius2=el.prototype.Zh,el.prototype.getSize=el.prototype.oc,el.prototype.getStroke=el.prototype.Ga,r("ol.style.Stroke",al),al.prototype.clone=al.prototype.clone,al.prototype.getColor=al.prototype.pp,al.prototype.getLineCap=al.prototype.vl,al.prototype.getLineDash=al.prototype.qp,al.prototype.getLineDashOffset=al.prototype.wl,al.prototype.getLineJoin=al.prototype.xl,al.prototype.getMiterLimit=al.prototype.Dl,al.prototype.getWidth=al.prototype.rp,al.prototype.setColor=al.prototype.sp,al.prototype.setLineCap=al.prototype.yq,al.prototype.setLineDash=al.prototype.setLineDash,al.prototype.setLineDashOffset=al.prototype.zq,al.prototype.setLineJoin=al.prototype.Aq,al.prototype.setMiterLimit=al.prototype.Eq,al.prototype.setWidth=al.prototype.Kq,r("ol.style.Style",sl),sl.prototype.clone=sl.prototype.clone,sl.prototype.getRenderer=sl.prototype.Ie,sl.prototype.setRenderer=sl.prototype.Iq,sl.prototype.getGeometry=sl.prototype.U,sl.prototype.getGeometryFunction=sl.prototype.rl,sl.prototype.getFill=sl.prototype.Fa,sl.prototype.setFill=sl.prototype.yf,sl.prototype.getImage=sl.prototype.Y,sl.prototype.setImage=sl.prototype.ih,sl.prototype.getStroke=sl.prototype.Ga,sl.prototype.setStroke=sl.prototype.Af,sl.prototype.getText=sl.prototype.Ka,sl.prototype.setText=sl.prototype.Hd,sl.prototype.getZIndex=sl.prototype.Ba,sl.prototype.setGeometry=sl.prototype.Va,sl.prototype.setZIndex=sl.prototype.$b,r("ol.style.Text",bl),bl.prototype.clone=bl.prototype.clone,bl.prototype.getOverflow=bl.prototype.Gl,bl.prototype.getFont=bl.prototype.pl,bl.prototype.getMaxAngle=bl.prototype.Bl,bl.prototype.getPlacement=bl.prototype.Kl,bl.prototype.getOffsetX=bl.prototype.El,bl.prototype.getOffsetY=bl.prototype.Fl,bl.prototype.getFill=bl.prototype.Fa,bl.prototype.getRotateWithView=bl.prototype.tp,bl.prototype.getRotation=bl.prototype.up,bl.prototype.getScale=bl.prototype.vp,bl.prototype.getStroke=bl.prototype.Ga,bl.prototype.getText=bl.prototype.Ka,bl.prototype.getTextAlign=bl.prototype.Ql,bl.prototype.getTextBaseline=bl.prototype.Rl,bl.prototype.getBackgroundFill=bl.prototype.jl,bl.prototype.getBackgroundStroke=bl.prototype.kl,bl.prototype.getPadding=bl.prototype.Il,bl.prototype.setOverflow=bl.prototype.Fq,bl.prototype.setFont=bl.prototype.Jj,bl.prototype.setMaxAngle=bl.prototype.Bq,bl.prototype.setOffsetX=bl.prototype.Nj,bl.prototype.setOffsetY=bl.prototype.Oj,bl.prototype.setPlacement=bl.prototype.Hq,bl.prototype.setFill=bl.prototype.yf,bl.prototype.setRotation=bl.prototype.wp,bl.prototype.setScale=bl.prototype.lj,bl.prototype.setStroke=bl.prototype.Af,bl.prototype.setText=bl.prototype.Hd,bl.prototype.setTextAlign=bl.prototype.Qj,bl.prototype.setTextBaseline=bl.prototype.Jq,bl.prototype.setBackgroundFill=bl.prototype.sq,bl.prototype.setBackgroundStroke=bl.prototype.tq,bl.prototype.setPadding=bl.prototype.Gq,r("ol.source.BingMaps",Dw),r("ol.source.BingMaps.TOS_ATTRIBUTION",'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),Dw.prototype.getApiKey=Dw.prototype.ca,Dw.prototype.getImagerySet=Dw.prototype.ua,r("ol.source.CartoDB",Ow),Ow.prototype.getConfig=Ow.prototype.nl,Ow.prototype.updateConfig=Ow.prototype.Sq,Ow.prototype.setConfig=Ow.prototype.uq,r("ol.source.Cluster",Rw),Rw.prototype.getDistance=Rw.prototype.Eo,Rw.prototype.getSource=Rw.prototype.Fo,Rw.prototype.setDistance=Rw.prototype.vq,r("ol.source.Image",Hw),qw.prototype.image=qw.prototype.image,r("ol.source.ImageArcGISRest",Kw),Kw.prototype.getParams=Kw.prototype.Ho,Kw.prototype.getImageLoadFunction=Kw.prototype.Go,Kw.prototype.getUrl=Kw.prototype.Io,Kw.prototype.setImageLoadFunction=Kw.prototype.Jo,Kw.prototype.setUrl=Kw.prototype.Ko,Kw.prototype.updateParams=Kw.prototype.Lo,r("ol.source.ImageCanvas",Xw),r("ol.source.ImageMapGuide",Zw),Zw.prototype.getParams=Zw.prototype.No,Zw.prototype.getImageLoadFunction=Zw.prototype.Mo,Zw.prototype.updateParams=Zw.prototype.Po,Zw.prototype.setImageLoadFunction=Zw.prototype.Oo,r("ol.source.ImageStatic",Jw),r("ol.source.ImageVector",Qw),Qw.prototype.getSource=Qw.prototype.Qo,Qw.prototype.getStyle=Qw.prototype.Ro,Qw.prototype.getStyleFunction=Qw.prototype.ib,Qw.prototype.setStyle=Qw.prototype.aj,r("ol.source.ImageWMS",tE),tE.prototype.getGetFeatureInfoUrl=tE.prototype.Uo,tE.prototype.getParams=tE.prototype.Wo,tE.prototype.getImageLoadFunction=tE.prototype.Vo,tE.prototype.getUrl=tE.prototype.Xo,tE.prototype.setImageLoadFunction=tE.prototype.Yo,tE.prototype.setUrl=tE.prototype.Zo,tE.prototype.updateParams=tE.prototype.$o,r("ol.source.OSM",iE),r("ol.source.OSM.ATTRIBUTION",'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'),r("ol.source.Raster",rE),rE.prototype.setOperation=rE.prototype.s,sE.prototype.extent=sE.prototype.extent,sE.prototype.resolution=sE.prototype.resolution,sE.prototype.data=sE.prototype.data,r("ol.source.Source",Wv),Wv.prototype.getAttributions=Wv.prototype.za,Wv.prototype.getLogo=Wv.prototype.Aa,Wv.prototype.getProjection=Wv.prototype.Da,Wv.prototype.getState=Wv.prototype.getState,Wv.prototype.refresh=Wv.prototype.sa,Wv.prototype.setAttributions=Wv.prototype.va,r("ol.source.Stamen",uE),r("ol.source.Tile",Mw),Mw.prototype.getTileGrid=Mw.prototype.jb,xw.prototype.tile=xw.prototype.tile,r("ol.source.TileArcGISRest",fE),fE.prototype.getParams=fE.prototype.o,fE.prototype.updateParams=fE.prototype.B,r("ol.source.TileDebug",gE),r("ol.source.TileImage",Tw),Tw.prototype.setRenderReprojectionEdges=Tw.prototype.Qb,Tw.prototype.setTileGridForProjection=Tw.prototype.Rb,r("ol.source.TileJSON",vE),vE.prototype.getTileJSON=vE.prototype.Sl,r("ol.source.TileUTFGrid",bE),bE.prototype.getTemplate=bE.prototype.Pl,bE.prototype.forDataAtCoordinateAndResolution=bE.prototype.al,r("ol.source.TileWMS",ME),ME.prototype.getGetFeatureInfoUrl=ME.prototype.hp,ME.prototype.getParams=ME.prototype.ip,ME.prototype.updateParams=ME.prototype.jp,Sw.prototype.getTileLoadFunction=Sw.prototype.yb,Sw.prototype.getTileUrlFunction=Sw.prototype.zb,Sw.prototype.getUrls=Sw.prototype.Ab,Sw.prototype.setTileLoadFunction=Sw.prototype.Fb,Sw.prototype.setTileUrlFunction=Sw.prototype.hb,Sw.prototype.setUrl=Sw.prototype.rb,Sw.prototype.setUrls=Sw.prototype.vb,r("ol.source.Vector",Yv),Yv.prototype.addFeature=Yv.prototype.Gb,Yv.prototype.addFeatures=Yv.prototype.Qc,Yv.prototype.clear=Yv.prototype.clear,Yv.prototype.forEachFeature=Yv.prototype.Lh,Yv.prototype.forEachFeatureInExtent=Yv.prototype.ec,Yv.prototype.forEachFeatureIntersectingExtent=Yv.prototype.Mh,Yv.prototype.getFeaturesCollection=Yv.prototype.Th,Yv.prototype.getFeatures=Yv.prototype.ee,Yv.prototype.getFeaturesAtCoordinate=Yv.prototype.Sh,Yv.prototype.getFeaturesInExtent=Yv.prototype.Yf,Yv.prototype.getClosestFeatureToCoordinate=Yv.prototype.Oh,Yv.prototype.getExtent=Yv.prototype.G,Yv.prototype.getFeatureById=Yv.prototype.Rh,Yv.prototype.getFormat=Yv.prototype.ej,Yv.prototype.getUrl=Yv.prototype.fj,Yv.prototype.removeLoadedExtent=Yv.prototype.Cj,Yv.prototype.removeFeature=Yv.prototype.Lb,Yv.prototype.setLoader=Yv.prototype.hj,Qv.prototype.feature=Qv.prototype.feature,r("ol.source.VectorTile",AE),AE.prototype.clear=AE.prototype.clear,r("ol.source.WMTS",IE),IE.prototype.getDimensions=IE.prototype.ol,IE.prototype.getFormat=IE.prototype.kp,IE.prototype.getLayer=IE.prototype.lp,IE.prototype.getMatrixSet=IE.prototype.Al,IE.prototype.getRequestEncoding=IE.prototype.Nl,IE.prototype.getStyle=IE.prototype.mp,IE.prototype.getVersion=IE.prototype.Ul,IE.prototype.updateDimensions=IE.prototype.Tq,r("ol.source.WMTS.optionsFromCapabilities",function(t,e){var n=Xt(t.Contents.Layer,function(t){return t.Identifier==e.layer});if(null===n)return null;var o=t.Contents.TileMatrixSet,i=1<n.TileMatrixSetLink.length?Qt(n.TileMatrixSetLink,"projection"in e?function(t){var n=Xt(o,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS,i=Rt(n.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Rt(n),r=Rt(e.projection);return i&&r?jt(i,r):n==e.projection}:function(t){return t.TileMatrixSet==e.matrixSet}):0;0>i&&(i=0);var r=n.TileMatrixSetLink[i].TileMatrixSet,a=n.TileMatrixSetLink[i].TileMatrixSetLimits,s=n.Format[0];"format"in e&&(s=e.format),0>(i=Qt(n.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}))&&(i=0),i=n.Style[i].Identifier;var l={};"Dimension"in n&&n.Dimension.forEach(function(t){var e=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),l[e]=n});var c,u=Xt(t.Contents.TileMatrixSet,function(t){return t.Identifier==r}),p=u.SupportedCRS;if(p&&(c=Rt(p.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Rt(p)),"projection"in e&&(!(p=Rt(e.projection))||c&&!jt(p,c)||(c=p)),void 0!==(p=n.WGS84BoundingBox)){var h=Rt("EPSG:4326").G();h=p[0]==h[0]&&p[2]==h[2];var d=qt(p,"EPSG:4326",c);(p=c.G())&&(P(p,d)||(d=void 0))}a=DE(u,d,a);var f=[];if(u=void 0!==(u=e.requestEncoding)?u:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(d=0,p=(t=t.OperationsMetadata.GetTile.DCP.HTTP.Get).length;d<p;++d)if(t[d].Constraint){var m=Xt(t[d].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===u&&(u=m[0]),"KVP"!==u)break;Gt(m,"KVP")&&f.push(t[d].href)}else t[d].href&&(u="KVP",f.push(t[d].href));return 0===f.length&&(u="REST",n.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(s=t.format,f.push(t.template))})),{urls:f,layer:e.layer,matrixSet:r,format:s,projection:c,requestEncoding:u,tileGrid:a,style:i,dimensions:l,wrapX:h,crossOrigin:e.crossOrigin}}),r("ol.source.XYZ",Iw),r("ol.source.Zoomify",NE),r("ol.renderer.webgl.ImageLayer",Su),r("ol.renderer.webgl.Map",Tu),r("ol.renderer.webgl.TileLayer",Ou),r("ol.renderer.webgl.VectorLayer",Nu),r("ol.renderer.canvas.ImageLayer",qa),r("ol.renderer.canvas.Map",es),r("ol.renderer.canvas.TileLayer",os),r("ol.renderer.canvas.VectorLayer",Bs),r("ol.renderer.canvas.VectorTileLayer",qs),Qr.prototype.vectorContext=Qr.prototype.vectorContext,Qr.prototype.frameState=Qr.prototype.frameState,Qr.prototype.context=Qr.prototype.context,Qr.prototype.glContext=Qr.prototype.glContext,Km.prototype.get=Km.prototype.get,Km.prototype.getExtent=Km.prototype.G,Km.prototype.getId=Km.prototype.Ao,Km.prototype.getGeometry=Km.prototype.U,Km.prototype.getProperties=Km.prototype.Bo,Km.prototype.getType=Km.prototype.S,r("ol.render.VectorContext",Ca),Eu.prototype.setStyle=Eu.prototype.Dd,Eu.prototype.drawGeometry=Eu.prototype.Hb,Eu.prototype.drawFeature=Eu.prototype.Ce,_a.prototype.drawCircle=_a.prototype.cc,_a.prototype.setStyle=_a.prototype.Dd,_a.prototype.drawGeometry=_a.prototype.Hb,_a.prototype.drawFeature=_a.prototype.Ce,r("ol.proj.common.add",Wt),r("ol.proj.Projection",ft),ft.prototype.getCode=ft.prototype.ml,ft.prototype.getExtent=ft.prototype.G,ft.prototype.getUnits=ft.prototype.zo,ft.prototype.getMetersPerUnit=ft.prototype.Bc,ft.prototype.getWorldExtent=ft.prototype.Vl,ft.prototype.getAxisOrientation=ft.prototype.il,ft.prototype.isGlobal=ft.prototype.Gm,ft.prototype.setGlobal=ft.prototype.xq,ft.prototype.setExtent=ft.prototype.Si,ft.prototype.setWorldExtent=ft.prototype.Sj,ft.prototype.setGetPointResolution=ft.prototype.wq,r("ol.proj.Units.METERS_PER_UNIT",ht),r("ol.layer.Base",$i),$i.prototype.getExtent=$i.prototype.G,$i.prototype.getMaxResolution=$i.prototype.lc,$i.prototype.getMinResolution=$i.prototype.mc,$i.prototype.getOpacity=$i.prototype.nc,$i.prototype.getVisible=$i.prototype.Jb,$i.prototype.getZIndex=$i.prototype.Ba,$i.prototype.setExtent=$i.prototype.Fc,$i.prototype.setMaxResolution=$i.prototype.Mc,$i.prototype.setMinResolution=$i.prototype.Nc,$i.prototype.setOpacity=$i.prototype.Gc,$i.prototype.setVisible=$i.prototype.Hc,$i.prototype.setZIndex=$i.prototype.$b,r("ol.layer.Group",_i),_i.prototype.getLayers=_i.prototype.Cd,_i.prototype.setLayers=_i.prototype.Qi,r("ol.layer.Heatmap",ew),ew.prototype.getBlur=ew.prototype.Nh,ew.prototype.getGradient=ew.prototype.Uh,ew.prototype.getRadius=ew.prototype.Ri,ew.prototype.setBlur=ew.prototype.Fj,ew.prototype.setGradient=ew.prototype.Lj,ew.prototype.setRadius=ew.prototype.fd,r("ol.layer.Image",aw),aw.prototype.getSource=aw.prototype.ha,r("ol.layer.Layer",Ri),Ri.prototype.getSource=Ri.prototype.ha,Ri.prototype.setMap=Ri.prototype.setMap,Ri.prototype.setSource=Ri.prototype.hd,r("ol.layer.Tile",sw),sw.prototype.getPreload=sw.prototype.c,sw.prototype.getSource=sw.prototype.ha,sw.prototype.setPreload=sw.prototype.j,sw.prototype.getUseInterimTilesOnError=sw.prototype.i,sw.prototype.setUseInterimTilesOnError=sw.prototype.C,r("ol.layer.Vector",Vv),Vv.prototype.getSource=Vv.prototype.ha,Vv.prototype.getStyle=Vv.prototype.B,Vv.prototype.getStyleFunction=Vv.prototype.ib,Vv.prototype.setStyle=Vv.prototype.j,r("ol.layer.VectorTile",lw),lw.prototype.getPreload=lw.prototype.c,lw.prototype.getUseInterimTilesOnError=lw.prototype.i,lw.prototype.setPreload=lw.prototype.T,lw.prototype.setUseInterimTilesOnError=lw.prototype.O,lw.prototype.getSource=lw.prototype.ha,r("ol.interaction.DoubleClickZoom",Ji),r("ol.interaction.DoubleClickZoom.handleEvent",Qi),r("ol.interaction.DragAndDrop",Pv),r("ol.interaction.DragAndDrop.handleEvent",po),Rv.prototype.features=Rv.prototype.features,Rv.prototype.file=Rv.prototype.file,Rv.prototype.projection=Rv.prototype.projection,r("ol.interaction.DragBox",Cr),Cr.prototype.getGeometry=Cr.prototype.U,Dr.prototype.coordinate=Dr.prototype.coordinate,Dr.prototype.mapBrowserEvent=Dr.prototype.mapBrowserEvent,r("ol.interaction.DragPan",dr),r("ol.interaction.DragRotate",yr),r("ol.interaction.DragRotateAndZoom",jv),r("ol.interaction.DragZoom",Ir),r("ol.interaction.Draw",tb),r("ol.interaction.Draw.handleEvent",eb),tb.prototype.removeLastPoint=tb.prototype.nq,tb.prototype.finishDrawing=tb.prototype.Pd,tb.prototype.extend=tb.prototype.Zn,r("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(n,o){var i=n[0];n=n[1];var r=Math.sqrt(oo(i,n));return pi(o=o||ui(new kv(i),t),i,r,e||Math.atan((n[1]-i[1])/(n[0]-i[0]))),o}}),r("ol.interaction.Draw.createBox",function(){return function(t,e){return t=x(t),(e=e||new si(null)).na([[W(t),z(t),J(t),Z(t),W(t)]]),e}}),fb.prototype.feature=fb.prototype.feature,r("ol.interaction.Extent",mb),mb.prototype.getExtent=mb.prototype.G,mb.prototype.setExtent=mb.prototype.f,Cb.prototype.extent=Cb.prototype.extent,r("ol.interaction.Interaction",Yi),Yi.prototype.getActive=Yi.prototype.c,Yi.prototype.getMap=Yi.prototype.i,Yi.prototype.setActive=Yi.prototype.Ha,r("ol.interaction.KeyboardPan",Or),r("ol.interaction.KeyboardPan.handleEvent",Nr),r("ol.interaction.KeyboardZoom",Lr),r("ol.interaction.KeyboardZoom.handleEvent",Rr),r("ol.interaction.Modify",_b),r("ol.interaction.Modify.handleEvent",Ib),_b.prototype.removePoint=_b.prototype.Dj,jb.prototype.features=jb.prototype.features,jb.prototype.mapBrowserEvent=jb.prototype.mapBrowserEvent,r("ol.interaction.MouseWheelZoom",jr),r("ol.interaction.MouseWheelZoom.handleEvent",Fr),jr.prototype.setMouseAnchor=jr.prototype.V,r("ol.interaction.PinchRotate",Vr),r("ol.interaction.PinchZoom",zr),r("ol.interaction.Pointer",ur),r("ol.interaction.Pointer.handleEvent",hr),r("ol.interaction.Select",Fb),Fb.prototype.getFeatures=Fb.prototype.lo,Fb.prototype.getHitTolerance=Fb.prototype.mo,Fb.prototype.getLayer=Fb.prototype.no,r("ol.interaction.Select.handleEvent",Ub),Fb.prototype.setHitTolerance=Fb.prototype.po,Fb.prototype.setMap=Fb.prototype.setMap,Hb.prototype.selected=Hb.prototype.selected,Hb.prototype.deselected=Hb.prototype.deselected,Hb.prototype.mapBrowserEvent=Hb.prototype.mapBrowserEvent,r("ol.interaction.Snap",Bb),Bb.prototype.addFeature=Bb.prototype.Gb,Bb.prototype.removeFeature=Bb.prototype.Lb,r("ol.interaction.Translate",Gb),Gb.prototype.getHitTolerance=Gb.prototype.B,Gb.prototype.setHitTolerance=Gb.prototype.T,tw.prototype.features=tw.prototype.features,tw.prototype.coordinate=tw.prototype.coordinate,r("ol.geom.Circle",kv),kv.prototype.clone=kv.prototype.clone,kv.prototype.getCenter=kv.prototype.xa,kv.prototype.getRadius=kv.prototype.Bd,kv.prototype.getType=kv.prototype.S,kv.prototype.intersectsExtent=kv.prototype.$a,kv.prototype.setCenter=kv.prototype.ub,kv.prototype.setCenterAndRadius=kv.prototype.hh,kv.prototype.setRadius=kv.prototype.fd,kv.prototype.transform=kv.prototype.mb,r("ol.geom.Geometry",So),So.prototype.getClosestPoint=So.prototype.Ib,So.prototype.intersectsCoordinate=So.prototype.Bb,So.prototype.getExtent=So.prototype.G,So.prototype.rotate=So.prototype.rotate,So.prototype.scale=So.prototype.scale,So.prototype.simplify=So.prototype.Sb,So.prototype.transform=So.prototype.mb,r("ol.geom.GeometryCollection",Td),Td.prototype.clone=Td.prototype.clone,Td.prototype.getGeometries=Td.prototype.vd,Td.prototype.getType=Td.prototype.S,Td.prototype.intersectsExtent=Td.prototype.$a,Td.prototype.setGeometries=Td.prototype.Kj,Td.prototype.applyTransform=Td.prototype.Rc,Td.prototype.translate=Td.prototype.translate,r("ol.geom.LinearRing",Go),Go.prototype.clone=Go.prototype.clone,Go.prototype.getArea=Go.prototype.Vn,Go.prototype.getCoordinates=Go.prototype.W,Go.prototype.getType=Go.prototype.S,Go.prototype.setCoordinates=Go.prototype.na,r("ol.geom.LineString",yl),yl.prototype.appendCoordinate=yl.prototype.Fk,yl.prototype.clone=yl.prototype.clone,yl.prototype.forEachSegment=yl.prototype.dl,yl.prototype.getCoordinateAtM=yl.prototype.Tn,yl.prototype.getCoordinates=yl.prototype.W,yl.prototype.getCoordinateAt=yl.prototype.Ph,yl.prototype.getLength=yl.prototype.Un,yl.prototype.getType=yl.prototype.S,yl.prototype.intersectsExtent=yl.prototype.$a,yl.prototype.setCoordinates=yl.prototype.na,r("ol.geom.MultiLineString",Xp),Xp.prototype.appendLineString=Xp.prototype.Gk,Xp.prototype.clone=Xp.prototype.clone,Xp.prototype.getCoordinateAtM=Xp.prototype.Wn,Xp.prototype.getCoordinates=Xp.prototype.W,Xp.prototype.getLineString=Xp.prototype.yl,Xp.prototype.getLineStrings=Xp.prototype.wd,Xp.prototype.getType=Xp.prototype.S,Xp.prototype.intersectsExtent=Xp.prototype.$a,Xp.prototype.setCoordinates=Xp.prototype.na,r("ol.geom.MultiPoint",Jp),Jp.prototype.appendPoint=Jp.prototype.Ik,Jp.prototype.clone=Jp.prototype.clone,Jp.prototype.getCoordinates=Jp.prototype.W,Jp.prototype.getPoint=Jp.prototype.Ll,Jp.prototype.getPoints=Jp.prototype.de,Jp.prototype.getType=Jp.prototype.S,Jp.prototype.intersectsExtent=Jp.prototype.$a,Jp.prototype.setCoordinates=Jp.prototype.na,r("ol.geom.MultiPolygon",Qp),Qp.prototype.appendPolygon=Qp.prototype.Jk,Qp.prototype.clone=Qp.prototype.clone,Qp.prototype.getArea=Qp.prototype.Xn,Qp.prototype.getCoordinates=Qp.prototype.W,Qp.prototype.getInteriorPoints=Qp.prototype.ul,Qp.prototype.getPolygon=Qp.prototype.Ml,Qp.prototype.getPolygons=Qp.prototype.Vd,Qp.prototype.getType=Qp.prototype.S,Qp.prototype.intersectsExtent=Qp.prototype.$a,Qp.prototype.setCoordinates=Qp.prototype.na,r("ol.geom.Point",Ko),Ko.prototype.clone=Ko.prototype.clone,Ko.prototype.getCoordinates=Ko.prototype.W,Ko.prototype.getType=Ko.prototype.S,Ko.prototype.intersectsExtent=Ko.prototype.$a,Ko.prototype.setCoordinates=Ko.prototype.na,r("ol.geom.Polygon",si),si.prototype.appendLinearRing=si.prototype.Hk,si.prototype.clone=si.prototype.clone,si.prototype.getArea=si.prototype.Yn,si.prototype.getCoordinates=si.prototype.W,si.prototype.getInteriorPoint=si.prototype.tl,si.prototype.getLinearRingCount=si.prototype.zl,si.prototype.getLinearRing=si.prototype.Wh,si.prototype.getLinearRings=si.prototype.Ud,si.prototype.getType=si.prototype.S,si.prototype.intersectsExtent=si.prototype.$a,si.prototype.setCoordinates=si.prototype.na,r("ol.geom.Polygon.circular",li),r("ol.geom.Polygon.fromExtent",ci),r("ol.geom.Polygon.fromCircle",ui),r("ol.geom.SimpleGeometry",To),To.prototype.getFirstCoordinate=To.prototype.fc,To.prototype.getLastCoordinate=To.prototype.gc,To.prototype.getLayout=To.prototype.ic,To.prototype.applyTransform=To.prototype.Rc,To.prototype.translate=To.prototype.translate,r("ol.format.EsriJSON",oh),oh.prototype.readFeature=oh.prototype.Yb,oh.prototype.readFeatures=oh.prototype.Qa,oh.prototype.readGeometry=oh.prototype.ed,oh.prototype.readProjection=oh.prototype.sb,oh.prototype.writeGeometry=oh.prototype.md,oh.prototype.writeGeometryObject=oh.prototype.se,oh.prototype.writeFeature=oh.prototype.Jd,oh.prototype.writeFeatureObject=oh.prototype.ld,oh.prototype.writeFeatures=oh.prototype.ac,oh.prototype.writeFeaturesObject=oh.prototype.qe,r("ol.format.Feature",qp),r("ol.format.filter.and",Hg),r("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Fg,e))}),r("ol.format.filter.not",function(t){return new Rg(t)}),r("ol.format.filter.bbox",Vg),r("ol.format.filter.contains",function(t,e,n){return new Cg(t,e,n)}),r("ol.format.filter.intersects",function(t,e,n){return new Pg(t,e,n)}),r("ol.format.filter.within",function(t,e,n){return new Ug(t,e,n)}),r("ol.format.filter.equalTo",function(t,e,n){return new Tg(t,e,n)}),r("ol.format.filter.notEqualTo",function(t,e,n){return new jg(t,e,n)}),r("ol.format.filter.lessThan",function(t,e){return new Ng(t,e)}),r("ol.format.filter.lessThanOrEqualTo",function(t,e){return new Lg(t,e)}),r("ol.format.filter.greaterThan",function(t,e){return new kg(t,e)}),r("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Ag(t,e)}),r("ol.format.filter.isNull",function(t){return new Og(t)}),r("ol.format.filter.between",function(t,e,n){return new Dg(t,e,n)}),r("ol.format.filter.like",function(t,e,n,o,i,r){return new Ig(t,e,n,o,i,r)}),r("ol.format.filter.during",function(t,e,n){return new xg(t,e,n)}),r("ol.format.GeoJSON",Dd),Dd.prototype.readFeature=Dd.prototype.Yb,Dd.prototype.readFeatures=Dd.prototype.Qa,Dd.prototype.readGeometry=Dd.prototype.ed,Dd.prototype.readProjection=Dd.prototype.sb,Dd.prototype.writeFeature=Dd.prototype.Jd,Dd.prototype.writeFeatureObject=Dd.prototype.ld,Dd.prototype.writeFeatures=Dd.prototype.ac,Dd.prototype.writeFeaturesObject=Dd.prototype.qe,Dd.prototype.writeGeometry=Dd.prototype.md,Dd.prototype.writeGeometryObject=Dd.prototype.se,r("ol.format.GML",Sh),Sh.prototype.writeFeatures=Sh.prototype.ac,Sh.prototype.writeFeaturesNode=Sh.prototype.bc,r("ol.format.GML2",Lh),r("ol.format.GML3",Sh),Sh.prototype.writeGeometryNode=Sh.prototype.re,Sh.prototype.writeFeatures=Sh.prototype.ac,Sh.prototype.writeFeaturesNode=Sh.prototype.bc,dh.prototype.readFeatures=dh.prototype.Qa,r("ol.format.GPX",Gh),Gh.prototype.readFeature=Gh.prototype.Yb,Gh.prototype.readFeatures=Gh.prototype.Qa,Gh.prototype.readProjection=Gh.prototype.sb,Gh.prototype.writeFeatures=Gh.prototype.ac,Gh.prototype.writeFeaturesNode=Gh.prototype.bc,r("ol.format.IGC",Fd),Fd.prototype.readFeature=Fd.prototype.Yb,Fd.prototype.readFeatures=Fd.prototype.Qa,Fd.prototype.readProjection=Fd.prototype.sb,r("ol.format.KML",cf),cf.prototype.readFeature=cf.prototype.Yb,cf.prototype.readFeatures=cf.prototype.Qa,cf.prototype.readName=cf.prototype.cq,cf.prototype.readNetworkLinks=cf.prototype.eq,cf.prototype.readRegion=cf.prototype.hq,cf.prototype.readRegionFromNode=cf.prototype.vf,cf.prototype.readProjection=cf.prototype.sb,cf.prototype.writeFeatures=cf.prototype.ac,cf.prototype.writeFeaturesNode=cf.prototype.bc,r("ol.format.MVT",Xm),Xm.prototype.getLastExtent=Xm.prototype.cg,Xm.prototype.readFeatures=Xm.prototype.Qa,Xm.prototype.readProjection=Xm.prototype.sb,Xm.prototype.setLayers=Xm.prototype.Sn,r("ol.format.OSMXML",eg),eg.prototype.readFeatures=eg.prototype.Qa,eg.prototype.readProjection=eg.prototype.sb,r("ol.format.Polyline",lg),r("ol.format.Polyline.encodeDeltas",cg),r("ol.format.Polyline.decodeDeltas",ug),r("ol.format.Polyline.encodeFloats",pg),r("ol.format.Polyline.decodeFloats",hg),lg.prototype.readFeature=lg.prototype.Yb,lg.prototype.readFeatures=lg.prototype.Qa,lg.prototype.readGeometry=lg.prototype.ed,lg.prototype.readProjection=lg.prototype.sb,lg.prototype.writeGeometry=lg.prototype.md,r("ol.format.TopoJSON",dg),dg.prototype.readFeatures=dg.prototype.Qa,dg.prototype.readProjection=dg.prototype.sb,r("ol.format.WFS",Bg),Bg.prototype.readFeatures=Bg.prototype.Qa,Bg.prototype.readTransactionResponse=Bg.prototype.j,Bg.prototype.readFeatureCollectionMetadata=Bg.prototype.f,r("ol.format.WFS.writeFilter",function(t){var e=Mp("http://www.opengis.net/ogc","Filter");return Hp({node:e},cy,Op(t.rc),[t],[]),e}),Bg.prototype.writeGetFeature=Bg.prototype.s,Bg.prototype.writeTransaction=Bg.prototype.v,Bg.prototype.readProjection=Bg.prototype.sb,r("ol.format.WKT",uy),uy.prototype.readFeature=uy.prototype.Yb,uy.prototype.readFeatures=uy.prototype.Qa,uy.prototype.readGeometry=uy.prototype.ed,uy.prototype.writeFeature=uy.prototype.Jd,uy.prototype.writeFeatures=uy.prototype.ac,uy.prototype.writeGeometry=uy.prototype.md,r("ol.format.WMSCapabilities",Ty),Ty.prototype.read=Ty.prototype.read,r("ol.format.WMSGetFeatureInfo",Zy),Zy.prototype.readFeatures=Zy.prototype.Qa,r("ol.format.WMTSCapabilities",fv),fv.prototype.read=fv.prototype.read,r("ol.format.filter.And",Eg),r("ol.format.filter.Bbox",Mg),r("ol.format.filter.Comparison",_g),r("ol.format.filter.ComparisonBinary",Sg),r("ol.format.filter.Contains",Cg),r("ol.format.filter.During",xg),r("ol.format.filter.EqualTo",Tg),r("ol.format.filter.Filter",bg),r("ol.format.filter.GreaterThan",kg),r("ol.format.filter.GreaterThanOrEqualTo",Ag),r("ol.format.filter.Intersects",Pg),r("ol.format.filter.IsBetween",Dg),r("ol.format.filter.IsLike",Ig),r("ol.format.filter.IsNull",Og),r("ol.format.filter.LessThan",Ng),r("ol.format.filter.LessThanOrEqualTo",Lg),r("ol.format.filter.Not",Rg),r("ol.format.filter.NotEqualTo",jg),r("ol.format.filter.Or",Fg),r("ol.format.filter.Spatial",$g),r("ol.format.filter.Within",Ug),r("ol.events.condition.altKeyOnly",tr),r("ol.events.condition.altShiftKeysOnly",er),r("ol.events.condition.always",po),r("ol.events.condition.click",function(t){return"click"==t.type}),r("ol.events.condition.never",ho),r("ol.events.condition.pointerMove",or),r("ol.events.condition.singleClick",ir),r("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),r("ol.events.condition.noModifierKeys",rr),r("ol.events.condition.platformModifierKeyOnly",function(t){return!(t=t.originalEvent).altKey&&(Xe?t.metaKey:t.ctrlKey)&&!t.shiftKey}),r("ol.events.condition.shiftKeyOnly",ar),r("ol.events.condition.targetNotEditable",sr),r("ol.events.condition.mouseOnly",lr),r("ol.events.condition.primaryAction",cr),_e.prototype.type=_e.prototype.type,_e.prototype.target=_e.prototype.target,_e.prototype.preventDefault=_e.prototype.preventDefault,_e.prototype.stopPropagation=_e.prototype.stopPropagation,r("ol.control.Attribution",Fi),r("ol.control.Attribution.render",Ui),Fi.prototype.getCollapsible=Fi.prototype.An,Fi.prototype.setCollapsible=Fi.prototype.Dn,Fi.prototype.setCollapsed=Fi.prototype.Cn,Fi.prototype.getCollapsed=Fi.prototype.zn,r("ol.control.Control",Ii),Ii.prototype.getMap=Ii.prototype.f,Ii.prototype.setMap=Ii.prototype.setMap,Ii.prototype.setTarget=Ii.prototype.i,r("ol.control.FullScreen",Ku),r("ol.control.MousePosition",tp),r("ol.control.MousePosition.render",ep),tp.prototype.getCoordinateFormat=tp.prototype.Qh,tp.prototype.getProjection=tp.prototype.si,tp.prototype.setCoordinateFormat=tp.prototype.Gj,tp.prototype.setProjection=tp.prototype.ti,r("ol.control.OverviewMap",rp),r("ol.control.OverviewMap.render",ap),rp.prototype.getCollapsible=rp.prototype.Gn,rp.prototype.setCollapsible=rp.prototype.Jn,rp.prototype.setCollapsed=rp.prototype.In,rp.prototype.getCollapsed=rp.prototype.Fn,rp.prototype.getOverviewMap=rp.prototype.Hl,r("ol.control.Rotate",Vi),r("ol.control.Rotate.render",Bi),r("ol.control.ScaleLine",up),up.prototype.getUnits=up.prototype.C,r("ol.control.ScaleLine.render",hp),up.prototype.setUnits=up.prototype.O,r("ol.control.Zoom",qi),r("ol.control.ZoomSlider",mp),r("ol.control.ZoomSlider.render",yp),r("ol.control.ZoomToExtent",wp),Ae.prototype.changed=Ae.prototype.u,Ae.prototype.dispatchEvent=Ae.prototype.b,Ae.prototype.getRevision=Ae.prototype.K,Ae.prototype.on=Ae.prototype.I,Ae.prototype.once=Ae.prototype.once,Ae.prototype.un=Ae.prototype.J,Pi.prototype.get=Pi.prototype.get,Pi.prototype.getKeys=Pi.prototype.P,Pi.prototype.getProperties=Pi.prototype.L,Pi.prototype.set=Pi.prototype.set,Pi.prototype.setProperties=Pi.prototype.H,Pi.prototype.unset=Pi.prototype.R,Pi.prototype.changed=Pi.prototype.u,Pi.prototype.dispatchEvent=Pi.prototype.b,Pi.prototype.getRevision=Pi.prototype.K,Pi.prototype.on=Pi.prototype.I,Pi.prototype.once=Pi.prototype.once,Pi.prototype.un=Pi.prototype.J,Gs.prototype.addControl=Gs.prototype.Mf,Gs.prototype.addInteraction=Gs.prototype.Nf,Gs.prototype.addLayer=Gs.prototype.xe,Gs.prototype.addOverlay=Gs.prototype.ye,Gs.prototype.forEachFeatureAtPixel=Gs.prototype.Tc,Gs.prototype.getFeaturesAtPixel=Gs.prototype.Xf,Gs.prototype.forEachLayerAtPixel=Gs.prototype.tg,Gs.prototype.hasFeatureAtPixel=Gs.prototype.ng,Gs.prototype.getEventCoordinate=Gs.prototype.Sd,Gs.prototype.getEventPixel=Gs.prototype.ud,Gs.prototype.getTarget=Gs.prototype.Xd,Gs.prototype.getTargetElement=Gs.prototype.Cc,Gs.prototype.getCoordinateFromPixel=Gs.prototype.Ra,Gs.prototype.getControls=Gs.prototype.Wf,Gs.prototype.getOverlays=Gs.prototype.gg,Gs.prototype.getOverlayById=Gs.prototype.fg,Gs.prototype.getInteractions=Gs.prototype.bg,Gs.prototype.getLayerGroup=Gs.prototype.hc,Gs.prototype.getLayers=Gs.prototype.Xe,Gs.prototype.getPixelFromCoordinate=Gs.prototype.Ia,Gs.prototype.getSize=Gs.prototype.Cb,Gs.prototype.getView=Gs.prototype.aa,Gs.prototype.getViewport=Gs.prototype.kg,Gs.prototype.renderSync=Gs.prototype.dh,Gs.prototype.render=Gs.prototype.render,Gs.prototype.removeControl=Gs.prototype.Xg,Gs.prototype.removeInteraction=Gs.prototype.Zg,Gs.prototype.removeLayer=Gs.prototype.$g,Gs.prototype.removeOverlay=Gs.prototype.ah,Gs.prototype.setLayerGroup=Gs.prototype.zf,Gs.prototype.setSize=Gs.prototype.be,Gs.prototype.setTarget=Gs.prototype.Ad,Gs.prototype.setView=Gs.prototype.jh,Gs.prototype.updateSize=Gs.prototype.Oc,Gs.prototype.get=Gs.prototype.get,Gs.prototype.getKeys=Gs.prototype.P,Gs.prototype.getProperties=Gs.prototype.L,Gs.prototype.set=Gs.prototype.set,Gs.prototype.setProperties=Gs.prototype.H,Gs.prototype.unset=Gs.prototype.R,Gs.prototype.changed=Gs.prototype.u,Gs.prototype.dispatchEvent=Gs.prototype.b,Gs.prototype.getRevision=Gs.prototype.K,Gs.prototype.on=Gs.prototype.I,Gs.prototype.once=Gs.prototype.once,Gs.prototype.un=Gs.prototype.J,Ne.prototype.get=Ne.prototype.get,Ne.prototype.getKeys=Ne.prototype.P,Ne.prototype.getProperties=Ne.prototype.L,Ne.prototype.set=Ne.prototype.set,Ne.prototype.setProperties=Ne.prototype.H,Ne.prototype.unset=Ne.prototype.R,Ne.prototype.changed=Ne.prototype.u,Ne.prototype.dispatchEvent=Ne.prototype.b,Ne.prototype.getRevision=Ne.prototype.K,Ne.prototype.on=Ne.prototype.I,Ne.prototype.once=Ne.prototype.once,Ne.prototype.un=Ne.prototype.J,Fe.prototype.type=Fe.prototype.type,Fe.prototype.target=Fe.prototype.target,Fe.prototype.preventDefault=Fe.prototype.preventDefault,Fe.prototype.stopPropagation=Fe.prototype.stopPropagation,Ys.prototype.get=Ys.prototype.get,Ys.prototype.getKeys=Ys.prototype.P,Ys.prototype.getProperties=Ys.prototype.L,Ys.prototype.set=Ys.prototype.set,Ys.prototype.setProperties=Ys.prototype.H,Ys.prototype.unset=Ys.prototype.R,Ys.prototype.changed=Ys.prototype.u,Ys.prototype.dispatchEvent=Ys.prototype.b,Ys.prototype.getRevision=Ys.prototype.K,Ys.prototype.on=Ys.prototype.I,Ys.prototype.once=Ys.prototype.once,Ys.prototype.un=Ys.prototype.J,dl.prototype.get=dl.prototype.get,dl.prototype.getKeys=dl.prototype.P,dl.prototype.getProperties=dl.prototype.L,dl.prototype.set=dl.prototype.set,dl.prototype.setProperties=dl.prototype.H,dl.prototype.unset=dl.prototype.R,dl.prototype.changed=dl.prototype.u,dl.prototype.dispatchEvent=dl.prototype.b,dl.prototype.getRevision=dl.prototype.K,dl.prototype.on=dl.prototype.I,dl.prototype.once=dl.prototype.once,dl.prototype.un=dl.prototype.J,fl.prototype.get=fl.prototype.get,fl.prototype.getKeys=fl.prototype.P,fl.prototype.getProperties=fl.prototype.L,fl.prototype.set=fl.prototype.set,fl.prototype.setProperties=fl.prototype.H,fl.prototype.unset=fl.prototype.R,fl.prototype.changed=fl.prototype.u,fl.prototype.dispatchEvent=fl.prototype.b,fl.prototype.getRevision=fl.prototype.K,fl.prototype.on=fl.prototype.I,fl.prototype.once=fl.prototype.once,fl.prototype.un=fl.prototype.J,Pl.prototype.getTileCoord=Pl.prototype.i,Pl.prototype.load=Pl.prototype.load,Lu.prototype.addControl=Lu.prototype.Mf,Lu.prototype.addInteraction=Lu.prototype.Nf,Lu.prototype.addLayer=Lu.prototype.xe,Lu.prototype.addOverlay=Lu.prototype.ye,Lu.prototype.forEachFeatureAtPixel=Lu.prototype.Tc,Lu.prototype.getFeaturesAtPixel=Lu.prototype.Xf,Lu.prototype.forEachLayerAtPixel=Lu.prototype.tg,Lu.prototype.hasFeatureAtPixel=Lu.prototype.ng,Lu.prototype.getEventCoordinate=Lu.prototype.Sd,Lu.prototype.getEventPixel=Lu.prototype.ud,Lu.prototype.getTarget=Lu.prototype.Xd,Lu.prototype.getTargetElement=Lu.prototype.Cc,Lu.prototype.getCoordinateFromPixel=Lu.prototype.Ra,Lu.prototype.getControls=Lu.prototype.Wf,Lu.prototype.getOverlays=Lu.prototype.gg,Lu.prototype.getOverlayById=Lu.prototype.fg,Lu.prototype.getInteractions=Lu.prototype.bg,Lu.prototype.getLayerGroup=Lu.prototype.hc,Lu.prototype.getLayers=Lu.prototype.Xe,Lu.prototype.getPixelFromCoordinate=Lu.prototype.Ia,Lu.prototype.getSize=Lu.prototype.Cb,Lu.prototype.getView=Lu.prototype.aa,Lu.prototype.getViewport=Lu.prototype.kg,Lu.prototype.renderSync=Lu.prototype.dh,Lu.prototype.render=Lu.prototype.render,Lu.prototype.removeControl=Lu.prototype.Xg,Lu.prototype.removeInteraction=Lu.prototype.Zg,Lu.prototype.removeLayer=Lu.prototype.$g,Lu.prototype.removeOverlay=Lu.prototype.ah,Lu.prototype.setLayerGroup=Lu.prototype.zf,Lu.prototype.setSize=Lu.prototype.be,Lu.prototype.setTarget=Lu.prototype.Ad,Lu.prototype.setView=Lu.prototype.jh,Lu.prototype.updateSize=Lu.prototype.Oc,Lu.prototype.get=Lu.prototype.get,Lu.prototype.getKeys=Lu.prototype.P,Lu.prototype.getProperties=Lu.prototype.L,Lu.prototype.set=Lu.prototype.set,Lu.prototype.setProperties=Lu.prototype.H,Lu.prototype.unset=Lu.prototype.R,Lu.prototype.changed=Lu.prototype.u,Lu.prototype.dispatchEvent=Lu.prototype.b,Lu.prototype.getRevision=Lu.prototype.K,Lu.prototype.on=Lu.prototype.I,Lu.prototype.once=Lu.prototype.once,Lu.prototype.un=Lu.prototype.J,Ue.prototype.type=Ue.prototype.type,Ue.prototype.target=Ue.prototype.target,Ue.prototype.preventDefault=Ue.prototype.preventDefault,Ue.prototype.stopPropagation=Ue.prototype.stopPropagation,He.prototype.map=He.prototype.map,He.prototype.frameState=He.prototype.frameState,He.prototype.type=He.prototype.type,He.prototype.target=He.prototype.target,He.prototype.preventDefault=He.prototype.preventDefault,He.prototype.stopPropagation=He.prototype.stopPropagation,un.prototype.originalEvent=un.prototype.originalEvent,un.prototype.pixel=un.prototype.pixel,un.prototype.coordinate=un.prototype.coordinate,un.prototype.dragging=un.prototype.dragging,un.prototype.preventDefault=un.prototype.preventDefault,un.prototype.stopPropagation=un.prototype.stopPropagation,un.prototype.map=un.prototype.map,un.prototype.frameState=un.prototype.frameState,un.prototype.type=un.prototype.type,un.prototype.target=un.prototype.target,Oe.prototype.type=Oe.prototype.type,Oe.prototype.target=Oe.prototype.target,Oe.prototype.preventDefault=Oe.prototype.preventDefault,Oe.prototype.stopPropagation=Oe.prototype.stopPropagation,Ru.prototype.get=Ru.prototype.get,Ru.prototype.getKeys=Ru.prototype.P,Ru.prototype.getProperties=Ru.prototype.L,Ru.prototype.set=Ru.prototype.set,Ru.prototype.setProperties=Ru.prototype.H,Ru.prototype.unset=Ru.prototype.R,Ru.prototype.changed=Ru.prototype.u,Ru.prototype.dispatchEvent=Ru.prototype.b,Ru.prototype.getRevision=Ru.prototype.K,Ru.prototype.on=Ru.prototype.I,Ru.prototype.once=Ru.prototype.once,Ru.prototype.un=Ru.prototype.J,xE.prototype.getTileCoord=xE.prototype.i,xE.prototype.load=xE.prototype.load,zu.prototype.getTileCoord=zu.prototype.i,zu.prototype.load=zu.prototype.load,hi.prototype.get=hi.prototype.get,hi.prototype.getKeys=hi.prototype.P,hi.prototype.getProperties=hi.prototype.L,hi.prototype.set=hi.prototype.set,hi.prototype.setProperties=hi.prototype.H,hi.prototype.unset=hi.prototype.R,hi.prototype.changed=hi.prototype.u,hi.prototype.dispatchEvent=hi.prototype.b,hi.prototype.getRevision=hi.prototype.K,hi.prototype.on=hi.prototype.I,hi.prototype.once=hi.prototype.once,hi.prototype.un=hi.prototype.J,PE.prototype.forEachTileCoord=PE.prototype.Vf,PE.prototype.getMaxZoom=PE.prototype.mj,PE.prototype.getMinZoom=PE.prototype.nj,PE.prototype.getOrigin=PE.prototype.Ic,PE.prototype.getResolution=PE.prototype.Ta,PE.prototype.getResolutions=PE.prototype.oj,PE.prototype.getTileCoordExtent=PE.prototype.Ma,PE.prototype.getTileCoordForCoordAndResolution=PE.prototype.Le,PE.prototype.getTileCoordForCoordAndZ=PE.prototype.jg,PE.prototype.getTileSize=PE.prototype.Za,PE.prototype.getZForResolution=PE.prototype.Dc,el.prototype.getOpacity=el.prototype.hf,el.prototype.getRotateWithView=el.prototype.jf,el.prototype.getRotation=el.prototype.kf,el.prototype.getScale=el.prototype.lf,el.prototype.getSnapToPixel=el.prototype.Ke,el.prototype.setOpacity=el.prototype.Ed,el.prototype.setRotation=el.prototype.mf,el.prototype.setScale=el.prototype.Fd,il.prototype.clone=il.prototype.clone,il.prototype.getAngle=il.prototype.ij,il.prototype.getFill=il.prototype.Fa,il.prototype.getPoints=il.prototype.jj,il.prototype.getRadius=il.prototype.kj,il.prototype.getRadius2=il.prototype.Zh,il.prototype.getStroke=il.prototype.Ga,il.prototype.getOpacity=il.prototype.hf,il.prototype.getRotateWithView=il.prototype.jf,il.prototype.getRotation=il.prototype.kf,il.prototype.getScale=il.prototype.lf,il.prototype.getSnapToPixel=il.prototype.Ke,il.prototype.setOpacity=il.prototype.Ed,il.prototype.setRotation=il.prototype.mf,il.prototype.setScale=il.prototype.Fd,lf.prototype.getOpacity=lf.prototype.hf,lf.prototype.getRotateWithView=lf.prototype.jf,lf.prototype.getRotation=lf.prototype.kf,lf.prototype.getScale=lf.prototype.lf,lf.prototype.getSnapToPixel=lf.prototype.Ke,lf.prototype.setOpacity=lf.prototype.Ed,lf.prototype.setRotation=lf.prototype.mf,lf.prototype.setScale=lf.prototype.Fd,Wv.prototype.get=Wv.prototype.get,Wv.prototype.getKeys=Wv.prototype.P,Wv.prototype.getProperties=Wv.prototype.L,Wv.prototype.set=Wv.prototype.set,Wv.prototype.setProperties=Wv.prototype.H,Wv.prototype.unset=Wv.prototype.R,Wv.prototype.changed=Wv.prototype.u,Wv.prototype.dispatchEvent=Wv.prototype.b,Wv.prototype.getRevision=Wv.prototype.K,Wv.prototype.on=Wv.prototype.I,Wv.prototype.once=Wv.prototype.once,Wv.prototype.un=Wv.prototype.J,Mw.prototype.getAttributions=Mw.prototype.za,Mw.prototype.getLogo=Mw.prototype.Aa,Mw.prototype.getProjection=Mw.prototype.Da,Mw.prototype.getState=Mw.prototype.getState,Mw.prototype.refresh=Mw.prototype.sa,Mw.prototype.setAttributions=Mw.prototype.va,Mw.prototype.get=Mw.prototype.get,Mw.prototype.getKeys=Mw.prototype.P,Mw.prototype.getProperties=Mw.prototype.L,Mw.prototype.set=Mw.prototype.set,Mw.prototype.setProperties=Mw.prototype.H,Mw.prototype.unset=Mw.prototype.R,Mw.prototype.changed=Mw.prototype.u,Mw.prototype.dispatchEvent=Mw.prototype.b,Mw.prototype.getRevision=Mw.prototype.K,Mw.prototype.on=Mw.prototype.I,Mw.prototype.once=Mw.prototype.once,Mw.prototype.un=Mw.prototype.J,Sw.prototype.getTileGrid=Sw.prototype.jb,Sw.prototype.refresh=Sw.prototype.sa,Sw.prototype.getAttributions=Sw.prototype.za,Sw.prototype.getLogo=Sw.prototype.Aa,Sw.prototype.getProjection=Sw.prototype.Da,Sw.prototype.getState=Sw.prototype.getState,Sw.prototype.setAttributions=Sw.prototype.va,Sw.prototype.get=Sw.prototype.get,Sw.prototype.getKeys=Sw.prototype.P,Sw.prototype.getProperties=Sw.prototype.L,Sw.prototype.set=Sw.prototype.set,Sw.prototype.setProperties=Sw.prototype.H,Sw.prototype.unset=Sw.prototype.R,Sw.prototype.changed=Sw.prototype.u,Sw.prototype.dispatchEvent=Sw.prototype.b,Sw.prototype.getRevision=Sw.prototype.K,Sw.prototype.on=Sw.prototype.I,Sw.prototype.once=Sw.prototype.once,Sw.prototype.un=Sw.prototype.J,Tw.prototype.getTileLoadFunction=Tw.prototype.yb,Tw.prototype.getTileUrlFunction=Tw.prototype.zb,Tw.prototype.getUrls=Tw.prototype.Ab,Tw.prototype.setTileLoadFunction=Tw.prototype.Fb,Tw.prototype.setTileUrlFunction=Tw.prototype.hb,Tw.prototype.setUrl=Tw.prototype.rb,Tw.prototype.setUrls=Tw.prototype.vb,Tw.prototype.getTileGrid=Tw.prototype.jb,Tw.prototype.refresh=Tw.prototype.sa,Tw.prototype.getAttributions=Tw.prototype.za,Tw.prototype.getLogo=Tw.prototype.Aa,Tw.prototype.getProjection=Tw.prototype.Da,Tw.prototype.getState=Tw.prototype.getState,Tw.prototype.setAttributions=Tw.prototype.va,Tw.prototype.get=Tw.prototype.get,Tw.prototype.getKeys=Tw.prototype.P,Tw.prototype.getProperties=Tw.prototype.L,Tw.prototype.set=Tw.prototype.set,Tw.prototype.setProperties=Tw.prototype.H,Tw.prototype.unset=Tw.prototype.R,Tw.prototype.changed=Tw.prototype.u,Tw.prototype.dispatchEvent=Tw.prototype.b,Tw.prototype.getRevision=Tw.prototype.K,Tw.prototype.on=Tw.prototype.I,Tw.prototype.once=Tw.prototype.once,Tw.prototype.un=Tw.prototype.J,Dw.prototype.setRenderReprojectionEdges=Dw.prototype.Qb,Dw.prototype.setTileGridForProjection=Dw.prototype.Rb,Dw.prototype.getTileLoadFunction=Dw.prototype.yb,Dw.prototype.getTileUrlFunction=Dw.prototype.zb,Dw.prototype.getUrls=Dw.prototype.Ab,Dw.prototype.setTileLoadFunction=Dw.prototype.Fb,Dw.prototype.setTileUrlFunction=Dw.prototype.hb,Dw.prototype.setUrl=Dw.prototype.rb,Dw.prototype.setUrls=Dw.prototype.vb,Dw.prototype.getTileGrid=Dw.prototype.jb,Dw.prototype.refresh=Dw.prototype.sa,Dw.prototype.getAttributions=Dw.prototype.za,Dw.prototype.getLogo=Dw.prototype.Aa,Dw.prototype.getProjection=Dw.prototype.Da,Dw.prototype.getState=Dw.prototype.getState,Dw.prototype.setAttributions=Dw.prototype.va,Dw.prototype.get=Dw.prototype.get,Dw.prototype.getKeys=Dw.prototype.P,Dw.prototype.getProperties=Dw.prototype.L,Dw.prototype.set=Dw.prototype.set,Dw.prototype.setProperties=Dw.prototype.H,Dw.prototype.unset=Dw.prototype.R,Dw.prototype.changed=Dw.prototype.u,Dw.prototype.dispatchEvent=Dw.prototype.b,Dw.prototype.getRevision=Dw.prototype.K,Dw.prototype.on=Dw.prototype.I,Dw.prototype.once=Dw.prototype.once,Dw.prototype.un=Dw.prototype.J,Iw.prototype.setRenderReprojectionEdges=Iw.prototype.Qb,Iw.prototype.setTileGridForProjection=Iw.prototype.Rb,Iw.prototype.getTileLoadFunction=Iw.prototype.yb,Iw.prototype.getTileUrlFunction=Iw.prototype.zb,Iw.prototype.getUrls=Iw.prototype.Ab,Iw.prototype.setTileLoadFunction=Iw.prototype.Fb,Iw.prototype.setTileUrlFunction=Iw.prototype.hb,Iw.prototype.setUrl=Iw.prototype.rb,Iw.prototype.setUrls=Iw.prototype.vb,Iw.prototype.getTileGrid=Iw.prototype.jb,Iw.prototype.refresh=Iw.prototype.sa,Iw.prototype.getAttributions=Iw.prototype.za,Iw.prototype.getLogo=Iw.prototype.Aa,Iw.prototype.getProjection=Iw.prototype.Da,Iw.prototype.getState=Iw.prototype.getState,Iw.prototype.setAttributions=Iw.prototype.va,Iw.prototype.get=Iw.prototype.get,Iw.prototype.getKeys=Iw.prototype.P,Iw.prototype.getProperties=Iw.prototype.L,Iw.prototype.set=Iw.prototype.set,Iw.prototype.setProperties=Iw.prototype.H,Iw.prototype.unset=Iw.prototype.R,Iw.prototype.changed=Iw.prototype.u,Iw.prototype.dispatchEvent=Iw.prototype.b,Iw.prototype.getRevision=Iw.prototype.K,Iw.prototype.on=Iw.prototype.I,Iw.prototype.once=Iw.prototype.once,Iw.prototype.un=Iw.prototype.J,Ow.prototype.setRenderReprojectionEdges=Ow.prototype.Qb,Ow.prototype.setTileGridForProjection=Ow.prototype.Rb,Ow.prototype.getTileLoadFunction=Ow.prototype.yb,Ow.prototype.getTileUrlFunction=Ow.prototype.zb,Ow.prototype.getUrls=Ow.prototype.Ab,Ow.prototype.setTileLoadFunction=Ow.prototype.Fb,Ow.prototype.setTileUrlFunction=Ow.prototype.hb,Ow.prototype.setUrl=Ow.prototype.rb,Ow.prototype.setUrls=Ow.prototype.vb,Ow.prototype.getTileGrid=Ow.prototype.jb,Ow.prototype.refresh=Ow.prototype.sa,Ow.prototype.getAttributions=Ow.prototype.za,Ow.prototype.getLogo=Ow.prototype.Aa,Ow.prototype.getProjection=Ow.prototype.Da,Ow.prototype.getState=Ow.prototype.getState,Ow.prototype.setAttributions=Ow.prototype.va,Ow.prototype.get=Ow.prototype.get,Ow.prototype.getKeys=Ow.prototype.P,Ow.prototype.getProperties=Ow.prototype.L,Ow.prototype.set=Ow.prototype.set,Ow.prototype.setProperties=Ow.prototype.H,Ow.prototype.unset=Ow.prototype.R,Ow.prototype.changed=Ow.prototype.u,Ow.prototype.dispatchEvent=Ow.prototype.b,Ow.prototype.getRevision=Ow.prototype.K,Ow.prototype.on=Ow.prototype.I,Ow.prototype.once=Ow.prototype.once,Ow.prototype.un=Ow.prototype.J,Yv.prototype.getAttributions=Yv.prototype.za,Yv.prototype.getLogo=Yv.prototype.Aa,Yv.prototype.getProjection=Yv.prototype.Da,Yv.prototype.getState=Yv.prototype.getState,Yv.prototype.refresh=Yv.prototype.sa,Yv.prototype.setAttributions=Yv.prototype.va,Yv.prototype.get=Yv.prototype.get,Yv.prototype.getKeys=Yv.prototype.P,Yv.prototype.getProperties=Yv.prototype.L,Yv.prototype.set=Yv.prototype.set,Yv.prototype.setProperties=Yv.prototype.H,Yv.prototype.unset=Yv.prototype.R,Yv.prototype.changed=Yv.prototype.u,Yv.prototype.dispatchEvent=Yv.prototype.b,Yv.prototype.getRevision=Yv.prototype.K,Yv.prototype.on=Yv.prototype.I,Yv.prototype.once=Yv.prototype.once,Yv.prototype.un=Yv.prototype.J,Rw.prototype.addFeature=Rw.prototype.Gb,Rw.prototype.addFeatures=Rw.prototype.Qc,Rw.prototype.clear=Rw.prototype.clear,Rw.prototype.forEachFeature=Rw.prototype.Lh,Rw.prototype.forEachFeatureInExtent=Rw.prototype.ec,Rw.prototype.forEachFeatureIntersectingExtent=Rw.prototype.Mh,Rw.prototype.getFeaturesCollection=Rw.prototype.Th,Rw.prototype.getFeatures=Rw.prototype.ee,Rw.prototype.getFeaturesAtCoordinate=Rw.prototype.Sh,Rw.prototype.getFeaturesInExtent=Rw.prototype.Yf,Rw.prototype.getClosestFeatureToCoordinate=Rw.prototype.Oh,Rw.prototype.getExtent=Rw.prototype.G,Rw.prototype.getFeatureById=Rw.prototype.Rh,Rw.prototype.getFormat=Rw.prototype.ej,Rw.prototype.getUrl=Rw.prototype.fj,Rw.prototype.removeLoadedExtent=Rw.prototype.Cj,Rw.prototype.removeFeature=Rw.prototype.Lb,Rw.prototype.setLoader=Rw.prototype.hj,Rw.prototype.getAttributions=Rw.prototype.za,Rw.prototype.getLogo=Rw.prototype.Aa,Rw.prototype.getProjection=Rw.prototype.Da,Rw.prototype.getState=Rw.prototype.getState,Rw.prototype.refresh=Rw.prototype.sa,Rw.prototype.setAttributions=Rw.prototype.va,Rw.prototype.get=Rw.prototype.get,Rw.prototype.getKeys=Rw.prototype.P,Rw.prototype.getProperties=Rw.prototype.L,Rw.prototype.set=Rw.prototype.set,Rw.prototype.setProperties=Rw.prototype.H,Rw.prototype.unset=Rw.prototype.R,Rw.prototype.changed=Rw.prototype.u,Rw.prototype.dispatchEvent=Rw.prototype.b,Rw.prototype.getRevision=Rw.prototype.K,Rw.prototype.on=Rw.prototype.I,Rw.prototype.once=Rw.prototype.once,Rw.prototype.un=Rw.prototype.J,Hw.prototype.getAttributions=Hw.prototype.za,Hw.prototype.getLogo=Hw.prototype.Aa,Hw.prototype.getProjection=Hw.prototype.Da,Hw.prototype.getState=Hw.prototype.getState,Hw.prototype.refresh=Hw.prototype.sa,Hw.prototype.setAttributions=Hw.prototype.va,Hw.prototype.get=Hw.prototype.get,Hw.prototype.getKeys=Hw.prototype.P,Hw.prototype.getProperties=Hw.prototype.L,Hw.prototype.set=Hw.prototype.set,Hw.prototype.setProperties=Hw.prototype.H,Hw.prototype.unset=Hw.prototype.R,Hw.prototype.changed=Hw.prototype.u,Hw.prototype.dispatchEvent=Hw.prototype.b,Hw.prototype.getRevision=Hw.prototype.K,Hw.prototype.on=Hw.prototype.I,Hw.prototype.once=Hw.prototype.once,Hw.prototype.un=Hw.prototype.J,qw.prototype.type=qw.prototype.type,qw.prototype.target=qw.prototype.target,qw.prototype.preventDefault=qw.prototype.preventDefault,qw.prototype.stopPropagation=qw.prototype.stopPropagation,Kw.prototype.getAttributions=Kw.prototype.za,Kw.prototype.getLogo=Kw.prototype.Aa,Kw.prototype.getProjection=Kw.prototype.Da,Kw.prototype.getState=Kw.prototype.getState,Kw.prototype.refresh=Kw.prototype.sa,Kw.prototype.setAttributions=Kw.prototype.va,Kw.prototype.get=Kw.prototype.get,Kw.prototype.getKeys=Kw.prototype.P,Kw.prototype.getProperties=Kw.prototype.L,Kw.prototype.set=Kw.prototype.set,Kw.prototype.setProperties=Kw.prototype.H,Kw.prototype.unset=Kw.prototype.R,Kw.prototype.changed=Kw.prototype.u,Kw.prototype.dispatchEvent=Kw.prototype.b,Kw.prototype.getRevision=Kw.prototype.K,Kw.prototype.on=Kw.prototype.I,Kw.prototype.once=Kw.prototype.once,Kw.prototype.un=Kw.prototype.J,Xw.prototype.getAttributions=Xw.prototype.za,Xw.prototype.getLogo=Xw.prototype.Aa,Xw.prototype.getProjection=Xw.prototype.Da,Xw.prototype.getState=Xw.prototype.getState,Xw.prototype.refresh=Xw.prototype.sa,Xw.prototype.setAttributions=Xw.prototype.va,Xw.prototype.get=Xw.prototype.get,Xw.prototype.getKeys=Xw.prototype.P,Xw.prototype.getProperties=Xw.prototype.L,Xw.prototype.set=Xw.prototype.set,Xw.prototype.setProperties=Xw.prototype.H,Xw.prototype.unset=Xw.prototype.R,Xw.prototype.changed=Xw.prototype.u,Xw.prototype.dispatchEvent=Xw.prototype.b,Xw.prototype.getRevision=Xw.prototype.K,Xw.prototype.on=Xw.prototype.I,Xw.prototype.once=Xw.prototype.once,Xw.prototype.un=Xw.prototype.J,Zw.prototype.getAttributions=Zw.prototype.za,Zw.prototype.getLogo=Zw.prototype.Aa,Zw.prototype.getProjection=Zw.prototype.Da,Zw.prototype.getState=Zw.prototype.getState,Zw.prototype.refresh=Zw.prototype.sa,Zw.prototype.setAttributions=Zw.prototype.va,Zw.prototype.get=Zw.prototype.get,Zw.prototype.getKeys=Zw.prototype.P,Zw.prototype.getProperties=Zw.prototype.L,Zw.prototype.set=Zw.prototype.set,Zw.prototype.setProperties=Zw.prototype.H,Zw.prototype.unset=Zw.prototype.R,Zw.prototype.changed=Zw.prototype.u,Zw.prototype.dispatchEvent=Zw.prototype.b,Zw.prototype.getRevision=Zw.prototype.K,Zw.prototype.on=Zw.prototype.I,Zw.prototype.once=Zw.prototype.once,Zw.prototype.un=Zw.prototype.J,Jw.prototype.getAttributions=Jw.prototype.za,Jw.prototype.getLogo=Jw.prototype.Aa,Jw.prototype.getProjection=Jw.prototype.Da,Jw.prototype.getState=Jw.prototype.getState,Jw.prototype.refresh=Jw.prototype.sa,Jw.prototype.setAttributions=Jw.prototype.va,Jw.prototype.get=Jw.prototype.get,Jw.prototype.getKeys=Jw.prototype.P,Jw.prototype.getProperties=Jw.prototype.L,Jw.prototype.set=Jw.prototype.set,Jw.prototype.setProperties=Jw.prototype.H,Jw.prototype.unset=Jw.prototype.R,Jw.prototype.changed=Jw.prototype.u,Jw.prototype.dispatchEvent=Jw.prototype.b,Jw.prototype.getRevision=Jw.prototype.K,Jw.prototype.on=Jw.prototype.I,Jw.prototype.once=Jw.prototype.once,Jw.prototype.un=Jw.prototype.J,Qw.prototype.getAttributions=Qw.prototype.za,Qw.prototype.getLogo=Qw.prototype.Aa,Qw.prototype.getProjection=Qw.prototype.Da,Qw.prototype.getState=Qw.prototype.getState,Qw.prototype.refresh=Qw.prototype.sa,Qw.prototype.setAttributions=Qw.prototype.va,Qw.prototype.get=Qw.prototype.get,Qw.prototype.getKeys=Qw.prototype.P,Qw.prototype.getProperties=Qw.prototype.L,Qw.prototype.set=Qw.prototype.set,Qw.prototype.setProperties=Qw.prototype.H,Qw.prototype.unset=Qw.prototype.R,Qw.prototype.changed=Qw.prototype.u,Qw.prototype.dispatchEvent=Qw.prototype.b,Qw.prototype.getRevision=Qw.prototype.K,Qw.prototype.on=Qw.prototype.I,Qw.prototype.once=Qw.prototype.once,Qw.prototype.un=Qw.prototype.J,tE.prototype.getAttributions=tE.prototype.za,tE.prototype.getLogo=tE.prototype.Aa,tE.prototype.getProjection=tE.prototype.Da,tE.prototype.getState=tE.prototype.getState,tE.prototype.refresh=tE.prototype.sa,tE.prototype.setAttributions=tE.prototype.va,tE.prototype.get=tE.prototype.get,tE.prototype.getKeys=tE.prototype.P,tE.prototype.getProperties=tE.prototype.L,tE.prototype.set=tE.prototype.set,tE.prototype.setProperties=tE.prototype.H,tE.prototype.unset=tE.prototype.R,tE.prototype.changed=tE.prototype.u,tE.prototype.dispatchEvent=tE.prototype.b,tE.prototype.getRevision=tE.prototype.K,tE.prototype.on=tE.prototype.I,tE.prototype.once=tE.prototype.once,tE.prototype.un=tE.prototype.J,iE.prototype.setRenderReprojectionEdges=iE.prototype.Qb,iE.prototype.setTileGridForProjection=iE.prototype.Rb,iE.prototype.getTileLoadFunction=iE.prototype.yb,iE.prototype.getTileUrlFunction=iE.prototype.zb,iE.prototype.getUrls=iE.prototype.Ab,iE.prototype.setTileLoadFunction=iE.prototype.Fb,iE.prototype.setTileUrlFunction=iE.prototype.hb,iE.prototype.setUrl=iE.prototype.rb,iE.prototype.setUrls=iE.prototype.vb,iE.prototype.getTileGrid=iE.prototype.jb,iE.prototype.refresh=iE.prototype.sa,iE.prototype.getAttributions=iE.prototype.za,iE.prototype.getLogo=iE.prototype.Aa,iE.prototype.getProjection=iE.prototype.Da,iE.prototype.getState=iE.prototype.getState,iE.prototype.setAttributions=iE.prototype.va,iE.prototype.get=iE.prototype.get,iE.prototype.getKeys=iE.prototype.P,iE.prototype.getProperties=iE.prototype.L,iE.prototype.set=iE.prototype.set,iE.prototype.setProperties=iE.prototype.H,iE.prototype.unset=iE.prototype.R,iE.prototype.changed=iE.prototype.u,iE.prototype.dispatchEvent=iE.prototype.b,iE.prototype.getRevision=iE.prototype.K,iE.prototype.on=iE.prototype.I,iE.prototype.once=iE.prototype.once,iE.prototype.un=iE.prototype.J,rE.prototype.getAttributions=rE.prototype.za,rE.prototype.getLogo=rE.prototype.Aa,rE.prototype.getProjection=rE.prototype.Da,rE.prototype.getState=rE.prototype.getState,rE.prototype.refresh=rE.prototype.sa,rE.prototype.setAttributions=rE.prototype.va,rE.prototype.get=rE.prototype.get,rE.prototype.getKeys=rE.prototype.P,rE.prototype.getProperties=rE.prototype.L,rE.prototype.set=rE.prototype.set,rE.prototype.setProperties=rE.prototype.H,rE.prototype.unset=rE.prototype.R,rE.prototype.changed=rE.prototype.u,rE.prototype.dispatchEvent=rE.prototype.b,rE.prototype.getRevision=rE.prototype.K,rE.prototype.on=rE.prototype.I,rE.prototype.once=rE.prototype.once,rE.prototype.un=rE.prototype.J,sE.prototype.type=sE.prototype.type,sE.prototype.target=sE.prototype.target,sE.prototype.preventDefault=sE.prototype.preventDefault,sE.prototype.stopPropagation=sE.prototype.stopPropagation,uE.prototype.setRenderReprojectionEdges=uE.prototype.Qb,uE.prototype.setTileGridForProjection=uE.prototype.Rb,uE.prototype.getTileLoadFunction=uE.prototype.yb,uE.prototype.getTileUrlFunction=uE.prototype.zb,uE.prototype.getUrls=uE.prototype.Ab,uE.prototype.setTileLoadFunction=uE.prototype.Fb,uE.prototype.setTileUrlFunction=uE.prototype.hb,uE.prototype.setUrl=uE.prototype.rb,uE.prototype.setUrls=uE.prototype.vb,uE.prototype.getTileGrid=uE.prototype.jb,uE.prototype.refresh=uE.prototype.sa,uE.prototype.getAttributions=uE.prototype.za,uE.prototype.getLogo=uE.prototype.Aa,uE.prototype.getProjection=uE.prototype.Da,uE.prototype.getState=uE.prototype.getState,uE.prototype.setAttributions=uE.prototype.va,uE.prototype.get=uE.prototype.get,uE.prototype.getKeys=uE.prototype.P,uE.prototype.getProperties=uE.prototype.L,uE.prototype.set=uE.prototype.set,uE.prototype.setProperties=uE.prototype.H,uE.prototype.unset=uE.prototype.R,uE.prototype.changed=uE.prototype.u,uE.prototype.dispatchEvent=uE.prototype.b,uE.prototype.getRevision=uE.prototype.K,uE.prototype.on=uE.prototype.I,uE.prototype.once=uE.prototype.once,uE.prototype.un=uE.prototype.J,xw.prototype.type=xw.prototype.type,xw.prototype.target=xw.prototype.target,xw.prototype.preventDefault=xw.prototype.preventDefault,xw.prototype.stopPropagation=xw.prototype.stopPropagation,fE.prototype.setRenderReprojectionEdges=fE.prototype.Qb,fE.prototype.setTileGridForProjection=fE.prototype.Rb,fE.prototype.getTileLoadFunction=fE.prototype.yb,fE.prototype.getTileUrlFunction=fE.prototype.zb,fE.prototype.getUrls=fE.prototype.Ab,fE.prototype.setTileLoadFunction=fE.prototype.Fb,fE.prototype.setTileUrlFunction=fE.prototype.hb,fE.prototype.setUrl=fE.prototype.rb,fE.prototype.setUrls=fE.prototype.vb,fE.prototype.getTileGrid=fE.prototype.jb,fE.prototype.refresh=fE.prototype.sa,fE.prototype.getAttributions=fE.prototype.za,fE.prototype.getLogo=fE.prototype.Aa,fE.prototype.getProjection=fE.prototype.Da,fE.prototype.getState=fE.prototype.getState,fE.prototype.setAttributions=fE.prototype.va,fE.prototype.get=fE.prototype.get,fE.prototype.getKeys=fE.prototype.P,fE.prototype.getProperties=fE.prototype.L,fE.prototype.set=fE.prototype.set,fE.prototype.setProperties=fE.prototype.H,fE.prototype.unset=fE.prototype.R,fE.prototype.changed=fE.prototype.u,fE.prototype.dispatchEvent=fE.prototype.b,fE.prototype.getRevision=fE.prototype.K,fE.prototype.on=fE.prototype.I,fE.prototype.once=fE.prototype.once,fE.prototype.un=fE.prototype.J,gE.prototype.getTileGrid=gE.prototype.jb,gE.prototype.refresh=gE.prototype.sa,gE.prototype.getAttributions=gE.prototype.za,gE.prototype.getLogo=gE.prototype.Aa,gE.prototype.getProjection=gE.prototype.Da,gE.prototype.getState=gE.prototype.getState,gE.prototype.setAttributions=gE.prototype.va,gE.prototype.get=gE.prototype.get,gE.prototype.getKeys=gE.prototype.P,gE.prototype.getProperties=gE.prototype.L,gE.prototype.set=gE.prototype.set,gE.prototype.setProperties=gE.prototype.H,gE.prototype.unset=gE.prototype.R,gE.prototype.changed=gE.prototype.u,gE.prototype.dispatchEvent=gE.prototype.b,gE.prototype.getRevision=gE.prototype.K,gE.prototype.on=gE.prototype.I,gE.prototype.once=gE.prototype.once,gE.prototype.un=gE.prototype.J,vE.prototype.setRenderReprojectionEdges=vE.prototype.Qb,vE.prototype.setTileGridForProjection=vE.prototype.Rb,vE.prototype.getTileLoadFunction=vE.prototype.yb,vE.prototype.getTileUrlFunction=vE.prototype.zb,vE.prototype.getUrls=vE.prototype.Ab,vE.prototype.setTileLoadFunction=vE.prototype.Fb,vE.prototype.setTileUrlFunction=vE.prototype.hb,vE.prototype.setUrl=vE.prototype.rb,vE.prototype.setUrls=vE.prototype.vb,vE.prototype.getTileGrid=vE.prototype.jb,vE.prototype.refresh=vE.prototype.sa,vE.prototype.getAttributions=vE.prototype.za,vE.prototype.getLogo=vE.prototype.Aa,vE.prototype.getProjection=vE.prototype.Da,vE.prototype.getState=vE.prototype.getState,vE.prototype.setAttributions=vE.prototype.va,vE.prototype.get=vE.prototype.get,vE.prototype.getKeys=vE.prototype.P,vE.prototype.getProperties=vE.prototype.L,vE.prototype.set=vE.prototype.set,vE.prototype.setProperties=vE.prototype.H,vE.prototype.unset=vE.prototype.R,vE.prototype.changed=vE.prototype.u,vE.prototype.dispatchEvent=vE.prototype.b,vE.prototype.getRevision=vE.prototype.K,vE.prototype.on=vE.prototype.I,vE.prototype.once=vE.prototype.once,vE.prototype.un=vE.prototype.J,bE.prototype.getTileGrid=bE.prototype.jb,bE.prototype.refresh=bE.prototype.sa,bE.prototype.getAttributions=bE.prototype.za,bE.prototype.getLogo=bE.prototype.Aa,bE.prototype.getProjection=bE.prototype.Da,bE.prototype.getState=bE.prototype.getState,bE.prototype.setAttributions=bE.prototype.va,bE.prototype.get=bE.prototype.get,bE.prototype.getKeys=bE.prototype.P,bE.prototype.getProperties=bE.prototype.L,bE.prototype.set=bE.prototype.set,bE.prototype.setProperties=bE.prototype.H,bE.prototype.unset=bE.prototype.R,bE.prototype.changed=bE.prototype.u,bE.prototype.dispatchEvent=bE.prototype.b,bE.prototype.getRevision=bE.prototype.K,bE.prototype.on=bE.prototype.I,bE.prototype.once=bE.prototype.once,bE.prototype.un=bE.prototype.J,ME.prototype.setRenderReprojectionEdges=ME.prototype.Qb,ME.prototype.setTileGridForProjection=ME.prototype.Rb,ME.prototype.getTileLoadFunction=ME.prototype.yb,ME.prototype.getTileUrlFunction=ME.prototype.zb,ME.prototype.getUrls=ME.prototype.Ab,ME.prototype.setTileLoadFunction=ME.prototype.Fb,ME.prototype.setTileUrlFunction=ME.prototype.hb,ME.prototype.setUrl=ME.prototype.rb,ME.prototype.setUrls=ME.prototype.vb,ME.prototype.getTileGrid=ME.prototype.jb,ME.prototype.refresh=ME.prototype.sa,ME.prototype.getAttributions=ME.prototype.za,ME.prototype.getLogo=ME.prototype.Aa,ME.prototype.getProjection=ME.prototype.Da,ME.prototype.getState=ME.prototype.getState,ME.prototype.setAttributions=ME.prototype.va,ME.prototype.get=ME.prototype.get,ME.prototype.getKeys=ME.prototype.P,ME.prototype.getProperties=ME.prototype.L,ME.prototype.set=ME.prototype.set,ME.prototype.setProperties=ME.prototype.H,ME.prototype.unset=ME.prototype.R,ME.prototype.changed=ME.prototype.u,ME.prototype.dispatchEvent=ME.prototype.b,ME.prototype.getRevision=ME.prototype.K,ME.prototype.on=ME.prototype.I,ME.prototype.once=ME.prototype.once,ME.prototype.un=ME.prototype.J,Qv.prototype.type=Qv.prototype.type,Qv.prototype.target=Qv.prototype.target,Qv.prototype.preventDefault=Qv.prototype.preventDefault,Qv.prototype.stopPropagation=Qv.prototype.stopPropagation,AE.prototype.getTileLoadFunction=AE.prototype.yb,AE.prototype.getTileUrlFunction=AE.prototype.zb,AE.prototype.getUrls=AE.prototype.Ab,AE.prototype.setTileLoadFunction=AE.prototype.Fb,AE.prototype.setTileUrlFunction=AE.prototype.hb,AE.prototype.setUrl=AE.prototype.rb,AE.prototype.setUrls=AE.prototype.vb,AE.prototype.getTileGrid=AE.prototype.jb,AE.prototype.refresh=AE.prototype.sa,AE.prototype.getAttributions=AE.prototype.za,AE.prototype.getLogo=AE.prototype.Aa,AE.prototype.getProjection=AE.prototype.Da,AE.prototype.getState=AE.prototype.getState,AE.prototype.setAttributions=AE.prototype.va,AE.prototype.get=AE.prototype.get,AE.prototype.getKeys=AE.prototype.P,AE.prototype.getProperties=AE.prototype.L,AE.prototype.set=AE.prototype.set,AE.prototype.setProperties=AE.prototype.H,AE.prototype.unset=AE.prototype.R,AE.prototype.changed=AE.prototype.u,AE.prototype.dispatchEvent=AE.prototype.b,AE.prototype.getRevision=AE.prototype.K,AE.prototype.on=AE.prototype.I,AE.prototype.once=AE.prototype.once,AE.prototype.un=AE.prototype.J,IE.prototype.setRenderReprojectionEdges=IE.prototype.Qb,IE.prototype.setTileGridForProjection=IE.prototype.Rb,IE.prototype.getTileLoadFunction=IE.prototype.yb,IE.prototype.getTileUrlFunction=IE.prototype.zb,IE.prototype.getUrls=IE.prototype.Ab,IE.prototype.setTileLoadFunction=IE.prototype.Fb,IE.prototype.setTileUrlFunction=IE.prototype.hb,IE.prototype.setUrl=IE.prototype.rb,IE.prototype.setUrls=IE.prototype.vb,IE.prototype.getTileGrid=IE.prototype.jb,IE.prototype.refresh=IE.prototype.sa,IE.prototype.getAttributions=IE.prototype.za,IE.prototype.getLogo=IE.prototype.Aa,IE.prototype.getProjection=IE.prototype.Da,IE.prototype.getState=IE.prototype.getState,IE.prototype.setAttributions=IE.prototype.va,IE.prototype.get=IE.prototype.get,IE.prototype.getKeys=IE.prototype.P,IE.prototype.getProperties=IE.prototype.L,IE.prototype.set=IE.prototype.set,IE.prototype.setProperties=IE.prototype.H,IE.prototype.unset=IE.prototype.R,IE.prototype.changed=IE.prototype.u,IE.prototype.dispatchEvent=IE.prototype.b,IE.prototype.getRevision=IE.prototype.K,IE.prototype.on=IE.prototype.I,IE.prototype.once=IE.prototype.once,IE.prototype.un=IE.prototype.J,NE.prototype.setRenderReprojectionEdges=NE.prototype.Qb,NE.prototype.setTileGridForProjection=NE.prototype.Rb,NE.prototype.getTileLoadFunction=NE.prototype.yb,NE.prototype.getTileUrlFunction=NE.prototype.zb,NE.prototype.getUrls=NE.prototype.Ab,NE.prototype.setTileLoadFunction=NE.prototype.Fb,NE.prototype.setTileUrlFunction=NE.prototype.hb,NE.prototype.setUrl=NE.prototype.rb,NE.prototype.setUrls=NE.prototype.vb,NE.prototype.getTileGrid=NE.prototype.jb,NE.prototype.refresh=NE.prototype.sa,NE.prototype.getAttributions=NE.prototype.za,NE.prototype.getLogo=NE.prototype.Aa,NE.prototype.getProjection=NE.prototype.Da,NE.prototype.getState=NE.prototype.getState,NE.prototype.setAttributions=NE.prototype.va,NE.prototype.get=NE.prototype.get,NE.prototype.getKeys=NE.prototype.P,NE.prototype.getProperties=NE.prototype.L,NE.prototype.set=NE.prototype.set,NE.prototype.setProperties=NE.prototype.H,NE.prototype.unset=NE.prototype.R,NE.prototype.changed=NE.prototype.u,NE.prototype.dispatchEvent=NE.prototype.b,NE.prototype.getRevision=NE.prototype.K,NE.prototype.on=NE.prototype.I,NE.prototype.once=NE.prototype.once,NE.prototype.un=NE.prototype.J,Ew.prototype.getTileCoord=Ew.prototype.i,Ew.prototype.load=Ew.prototype.load,Da.prototype.changed=Da.prototype.u,Da.prototype.dispatchEvent=Da.prototype.b,Da.prototype.getRevision=Da.prototype.K,Da.prototype.on=Da.prototype.I,Da.prototype.once=Da.prototype.once,Da.prototype.un=Da.prototype.J,_u.prototype.changed=_u.prototype.u,_u.prototype.dispatchEvent=_u.prototype.b,_u.prototype.getRevision=_u.prototype.K,_u.prototype.on=_u.prototype.I,_u.prototype.once=_u.prototype.once,_u.prototype.un=_u.prototype.J,Su.prototype.changed=Su.prototype.u,Su.prototype.dispatchEvent=Su.prototype.b,Su.prototype.getRevision=Su.prototype.K,Su.prototype.on=Su.prototype.I,Su.prototype.once=Su.prototype.once,Su.prototype.un=Su.prototype.J,Ou.prototype.changed=Ou.prototype.u,Ou.prototype.dispatchEvent=Ou.prototype.b,Ou.prototype.getRevision=Ou.prototype.K,Ou.prototype.on=Ou.prototype.I,Ou.prototype.once=Ou.prototype.once,Ou.prototype.un=Ou.prototype.J,Nu.prototype.changed=Nu.prototype.u,Nu.prototype.dispatchEvent=Nu.prototype.b,Nu.prototype.getRevision=Nu.prototype.K,Nu.prototype.on=Nu.prototype.I,Nu.prototype.once=Nu.prototype.once,Nu.prototype.un=Nu.prototype.J,Fa.prototype.changed=Fa.prototype.u,Fa.prototype.dispatchEvent=Fa.prototype.b,Fa.prototype.getRevision=Fa.prototype.K,Fa.prototype.on=Fa.prototype.I,Fa.prototype.once=Fa.prototype.once,Fa.prototype.un=Fa.prototype.J,Ba.prototype.changed=Ba.prototype.u,Ba.prototype.dispatchEvent=Ba.prototype.b,Ba.prototype.getRevision=Ba.prototype.K,Ba.prototype.on=Ba.prototype.I,Ba.prototype.once=Ba.prototype.once,Ba.prototype.un=Ba.prototype.J,qa.prototype.changed=qa.prototype.u,qa.prototype.dispatchEvent=qa.prototype.b,qa.prototype.getRevision=qa.prototype.K,qa.prototype.on=qa.prototype.I,qa.prototype.once=qa.prototype.once,qa.prototype.un=qa.prototype.J,os.prototype.changed=os.prototype.u,os.prototype.dispatchEvent=os.prototype.b,os.prototype.getRevision=os.prototype.K,os.prototype.on=os.prototype.I,os.prototype.once=os.prototype.once,os.prototype.un=os.prototype.J,Bs.prototype.changed=Bs.prototype.u,Bs.prototype.dispatchEvent=Bs.prototype.b,Bs.prototype.getRevision=Bs.prototype.K,Bs.prototype.on=Bs.prototype.I,Bs.prototype.once=Bs.prototype.once,Bs.prototype.un=Bs.prototype.J,qs.prototype.changed=qs.prototype.u,qs.prototype.dispatchEvent=qs.prototype.b,qs.prototype.getRevision=qs.prototype.K,qs.prototype.on=qs.prototype.I,qs.prototype.once=qs.prototype.once,qs.prototype.un=qs.prototype.J,Qr.prototype.type=Qr.prototype.type,Qr.prototype.target=Qr.prototype.target,Qr.prototype.preventDefault=Qr.prototype.preventDefault,Qr.prototype.stopPropagation=Qr.prototype.stopPropagation,vn.prototype.type=vn.prototype.type,vn.prototype.target=vn.prototype.target,vn.prototype.preventDefault=vn.prototype.preventDefault,vn.prototype.stopPropagation=vn.prototype.stopPropagation,$i.prototype.get=$i.prototype.get,$i.prototype.getKeys=$i.prototype.P,$i.prototype.getProperties=$i.prototype.L,$i.prototype.set=$i.prototype.set,$i.prototype.setProperties=$i.prototype.H,$i.prototype.unset=$i.prototype.R,$i.prototype.changed=$i.prototype.u,$i.prototype.dispatchEvent=$i.prototype.b,$i.prototype.getRevision=$i.prototype.K,$i.prototype.on=$i.prototype.I,$i.prototype.once=$i.prototype.once,$i.prototype.un=$i.prototype.J,_i.prototype.getExtent=_i.prototype.G,_i.prototype.getMaxResolution=_i.prototype.lc,_i.prototype.getMinResolution=_i.prototype.mc,_i.prototype.getOpacity=_i.prototype.nc,_i.prototype.getVisible=_i.prototype.Jb,_i.prototype.getZIndex=_i.prototype.Ba,_i.prototype.setExtent=_i.prototype.Fc,_i.prototype.setMaxResolution=_i.prototype.Mc,_i.prototype.setMinResolution=_i.prototype.Nc,_i.prototype.setOpacity=_i.prototype.Gc,_i.prototype.setVisible=_i.prototype.Hc,_i.prototype.setZIndex=_i.prototype.$b,_i.prototype.get=_i.prototype.get,_i.prototype.getKeys=_i.prototype.P,_i.prototype.getProperties=_i.prototype.L,_i.prototype.set=_i.prototype.set,_i.prototype.setProperties=_i.prototype.H,_i.prototype.unset=_i.prototype.R,_i.prototype.changed=_i.prototype.u,_i.prototype.dispatchEvent=_i.prototype.b,_i.prototype.getRevision=_i.prototype.K,_i.prototype.on=_i.prototype.I,_i.prototype.once=_i.prototype.once,_i.prototype.un=_i.prototype.J,Ri.prototype.getExtent=Ri.prototype.G,Ri.prototype.getMaxResolution=Ri.prototype.lc,Ri.prototype.getMinResolution=Ri.prototype.mc,Ri.prototype.getOpacity=Ri.prototype.nc,Ri.prototype.getVisible=Ri.prototype.Jb,Ri.prototype.getZIndex=Ri.prototype.Ba,Ri.prototype.setExtent=Ri.prototype.Fc,Ri.prototype.setMaxResolution=Ri.prototype.Mc,Ri.prototype.setMinResolution=Ri.prototype.Nc,Ri.prototype.setOpacity=Ri.prototype.Gc,Ri.prototype.setVisible=Ri.prototype.Hc,Ri.prototype.setZIndex=Ri.prototype.$b,Ri.prototype.get=Ri.prototype.get,Ri.prototype.getKeys=Ri.prototype.P,Ri.prototype.getProperties=Ri.prototype.L,Ri.prototype.set=Ri.prototype.set,Ri.prototype.setProperties=Ri.prototype.H,Ri.prototype.unset=Ri.prototype.R,Ri.prototype.changed=Ri.prototype.u,Ri.prototype.dispatchEvent=Ri.prototype.b,Ri.prototype.getRevision=Ri.prototype.K,Ri.prototype.on=Ri.prototype.I,Ri.prototype.once=Ri.prototype.once,Ri.prototype.un=Ri.prototype.J,Vv.prototype.setMap=Vv.prototype.setMap,Vv.prototype.setSource=Vv.prototype.hd,Vv.prototype.getExtent=Vv.prototype.G,Vv.prototype.getMaxResolution=Vv.prototype.lc,Vv.prototype.getMinResolution=Vv.prototype.mc,Vv.prototype.getOpacity=Vv.prototype.nc,Vv.prototype.getVisible=Vv.prototype.Jb,Vv.prototype.getZIndex=Vv.prototype.Ba,Vv.prototype.setExtent=Vv.prototype.Fc,Vv.prototype.setMaxResolution=Vv.prototype.Mc,Vv.prototype.setMinResolution=Vv.prototype.Nc,Vv.prototype.setOpacity=Vv.prototype.Gc,Vv.prototype.setVisible=Vv.prototype.Hc,Vv.prototype.setZIndex=Vv.prototype.$b,Vv.prototype.get=Vv.prototype.get,Vv.prototype.getKeys=Vv.prototype.P,Vv.prototype.getProperties=Vv.prototype.L,Vv.prototype.set=Vv.prototype.set,Vv.prototype.setProperties=Vv.prototype.H,Vv.prototype.unset=Vv.prototype.R,Vv.prototype.changed=Vv.prototype.u,Vv.prototype.dispatchEvent=Vv.prototype.b,Vv.prototype.getRevision=Vv.prototype.K,Vv.prototype.on=Vv.prototype.I,Vv.prototype.once=Vv.prototype.once,Vv.prototype.un=Vv.prototype.J,ew.prototype.getSource=ew.prototype.ha,ew.prototype.getStyle=ew.prototype.B,ew.prototype.getStyleFunction=ew.prototype.ib,ew.prototype.setStyle=ew.prototype.j,ew.prototype.setMap=ew.prototype.setMap,ew.prototype.setSource=ew.prototype.hd,ew.prototype.getExtent=ew.prototype.G,ew.prototype.getMaxResolution=ew.prototype.lc,ew.prototype.getMinResolution=ew.prototype.mc,ew.prototype.getOpacity=ew.prototype.nc,ew.prototype.getVisible=ew.prototype.Jb,ew.prototype.getZIndex=ew.prototype.Ba,ew.prototype.setExtent=ew.prototype.Fc,ew.prototype.setMaxResolution=ew.prototype.Mc,ew.prototype.setMinResolution=ew.prototype.Nc,ew.prototype.setOpacity=ew.prototype.Gc,ew.prototype.setVisible=ew.prototype.Hc,ew.prototype.setZIndex=ew.prototype.$b,ew.prototype.get=ew.prototype.get,ew.prototype.getKeys=ew.prototype.P,ew.prototype.getProperties=ew.prototype.L,ew.prototype.set=ew.prototype.set,ew.prototype.setProperties=ew.prototype.H,ew.prototype.unset=ew.prototype.R,ew.prototype.changed=ew.prototype.u,ew.prototype.dispatchEvent=ew.prototype.b,ew.prototype.getRevision=ew.prototype.K,ew.prototype.on=ew.prototype.I,ew.prototype.once=ew.prototype.once,ew.prototype.un=ew.prototype.J,aw.prototype.setMap=aw.prototype.setMap,aw.prototype.setSource=aw.prototype.hd,aw.prototype.getExtent=aw.prototype.G,aw.prototype.getMaxResolution=aw.prototype.lc,aw.prototype.getMinResolution=aw.prototype.mc,aw.prototype.getOpacity=aw.prototype.nc,aw.prototype.getVisible=aw.prototype.Jb,aw.prototype.getZIndex=aw.prototype.Ba,aw.prototype.setExtent=aw.prototype.Fc,aw.prototype.setMaxResolution=aw.prototype.Mc,aw.prototype.setMinResolution=aw.prototype.Nc,aw.prototype.setOpacity=aw.prototype.Gc,aw.prototype.setVisible=aw.prototype.Hc,aw.prototype.setZIndex=aw.prototype.$b,aw.prototype.get=aw.prototype.get,aw.prototype.getKeys=aw.prototype.P,aw.prototype.getProperties=aw.prototype.L,aw.prototype.set=aw.prototype.set,aw.prototype.setProperties=aw.prototype.H,aw.prototype.unset=aw.prototype.R,aw.prototype.changed=aw.prototype.u,aw.prototype.dispatchEvent=aw.prototype.b,aw.prototype.getRevision=aw.prototype.K,aw.prototype.on=aw.prototype.I,aw.prototype.once=aw.prototype.once,aw.prototype.un=aw.prototype.J,sw.prototype.setMap=sw.prototype.setMap,sw.prototype.setSource=sw.prototype.hd,sw.prototype.getExtent=sw.prototype.G,sw.prototype.getMaxResolution=sw.prototype.lc,sw.prototype.getMinResolution=sw.prototype.mc,sw.prototype.getOpacity=sw.prototype.nc,sw.prototype.getVisible=sw.prototype.Jb,sw.prototype.getZIndex=sw.prototype.Ba,sw.prototype.setExtent=sw.prototype.Fc,sw.prototype.setMaxResolution=sw.prototype.Mc,sw.prototype.setMinResolution=sw.prototype.Nc,sw.prototype.setOpacity=sw.prototype.Gc,sw.prototype.setVisible=sw.prototype.Hc,sw.prototype.setZIndex=sw.prototype.$b,sw.prototype.get=sw.prototype.get,sw.prototype.getKeys=sw.prototype.P,sw.prototype.getProperties=sw.prototype.L,sw.prototype.set=sw.prototype.set,sw.prototype.setProperties=sw.prototype.H,sw.prototype.unset=sw.prototype.R,sw.prototype.changed=sw.prototype.u,sw.prototype.dispatchEvent=sw.prototype.b,sw.prototype.getRevision=sw.prototype.K,sw.prototype.on=sw.prototype.I,sw.prototype.once=sw.prototype.once,sw.prototype.un=sw.prototype.J,lw.prototype.getStyle=lw.prototype.B,lw.prototype.getStyleFunction=lw.prototype.ib,lw.prototype.setStyle=lw.prototype.j,lw.prototype.setMap=lw.prototype.setMap,lw.prototype.setSource=lw.prototype.hd,lw.prototype.getExtent=lw.prototype.G,lw.prototype.getMaxResolution=lw.prototype.lc,lw.prototype.getMinResolution=lw.prototype.mc,lw.prototype.getOpacity=lw.prototype.nc,lw.prototype.getVisible=lw.prototype.Jb,lw.prototype.getZIndex=lw.prototype.Ba,lw.prototype.setExtent=lw.prototype.Fc,lw.prototype.setMaxResolution=lw.prototype.Mc,lw.prototype.setMinResolution=lw.prototype.Nc,lw.prototype.setOpacity=lw.prototype.Gc,lw.prototype.setVisible=lw.prototype.Hc,lw.prototype.setZIndex=lw.prototype.$b,lw.prototype.get=lw.prototype.get,lw.prototype.getKeys=lw.prototype.P,lw.prototype.getProperties=lw.prototype.L,lw.prototype.set=lw.prototype.set,lw.prototype.setProperties=lw.prototype.H,lw.prototype.unset=lw.prototype.R,lw.prototype.changed=lw.prototype.u,lw.prototype.dispatchEvent=lw.prototype.b,lw.prototype.getRevision=lw.prototype.K,lw.prototype.on=lw.prototype.I,lw.prototype.once=lw.prototype.once,lw.prototype.un=lw.prototype.J,Yi.prototype.get=Yi.prototype.get,Yi.prototype.getKeys=Yi.prototype.P,Yi.prototype.getProperties=Yi.prototype.L,Yi.prototype.set=Yi.prototype.set,Yi.prototype.setProperties=Yi.prototype.H,Yi.prototype.unset=Yi.prototype.R,Yi.prototype.changed=Yi.prototype.u,Yi.prototype.dispatchEvent=Yi.prototype.b,Yi.prototype.getRevision=Yi.prototype.K,Yi.prototype.on=Yi.prototype.I,Yi.prototype.once=Yi.prototype.once,Yi.prototype.un=Yi.prototype.J,Ji.prototype.getActive=Ji.prototype.c,Ji.prototype.getMap=Ji.prototype.i,Ji.prototype.setActive=Ji.prototype.Ha,Ji.prototype.get=Ji.prototype.get,Ji.prototype.getKeys=Ji.prototype.P,Ji.prototype.getProperties=Ji.prototype.L,Ji.prototype.set=Ji.prototype.set,Ji.prototype.setProperties=Ji.prototype.H,Ji.prototype.unset=Ji.prototype.R,Ji.prototype.changed=Ji.prototype.u,Ji.prototype.dispatchEvent=Ji.prototype.b,Ji.prototype.getRevision=Ji.prototype.K,Ji.prototype.on=Ji.prototype.I,Ji.prototype.once=Ji.prototype.once,Ji.prototype.un=Ji.prototype.J,Pv.prototype.getActive=Pv.prototype.c,Pv.prototype.getMap=Pv.prototype.i,Pv.prototype.setActive=Pv.prototype.Ha,Pv.prototype.get=Pv.prototype.get,Pv.prototype.getKeys=Pv.prototype.P,Pv.prototype.getProperties=Pv.prototype.L,Pv.prototype.set=Pv.prototype.set,Pv.prototype.setProperties=Pv.prototype.H,Pv.prototype.unset=Pv.prototype.R,Pv.prototype.changed=Pv.prototype.u,Pv.prototype.dispatchEvent=Pv.prototype.b,Pv.prototype.getRevision=Pv.prototype.K,Pv.prototype.on=Pv.prototype.I,Pv.prototype.once=Pv.prototype.once,Pv.prototype.un=Pv.prototype.J,Rv.prototype.type=Rv.prototype.type,Rv.prototype.target=Rv.prototype.target,Rv.prototype.preventDefault=Rv.prototype.preventDefault,Rv.prototype.stopPropagation=Rv.prototype.stopPropagation,ur.prototype.getActive=ur.prototype.c,ur.prototype.getMap=ur.prototype.i,ur.prototype.setActive=ur.prototype.Ha,ur.prototype.get=ur.prototype.get,ur.prototype.getKeys=ur.prototype.P,ur.prototype.getProperties=ur.prototype.L,ur.prototype.set=ur.prototype.set,ur.prototype.setProperties=ur.prototype.H,ur.prototype.unset=ur.prototype.R,ur.prototype.changed=ur.prototype.u,ur.prototype.dispatchEvent=ur.prototype.b,ur.prototype.getRevision=ur.prototype.K,ur.prototype.on=ur.prototype.I,ur.prototype.once=ur.prototype.once,ur.prototype.un=ur.prototype.J,Cr.prototype.getActive=Cr.prototype.c,Cr.prototype.getMap=Cr.prototype.i,Cr.prototype.setActive=Cr.prototype.Ha,Cr.prototype.get=Cr.prototype.get,Cr.prototype.getKeys=Cr.prototype.P,Cr.prototype.getProperties=Cr.prototype.L,Cr.prototype.set=Cr.prototype.set,Cr.prototype.setProperties=Cr.prototype.H,Cr.prototype.unset=Cr.prototype.R,Cr.prototype.changed=Cr.prototype.u,Cr.prototype.dispatchEvent=Cr.prototype.b,Cr.prototype.getRevision=Cr.prototype.K,Cr.prototype.on=Cr.prototype.I,Cr.prototype.once=Cr.prototype.once,Cr.prototype.un=Cr.prototype.J,Dr.prototype.type=Dr.prototype.type,Dr.prototype.target=Dr.prototype.target,Dr.prototype.preventDefault=Dr.prototype.preventDefault,Dr.prototype.stopPropagation=Dr.prototype.stopPropagation,dr.prototype.getActive=dr.prototype.c,dr.prototype.getMap=dr.prototype.i,dr.prototype.setActive=dr.prototype.Ha,dr.prototype.get=dr.prototype.get,dr.prototype.getKeys=dr.prototype.P,dr.prototype.getProperties=dr.prototype.L,dr.prototype.set=dr.prototype.set,dr.prototype.setProperties=dr.prototype.H,dr.prototype.unset=dr.prototype.R,dr.prototype.changed=dr.prototype.u,dr.prototype.dispatchEvent=dr.prototype.b,dr.prototype.getRevision=dr.prototype.K,dr.prototype.on=dr.prototype.I,dr.prototype.once=dr.prototype.once,dr.prototype.un=dr.prototype.J,yr.prototype.getActive=yr.prototype.c,yr.prototype.getMap=yr.prototype.i,yr.prototype.setActive=yr.prototype.Ha,yr.prototype.get=yr.prototype.get,yr.prototype.getKeys=yr.prototype.P,yr.prototype.getProperties=yr.prototype.L,yr.prototype.set=yr.prototype.set,yr.prototype.setProperties=yr.prototype.H,yr.prototype.unset=yr.prototype.R,yr.prototype.changed=yr.prototype.u,yr.prototype.dispatchEvent=yr.prototype.b,yr.prototype.getRevision=yr.prototype.K,yr.prototype.on=yr.prototype.I,yr.prototype.once=yr.prototype.once,yr.prototype.un=yr.prototype.J,jv.prototype.getActive=jv.prototype.c,jv.prototype.getMap=jv.prototype.i,jv.prototype.setActive=jv.prototype.Ha,jv.prototype.get=jv.prototype.get,jv.prototype.getKeys=jv.prototype.P,jv.prototype.getProperties=jv.prototype.L,jv.prototype.set=jv.prototype.set,jv.prototype.setProperties=jv.prototype.H,jv.prototype.unset=jv.prototype.R,jv.prototype.changed=jv.prototype.u,jv.prototype.dispatchEvent=jv.prototype.b,jv.prototype.getRevision=jv.prototype.K,jv.prototype.on=jv.prototype.I,jv.prototype.once=jv.prototype.once,jv.prototype.un=jv.prototype.J,Ir.prototype.getGeometry=Ir.prototype.U,Ir.prototype.getActive=Ir.prototype.c,Ir.prototype.getMap=Ir.prototype.i,Ir.prototype.setActive=Ir.prototype.Ha,Ir.prototype.get=Ir.prototype.get,Ir.prototype.getKeys=Ir.prototype.P,Ir.prototype.getProperties=Ir.prototype.L,Ir.prototype.set=Ir.prototype.set,Ir.prototype.setProperties=Ir.prototype.H,Ir.prototype.unset=Ir.prototype.R,Ir.prototype.changed=Ir.prototype.u,Ir.prototype.dispatchEvent=Ir.prototype.b,Ir.prototype.getRevision=Ir.prototype.K,Ir.prototype.on=Ir.prototype.I,Ir.prototype.once=Ir.prototype.once,Ir.prototype.un=Ir.prototype.J,tb.prototype.getActive=tb.prototype.c,tb.prototype.getMap=tb.prototype.i,tb.prototype.setActive=tb.prototype.Ha,tb.prototype.get=tb.prototype.get,tb.prototype.getKeys=tb.prototype.P,tb.prototype.getProperties=tb.prototype.L,tb.prototype.set=tb.prototype.set,tb.prototype.setProperties=tb.prototype.H,tb.prototype.unset=tb.prototype.R,tb.prototype.changed=tb.prototype.u,tb.prototype.dispatchEvent=tb.prototype.b,tb.prototype.getRevision=tb.prototype.K,tb.prototype.on=tb.prototype.I,tb.prototype.once=tb.prototype.once,tb.prototype.un=tb.prototype.J,fb.prototype.type=fb.prototype.type,fb.prototype.target=fb.prototype.target,fb.prototype.preventDefault=fb.prototype.preventDefault,fb.prototype.stopPropagation=fb.prototype.stopPropagation,mb.prototype.getActive=mb.prototype.c,mb.prototype.getMap=mb.prototype.i,mb.prototype.setActive=mb.prototype.Ha,mb.prototype.get=mb.prototype.get,mb.prototype.getKeys=mb.prototype.P,mb.prototype.getProperties=mb.prototype.L,mb.prototype.set=mb.prototype.set,mb.prototype.setProperties=mb.prototype.H,mb.prototype.unset=mb.prototype.R,mb.prototype.changed=mb.prototype.u,mb.prototype.dispatchEvent=mb.prototype.b,mb.prototype.getRevision=mb.prototype.K,mb.prototype.on=mb.prototype.I,mb.prototype.once=mb.prototype.once,mb.prototype.un=mb.prototype.J,Cb.prototype.type=Cb.prototype.type,Cb.prototype.target=Cb.prototype.target,Cb.prototype.preventDefault=Cb.prototype.preventDefault,Cb.prototype.stopPropagation=Cb.prototype.stopPropagation,Or.prototype.getActive=Or.prototype.c,Or.prototype.getMap=Or.prototype.i,Or.prototype.setActive=Or.prototype.Ha,Or.prototype.get=Or.prototype.get,Or.prototype.getKeys=Or.prototype.P,Or.prototype.getProperties=Or.prototype.L,Or.prototype.set=Or.prototype.set,Or.prototype.setProperties=Or.prototype.H,Or.prototype.unset=Or.prototype.R,Or.prototype.changed=Or.prototype.u,Or.prototype.dispatchEvent=Or.prototype.b,Or.prototype.getRevision=Or.prototype.K,Or.prototype.on=Or.prototype.I,Or.prototype.once=Or.prototype.once,Or.prototype.un=Or.prototype.J,Lr.prototype.getActive=Lr.prototype.c,Lr.prototype.getMap=Lr.prototype.i,Lr.prototype.setActive=Lr.prototype.Ha,Lr.prototype.get=Lr.prototype.get,Lr.prototype.getKeys=Lr.prototype.P,Lr.prototype.getProperties=Lr.prototype.L,Lr.prototype.set=Lr.prototype.set,Lr.prototype.setProperties=Lr.prototype.H,Lr.prototype.unset=Lr.prototype.R,Lr.prototype.changed=Lr.prototype.u,Lr.prototype.dispatchEvent=Lr.prototype.b,Lr.prototype.getRevision=Lr.prototype.K,Lr.prototype.on=Lr.prototype.I,Lr.prototype.once=Lr.prototype.once,Lr.prototype.un=Lr.prototype.J,_b.prototype.getActive=_b.prototype.c,_b.prototype.getMap=_b.prototype.i,_b.prototype.setActive=_b.prototype.Ha,_b.prototype.get=_b.prototype.get,_b.prototype.getKeys=_b.prototype.P,_b.prototype.getProperties=_b.prototype.L,_b.prototype.set=_b.prototype.set,_b.prototype.setProperties=_b.prototype.H,_b.prototype.unset=_b.prototype.R,_b.prototype.changed=_b.prototype.u,_b.prototype.dispatchEvent=_b.prototype.b,_b.prototype.getRevision=_b.prototype.K,_b.prototype.on=_b.prototype.I,_b.prototype.once=_b.prototype.once,_b.prototype.un=_b.prototype.J,jb.prototype.type=jb.prototype.type,jb.prototype.target=jb.prototype.target,jb.prototype.preventDefault=jb.prototype.preventDefault,jb.prototype.stopPropagation=jb.prototype.stopPropagation,jr.prototype.getActive=jr.prototype.c,jr.prototype.getMap=jr.prototype.i,jr.prototype.setActive=jr.prototype.Ha,jr.prototype.get=jr.prototype.get,jr.prototype.getKeys=jr.prototype.P,jr.prototype.getProperties=jr.prototype.L,jr.prototype.set=jr.prototype.set,jr.prototype.setProperties=jr.prototype.H,jr.prototype.unset=jr.prototype.R,jr.prototype.changed=jr.prototype.u,jr.prototype.dispatchEvent=jr.prototype.b,jr.prototype.getRevision=jr.prototype.K,jr.prototype.on=jr.prototype.I,jr.prototype.once=jr.prototype.once,jr.prototype.un=jr.prototype.J,Vr.prototype.getActive=Vr.prototype.c,Vr.prototype.getMap=Vr.prototype.i,Vr.prototype.setActive=Vr.prototype.Ha,Vr.prototype.get=Vr.prototype.get,Vr.prototype.getKeys=Vr.prototype.P,Vr.prototype.getProperties=Vr.prototype.L,Vr.prototype.set=Vr.prototype.set,Vr.prototype.setProperties=Vr.prototype.H,Vr.prototype.unset=Vr.prototype.R,Vr.prototype.changed=Vr.prototype.u,Vr.prototype.dispatchEvent=Vr.prototype.b,Vr.prototype.getRevision=Vr.prototype.K,Vr.prototype.on=Vr.prototype.I,Vr.prototype.once=Vr.prototype.once,Vr.prototype.un=Vr.prototype.J,zr.prototype.getActive=zr.prototype.c,zr.prototype.getMap=zr.prototype.i,zr.prototype.setActive=zr.prototype.Ha,zr.prototype.get=zr.prototype.get,zr.prototype.getKeys=zr.prototype.P,zr.prototype.getProperties=zr.prototype.L,zr.prototype.set=zr.prototype.set,zr.prototype.setProperties=zr.prototype.H,zr.prototype.unset=zr.prototype.R,zr.prototype.changed=zr.prototype.u,zr.prototype.dispatchEvent=zr.prototype.b,zr.prototype.getRevision=zr.prototype.K,zr.prototype.on=zr.prototype.I,zr.prototype.once=zr.prototype.once,zr.prototype.un=zr.prototype.J,Fb.prototype.getActive=Fb.prototype.c,Fb.prototype.getMap=Fb.prototype.i,Fb.prototype.setActive=Fb.prototype.Ha,Fb.prototype.get=Fb.prototype.get,Fb.prototype.getKeys=Fb.prototype.P,Fb.prototype.getProperties=Fb.prototype.L,Fb.prototype.set=Fb.prototype.set,Fb.prototype.setProperties=Fb.prototype.H,Fb.prototype.unset=Fb.prototype.R,Fb.prototype.changed=Fb.prototype.u,Fb.prototype.dispatchEvent=Fb.prototype.b,Fb.prototype.getRevision=Fb.prototype.K,Fb.prototype.on=Fb.prototype.I,Fb.prototype.once=Fb.prototype.once,Fb.prototype.un=Fb.prototype.J,Hb.prototype.type=Hb.prototype.type,Hb.prototype.target=Hb.prototype.target,Hb.prototype.preventDefault=Hb.prototype.preventDefault,Hb.prototype.stopPropagation=Hb.prototype.stopPropagation,Bb.prototype.getActive=Bb.prototype.c,Bb.prototype.getMap=Bb.prototype.i,Bb.prototype.setActive=Bb.prototype.Ha,Bb.prototype.get=Bb.prototype.get,Bb.prototype.getKeys=Bb.prototype.P,Bb.prototype.getProperties=Bb.prototype.L,Bb.prototype.set=Bb.prototype.set,Bb.prototype.setProperties=Bb.prototype.H,Bb.prototype.unset=Bb.prototype.R,Bb.prototype.changed=Bb.prototype.u,Bb.prototype.dispatchEvent=Bb.prototype.b,Bb.prototype.getRevision=Bb.prototype.K,Bb.prototype.on=Bb.prototype.I,Bb.prototype.once=Bb.prototype.once,Bb.prototype.un=Bb.prototype.J,Gb.prototype.getActive=Gb.prototype.c,Gb.prototype.getMap=Gb.prototype.i,Gb.prototype.setActive=Gb.prototype.Ha,Gb.prototype.get=Gb.prototype.get,Gb.prototype.getKeys=Gb.prototype.P,Gb.prototype.getProperties=Gb.prototype.L,Gb.prototype.set=Gb.prototype.set,Gb.prototype.setProperties=Gb.prototype.H,Gb.prototype.unset=Gb.prototype.R,Gb.prototype.changed=Gb.prototype.u,Gb.prototype.dispatchEvent=Gb.prototype.b,Gb.prototype.getRevision=Gb.prototype.K,Gb.prototype.on=Gb.prototype.I,Gb.prototype.once=Gb.prototype.once,Gb.prototype.un=Gb.prototype.J,tw.prototype.type=tw.prototype.type,tw.prototype.target=tw.prototype.target,tw.prototype.preventDefault=tw.prototype.preventDefault,tw.prototype.stopPropagation=tw.prototype.stopPropagation,So.prototype.get=So.prototype.get,So.prototype.getKeys=So.prototype.P,So.prototype.getProperties=So.prototype.L,So.prototype.set=So.prototype.set,So.prototype.setProperties=So.prototype.H,So.prototype.unset=So.prototype.R,So.prototype.changed=So.prototype.u,So.prototype.dispatchEvent=So.prototype.b,So.prototype.getRevision=So.prototype.K,So.prototype.on=So.prototype.I,So.prototype.once=So.prototype.once,So.prototype.un=So.prototype.J,To.prototype.getClosestPoint=To.prototype.Ib,To.prototype.intersectsCoordinate=To.prototype.Bb,To.prototype.getExtent=To.prototype.G,To.prototype.rotate=To.prototype.rotate,To.prototype.scale=To.prototype.scale,To.prototype.simplify=To.prototype.Sb,To.prototype.transform=To.prototype.mb,To.prototype.get=To.prototype.get,To.prototype.getKeys=To.prototype.P,To.prototype.getProperties=To.prototype.L,To.prototype.set=To.prototype.set,To.prototype.setProperties=To.prototype.H,To.prototype.unset=To.prototype.R,To.prototype.changed=To.prototype.u,To.prototype.dispatchEvent=To.prototype.b,To.prototype.getRevision=To.prototype.K,To.prototype.on=To.prototype.I,To.prototype.once=To.prototype.once,To.prototype.un=To.prototype.J,kv.prototype.getFirstCoordinate=kv.prototype.fc,kv.prototype.getLastCoordinate=kv.prototype.gc,kv.prototype.getLayout=kv.prototype.ic,kv.prototype.rotate=kv.prototype.rotate,kv.prototype.scale=kv.prototype.scale,kv.prototype.getClosestPoint=kv.prototype.Ib,kv.prototype.intersectsCoordinate=kv.prototype.Bb,kv.prototype.getExtent=kv.prototype.G,kv.prototype.simplify=kv.prototype.Sb,kv.prototype.get=kv.prototype.get,kv.prototype.getKeys=kv.prototype.P,kv.prototype.getProperties=kv.prototype.L,kv.prototype.set=kv.prototype.set,kv.prototype.setProperties=kv.prototype.H,kv.prototype.unset=kv.prototype.R,kv.prototype.changed=kv.prototype.u,kv.prototype.dispatchEvent=kv.prototype.b,kv.prototype.getRevision=kv.prototype.K,kv.prototype.on=kv.prototype.I,kv.prototype.once=kv.prototype.once,kv.prototype.un=kv.prototype.J,Td.prototype.getClosestPoint=Td.prototype.Ib,Td.prototype.intersectsCoordinate=Td.prototype.Bb,Td.prototype.getExtent=Td.prototype.G,Td.prototype.rotate=Td.prototype.rotate,Td.prototype.scale=Td.prototype.scale,Td.prototype.simplify=Td.prototype.Sb,Td.prototype.transform=Td.prototype.mb,Td.prototype.get=Td.prototype.get,Td.prototype.getKeys=Td.prototype.P,Td.prototype.getProperties=Td.prototype.L,Td.prototype.set=Td.prototype.set,Td.prototype.setProperties=Td.prototype.H,Td.prototype.unset=Td.prototype.R,Td.prototype.changed=Td.prototype.u,Td.prototype.dispatchEvent=Td.prototype.b,Td.prototype.getRevision=Td.prototype.K,Td.prototype.on=Td.prototype.I,Td.prototype.once=Td.prototype.once,Td.prototype.un=Td.prototype.J,Go.prototype.getFirstCoordinate=Go.prototype.fc,Go.prototype.getLastCoordinate=Go.prototype.gc,Go.prototype.getLayout=Go.prototype.ic,Go.prototype.rotate=Go.prototype.rotate,Go.prototype.scale=Go.prototype.scale,Go.prototype.getClosestPoint=Go.prototype.Ib,Go.prototype.intersectsCoordinate=Go.prototype.Bb,Go.prototype.getExtent=Go.prototype.G,Go.prototype.simplify=Go.prototype.Sb,Go.prototype.transform=Go.prototype.mb,Go.prototype.get=Go.prototype.get,Go.prototype.getKeys=Go.prototype.P,Go.prototype.getProperties=Go.prototype.L,Go.prototype.set=Go.prototype.set,Go.prototype.setProperties=Go.prototype.H,Go.prototype.unset=Go.prototype.R,Go.prototype.changed=Go.prototype.u,Go.prototype.dispatchEvent=Go.prototype.b,Go.prototype.getRevision=Go.prototype.K,Go.prototype.on=Go.prototype.I,Go.prototype.once=Go.prototype.once,Go.prototype.un=Go.prototype.J,yl.prototype.getFirstCoordinate=yl.prototype.fc,yl.prototype.getLastCoordinate=yl.prototype.gc,yl.prototype.getLayout=yl.prototype.ic,yl.prototype.rotate=yl.prototype.rotate,yl.prototype.scale=yl.prototype.scale,yl.prototype.getClosestPoint=yl.prototype.Ib,yl.prototype.intersectsCoordinate=yl.prototype.Bb,yl.prototype.getExtent=yl.prototype.G,yl.prototype.simplify=yl.prototype.Sb,yl.prototype.transform=yl.prototype.mb,yl.prototype.get=yl.prototype.get,yl.prototype.getKeys=yl.prototype.P,yl.prototype.getProperties=yl.prototype.L,yl.prototype.set=yl.prototype.set,yl.prototype.setProperties=yl.prototype.H,yl.prototype.unset=yl.prototype.R,yl.prototype.changed=yl.prototype.u,yl.prototype.dispatchEvent=yl.prototype.b,yl.prototype.getRevision=yl.prototype.K,yl.prototype.on=yl.prototype.I,yl.prototype.once=yl.prototype.once,yl.prototype.un=yl.prototype.J,Xp.prototype.getFirstCoordinate=Xp.prototype.fc,Xp.prototype.getLastCoordinate=Xp.prototype.gc,Xp.prototype.getLayout=Xp.prototype.ic,Xp.prototype.rotate=Xp.prototype.rotate,Xp.prototype.scale=Xp.prototype.scale,Xp.prototype.getClosestPoint=Xp.prototype.Ib,Xp.prototype.intersectsCoordinate=Xp.prototype.Bb,Xp.prototype.getExtent=Xp.prototype.G,Xp.prototype.simplify=Xp.prototype.Sb,Xp.prototype.transform=Xp.prototype.mb,Xp.prototype.get=Xp.prototype.get,Xp.prototype.getKeys=Xp.prototype.P,Xp.prototype.getProperties=Xp.prototype.L,Xp.prototype.set=Xp.prototype.set,Xp.prototype.setProperties=Xp.prototype.H,Xp.prototype.unset=Xp.prototype.R,Xp.prototype.changed=Xp.prototype.u,Xp.prototype.dispatchEvent=Xp.prototype.b,Xp.prototype.getRevision=Xp.prototype.K,Xp.prototype.on=Xp.prototype.I,Xp.prototype.once=Xp.prototype.once,Xp.prototype.un=Xp.prototype.J,Jp.prototype.getFirstCoordinate=Jp.prototype.fc,Jp.prototype.getLastCoordinate=Jp.prototype.gc,Jp.prototype.getLayout=Jp.prototype.ic,Jp.prototype.rotate=Jp.prototype.rotate,Jp.prototype.scale=Jp.prototype.scale,Jp.prototype.getClosestPoint=Jp.prototype.Ib,Jp.prototype.intersectsCoordinate=Jp.prototype.Bb,Jp.prototype.getExtent=Jp.prototype.G,Jp.prototype.simplify=Jp.prototype.Sb,Jp.prototype.transform=Jp.prototype.mb,Jp.prototype.get=Jp.prototype.get,Jp.prototype.getKeys=Jp.prototype.P,Jp.prototype.getProperties=Jp.prototype.L,Jp.prototype.set=Jp.prototype.set,Jp.prototype.setProperties=Jp.prototype.H,Jp.prototype.unset=Jp.prototype.R,Jp.prototype.changed=Jp.prototype.u,Jp.prototype.dispatchEvent=Jp.prototype.b,Jp.prototype.getRevision=Jp.prototype.K,Jp.prototype.on=Jp.prototype.I,Jp.prototype.once=Jp.prototype.once,Jp.prototype.un=Jp.prototype.J,Qp.prototype.getFirstCoordinate=Qp.prototype.fc,Qp.prototype.getLastCoordinate=Qp.prototype.gc,Qp.prototype.getLayout=Qp.prototype.ic,Qp.prototype.rotate=Qp.prototype.rotate,Qp.prototype.scale=Qp.prototype.scale,Qp.prototype.getClosestPoint=Qp.prototype.Ib,Qp.prototype.intersectsCoordinate=Qp.prototype.Bb,Qp.prototype.getExtent=Qp.prototype.G,Qp.prototype.simplify=Qp.prototype.Sb,Qp.prototype.transform=Qp.prototype.mb,Qp.prototype.get=Qp.prototype.get,Qp.prototype.getKeys=Qp.prototype.P,Qp.prototype.getProperties=Qp.prototype.L,Qp.prototype.set=Qp.prototype.set,Qp.prototype.setProperties=Qp.prototype.H,Qp.prototype.unset=Qp.prototype.R,Qp.prototype.changed=Qp.prototype.u,Qp.prototype.dispatchEvent=Qp.prototype.b,Qp.prototype.getRevision=Qp.prototype.K,Qp.prototype.on=Qp.prototype.I,Qp.prototype.once=Qp.prototype.once,Qp.prototype.un=Qp.prototype.J,Ko.prototype.getFirstCoordinate=Ko.prototype.fc,Ko.prototype.getLastCoordinate=Ko.prototype.gc,Ko.prototype.getLayout=Ko.prototype.ic,Ko.prototype.rotate=Ko.prototype.rotate,Ko.prototype.scale=Ko.prototype.scale,Ko.prototype.getClosestPoint=Ko.prototype.Ib,Ko.prototype.intersectsCoordinate=Ko.prototype.Bb,Ko.prototype.getExtent=Ko.prototype.G,Ko.prototype.simplify=Ko.prototype.Sb,Ko.prototype.transform=Ko.prototype.mb,Ko.prototype.get=Ko.prototype.get,Ko.prototype.getKeys=Ko.prototype.P,Ko.prototype.getProperties=Ko.prototype.L,Ko.prototype.set=Ko.prototype.set,Ko.prototype.setProperties=Ko.prototype.H,Ko.prototype.unset=Ko.prototype.R,Ko.prototype.changed=Ko.prototype.u,Ko.prototype.dispatchEvent=Ko.prototype.b,Ko.prototype.getRevision=Ko.prototype.K,Ko.prototype.on=Ko.prototype.I,Ko.prototype.once=Ko.prototype.once,Ko.prototype.un=Ko.prototype.J,si.prototype.getFirstCoordinate=si.prototype.fc,si.prototype.getLastCoordinate=si.prototype.gc,si.prototype.getLayout=si.prototype.ic,si.prototype.rotate=si.prototype.rotate,si.prototype.scale=si.prototype.scale,si.prototype.getClosestPoint=si.prototype.Ib,si.prototype.intersectsCoordinate=si.prototype.Bb,si.prototype.getExtent=si.prototype.G,si.prototype.simplify=si.prototype.Sb,si.prototype.transform=si.prototype.mb,si.prototype.get=si.prototype.get,si.prototype.getKeys=si.prototype.P,si.prototype.getProperties=si.prototype.L,si.prototype.set=si.prototype.set,si.prototype.setProperties=si.prototype.H,si.prototype.unset=si.prototype.R,si.prototype.changed=si.prototype.u,si.prototype.dispatchEvent=si.prototype.b,si.prototype.getRevision=si.prototype.K,si.prototype.on=si.prototype.I,si.prototype.once=si.prototype.once,si.prototype.un=si.prototype.J,Sh.prototype.readFeatures=Sh.prototype.Qa,Lh.prototype.readFeatures=Lh.prototype.Qa,Sh.prototype.readFeatures=Sh.prototype.Qa,Ii.prototype.get=Ii.prototype.get,Ii.prototype.getKeys=Ii.prototype.P,Ii.prototype.getProperties=Ii.prototype.L,Ii.prototype.set=Ii.prototype.set,Ii.prototype.setProperties=Ii.prototype.H,Ii.prototype.unset=Ii.prototype.R,Ii.prototype.changed=Ii.prototype.u,Ii.prototype.dispatchEvent=Ii.prototype.b,Ii.prototype.getRevision=Ii.prototype.K,Ii.prototype.on=Ii.prototype.I,Ii.prototype.once=Ii.prototype.once,Ii.prototype.un=Ii.prototype.J,Fi.prototype.getMap=Fi.prototype.f,Fi.prototype.setMap=Fi.prototype.setMap,Fi.prototype.setTarget=Fi.prototype.i,Fi.prototype.get=Fi.prototype.get,Fi.prototype.getKeys=Fi.prototype.P,Fi.prototype.getProperties=Fi.prototype.L,Fi.prototype.set=Fi.prototype.set,Fi.prototype.setProperties=Fi.prototype.H,Fi.prototype.unset=Fi.prototype.R,Fi.prototype.changed=Fi.prototype.u,Fi.prototype.dispatchEvent=Fi.prototype.b,Fi.prototype.getRevision=Fi.prototype.K,Fi.prototype.on=Fi.prototype.I,Fi.prototype.once=Fi.prototype.once,Fi.prototype.un=Fi.prototype.J,Ku.prototype.getMap=Ku.prototype.f,Ku.prototype.setMap=Ku.prototype.setMap,Ku.prototype.setTarget=Ku.prototype.i,Ku.prototype.get=Ku.prototype.get,Ku.prototype.getKeys=Ku.prototype.P,Ku.prototype.getProperties=Ku.prototype.L,Ku.prototype.set=Ku.prototype.set,Ku.prototype.setProperties=Ku.prototype.H,Ku.prototype.unset=Ku.prototype.R,Ku.prototype.changed=Ku.prototype.u,Ku.prototype.dispatchEvent=Ku.prototype.b,Ku.prototype.getRevision=Ku.prototype.K,Ku.prototype.on=Ku.prototype.I,Ku.prototype.once=Ku.prototype.once,Ku.prototype.un=Ku.prototype.J,tp.prototype.getMap=tp.prototype.f,tp.prototype.setMap=tp.prototype.setMap,tp.prototype.setTarget=tp.prototype.i,tp.prototype.get=tp.prototype.get,tp.prototype.getKeys=tp.prototype.P,tp.prototype.getProperties=tp.prototype.L,tp.prototype.set=tp.prototype.set,tp.prototype.setProperties=tp.prototype.H,tp.prototype.unset=tp.prototype.R,tp.prototype.changed=tp.prototype.u,tp.prototype.dispatchEvent=tp.prototype.b,tp.prototype.getRevision=tp.prototype.K,tp.prototype.on=tp.prototype.I,tp.prototype.once=tp.prototype.once,tp.prototype.un=tp.prototype.J,rp.prototype.getMap=rp.prototype.f,rp.prototype.setMap=rp.prototype.setMap,rp.prototype.setTarget=rp.prototype.i,rp.prototype.get=rp.prototype.get,rp.prototype.getKeys=rp.prototype.P,rp.prototype.getProperties=rp.prototype.L,rp.prototype.set=rp.prototype.set,rp.prototype.setProperties=rp.prototype.H,rp.prototype.unset=rp.prototype.R,rp.prototype.changed=rp.prototype.u,rp.prototype.dispatchEvent=rp.prototype.b,rp.prototype.getRevision=rp.prototype.K,rp.prototype.on=rp.prototype.I,rp.prototype.once=rp.prototype.once,rp.prototype.un=rp.prototype.J,Vi.prototype.getMap=Vi.prototype.f,Vi.prototype.setMap=Vi.prototype.setMap,Vi.prototype.setTarget=Vi.prototype.i,Vi.prototype.get=Vi.prototype.get,Vi.prototype.getKeys=Vi.prototype.P,Vi.prototype.getProperties=Vi.prototype.L,Vi.prototype.set=Vi.prototype.set,Vi.prototype.setProperties=Vi.prototype.H,Vi.prototype.unset=Vi.prototype.R,Vi.prototype.changed=Vi.prototype.u,Vi.prototype.dispatchEvent=Vi.prototype.b,Vi.prototype.getRevision=Vi.prototype.K,Vi.prototype.on=Vi.prototype.I,Vi.prototype.once=Vi.prototype.once,Vi.prototype.un=Vi.prototype.J,up.prototype.getMap=up.prototype.f,up.prototype.setMap=up.prototype.setMap,up.prototype.setTarget=up.prototype.i,up.prototype.get=up.prototype.get,up.prototype.getKeys=up.prototype.P,up.prototype.getProperties=up.prototype.L,up.prototype.set=up.prototype.set,up.prototype.setProperties=up.prototype.H,up.prototype.unset=up.prototype.R,up.prototype.changed=up.prototype.u,up.prototype.dispatchEvent=up.prototype.b,up.prototype.getRevision=up.prototype.K,up.prototype.on=up.prototype.I,up.prototype.once=up.prototype.once,up.prototype.un=up.prototype.J,qi.prototype.getMap=qi.prototype.f,qi.prototype.setMap=qi.prototype.setMap,qi.prototype.setTarget=qi.prototype.i,qi.prototype.get=qi.prototype.get,qi.prototype.getKeys=qi.prototype.P,qi.prototype.getProperties=qi.prototype.L,qi.prototype.set=qi.prototype.set,qi.prototype.setProperties=qi.prototype.H,qi.prototype.unset=qi.prototype.R,qi.prototype.changed=qi.prototype.u,qi.prototype.dispatchEvent=qi.prototype.b,qi.prototype.getRevision=qi.prototype.K,qi.prototype.on=qi.prototype.I,qi.prototype.once=qi.prototype.once,qi.prototype.un=qi.prototype.J,mp.prototype.getMap=mp.prototype.f,mp.prototype.setMap=mp.prototype.setMap,mp.prototype.setTarget=mp.prototype.i,mp.prototype.get=mp.prototype.get,mp.prototype.getKeys=mp.prototype.P,mp.prototype.getProperties=mp.prototype.L,mp.prototype.set=mp.prototype.set,mp.prototype.setProperties=mp.prototype.H,mp.prototype.unset=mp.prototype.R,mp.prototype.changed=mp.prototype.u,mp.prototype.dispatchEvent=mp.prototype.b,mp.prototype.getRevision=mp.prototype.K,mp.prototype.on=mp.prototype.I,mp.prototype.once=mp.prototype.once,mp.prototype.un=mp.prototype.J,wp.prototype.getMap=wp.prototype.f,wp.prototype.setMap=wp.prototype.setMap,wp.prototype.setTarget=wp.prototype.i,wp.prototype.get=wp.prototype.get,wp.prototype.getKeys=wp.prototype.P,wp.prototype.getProperties=wp.prototype.L,wp.prototype.set=wp.prototype.set,wp.prototype.setProperties=wp.prototype.H,wp.prototype.unset=wp.prototype.R,wp.prototype.changed=wp.prototype.u,wp.prototype.dispatchEvent=wp.prototype.b,wp.prototype.getRevision=wp.prototype.K,wp.prototype.on=wp.prototype.I,wp.prototype.once=wp.prototype.once,wp.prototype.un=wp.prototype.J,o.ol},"object"==typeof n?e.exports=i():"function"==typeof define&&define.amd?define([],i):o.ol=i()},{}],66:[function(t,e,n){var o,i;o=this,i=function(){"use strict";var t=1,e=2,n=4,o=5,i=484813681109536e-20,r=Math.PI/2,a=.16666666666666666,s=.04722222222222222,l=.022156084656084655,c=1e-10,u=.017453292519943295,p=57.29577951308232,h=Math.PI/4,d=2*Math.PI,f=3.14159265359,m={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},g={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},y=/[\s_\-\/\(\)]/g;function v(t,e){if(t[e])return t[e];for(var n,o=Object.keys(t),i=e.toLowerCase().replace(y,""),r=-1;++r<o.length;)if((n=o[r]).toLowerCase().replace(y,"")===i)return t[n]}var b=function(t){var e,n,o,i={},r=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*u},lat_1:function(t){i.lat1=t*u},lat_2:function(t){i.lat2=t*u},lat_ts:function(t){i.lat_ts=t*u},lon_0:function(t){i.long0=t*u},lon_1:function(t){i.long1=t*u},lon_2:function(t){i.long2=t*u},alpha:function(t){i.alpha=parseFloat(t)*u},lonc:function(t){i.longc=t*u},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=v(g,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*u},pm:function(t){var e=v(m,t);i.from_greenwich=(e||parseFloat(t))*u},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in r)n=r[e],e in a?"function"==typeof(o=a[e])?o(n):i[o]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},w=1,E=/\s/,M=/[A-Za-z]/,C=/[A-Za-z84]/,_=/[,\]]/,x=/[\d\.E\-\+]/;function S(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=w}function T(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var o=e?{}:t,i=n.reduce(function(t,e){return k(e,t),t},o);e&&(t[e]=i)}function k(t,e){if(Array.isArray(t)){var n,o=t.shift();if("PARAMETER"===o&&(o=t.shift()),1===t.length)return Array.isArray(t[0])?(e[o]={},void k(t[0],e[o])):void(e[o]=t[0]);if(t.length)if("TOWGS84"!==o)switch(Array.isArray(o)||(e[o]={}),o){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[o]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&k(t[2],e[o]));case"SPHEROID":case"ELLIPSOID":return e[o]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&k(t[3],e[o]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void T(e,o,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return k(t,e[o]);return T(e,o,t)}else e[o]=t;else e[o]=!0}else e[t]=!0}S.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;E.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case w:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},S.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(_.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},S.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=w)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=w,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},S.prototype.number=function(t){if(!x.test(t)){if(_.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},S.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},S.prototype.keyword=function(t){if(C.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=w)}if(!_.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},S.prototype.neutral=function(t){if(M.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(x.test(t))return this.word=t,void(this.state=3);if(!_.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},S.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var A=.017453292519943295;function P(t){return t*A}var D=function(t){var e=new S(t).output(),n=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",n]);var i={};return k(e,i),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",P],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",P],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",P],["lat0","latitude_of_origin",P],["lat0","standard_parallel_1",P],["lat1","standard_parallel_1",P],["lat2","standard_parallel_2",P],["azimuth","Azimuth"],["alpha","azimuth",P],["srsCode","name"]].forEach(function(e){return n=t,i=(o=e)[0],r=o[1],void(!(i in n)&&r in n&&(n[i]=n[r],3===o.length&&(n[i]=o[2](n[i]))));var n,o,i,r}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=P(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i};function I(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?I[t]=b(arguments[1]):I[t]=D(arguments[1]):I[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?I.apply(e,t):I(t)});if("string"==typeof t){if(t in I)return I[t]}else"EPSG"in t?I["EPSG:"+t.EPSG]=t:"ESRI"in t?I["ESRI:"+t.ESRI]=t:"IAU2000"in t?I["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(I);var O=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var N=["3857","900913","3785","102113"];function L(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in I}(t))return I[t];if(function(t){return O.some(function(e){return t.indexOf(e)>-1})}(t)){var e=D(t);if(function(t){var e=v(t,"authority");if(e){var n=v(e,"epsg");return n&&N.indexOf(n)>-1}}(e))return I["EPSG:3857"];var n=function(t){var e=v(t,"extension");if(e)return v(e,"proj4")}(e);return n?b(n):e}return function(t){return"+"===t[0]}(t)?b(t):void 0}var R=function(t,e){var n,o;if(t=t||{},!e)return t;for(o in e)void 0!==(n=e[o])&&(t[o]=n);return t},j=function(t,e,n){var o=t*e;return n/Math.sqrt(1-o*o)},F=function(t){return t<0?-1:1},U=function(t){return Math.abs(t)<=f?t:t-F(t)*d},H=function(t,e,n){var o=t*n,i=.5*t;return o=Math.pow((1-o)/(1+o),i),Math.tan(.5*(r-e))/o},V=function(t,e){for(var n,o,i=.5*t,a=r-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=o=r-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-a,Math.abs(o)<=1e-10)return a;return-9999};function B(t){return t}var q=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,o=t.x,i=t.y;if(i*p>90&&i*p<-90&&o*p>180&&o*p<-180)return null;if(Math.abs(Math.abs(i)-r)<=c)return null;if(this.sphere)e=this.x0+this.a*this.k0*U(o-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var a=Math.sin(i),s=H(this.e,i,a);e=this.x0+this.a*this.k0*U(o-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,o=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=r-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(n=V(this.e,a)))return null}return e=U(this.long0+o/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:B,inverse:B,names:["longlat","identity"]}],W={},z=[];function G(t,e){var n=z.length;return t.names?(z[n]=t,t.names.forEach(function(t){W[t.toLowerCase()]=n}),this):(console.log(e),!0)}var Y={start:function(){q.forEach(G)},add:G,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==W[e]&&z[W[e]]?z[W[e]]:void 0}},K={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},X=K.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};K.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Z={};function J(r,u){if(!(this instanceof J))return new J(r);u=u||function(t){if(t)throw t};var p=L(r);if("object"==typeof p){var h=J.projections.get(p.projName);if(h){if(p.datumCode&&"none"!==p.datumCode){var d=v(Z,p.datumCode);d&&(p.datum_params=d.towgs84?d.towgs84.split(","):null,p.ellps=d.ellipse,p.datumName=d.datumName?d.datumName:p.datumCode)}p.k0=p.k0||1,p.axis=p.axis||"enu",p.ellps=p.ellps||"wgs84";var f,m,g,y,b,w,E,M=function(t,e,n,o,i){if(!t){var r=v(K,o);r||(r=X),t=r.a,e=r.b,n=r.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<c)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(p.a,p.b,p.rf,p.ellps,p.sphere),C=(f=M.a,m=M.b,M.rf,g=p.R_A,w=((y=f*f)-(b=m*m))/y,E=0,g?(y=(f*=1-w*(a+w*(s+w*l)))*f,w=0):E=Math.sqrt(w),{es:w,e:E,ep2:(y-b)/b}),_=p.datum||function(r,a,s,l,c,u){var p={};return p.datum_type=void 0===r||"none"===r?o:n,a&&(p.datum_params=a.map(parseFloat),0===p.datum_params[0]&&0===p.datum_params[1]&&0===p.datum_params[2]||(p.datum_type=t),p.datum_params.length>3&&(0===p.datum_params[3]&&0===p.datum_params[4]&&0===p.datum_params[5]&&0===p.datum_params[6]||(p.datum_type=e,p.datum_params[3]*=i,p.datum_params[4]*=i,p.datum_params[5]*=i,p.datum_params[6]=p.datum_params[6]/1e6+1))),p.a=s,p.b=l,p.es=c,p.ep2=u,p}(p.datumCode,p.datum_params,M.a,M.b,C.es,C.ep2);R(this,p),R(this,h),this.a=M.a,this.b=M.b,this.rf=M.rf,this.sphere=M.sphere,this.es=C.es,this.e=C.e,this.ep2=C.ep2,this.datum=_,this.init(),u(null,this)}else u(r)}else u(r)}function Q(n){return n===t||n===e}Z.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Z.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Z.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Z.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Z.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Z.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Z.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Z.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Z.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Z.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Z.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Z.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Z.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Z.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Z.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Z.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Z.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},J.projections=Y,J.projections.start();var tt=function(n,i,a){return function(n,o){return n.datum_type===o.datum_type&&!(n.a!==o.a||Math.abs(n.es-o.es)>5e-11)&&(n.datum_type===t?n.datum_params[0]===o.datum_params[0]&&n.datum_params[1]===o.datum_params[1]&&n.datum_params[2]===o.datum_params[2]:n.datum_type!==e||n.datum_params[0]===o.datum_params[0]&&n.datum_params[1]===o.datum_params[1]&&n.datum_params[2]===o.datum_params[2]&&n.datum_params[3]===o.datum_params[3]&&n.datum_params[4]===o.datum_params[4]&&n.datum_params[5]===o.datum_params[5]&&n.datum_params[6]===o.datum_params[6])}(n,i)?a:n.datum_type===o||i.datum_type===o?a:n.es!==i.es||n.a!==i.a||Q(n.datum_type)||Q(i.datum_type)?(a=function(t,e,n){var o,i,a,s,l=t.x,c=t.y,u=t.z?t.z:0;if(c<-r&&c>-1.001*r)c=-r;else if(c>r&&c<1.001*r)c=r;else{if(c<-r)return{x:-1/0,y:-1/0,z:t.z};if(c>r)return{x:1/0,y:1/0,z:t.z}}return l>Math.PI&&(l-=2*Math.PI),i=Math.sin(c),s=Math.cos(c),a=i*i,{x:((o=n/Math.sqrt(1-e*a))+u)*s*Math.cos(l),y:(o+u)*s*Math.sin(l),z:(o*(1-e)+u)*i}}(a,n.es,n.a),Q(n.datum_type)&&(a=function(n,o,i){if(o===t)return{x:n.x+i[0],y:n.y+i[1],z:n.z+i[2]};if(o===e){var r=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],p=i[6];return{x:p*(n.x-u*n.y+c*n.z)+r,y:p*(u*n.x+n.y-l*n.z)+a,z:p*(-c*n.x+l*n.y+n.z)+s}}}(a,n.datum_type,n.datum_params)),Q(i.datum_type)&&(a=function(n,o,i){if(o===t)return{x:n.x-i[0],y:n.y-i[1],z:n.z-i[2]};if(o===e){var r=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],p=i[6],h=(n.x-r)/p,d=(n.y-a)/p,f=(n.z-s)/p;return{x:h+u*d-c*f,y:-u*h+d+l*f,z:c*h-l*d+f}}}(a,i.datum_type,i.datum_params)),function(t,e,n,o){var i,r,a,s,l,c,u,p,h,d,f,m,g,y,v,b=t.x,w=t.y,E=t.z?t.z:0;if(i=Math.sqrt(b*b+w*w),r=Math.sqrt(b*b+w*w+E*E),i/n<1e-12){if(y=0,r/n<1e-12)return v=-o,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(w,b);a=E/r,p=(s=i/r)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*s*s)),h=a*l,g=0;do{g++,c=e*(u=n/Math.sqrt(1-e*h*h))/(u+(v=i*p+E*h-u*(1-e*h*h))),m=(f=a*(l=1/Math.sqrt(1-c*(2-c)*s*s)))*p-(d=s*(1-c)*l)*h,p=d,h=f}while(m*m>1e-24&&g<30);return{x:y,y:Math.atan(f/Math.abs(d)),z:v}}(a,i.es,i.a,i.b)):a},et=function(t,e,n){var o,i,r,a=n.x,s=n.y,l=n.z||0,c={};for(r=0;r<3;r++)if(!e||2!==r||void 0!==n.z)switch(0===r?(o=a,i="x"):1===r?(o=s,i="y"):(o=l,i="z"),t.axis[r]){case"e":c[i]=o;break;case"w":c[i]=-o;break;case"n":c[i]=o;break;case"s":c[i]=-o;break;case"u":void 0!==n[i]&&(c.z=o);break;case"d":void 0!==n[i]&&(c.z=-o);break;default:return null}return c},nt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},ot=function(t){it(t.x),it(t.y)};function it(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function rt(n,o,i){var r;return Array.isArray(i)&&(i=nt(i)),ot(i),n.datum&&o.datum&&function(n,o){return(n.datum.datum_type===t||n.datum.datum_type===e)&&"WGS84"!==o.datumCode||(o.datum.datum_type===t||o.datum.datum_type===e)&&"WGS84"!==n.datumCode}(n,o)&&(i=rt(n,r=new J("WGS84"),i),n=r),"enu"!==n.axis&&(i=et(n,!1,i)),"longlat"===n.projName?i={x:i.x*u,y:i.y*u}:(n.to_meter&&(i={x:i.x*n.to_meter,y:i.y*n.to_meter}),i=n.inverse(i)),n.from_greenwich&&(i.x+=n.from_greenwich),i=tt(n.datum,o.datum,i),o.from_greenwich&&(i={x:i.x-o.from_greenwich,y:i.y}),"longlat"===o.projName?i={x:i.x*p,y:i.y*p}:(i=o.forward(i),o.to_meter&&(i={x:i.x/o.to_meter,y:i.y/o.to_meter})),"enu"!==o.axis?et(o,!0,i):i}var at=J("WGS84");function st(t,e,n){var o,i,r;return Array.isArray(n)?(o=rt(t,e,n),3===n.length?[o.x,o.y,o.z]:[o.x,o.y]):(i=rt(t,e,n),2===(r=Object.keys(n)).length?i:(r.forEach(function(t){"x"!==t&&"y"!==t&&(i[t]=n[t])}),i))}function lt(t){return t instanceof J?t:t.oProj?t.oProj:J(t)}function ct(t,e,n){t=lt(t);var o,i=!1;return void 0===e?(e=t,t=at,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=at,i=!0),e=lt(e),n?st(t,e,n):(o={forward:function(n){return st(t,e,n)},inverse:function(n){return st(e,t,n)}},i&&(o.oProj=e),o)}var ut=6,pt="AJSAJS",ht="AFAFAF",dt=65,ft=73,mt=79,gt=86,yt=90,vt={forward:bt,inverse:function(t){var e=$t(_t(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:wt};function bt(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,o="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,f=t.northing,m=t.zoneNumber,g=Ct(m),y=Math.floor(d/1e5),v=Math.floor(f/1e5)%20,i=y,r=v,a=g,s=a-1,l=pt.charCodeAt(s),c=ht.charCodeAt(s),u=l+i-1,p=c+r,h=!1,u>yt&&(u=u-yt+dt-1,h=!0),(u===ft||l<ft&&u>ft||(u>ft||l<ft)&&h)&&u++,(u===mt||l<mt&&u>mt||(u>mt||l<mt)&&h)&&++u===ft&&u++,u>yt&&(u=u-yt+dt-1),p>gt?(p=p-gt+dt-1,h=!0):h=!1,(p===ft||c<ft&&p>ft||(p>ft||c<ft)&&h)&&p++,(p===mt||c<mt&&p>mt||(p>mt||c<mt)&&h)&&++p===ft&&p++,p>gt&&(p=p-gt+dt-1),String.fromCharCode(u)+String.fromCharCode(p))+n.substr(n.length-5,e)+o.substr(o.length-5,e);var i,r,a,s,l,c,u,p,h;var d,f,m,g,y,v}(function(t){var e,n,o,i,r,a,s,l=t.lat,c=t.lon,u=6378137,p=Et(l),h=Et(c);s=Math.floor((c+180)/6)+1,180===c&&(s=60);l>=56&&l<64&&c>=3&&c<12&&(s=32);l>=72&&l<84&&(c>=0&&c<9?s=31:c>=9&&c<21?s=33:c>=21&&c<33?s=35:c>=33&&c<42&&(s=37));a=Et(6*(s-1)-180+3),.006739496752268451,e=u/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),n=Math.tan(p)*Math.tan(p),o=.006739496752268451*Math.cos(p)*Math.cos(p),i=Math.cos(p)*(h-a),r=u*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p));var d=.9996*e*(i+(1-n+o)*i*i*i/6+(5-18*n+n*n+72*o-.39089081163157013)*i*i*i*i*i/120)+5e5,f=.9996*(r+e*Math.tan(p)*(i*i/2+(5-n+9*o+4*o*o)*i*i*i*i/24+(61-58*n+n*n+600*o-2.2240339282485886)*i*i*i*i*i*i/720));l<0&&(f+=1e7);return{northing:Math.round(f),easting:Math.round(d),zoneNumber:s,zoneLetter:function(t){var e="Z";84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C");return e}(l)}}({lat:t[1],lon:t[0]}),e)}function wt(t){var e=$t(_t(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Et(t){return t*(Math.PI/180)}function Mt(t){return t/Math.PI*180}function $t(t){var e=t.northing,n=t.easting,o=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var r,a,s,l,c,u,p,h,d=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,g=e;o<"N"&&(g-=1e7),u=6*(i-1)-180+3,h=(p=g/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*p)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*p)+151*f*f*f/96*Math.sin(6*p),r=d/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),a=Math.tan(h)*Math.tan(h),s=.006739496752268451*Math.cos(h)*Math.cos(h),l=.99330562*d/Math.pow(1-.00669438*Math.sin(h)*Math.sin(h),1.5),c=m/(.9996*r);var y=h-r*Math.tan(h)/l*(c*c/2-(5+3*a+10*s-4*s*s-.06065547077041606)*c*c*c*c/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*c*c*c*c*c*c/720);y=Mt(y);var v,b=(c-(1+2*a+s)*c*c*c/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*c*c*c*c*c/120)/Math.cos(h);if(b=u+Mt(b),t.accuracy){var w=$t({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});v={top:w.lat,right:w.lon,bottom:y,left:b}}else v={lat:y,lon:b};return v}function Ct(t){var e=t%ut;return 0===e&&(e=ut),e}function _t(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,o=null,i="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,r++}var a=parseInt(i,10);if(0===r||r+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(r++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;o=t.substring(r,r+=2);for(var l=Ct(a),c=function(t,e){var n=pt.charCodeAt(e-1),o=1e5,i=!1;for(;n!==t.charCodeAt(0);){if(++n===ft&&n++,n===mt&&n++,n>yt){if(i)throw"Bad character: "+t;n=dt,i=!0}o+=1e5}return o}(o.charAt(0),l),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=ht.charCodeAt(e-1),o=0,i=!1;for(;n!==t.charCodeAt(0);){if(++n===ft&&n++,n===mt&&n++,n>gt){if(i)throw"Bad character: "+t;n=dt,i=!0}o+=1e5}return o}(o.charAt(1),l);u<xt(s);)u+=2e6;var p=n-r;if(p%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var h,d,f,m=p/2,g=0,y=0;return m>0&&(h=1e5/Math.pow(10,m),d=t.substring(r,r+m),g=parseFloat(d)*h,f=t.substring(r+m),y=parseFloat(f)*h),{easting:g+c,northing:y+u,zoneLetter:s,zoneNumber:a,accuracy:h}}function xt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function St(t,e,n){if(!(this instanceof St))return new St(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}St.fromMGRS=function(t){return new St(wt(t))},St.prototype.toMGRS=function(t){return bt([this.x,this.y],t)};var Tt=.01068115234375,kt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Tt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Tt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},At=function(t,e,n,o){return n*=e,e*=e,o[0]*t-n*(o[1]+e*(o[2]+e*(o[3]+e*o[4])))},Pt=function(t,e,n){for(var o=1/(1-e),i=t,r=20;r;--r){var a=Math.sin(i),s=1-e*a*a;if(i-=s=(At(i,a,Math.cos(i),n)-t)*(s*Math.sqrt(s))*o,Math.abs(s)<c)return i}return i};var Dt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=kt(this.es),this.ml0=At(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,o,i=t.x,r=t.y,a=U(i-this.long0),s=Math.sin(r),l=Math.cos(r);if(this.es){var u=l*a,p=Math.pow(u,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),f=Math.abs(l)>c?Math.tan(r):0,m=Math.pow(f,2),g=Math.pow(m,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var y=At(r,s,l,this.en);n=this.a*(this.k0*u*(1+p/6*(1-m+h+p/20*(5-18*m+g+14*h-58*m*h+p/42*(61+179*g-g*m-479*m)))))+this.x0,o=this.a*(this.k0*(y-this.ml0+s*a*u/2*(1+p/12*(5-m+9*h+4*d+p/30*(61+g-58*m+270*h-330*m*h+p/56*(1385+543*g-g*m-3111*m))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<c)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,o=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(o))>=1){if(v-1>c)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=n,t.y=o,t},inverse:function(t){var e,n,o,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Pt(e,this.es,this.en),Math.abs(n)<r){var l=Math.sin(n),u=Math.cos(n),p=Math.abs(u)>c?Math.tan(n):0,h=this.ep2*Math.pow(u,2),d=Math.pow(h,2),f=Math.pow(p,2),m=Math.pow(f,2);e=1-this.es*Math.pow(l,2);var g=a*Math.sqrt(e)/this.k0,y=Math.pow(g,2);o=n-(e*=p)*y/(1-this.es)*.5*(1-y/12*(5+3*f-9*h*f+h-4*d-y/30*(61+90*f-252*h*f+45*m+46*h-y/56*(1385+3633*f+4095*m+1574*m*f)))),i=U(this.long0+g*(1-y/6*(1+2*f+h-y/20*(5+28*f+24*m+8*h*f+6*h-y/42*(61+662*f+1320*m+720*m*f))))/u)}else o=r*F(s),i=0;else{var v=Math.exp(a/this.k0),b=.5*(v-1/v),w=this.lat0+s/this.k0,E=Math.cos(w);e=Math.sqrt((1-Math.pow(E,2))/(1+Math.pow(b,2))),o=Math.asin(e),s<0&&(o=-o),i=0===b&&0===E?0:U(Math.atan2(b,E)+this.long0)}return t.x=i,t.y=o,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},It=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Ot=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),o=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(o,2))},Nt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Ot(1,e)+1))),t<0?-e:e},Lt=function(t,e){for(var n,o=2*Math.cos(2*e),i=t.length-1,r=t[i],a=0;--i>=0;)n=o*r-a+t[i],a=r,r=n;return e+n*Math.sin(2*e)},Rt=function(t,e){for(var n,o=2*Math.cos(e),i=t.length-1,r=t[i],a=0;--i>=0;)n=o*r-a+t[i],a=r,r=n;return Math.sin(e)*n},jt=function(t,e,n){for(var o,i,r=Math.sin(e),a=Math.cos(e),s=It(n),l=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),c=2*a*l,u=-2*r*s,p=t.length-1,h=t[p],d=0,f=0,m=0;--p>=0;)o=f,i=d,h=c*(f=h)-o-u*(d=m)+t[p],m=u*f-i+c*d;return[(c=r*l)*h-(u=a*s)*m,c*m+u*h]};var Ft={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var o=Lt(this.cbg,this.lat0);this.Zb=-this.Qn*(o+Rt(this.gtu,2*o))},forward:function(t){var e=U(t.x-this.long0),n=t.y;n=Lt(this.cbg,n);var o=Math.sin(n),i=Math.cos(n),r=Math.sin(e),a=Math.cos(e);n=Math.atan2(o,a*i),e=Math.atan2(r*i,Ot(o,i*a)),e=Nt(Math.tan(e));var s,l,c=jt(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),t.x=s,t.y=l,t},inverse:function(t){var e,n,o=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,o/=this.Qn,Math.abs(o)<=2.623395162778){var r=jt(this.utg,2*i,2*o);i+=r[0],o+=r[1],o=Math.atan(It(o));var a=Math.sin(i),s=Math.cos(i),l=Math.sin(o),c=Math.cos(o);i=Math.atan2(a*c,Ot(l,c*s)),o=Math.atan2(l,c*s),e=U(o+this.long0),n=Lt(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Ut=function(t,e){if(void 0===t){if((t=Math.floor(30*(U(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var Ht={init:function(){var t=Ut(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*u,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ft.init.apply(this),this.forward=Ft.forward,this.inverse=Ft.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Vt=function(t,e){return Math.pow((1-t)/(1+t),e)},Bt=20;var qt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+h)/(Math.pow(Math.tan(.5*this.lat0+h),this.C)*Vt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+h),this.C)*Vt(this.e*Math.sin(n),this.ratexp))-r,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,o=Math.pow(Math.tan(.5*n+h)/this.K,1/this.C),i=Bt;i>0&&(n=2*Math.atan(o*Vt(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]};var Wt={init:function(){qt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,o,i;return t.x=U(t.x-this.long0),qt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*o),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,o,i,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(r,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/r),o=Math.atan2(t.x*e,r*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,o=0;return t.x=o,t.y=i,qt.inverse.apply(this,[t]),t.x=U(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var zt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*(1+F(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=c&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*this.cons*j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/H(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=j(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,o,i,a,s,l=t.x,u=t.y,p=Math.sin(u),h=Math.cos(u),d=U(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=c&&Math.abs(u+this.lat0)<=c?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*h*Math.cos(d)),t.x=this.a*e*h*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*h*Math.cos(d))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,p,this.e))-r,i=Math.cos(n),o=Math.sin(n),Math.abs(this.coslat0)<=c?(a=H(this.e,u*this.con,this.con*p),s=2*this.a*this.k0*a/this.cons,t.x=this.x0+s*Math.sin(l-this.long0),t.y=this.y0-this.con*s*Math.cos(l-this.long0),t):(Math.abs(this.sinlat0)<c?(e=2*this.a*this.k0/(1+i*Math.cos(d)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*i*Math.cos(d))),t.y=e*(this.cosX0*o-this.sinX0*i*Math.cos(d))+this.y0),t.x=e*i*Math.sin(d)+this.x0,t))},inverse:function(t){var e,n,o,i,a;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=c?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/s),e=Math.abs(this.coslat0)<c?this.lat0>0?U(this.long0+Math.atan2(t.x,-1*t.y)):U(this.long0+Math.atan2(t.x,t.y)):U(this.long0+Math.atan2(t.x*Math.sin(l),s*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=c){if(s<=c)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,o=s*this.cons/(2*this.a*this.k0),n=this.con*V(this.e,o),e=this.con*U(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=c?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=U(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*V(this.e,Math.tan(.5*(r+a)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(r+t))*Math.pow((1-e)/(1+e),.5*n)}};var Gt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,o=1/this.rf,i=2*o-Math.pow(o,2),r=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+r*e)/(1-r*e));this.K=a-this.alpha*s+this.alpha*r/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),o=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(o))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(r))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,o=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(o)),a=Math.atan(Math.sin(o)/(Math.cos(this.b0)*Math.cos(o)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,c=r,u=-1e3,p=0;Math.abs(c-u)>1e-7;){if(++p>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=c,t},names:["somerc"]};var Yt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var o,i,r=H(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=H(this.e,this.lat1,Math.sin(this.lat1)),l=H(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(r,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(r,this.bl);var c=Math.pow(s,this.bl),u=Math.pow(l,this.bl);i=.5*((o=this.el/c)-1/o);var p=(this.el*this.el-u*c)/(this.el*this.el+u*c),h=(u-c)/(u+c),d=U(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*d)/h)/this.bl,this.long0=U(this.long0);var f=U(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/i),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else o=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=o*Math.pow(r,this.bl),i=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,o,i=t.x,a=t.y,s=U(i-this.long0);if(Math.abs(Math.abs(a)-r)<=c)o=a>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(h+o*this.gamma0*.5)),e=-1*o*r*this.al/this.bl;else{var l=H(this.e,a,Math.sin(a)),u=this.el/Math.pow(l,this.bl),p=.5*(u-1/u),d=.5*(u+1/u),f=Math.sin(this.bl*s),m=(p*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/d;n=Math.abs(Math.abs(m)-1)<=c?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-m)/(1+m))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=c?this.al*this.bl*s:this.al*Math.atan2(p*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var o=Math.exp(-1*this.bl*n/this.al),i=.5*(o-1/o),a=.5*(o+1/o),s=Math.sin(this.bl*e/this.al),l=(s*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/a,u=Math.pow(this.el/Math.sqrt((1+l)/(1-l)),1/this.bl);return Math.abs(l-1)<c?(t.x=this.long0,t.y=r):Math.abs(l+1)<c?(t.x=this.long0,t.y=-1*r):(t.y=V(this.e,u),t.x=U(this.long0-Math.atan2(i*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var Kt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<c)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),o=j(this.e,e,n),i=H(this.e,this.lat1,e),r=Math.sin(this.lat2),a=Math.cos(this.lat2),s=j(this.e,r,a),l=H(this.e,this.lat2,r),u=H(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>c?this.ns=Math.log(o/s)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=c&&(n=F(n)*(r-2*c));var o,i,a=Math.abs(Math.abs(n)-r);if(a>c)o=H(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(o,this.ns);else{if((a=n*this.ns)<=0)return null;i=0}var s=this.ns*U(e-this.long0);return t.x=this.k0*(i*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,o,i,a,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),n=1):(e=-Math.sqrt(s*s+l*l),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*s,n*l)),0!==e||this.ns>0){if(n=1/this.ns,o=Math.pow(e/(this.a*this.f0),n),-9999===(i=V(this.e,o)))return null}else i=-r;return a=U(c/this.ns+this.long0),t.x=a,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var Xt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,o,i,r,a,s,l=t.x,c=t.y,u=U(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),o=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),r=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(i)),a=this.n*r,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,o,i,r,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),o=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(o)-Math.sin(this.ad)*Math.cos(o)*Math.cos(i)),n=Math.asin(Math.cos(o)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,c+=1}while(0===s&&c<15);return c>=15?null:t},names:["Krovak","krovak"]},Zt=function(t,e,n,o,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-o*Math.sin(6*i)},Jt=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Qt=function(t){return.375*t*(1+.25*t*(1+.46875*t))},te=function(t){return.05859375*t*t*(1+.75*t)},ee=function(t){return t*t*t*(35/3072)},ne=function(t,e,n){var o=e*n;return t/Math.sqrt(1-o*o)},oe=function(t){return Math.abs(t)<r?t:t-F(t)*Math.PI},ie=function(t,e,n,o,i){var r,a;r=t/e;for(var s=0;s<15;s++)if(r+=a=(t-(e*r-n*Math.sin(2*r)+o*Math.sin(4*r)-i*Math.sin(6*r)))/(e-2*n*Math.cos(2*r)+4*o*Math.cos(4*r)-6*i*Math.cos(6*r)),Math.abs(a)<=1e-10)return r;return NaN};var re={init:function(){this.sphere||(this.e0=Jt(this.es),this.e1=Qt(this.es),this.e2=te(this.es),this.e3=ee(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,o=t.x,i=t.y;if(o=U(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(o)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(o))-this.lat0);else{var r=Math.sin(i),a=Math.cos(i),s=ne(this.a,this.e,r),l=Math.tan(i)*Math.tan(i),c=o*Math.cos(i),u=c*c,p=this.es*a*a/(1-this.es);e=s*c*(1-u*l*(1/6-(8-l+8*p)*u/120)),n=this.a*Zt(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*r/a*u*(.5+(5-l+6*p)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,o=t.x/this.a,i=t.y/this.a;if(this.sphere){var a=i+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(o)),n=Math.atan2(Math.tan(o),Math.cos(a))}else{var s=this.ml0/this.a+i,l=ie(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-r)<=c)return t.x=this.long0,t.y=r,i<0&&(t.y*=-1),t;var u=ne(this.a,this.e,Math.sin(l)),p=u*u*u/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(l),2),d=o*this.a/u,f=d*d;e=l-u*Math.tan(l)/p*d*d*(.5-(1+3*h)*d*d/24),n=d*(1-f*(h/3+(1+3*h)*h*f/15))/Math.cos(l)}return t.x=U(n+this.long0),t.y=oe(e),t},names:["Cassini","Cassini_Soldner","cass"]},ae=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var se=.3333333333333333,le=.17222222222222222,ce=.10257936507936508,ue=.06388888888888888,pe=.0664021164021164,he=.016415012942191543;var de={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-r)<c?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<c?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ae(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*se,e=t*t,n[0]+=e*le,n[1]=e*ue,e*=t,n[0]+=e*ce,n[1]+=e*pe,n[2]=e*he,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ae(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,o,i,a,s,l,u,p,d,f=t.x,m=t.y;if(f=U(f-this.long0),this.sphere){if(a=Math.sin(m),d=Math.cos(m),o=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+d*o:1+this.sinph0*a+this.cosph0*d*o)<=c)return null;e=(n=Math.sqrt(2/n))*d*Math.sin(f),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*d*o}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),Math.abs(m+this.phi0)<c)return null;n=h-.5*m,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(f),n*=o}}else{switch(l=0,u=0,p=0,o=Math.cos(f),i=Math.sin(f),a=Math.sin(m),s=ae(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(l=s/this.qp,u=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:p=1+this.sinb1*l+this.cosb1*u*o;break;case this.EQUIT:p=1+u*o;break;case this.N_POLE:p=r+m,s=this.qp-s;break;case this.S_POLE:p=m-r,s=this.qp+s}if(Math.abs(p)<c)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),n=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*l-this.sinb1*u*o):(p=Math.sqrt(2/(1+u*o)))*l*this.ymf,e=this.xmf*p*u*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(p=Math.sqrt(s))*i,n=o*(this.mode===this.S_POLE?p:-p)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,o,i,a,s,l,u,p,h,d=t.x/this.a,f=t.y/this.a;if(this.sphere){var m,g=0,y=0;if((n=.5*(m=Math.sqrt(d*d+f*f)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(y=Math.sin(n),g=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(m)<=c?0:Math.asin(f*y/m),d*=y,f=g*m;break;case this.OBLIQ:n=Math.abs(m)<=c?this.phi0:Math.asin(g*this.sinph0+f*y*this.cosph0/m),d*=y*this.cosph0,f=(g-Math.sin(n)*this.sinph0)*m;break;case this.N_POLE:f=-f,n=r-n;break;case this.S_POLE:n-=r}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,f):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,f*=this.dd,(s=Math.sqrt(d*d+f*f))<c)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*s/this.rq),o=Math.cos(i),d*=i=Math.sin(i),this.mode===this.OBLIQ?(l=o*this.sinb1+f*i*this.cosb1/s,a=this.qp*l,f=s*this.cosb1*o-f*this.sinb1*i):(l=f*i/s,a=this.qp*l,f=s*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(a=d*d+f*f))return t.x=0,t.y=this.phi0,t;l=1-a/this.qp,this.mode===this.S_POLE&&(l=-l)}e=Math.atan2(d,f),u=Math.asin(l),p=this.apa,h=u+u,n=u+p[0]*Math.sin(h)+p[1]*Math.sin(h+h)+p[2]*Math.sin(h+h+h)}return t.x=U(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},fe=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var me={init:function(){Math.abs(this.lat1+this.lat2)<c||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=j(this.e3,this.sin_po,this.cos_po),this.qs1=ae(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=j(this.e3,this.sin_po,this.cos_po),this.qs2=ae(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ae(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>c?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var o=ae(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*o)/this.ns0,r=this.ns0*U(e-this.long0),a=i*Math.sin(r)+this.x0,s=this.rh-i*Math.cos(r)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,o,i,r,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),o=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),o=-1),i=0,0!==e&&(i=Math.atan2(o*t.x,o*t.y)),o=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-o*o)/(2*this.ns0)):(n=(this.c-o*o)/this.ns0,a=this.phi1z(this.e3,n)),r=U(i/this.ns0+this.long0),t.x=r,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,o,i,r,a,s=fe(.5*e);if(t<c)return s;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(s),o=Math.cos(s),s+=a=.5*(r=1-(i=t*n)*i)*r/o*(e/(1-l)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(a)<=1e-7)return s;return null}};var ge={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,o,i,r,a,s,l=t.x,u=t.y;return o=U(l-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(o),(r=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(r)<=c?(a=this.x0+1*this.a*n*Math.sin(o)/r,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/r):(a=this.x0+this.infinity_dist*n*Math.sin(o),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,o,i,r,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),o=Math.cos(i),a=fe(o*this.sin_p14+t.y*n*this.cos_p14/e),r=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),r=U(this.long0+r)):(a=this.phic0,r=0),t.x=r,t.y=a,t},names:["gnom"]},ye=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r:r;for(var o,i,a,s,l=Math.asin(.5*e),c=0;c<30;c++)if(i=Math.sin(l),a=Math.cos(l),s=t*i,l+=o=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-i/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(o)<=1e-10)return l;return NaN};var ve={init:function(){this.sphere||(this.k0=j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,o=t.x,i=t.y,r=U(o-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=ae(this.e,Math.sin(i));e=this.x0+this.a*this.k0*r,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=U(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=ye(this.e,2*t.y*this.k0/this.a),e=U(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var be={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,o=U(e-this.long0),i=oe(n-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=U(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=oe(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},we=20;var Ee={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jt(this.es),this.e1=Qt(this.es),this.e2=te(this.es),this.e3=ee(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,o,i=t.x,r=t.y,a=U(i-this.long0);if(o=a*Math.sin(r),this.sphere)Math.abs(r)<=c?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(o)/Math.tan(r),n=this.a*(oe(r-this.lat0)+(1-Math.cos(o))/Math.tan(r)));else if(Math.abs(r)<=c)e=this.a*a,n=-1*this.ml0;else{var s=ne(this.a,this.e,Math.sin(r))/Math.tan(r);e=s*Math.sin(o),n=this.a*Zt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(o))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,o,i,r,a,s,l,u;if(o=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=c)e=U(o/this.a+this.long0),n=0;else{var p;for(a=this.lat0+i/this.a,s=o*o/this.a/this.a+a*a,l=a,r=we;r;--r)if(l+=u=-1*(a*(l*(p=Math.tan(l))+1)-l-.5*(l*l+s)*p)/((l-a)/p-1),Math.abs(u)<=c){n=l;break}e=U(this.long0+Math.asin(o*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=c)n=0,e=U(this.long0+o/this.a);else{var h,d,f,m,g;for(a=(this.ml0+i)/this.a,s=o*o/this.a/this.a+a*a,l=a,r=we;r;--r)if(g=this.e*Math.sin(l),h=Math.sqrt(1-g*g)*Math.tan(l),d=this.a*Zt(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(a*(h*(m=d/this.a)+1)-m-.5*h*(m*m+s))/(this.es*Math.sin(2*l)*(m*m+s-2*a*m)/(4*h)+(a-m)*(h*f-2/Math.sin(2*l))-f),Math.abs(u)<=c){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=U(this.long0+Math.asin(o*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var Me={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,o=t.y-this.lat0,r=n-this.long0,a=o/i*1e-5,s=r,l=1,c=0;for(e=1;e<=10;e++)l*=a,c+=this.A[e]*l;var u,p=c,h=s,d=1,f=0,m=0,g=0;for(e=1;e<=6;e++)u=f*p+d*h,d=d*p-f*h,f=u,m=m+this.B_re[e]*d-this.B_im[e]*f,g=g+this.B_im[e]*d+this.B_re[e]*f;return t.x=g*this.a+this.x0,t.y=m*this.a+this.y0,t},inverse:function(t){var e,n,o=t.x,r=t.y,a=o-this.x0,s=(r-this.y0)/this.a,l=a/this.a,c=1,u=0,p=0,h=0;for(e=1;e<=6;e++)n=u*s+c*l,c=c*s-u*l,u=n,p=p+this.C_re[e]*c-this.C_im[e]*u,h=h+this.C_im[e]*c+this.C_re[e]*u;for(var d=0;d<this.iterations;d++){var f,m=p,g=h,y=s,v=l;for(e=2;e<=6;e++)f=g*p+m*h,m=m*p-g*h,g=f,y+=(e-1)*(this.B_re[e]*m-this.B_im[e]*g),v+=(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var b=this.B_re[1],w=this.B_im[1];for(e=2;e<=6;e++)f=g*p+m*h,m=m*p-g*h,g=f,b+=e*(this.B_re[e]*m-this.B_im[e]*g),w+=e*(this.B_im[e]*m+this.B_re[e]*g);var E=b*b+w*w;p=(y*b+v*w)/E,h=(v*b-y*w)/E}var M=p,C=h,_=1,x=0;for(e=1;e<=9;e++)_*=M,x+=this.D[e]*_;var S=this.lat0+x*i*1e5,T=this.long0+C;return t.x=T,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]};var $e={init:function(){},forward:function(t){var e=t.x,n=t.y,o=U(e-this.long0),i=this.x0+this.a*o,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=U(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Ce=20;var _e={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=kt(this.es)},forward:function(t){var e,n,o=t.x,i=t.y;if(o=U(o-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(i),a=Ce;a;--a){var s=(this.m*i+Math.sin(i)-r)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<c)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*o*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*At(i,l,u,this.en),e=this.a*o*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,o,i;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=fe((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=fe(Math.sin(e)/this.n)),o=U(o+this.long0),e=oe(e)):(e=Pt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<r?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),o=U(n)):i-c<r&&(o=this.long0)),t.x=o,t.y=e,t},names:["Sinusoidal","sinu"]};var xe={init:function(){},forward:function(t){for(var e=t.x,n=t.y,o=U(e-this.long0),i=n,r=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-r)/(1+Math.cos(i));if(i+=a,Math.abs(a)<c)break}i/=2,Math.PI/2-Math.abs(n)<c&&(o=0);var s=.900316316158*this.a*o*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var o=U(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=o,t.y=i,t},names:["Mollweide","moll"]};var Se={init:function(){Math.abs(this.lat1+this.lat2)<c||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jt(this.es),this.e1=Qt(this.es),this.e2=te(this.es),this.e3=ee(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=j(this.e,this.sinphi,this.cosphi),this.ml1=Zt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<c?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=j(this.e,this.sinphi,this.cosphi),this.ml2=Zt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Zt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,o=t.y;if(this.sphere)e=this.a*(this.g-o);else{var i=Zt(this.e0,this.e1,this.e2,this.e3,o);e=this.a*(this.g-i)}var r=this.ns*U(n-this.long0),a=this.x0+e*Math.sin(r),s=this.y0+this.rh-e*Math.cos(r);return t.x=a,t.y=s,t},inverse:function(t){var e,n,o,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(0!==n&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=U(this.long0+r/this.ns),o=oe(this.g-n/this.a),t.x=i,t.y=o,t;var a=this.g-n/this.a;return o=ie(a,this.e0,this.e1,this.e2,this.e3),i=U(this.long0+r/this.ns),t.x=i,t.y=o,t},names:["Equidistant_Conic","eqdc"]};var Te={init:function(){this.R=this.a},forward:function(t){var e,n,o=t.x,i=t.y,a=U(o-this.long0);Math.abs(i)<=c&&(e=this.x0+this.R*a,n=this.y0);var s=fe(2*Math.abs(i/Math.PI));(Math.abs(a)<=c||Math.abs(Math.abs(i)-r)<=c)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/a-a/Math.PI),u=l*l,p=Math.sin(s),h=Math.cos(s),d=h/(p+h-1),f=d*d,m=d*(2/p-1),g=m*m,y=Math.PI*this.R*(l*(d-g)+Math.sqrt(u*(d-g)*(d-g)-(g+u)*(f-g)))/(g+u);a<0&&(y=-y),e=this.x0+y;var v=u+d;return y=Math.PI*this.R*(m*v-l*Math.sqrt((g+u)*(u+1)-v*v))/(g+u),n=i>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},inverse:function(t){var e,n,o,i,r,a,s,l,u,p,h,d;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,r=(o=t.x/h)*o+(i=t.y/h)*i,h=3*(i*i/(l=-2*(a=-Math.abs(i)*(1+r))+1+2*i*i+r*r)+(2*(s=a-2*i*i+o*o)*s*s/l/l/l-9*a*s/l/l)/27)/(u=(a-s*s/3/l)/l)/(p=2*Math.sqrt(-u/3)),Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=t.y>=0?(-p*Math.cos(d+Math.PI/3)-s/3/l)*Math.PI:-(-p*Math.cos(d+Math.PI/3)-s/3/l)*Math.PI,e=Math.abs(o)<c?this.long0:U(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(o*o-i*i)+r*r))/2/o),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var ke={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,o,i,a,s,l,u,p,h,d,f,m,g,y,v,b,w,E,M,C,_,x=t.x,S=t.y,T=Math.sin(t.y),k=Math.cos(t.y),A=U(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=c?(t.x=this.x0+this.a*(r-S)*Math.sin(A),t.y=this.y0-this.a*(r-S)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=c?(t.x=this.x0+this.a*(r+S)*Math.sin(A),t.y=this.y0+this.a*(r+S)*Math.cos(A),t):(w=this.sin_p12*T+this.cos_p12*k*Math.cos(A),b=(v=Math.acos(w))/Math.sin(v),t.x=this.x0+this.a*b*k*Math.sin(A),t.y=this.y0+this.a*b*(this.cos_p12*T-this.sin_p12*k*Math.cos(A)),t):(e=Jt(this.es),n=Qt(this.es),o=te(this.es),i=ee(this.es),Math.abs(this.sin_p12-1)<=c?(a=this.a*Zt(e,n,o,i,r),s=this.a*Zt(e,n,o,i,S),t.x=this.x0+(a-s)*Math.sin(A),t.y=this.y0-(a-s)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=c?(a=this.a*Zt(e,n,o,i,r),s=this.a*Zt(e,n,o,i,S),t.x=this.x0+(a+s)*Math.sin(A),t.y=this.y0+(a+s)*Math.cos(A),t):(l=T/k,u=ne(this.a,this.e,this.sin_p12),p=ne(this.a,this.e,T),h=Math.atan((1-this.es)*l+this.es*u*this.sin_p12/(p*k)),E=0===(d=Math.atan2(Math.sin(A),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(A)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(d)-Math.PI)<=c?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(A)*Math.cos(h)/Math.sin(d)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),v=u*E*(1-(M=E*E)*(y=(m=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es))*m)*(1-y)/6+(C=M*E)/8*(g=f*m)*(1-2*y)+(_=C*E)/120*(y*(4-7*y)-3*f*f*(1-7*y))-_*E/48*g),t.x=this.x0+v*Math.sin(d),t.y=this.y0+v*Math.cos(d),t))},inverse:function(t){var e,n,o,i,a,s,l,u,p,h,d,f,m,g,y,v,b,w,E,M,C,_;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return n=e/this.a,o=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=c?s=this.lat0:(s=fe(i*this.sin_p12+t.y*o*this.cos_p12/e),l=Math.abs(this.lat0)-r,a=Math.abs(l)<=c?this.lat0>=0?U(this.long0+Math.atan2(t.x,-t.y)):U(this.long0-Math.atan2(-t.x,t.y)):U(this.long0+Math.atan2(t.x*o,e*this.cos_p12*i-t.y*this.sin_p12*o))),t.x=a,t.y=s,t}return u=Jt(this.es),p=Qt(this.es),h=te(this.es),d=ee(this.es),Math.abs(this.sin_p12-1)<=c?(f=this.a*Zt(u,p,h,d,r),e=Math.sqrt(t.x*t.x+t.y*t.y),s=ie((f-e)/this.a,u,p,h,d),a=U(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=c?(f=this.a*Zt(u,p,h,d,r),e=Math.sqrt(t.x*t.x+t.y*t.y),s=ie((e-f)/this.a,u,p,h,d),a=U(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),m=ne(this.a,this.e,this.sin_p12),v=Math.cos(y),w=-(b=this.e*this.cos_p12*v)*b/(1-this.es),E=3*this.es*(1-w)*this.sin_p12*this.cos_p12*v/(1-this.es),_=1-w*(C=(M=e/m)-w*(1+w)*Math.pow(M,3)/6-E*(1+3*w)*Math.pow(M,4)/24)*C/2-M*C*C*C/6,g=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*v),a=U(this.long0+Math.asin(Math.sin(y)*Math.sin(C)/Math.cos(g))),s=Math.atan((1-this.es*_*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es)),t.x=a,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var Ae={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,o,i,r,a,s,l=t.x,u=t.y;return o=U(l-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(o),((r=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(r)<=c)&&(a=1*this.a*n*Math.sin(o),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,o,i,a,s,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=fe(e/this.a),o=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=c?(l=this.lat0,t.x=s,t.y=l,t):(l=fe(i*this.sin_p14+t.y*o*this.cos_p14/e),a=Math.abs(this.lat0)-r,Math.abs(a)<=c?(s=this.lat0>=0?U(this.long0+Math.atan2(t.x,-t.y)):U(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=l,t):(s=U(this.long0+Math.atan2(t.x*o,e*this.cos_p14*i-t.y*this.sin_p14*o)),t.x=s,t.y=l,t))},names:["ortho"]},Pe={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},De={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Ie(t,e,n,o){var i;return t<c?(o.value=De.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=h?o.value=De.AREA_0:i>h&&i<=r+h?(o.value=De.AREA_1,i-=r):i>r+h||i<=-(r+h)?(o.value=De.AREA_2,i=i>=0?i-f:i+f):(o.value=De.AREA_3,i+=r)),i}function Oe(t,e){var n=t+e;return n<-f?n+=d:n>+f&&(n-=d),n}var Ne={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=r-h/2?this.face=Pe.TOP:this.lat0<=-(r-h/2)?this.face=Pe.BOTTOM:Math.abs(this.long0)<=h?this.face=Pe.FRONT:Math.abs(this.long0)<=r+h?this.face=this.long0>0?Pe.RIGHT:Pe.LEFT:this.face=Pe.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,o,i,a,s,l={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Pe.TOP)i=r-e,n>=h&&n<=r+h?(c.value=De.AREA_0,o=n-r):n>r+h||n<=-(r+h)?(c.value=De.AREA_1,o=n>0?n-f:n+f):n>-(r+h)&&n<=-h?(c.value=De.AREA_2,o=n+r):(c.value=De.AREA_3,o=n);else if(this.face===Pe.BOTTOM)i=r+e,n>=h&&n<=r+h?(c.value=De.AREA_0,o=-n+r):n<h&&n>=-h?(c.value=De.AREA_1,o=-n):n<-h&&n>=-(r+h)?(c.value=De.AREA_2,o=-n-r):(c.value=De.AREA_3,o=n>0?-n+f:-n-f);else{var u,p,d,m,g,y;this.face===Pe.RIGHT?n=Oe(n,+r):this.face===Pe.BACK?n=Oe(n,+f):this.face===Pe.LEFT&&(n=Oe(n,-r)),m=Math.sin(e),g=Math.cos(e),y=Math.sin(n),u=g*Math.cos(n),p=g*y,d=m,this.face===Pe.FRONT?o=Ie(i=Math.acos(u),d,p,c):this.face===Pe.RIGHT?o=Ie(i=Math.acos(p),d,-u,c):this.face===Pe.BACK?o=Ie(i=Math.acos(-u),d,-p,c):this.face===Pe.LEFT?o=Ie(i=Math.acos(-p),d,u,c):(i=o=0,c.value=De.AREA_0)}return s=Math.atan(12/f*(o+Math.acos(Math.sin(o)*Math.cos(h))-r)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(o))))),c.value===De.AREA_1?s+=r:c.value===De.AREA_2?s+=f:c.value===De.AREA_3&&(s+=1.5*f),l.x=a*Math.cos(s),l.y=a*Math.sin(s),l.x=l.x*this.a+this.x0,l.y=l.y*this.a+this.y0,t.x=l.x,t.y=l.y,t},inverse:function(t){var e,n,o,i,a,s,l,c,u,p,h,d,m={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=De.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=De.AREA_1,e-=r):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=De.AREA_2,e=e<0?e+f:e-f):(g.value=De.AREA_3,e+=r),u=f/12*Math.tan(e),a=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),s=Math.atan(a),(l=1-(o=Math.cos(e))*o*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?l=-1:l>1&&(l=1),this.face===Pe.TOP)c=Math.acos(l),m.phi=r-c,g.value===De.AREA_0?m.lam=s+r:g.value===De.AREA_1?m.lam=s<0?s+f:s-f:g.value===De.AREA_2?m.lam=s-r:m.lam=s;else if(this.face===Pe.BOTTOM)c=Math.acos(l),m.phi=c-r,g.value===De.AREA_0?m.lam=-s+r:g.value===De.AREA_1?m.lam=-s:g.value===De.AREA_2?m.lam=-s-r:m.lam=s<0?-s-f:-s+f;else{var y,v,b;u=(y=l)*y,v=(u+=(b=u>=1?0:Math.sqrt(1-u)*Math.sin(s))*b)>=1?0:Math.sqrt(1-u),g.value===De.AREA_1?(u=v,v=-b,b=u):g.value===De.AREA_2?(v=-v,b=-b):g.value===De.AREA_3&&(u=v,v=b,b=-u),this.face===Pe.RIGHT?(u=y,y=-v,v=u):this.face===Pe.BACK?(y=-y,v=-v):this.face===Pe.LEFT&&(u=y,y=v,v=-u),m.phi=Math.acos(-b)-r,m.lam=Math.atan2(v,y),this.face===Pe.RIGHT?m.lam=Oe(m.lam,-r):this.face===Pe.BACK?m.lam=Oe(m.lam,-f):this.face===Pe.LEFT&&(m.lam=Oe(m.lam,+r))}return 0!==this.es&&(p=m.phi<0?1:0,h=Math.tan(m.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),m.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),p&&(m.phi=-m.phi)),m.lam+=this.long0,t.x=m.lam,t.y=m.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Le=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Re=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],je=.8487,Fe=1.3523,Ue=p/5,He=1/Ue,Ve=18,Be=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},qe=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var We,ze={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=U(t.x-this.long0),n=Math.abs(t.y),o=Math.floor(n*Ue);o<0?o=0:o>=Ve&&(o=Ve-1),n=p*(n-He*o);var i={x:Be(Le[o],n)*e,y:Be(Re[o],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*je+this.x0,i.y=i.y*this.a*Fe+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*je),y:Math.abs(t.y-this.y0)/(this.a*Fe)};if(e.y>=1)e.x/=Le[Ve][0],e.y=t.y<0?-r:r;else{var n=Math.floor(e.y*Ve);for(n<0?n=0:n>=Ve&&(n=Ve-1);;)if(Re[n][0]>e.y)--n;else{if(!(Re[n+1][0]<=e.y))break;++n}var o=Re[n],i=5*(e.y-o[0])/(Re[n+1][0]-o[0]);i=function(t,e,n,o){for(var i=e;o;--o){var r=t(i);if(i-=r,Math.abs(r)<n)break}return i}(function(t){return(Be(o,t)-e.y)/qe(o,t)},i,c,100),e.x/=Be(Le[n],i),e.y=(5*n+i)*u,t.y<0&&(e.y=-e.y)}return e.x=U(e.x+this.long0),e},names:["Robinson","robin"]};return ct.defaultDatum="WGS84",ct.Proj=J,ct.WGS84=new ct.Proj("WGS84"),ct.Point=St,ct.toPoint=nt,ct.defs=I,ct.transform=rt,ct.mgrs=vt,ct.version="2.5.0",(We=ct).Proj.projections.add(Dt),We.Proj.projections.add(Ft),We.Proj.projections.add(Ht),We.Proj.projections.add(Wt),We.Proj.projections.add(zt),We.Proj.projections.add(Gt),We.Proj.projections.add(Yt),We.Proj.projections.add(Kt),We.Proj.projections.add(Xt),We.Proj.projections.add(re),We.Proj.projections.add(de),We.Proj.projections.add(me),We.Proj.projections.add(ge),We.Proj.projections.add(ve),We.Proj.projections.add(be),We.Proj.projections.add(Ee),We.Proj.projections.add(Me),We.Proj.projections.add($e),We.Proj.projections.add(_e),We.Proj.projections.add(xe),We.Proj.projections.add(Se),We.Proj.projections.add(Te),We.Proj.projections.add(ke),We.Proj.projections.add(Ae),We.Proj.projections.add(Ne),We.Proj.projections.add(ze),ct},"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):o.proj4=i()},{}],67:[function(t,e,n){"use strict";e.exports=function(ol,t,e,n,o,i,r,a,s){var l,c,u=angular.module("hs",["hs.toolbar","hs.layermanager","hs.query","hs.language","hs.search","hs.print","hs.permalink","hs.datasource_selector","hs.geolocation","hs.cesium","hs.sidebar","hs.ows"]);return u.directive("hs",["hs.map.service","Core","$compile","$timeout",function(t,e,n,o){return{templateUrl:hsl_path+"hslayers.html",link:function(t,n){e.fullScreenMap(n)}}}]),u.directive("hs.aboutproject",function(){return{templateUrl:"./about.html?bust="+gitsha,link:function(t,e,n){setTimeout(function(){$("#about-dialog").modal("show")},1500)}}}),u.directive("hs.foodiezones.infoDirective",function(){return{templateUrl:"./info.html?bust="+gitsha,link:function(t,e,n){$("#zone-info-dialog").modal("show")}}}),u.directive("hs.hud",function(){return{templateUrl:"./hud.html?bust="+gitsha,link:function(t,e,n){}}}),u.directive("description",["$compile","hs.utils.service",function(t,e){return{templateUrl:"./description.html?bust="+gitsha,scope:{object:"=",url:"@"},link:function(e,n,o){if(e.describe=function(n,o){if(angular.element(n.target).parent().find("table").length>0)angular.element(n.target).parent().find("table").remove();else{var i=angular.element('<table class="table table-striped" description object="attribute'+Math.abs(o.value.hashCode())+'" url="'+o.value+'"></table>');angular.element(n.target).parent().append(i),t(i)(e.$parent)}},angular.isUndefined(e.object)&&angular.isDefined(o.url)&&"string"==typeof o.url){e.object={attributes:[]};var i="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent("describe <"+o.url+">")+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";$.ajax({url:i}).done(function(t){if(!angular.isUndefined(t.results))for(var n=0;n<t.results.bindings.length;n++){var o=t.results.bindings[n],i=o.p.value;i.indexOf("#")>-1&&(i=i.split("#")[1]),e.object.attributes.push({short_name:i,value:o.o.value}),e.$$phase||e.$apply()}})}}}}]),u.value("config",{cesiumBase:"../node_modules/cesium/Build/Cesium/",default_layers:[new ol.layer.Tile({source:new ol.source.OSM,title:"OpenStreetMap",base:!0,visible:!1,minimumTerrainLevel:15}),new ol.layer.Tile({title:"Corine land cover (WMS)",source:new ol.source.TileWMS({url:"http://gis.lesprojekt.cz/cgi-bin/mapserv?map=/home/dima/maps/olu/european_openlandusemap.map",params:{LAYERS:"corine",FORMAT:"image/png",INFO_FORMAT:"text/html",minimumTerrainLevel:9},crossOrigin:null}),path:"Open-Land-Use Map",visible:!1,opacity:.7}),new ol.layer.Tile({title:"Production zones",source:new ol.source.TileWMS({url:"http://gis.lesprojekt.cz/cgi-bin/mapserv?map=/home/dima/maps/produkcni_zony.map",params:{LAYERS:"p_zony",FORMAT:"image/png",INFO_FORMAT:"text/html"},crossOrigin:null}),path:"Open-Land-Use Map",visible:!1,opacity:.7}),new ol.layer.Tile({title:"Open-Land-Use (WMS)",source:new ol.source.TileWMS({url:"http://gis.lesprojekt.cz/cgi-bin/mapserv?map=/home/dima/maps/olu/openlandusemap.map",params:{LAYERS:"olu_bbox_srid",FORMAT:"image/png",INFO_FORMAT:"text/html",VERSION:"1.1.1",CRS:"EPSG:4326",FROMCRS:"EPSG:4326"},crossOrigin:null}),legends:["http://gis.lesprojekt.cz/cgi-bin/mapserv?map=/home/dima/maps/3d_olu/openlandusemap.map&service=WMS&request=GetLegendGraphic&layer=olu_bbox_srid&version=1.3.0&format=image/png&sld_version=1.1.0"],path:"Open-Land-Use Map",visible:!1,opacity:.7}),n.createPoiLayer()],project_name:"erra/map",datasources:[{title:"Datasets",url:"http://otn-dev.intrasoft-intl.com/otnServices-1.0/platform/ckanservices/datasets",language:"eng",type:"ckan",download:!0},{title:"Services",url:"http://cat.ccss.cz/csw/",language:"eng",type:"micka",code_list_url:"http://www.whatstheplan.eu/php/metadata/util/codelists.php?_dc=1440156028103&language=eng&page=1&start=0&limit=25&filter=%5B%7B%22property%22%3A%22label%22%7D%5D"},{title:"Hub layers",url:"http://opentnet.eu/php/metadata/csw/",language:"eng",type:"micka",code_list_url:"http://opentnet.eu/php/metadata/util/codelists.php?_dc=1440156028103&language=eng&page=1&start=0&limit=25&filter=%5B%7B%22property%22%3A%22label%22%7D%5D"}],hostname:{default:{title:"Default",type:"default",editable:!1,url:(l=window.location.href.split("/"),c=l[2],l[0]+"//"+c)}},catalogue_url:"/php/metadata/csw",compositions_catalogue_url:"/php/metadata/csw",status_manager_url:"/wwwlibs/statusmanager2/index.php",default_view:new ol.View({center:[3877722.800688537,25705.789576994397],zoom:16,units:"m"}),cesiumBingKey:"Ag-1WrJMNrtwDswUaPxKvq85UO-82NmE_V5HiXbgssabAYmr4zV2HyFWrusCfaXF"}),u.controller("Main",["$scope","$compile","$element","Core","hs.map.service","config","$rootScope","hs.utils.service","$sce","gettext",function(t,e,s,l,c,u,p,h,d,f){var m,g;t.hsl_path=hsl_path,t.Core=l,l.singleDatasources=!0,l.panelEnabled("compositions",!1),l.panelEnabled("status_creator",!1),t.Core.setDefaultPanel("layermanager");var y,v=[],b=[];function w(t,e){v.push(t),(angular.isUndefined(e)||e)&&b.push(t)}function E(t){m=c.map,n.getPois(m,h,t),b.forEach(function(e){e.get(m,h,t)})}function M(){m.getView().calculateExtent(m.getSize())}function C(){var n=angular.element("<div hs.hud></div>");$(".page-content").append(n),e(n)(t)}function _(){return g.HsCsCamera.getViewportPolygon()}w(r),w(a,!1),w(i),w(o),p.$on("map.loaded",function(){m=c.map,v.forEach(function(n){n.init(t,e,m,h,f)}),p.$on("map.sync_center",function(e,n,o){t.last_center=n,E(o)}),p.$on("map.extent_changed",function(e,n,o){if(c.visible){var i=[[(o=ol.proj.transformExtent(o,m.getView().getProjection(),"EPSG:4326"))[0],o[1]],[o[2],o[1]],[o[2],o[3]],[o[0],o[3]]];t.last_center=[(o[0]+o[2])/2,(o[1]+o[3])/2],E(i)}}),m.on("moveend",M)}),n.init(t,e),v.forEach(function(t){u.default_layers.push(t.createLayer(f))}),y=angular.element("<div hs.aboutproject></div>"),$("#hs-dialog-area").append(y),e(y)(t),t.showInfo=function(e){var n,o;e.properties.poi&&(n=e.properties.poi.getValue(),o="Point of interest"),t.zone={id:d.trustAsHtml(),attributes:[],links:[],obj_type:o},function(e,n){var o="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent("describe <"+e+">")+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";$.ajax({url:o}).done(function(o){if(!angular.isUndefined(o.results)){for(var i=0;i<o.results.bindings.length;i++){var r=o.results.bindings[i],a=r.p.value;a.indexOf("#")>-1&&(a=a.split("#")[1]),t.zone.attributes.push({short_name:a,value:r.o.value})}!function(e,n){var o="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent("PREFIX geo: <http://www.opengis.net/ont/geosparql#> PREFIX geof: <http://www.opengis.net/def/function/geosparql/> PREFIX virtrdf: <http://www.openlinksw.com/schemas/virtrdf#> PREFIX poi: <http://www.openvoc.eu/poi#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> SELECT * WHERE {?obj <http://www.opengis.net/ont/geosparql#hasGeometry> ?obj_geom. ?obj_geom geo:asWKT ?Coordinates . FILTER(bif:st_intersects (?Coordinates, ?wkt)). { SELECT ?wkt WHERE { <"+e+"> geo:hasGeometry ?geometry. ?geometry geo:asWKT ?wkt.} } }")+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";$.ajax({url:o}).done(function(e){for(var o=0;o<e.results.bindings.length;o++){var i=e.results.bindings[o];t.zone.links.push({url:i.obj.value})}n()})}(e,n)}})}(n,function(){t.$$phase||t.$apply()})},p.$on("cesiummap.loaded",function(t,e,n){e.targetFrameRate=30,g=n,v.forEach(function(t){t.cesium=g}),setTimeout(C,3e3)}),p.$on("map.mode_changed",function(t,e){"ol"==e&&(c.findLayerByTitle("OpenStreetMap").setVisible(!0),v.forEach(function(t){t.map_mode=e}))}),p.$on("cesiummap.resized",function(){b.forEach(function(t){t.get(m,h,_())})}),t.reloadIdUz=function(){parcels_with_id.getLayer().setVisible(!0),parcels_with_id.get(m,h)},t.reloadIdUzCropTypes=function(){parcels_with_id.getLayer().setVisible(!0),parcels_with_id.getCropTypes(m,h)},t.water_distance=1,t.reloadNearWaterbodies=function(){parcels_near_water.getLayer().setVisible(!0),parcels_near_water.get(m,h,_())},t.reloadCTVDPB=function(){parcels_with_CTVDPB.getLayer().setVisible(!0),parcels_with_CTVDPB.get(m,h,_())},t.reloadErosionZonesById=function(){a.getLayer().setVisible(!0),a.getForId(m,h)},t.reloadErosionZonesByCTVDPB=function(){a.getLayer().setVisible(!0),a.getForCTVDPB(m,h)},t.reloadPlotsNearRegion=function(){o.getLayer().setVisible(!0),o.get(m,h,_())},t.reloadSoils=function(){i.getLayer().setVisible(!0),i.get(m,h,_())},t.$on("scope_loaded",function(t,e){}),t.showPopup=function(n){t.showInfo(n),$("#zone-info-dialog").length>0&&angular.element("#zone-info-dialog").parent().remove();var o=angular.element("<div hs.foodiezones.info-directive></div>");$("#hs-dialog-area").append(o),e(o)(t)},t.crop_distance=1,t.$on("infopanel.updated",function(t){})}]),u}(t("ol"),t("toolbar"),t("layermanager"),t("poi"),t("parcels_near_region"),t("soils"),t("water_bodies"),t("erosion_zones"),t("sidebar"),t("query"),t("search"),t("print"),t("permalink"),t("measure"),t("geolocation"),t("api"),t("hscesium"),t("ows"),t("datasource_selector"),t("bootstrap.bundle"),t("angular-gettext"),t("translations_extended"),t("language"))},{"angular-gettext":51,api:1,"bootstrap.bundle":60,datasource_selector:8,erosion_zones:68,geolocation:12,hscesium:16,language:17,layermanager:21,measure:27,ol:65,ows:28,parcels_near_region:69,permalink:33,poi:70,print:34,query:35,search:36,sidebar:37,soils:71,toolbar:40,translations_extended:73,water_bodies:74}],68:[function(t,e,n){e.exports=function(ol,t){var e,n,o,i=new ol.source.Vector;function r(t){o&&(o.polygon.material.color=t.original_color),o=t,t.polygon.material.color=new Cesium.Color.fromCssColorString("rgba(250, 250, 250, 0.6)")}i.cesiumStyler=function(t){for(var e=t.entities.values,n=0;n<e.length;n++){var o=e[n];o.styled||(o.polygon.outline=!1,o.original_color=new Cesium.Color.fromCssColorString("rgba(40, 150, 40, 0.6)"),o.polygon.material=new Cesium.ColorMaterialProperty(o.original_color),o.styled=!0,o.onmouseup=r)}};var a={getForId:function(o,r){if(0!=n.getVisible()){var s="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent(`\n                PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n                PREFIX virtrdf:\t<http://www.openlinksw.com/schemas/virtrdf#> \n                PREFIX poi: <http://www.openvoc.eu/poi#> \n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX foodie-cz: <http://foodie-cloud.com/model/foodie-cz#>\n                PREFIX foodie: <http://foodie-cloud.com/model/foodie#>\n                PREFIX common: <http://portele.de/ont/inspire/baseInspire#>\n                PREFIX prov: <http://www.w3.org/ns/prov#>\n                PREFIX olu: <http://w3id.org/foodie/olu#>\n                PREFIX af-inspire: <http://inspire.ec.europa.eu/schemas/af/3.0#>\n                \n                \n                SELECT DISTINCT ?erosionZone ?erosion ?erosionCoord\n                FROM <http://w3id.org/foodie/open/cz/Erosion_zones_WGS#>\n                WHERE {\n                  ?erosionZone a foodie-cz:ErosionZone ;\n                     foodie-cz:erosion ?erosion ;\n                     geo:hasGeometry ?erosionGeo .\n                  ?erosionGeo ogcgs:asWKT ?erosionCoord .\n                  FILTER(bif:st_intersects(?erosionCoord, ?coordPlot)) .\n                  GRAPH ?graph1 {   \n                     SELECT ?holding ?plot ?code ?shortId ?landUse ?coordPlot\n                     FROM <http://w3id.org/foodie/open/cz/pLPIS_180616_WGS#>\n                     WHERE{ \n                       ?holding a foodie:Holding ;\n                          common:identifier ?identifier_ID_UZ ;\n                          foodie-cz:inspireIdCodeSpace ?inspireIdCodeSpace ;\n                          foodie-cz:inspireIdCodeVersion ?inspireIdCodeVersion ;\n                          af-inspire:contains ?site .\n                       FILTER(STRSTARTS(STR(?identifier_ID_UZ),"${e.iduz}") )\n                       ?site foodie:containsPlot ?plot .\n                       ?plot a foodie:Plot ;\n                          foodie:code ?code ;\n                          foodie-cz:shortId ?shortId ;\n                          olu:specificLandUse ?landUse ;\n                          geo:hasGeometry ?geoPlot .\n                       ?geoPlot ogcgs:asWKT  ?coordPlot .  \n                    }\n                  }\n                }\n                           \n                `)+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";t.startLoading(i,e),$.ajax({url:s}).done(function(n){t.fillFeatures(i,"erosionCoord",n,"erosionZone",{erosionZone:"erosionZone",erosion:"erosion"},o,e),t.zoomToFetureExtent(i,a.cesium.viewer.camera,o)})}},getForCTVDPB:function(o,r){if(0!=n.getVisible()){var s="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent(`\n                PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n                PREFIX virtrdf:\t<http://www.openlinksw.com/schemas/virtrdf#> \n                PREFIX poi: <http://www.openvoc.eu/poi#> \n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX foodie-cz: <http://foodie-cloud.com/model/foodie-cz#>\n                PREFIX foodie: <http://foodie-cloud.com/model/foodie#>\n                PREFIX common: <http://portele.de/ont/inspire/baseInspire#>\n                PREFIX prov: <http://www.w3.org/ns/prov#>\n                PREFIX olu: <http://w3id.org/foodie/olu#>\n                PREFIX af-inspire: <http://inspire.ec.europa.eu/schemas/af/3.0#>\n\n                SELECT DISTINCT ?erosionZone ?erosion ?erosionCoord\n                FROM <http://w3id.org/foodie/open/cz/Erosion_zones_WGS#>\n                WHERE {\n                ?erosionZone a foodie-cz:ErosionZone ;\n                    foodie-cz:erosion ?erosion ;\n                    geo:hasGeometry ?erosionGeo .\n                ?erosionGeo geo:asWKT ?erosionCoord .\n                FILTER(bif:st_intersects(?erosionCoord, ?coordPlotFinal)) .\n                {\n                SELECT ?plot ?coordPlotFinal\n                FROM <http://w3id.org/foodie/open/cz/pLPIS_180616_WGS#>\n                WHERE {\n                    ?plot a foodie:Plot ;\n                        foodie:code ?input ;\n                        geo:hasGeometry ?geoPlotFinal .\n                    ?geoPlotFinal geo:asWKT  ?coordPlotFinal .\n                    {\n                        SELECT ?input\n                        WHERE {\n                            ?s ?p ?v\n                            BIND ("${e.ctvdpd}"^^<http://www.w3.org/2001/XMLSchema#string> as ?input) .\n                        }\n                        LIMIT 1\n                    }\n                }\n                }\n                }\n\n                           \n                `)+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";t.startLoading(i,e),$.ajax({url:s}).done(function(n){t.fillFeatures(i,"erosionCoord",n,"erosionZone",{erosionZone:"erosionZone",erosion:"erosion"},o,e),t.zoomToFetureExtent(i,a.cesium.viewer.camera,o)})}},createLayer:function(t){return n=new ol.layer.Vector({title:t("Erosion zones"),source:i,visible:!1,style:function(t,e){return[new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(40, 150, 40, 0.6)",width:2}),fill:new ol.style.Fill({color:"rgba(40, 150, 40, 0.8)"})})]}})},getLayer:()=>n,init:function(t,n,o,i){e=t,n,o,i}};return a}(t("ol"),t("sparql_helpers"))},{ol:65,sparql_helpers:72}],69:[function(t,e,n){e.exports=function(ol,t){var e,n,o,i=new ol.source.Vector;function r(t){o&&(o.polygon.material.color=t.original_color),o=t,t.polygon.material.color=new Cesium.Color.fromCssColorString("rgba(250, 250, 250, 0.6)")}i.cesiumStyler=function(t){for(var e=t.entities.values,n=0;n<e.length;n++){var o=e[n];if(!o.styled){o.properties.code,o.properties.use.getValue();o.polygon.outline=!1,o.original_color=new Cesium.Color.fromCssColorString("rgba(50, 50, 150, 0.6)"),o.polygon.material=new Cesium.ColorMaterialProperty(o.original_color),o.styled=!0,o.onmouseup=r}}};var a={get:function(o,r,s){if(void 0!==e.last_center&&!(o.getView().getResolution()>n.getMaxResolution()*("cesium"==typeof a.map_mode?.5:1)||0==n.getVisible())){var l=`POLYGON ((${p(s[0])}, ${p(s[1])}, ${p(s[2])}, ${p(s[3])}, ${p(s[0])}, ${p(s[1])}))`,c=e.proximity*(1/110540+1/(111320*Math.cos(e.last_center[1])))/2,u="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent(`\n                PREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX geof: <http://www.opengis.net/def/function/geosparql/>\nPREFIX virtrdf:\t<http://www.openlinksw.com/schemas/virtrdf#> \nPREFIX poi: <http://www.openvoc.eu/poi#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX foodie: <http://foodie-cloud.com/model/foodie#>\nPREFIX olu: <http://w3id.org/foodie/olu#>\nPREFIX foodie-water_body: <http://foodie-cloud.com/model/foodie/water-body#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\n\nSELECT DISTINCT ?site ?code ?landUse ?coordSiteFinal\nFROM <http://w3id.org/foodie/open/kenya/ke_crops_size#>\nWHERE {\n   ?site geo:hasGeometry ?geoSiteFinal .\n   ?geoSiteFinal geo:asWKT  ?coordSiteFinal .\n   FILTER(bif:st_intersects(?coordSiteFinal, ?coordWBody, ${c})) .\n   \n   GRAPH ?graph1 {\n      SELECT ?site ?code (group_concat(concat(?landUseLabel) ; separator = "; ") as ?landUse)\n      FROM <http://w3id.org/foodie/open/kenya/ke_crops_size#>\n      WHERE{ \n         ?site a foodie:Site ;\n            foodie:code ?code ;\n            olu:specificLandUse ?landUseCode ;\n            geo:hasGeometry ?geoSite .\n         ?geoSite geo:asWKT  ?coordSite .\n         FILTER(bif:st_may_intersect (?coordSite, bif:st_geomFromText("${l}"))) .   \n         ?landUseCode skos:prefLabel ?landUseLabel\n       }\n       GROUP BY ?site ?code\n   }\n   GRAPH ?graph2 {\n      SELECT ?waterBody ?label ?coordWBody \n      FROM <http://w3id.org/foodie/open/africa/water_body#>\n      WHERE {\n   \t?waterBody a foodie-water_body:WaterBody ;\n               geo:hasGeometry ?geoWBody .\n   \t?geoWBody geo:asWKT ?coordWBody .\n   \tFILTER(bif:st_may_intersect (?coordWBody, bif:st_geomFromText("${l}"))) .\n   \tOPTIONAL {?waterBody rdfs:label ?label}\n      }\n   }\n}\n\n                `)+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";t.startLoading(i,e),$.ajax({url:u}).done(function(n){t.fillFeatures(i,"coordSiteFinal",n,"code",{parcel:"code",site:"site",use:"landUse"},o,e)})}function p(t){return t.toString().replaceAll(","," ")}},createLayer:function(t){return n=new ol.layer.Vector({title:t("Parcels near water"),source:i,visible:!1,maxResolution:19.109257071294063,style:function(t,e){var n=t.get("use").split("/");return n=n[n.length-1],[new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(50, 50, 150, 0.8)",width:2}),fill:new ol.style.Fill({color:"rgba(50, 50, 150, 0.6)"})})]}})},getLayer:()=>n,init:function(t,n,o,i){(e=t).proximity=5,n,o,i}};return a}(t("ol"),t("sparql_helpers"))},{ol:65,sparql_helpers:72}],70:[function(t,e,n){e.exports=function(ol){var t,e,n,o=new ol.source.Vector;function i(n){t.showInfo(n),$("#zone-info-dialog").length>0&&angular.element("#zone-info-dialog").parent().remove();var o=angular.element("<div hs.foodiezones.info-directive></div>");$("#hs-dialog-area").append(o),e(o)(t)}return o.cesiumStyler=function(t){for(var e=t.entities.values,n=0;n<e.length;n++){var o=e[n],r=(o.properties.label,o.properties.category.getValue());if(void 0===r)return;r=r.split("#")[1];switch(r="archaeological_site.png  artwork.png fuel.png natural_feature.png water_point.png bank.png  food_and_drink.png drinking_water.png    cafe.png       car_wash.png  fast_food.png  hotel.png        library.png   other.png    place_of_worship.png  restaurant.png   viewpoint.png     zoo.png arts_centre.png          atm.png      bus_stop.png  camp_site.png  dentist.png   fountain.png   information.png  memorial.png  parking.png  pub.png              supermarket.png  waste_basket.png".indexOf(r+".png")>-1?"symbols/"+r+".png":"symbols/other.png",o.billboard.scaleByDistance=new Cesium.NearFarScalar(50,1.5,25e3,0),o.billboard.image=r,o.properties.category.getValue()){case"http://gis.zcu.cz/SPOI/Ontology#peak":o.label=new Cesium.LabelGraphics({text:o.properties.label,font:"18px Helvetica",fillColor:Cesium.Color.WHITE,outlineColor:new Cesium.Color(.64,.172549,.749019,.9),outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-36),scaleByDistance:new Cesium.NearFarScalar(50,1.5,25e3,0),heightReference:Cesium.HeightReference.CLAMP_TO_GROUND});break;case"http://gis.zcu.cz/SPOI/Ontology#village":case"http://gis.zcu.cz/SPOI/Ontology#city":o.label=new Cesium.LabelGraphics({text:o.properties.label,font:"14px Helvetica",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,showBackground:!0,style:Cesium.LabelStyle.FILL,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-36),scaleByDistance:new Cesium.NearFarScalar(50,1.5,25e3,0),heightReference:Cesium.HeightReference.CLAMP_TO_GROUND})}o.onclick=i}},{getPois:function(t,e,i){if(!(t.getView().getResolution()>n.getMaxResolution()||0==n.getVisible())){var r=new ol.format.WKT,a=`POLYGON ((${l(i[0])}, ${l(i[1])}, ${l(i[2])}, ${l(i[3])}, ${l(i[0])}, ${l(i[1])}))`,s="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent(`PREFIX geo: <http://www.opengis.net/ont/geosparql#> \n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/> \n                PREFIX virtrdf: <http://www.openlinksw.com/schemas/virtrdf#> \n                PREFIX poi: <http://www.openvoc.eu/poi#> \n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n                SELECT ?poi ?wkt ?sub ?label FROM <http://www.sdi4apps.eu/poi.rdf> \n                WHERE {?poi geo:asWKT ?wkt . \n                    FILTER(bif:st_intersects(bif:st_geomfromtext("${a}"), ?wkt)).\n                    ?poi <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?sub. \n                    ?poi <http://www.w3.org/2000/01/rdf-schema#label> ?label\n                }`)+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";o.set("loaded",!1),$.ajax({url:s}).done(function(e){if(!angular.isUndefined(e.results)){for(var n=[],i=0;i<e.results.bindings.length;i++)try{var a=e.results.bindings[i];if("http://www.openlinksw.com/schemas/virtrdf#Geometry"==a.wkt.datatype&&-1==a.wkt.value.indexOf("e+")&&-1==a.wkt.value.indexOf("e-")){var s=r.readFeature(a.wkt.value.toUpperCase()),l=(s.getGeometry().getExtent(),s.getGeometry().transform("EPSG:4326",t.getView().getProjection())),c=new ol.Feature({geometry:l,poi:a.poi.value,category:a.sub.value,label:a.label.value});n.push(c)}}catch(t){console&&console.log(t)}o.clear(),o.addFeatures(n),o.set("loaded",!0),o.dispatchEvent("features:loaded",o)}})}function l(t){return t.toString().replaceAll(","," ")}},createPoiLayer:function(){return n=new ol.layer.Vector({title:"Points of interest",source:o,maxResolution:38.21851414258813,style:function(t,e){var n=t.get("category");if(void 0!==n){n=n.split("#")[1];return n="archaeological_site.png  artwork.png  bank.png      cafe.png       car_wash.png  fast_food.png  hotel.png        library.png   other.png    place_of_worship.png  restaurant.png   viewpoint.png     zoo.png arts_centre.png          atm.png      bus_stop.png  camp_site.png  dentist.png   fountain.png   information.png  memorial.png  parking.png  pub.png              supermarket.png  waste_basket.png".indexOf(n+".png")>-1?"../foodie-zones/symbols/"+n+".png":"../foodie-zones/symbols/other.png",[new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:n,size:[30,35],crossOrigin:"anonymous"})})]}},visible:!0})},init:function(n,o){t=n,e=o}}}(t("ol"))},{ol:65}],71:[function(t,e,n){e.exports=function(ol,t){var e,n,o=new ol.source.Vector;o.cesiumStyler=function(t){for(var e=t.entities.values,n=0;n<e.length;n++){var o=e[n];if(!o.styled){o.polygon.outline=!1,o.polygon.material=new Cesium.Color.fromCssColorString("rgba(237, 189, 113, 0.6)");var i=o.polygon.hierarchy.getValue(Cesium.JulianDate.now()).positions,r=Cesium.BoundingSphere.fromPoints(i).center;r=Cesium.Ellipsoid.WGS84.scaleToGeodeticSurface(r),o.position=r,o.label=new Cesium.LabelGraphics({text:o.properties.code.getValue(),font:"16px Helvetica",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,showBackground:!0,style:Cesium.LabelStyle.FILL,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(10,1e4),disableDepthTestDistance:Number.POSITIVE_INFINITY,scaleByDistance:new Cesium.NearFarScalar(500,1,2e4,0),heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}),o.styled=!0}}};var i={get:function(i,r,a){if(!(i.getView().getResolution()>n.getMaxResolution()||0==n.getVisible())){var s=`POLYGON ((${c(a[0])}, ${c(a[1])}, ${c(a[2])}, ${c(a[3])}, ${c(a[0])}, ${c(a[1])}))`,l="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent(`\n\n                PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n                PREFIX virtrdf:\t<http://www.openlinksw.com/schemas/virtrdf#> \n                PREFIX poi: <http://www.openvoc.eu/poi#> \n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX foodie-cz: <http://foodie-cloud.com/model/foodie-cz#>\n                PREFIX foodie: <http://foodie-cloud.com/model/foodie#>\n                PREFIX olu: <http://w3id.org/foodie/olu#>\n                PREFIX common: <http://portele.de/ont/inspire/baseInspire#>\n\n\n                SELECT DISTINCT ?plot ?soilType ?code ?shortId ?landUse ?coordPlotFinal\n                FROM <http://w3id.org/foodie/open/cz/pLPIS_180616_WGS#>\n                WHERE {\n                ?plot a foodie:Plot ;\n                        foodie:code ?code ;\n                        foodie-cz:shortId ?shortId ;\n                        olu:specificLandUse ?landUse ;\n                        geo:hasGeometry ?geoPlotFinal .\n                    ?geoPlotFinal ogcgs:asWKT  ?coordPlotFinal .\n                    FILTER(bif:st_intersects(?coordPlotFinal, ?coordSoil)) .\n                    GRAPH ?graph1 {\n                        SELECT ?soil (?label as ?soilType) ?codeSoil ?description ?link ?coordSoil\n                        FROM <http://w3id.org/foodie/open/cz/Soil_maps_BPEJ_WGSc#>\n                        WHERE {\n                            ?soil a foodie:Plot ;\n                                    geo:hasGeometry ?geoSoil .\n                            optional {?soil rdfs:label ?label }.\n                            optional {?soil foodie:code ?codeSoil }.\n                            optional {?soil common:link ?link }.\n                            optional {?soil foodie:description ?description }.\n                            ?geoSoil ogcgs:asWKT ?coordSoil .\n                            FILTER(STRSTARTS(STR(?label),"${e.soilType}") ).\n                        FILTER(bif:st_intersects (?coordSoil, bif:st_geomFromText("${s}"))) .\n                        }\n                    }\n                }\n                `)+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";t.startLoading(o,e),$.ajax({url:l}).done(function(n){t.fillFeatures(o,"coordPlotFinal",n,"code",{plot:"plot",shortId:"shortId",code:"code",soilType:"soilType"},i,e,e)})}function c(t){return t.toString().replaceAll(","," ")}},createLayer:function(t){return n=new ol.layer.Vector({title:t("Fields with soil type"),maxResolution:4.777314267823516,source:o,visible:!1,style:function(t,e){return[new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(237, 189, 113, 0.6)",width:2}),fill:new ol.style.Fill({color:"rgba(237, 189, 113, 0.8)"})})]}})},fillClassificators(){var t="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent("PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n                PREFIX virtrdf:\t<http://www.openlinksw.com/schemas/virtrdf#> \n                PREFIX poi: <http://www.openvoc.eu/poi#> \n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX foodie: <http://foodie-cloud.com/model/foodie#>\n                PREFIX olu: <http://w3id.org/foodie/olu#>\n                PREFIX common: <http://portele.de/ont/inspire/baseInspire#>\n                PREFIX soilType: <http://foodie-cloud.com/model/foodie/code/PropertyTypeValue/soilType>\n                \n                SELECT ?name \n                FROM <http://w3id.org/foodie/open/cz/Soil_maps_BPEJ_WGSc#>\n                WHERE {\n                ?s a foodie:PropertyType .\n                ?s foodie:propertyType soilType: .\n                ?s foodie:propertyName ?name\n                } \n                \n                ")+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";$.ajax({url:t}).done(function(t){e.soilTypes=t.results.bindings.map(function(t){return t.name.value})})},getLayer:()=>n,init:function(t,n,o,r){e=t,n,o,r,i.fillClassificators()}};return i}(t("ol"),t("sparql_helpers"))},{ol:65,sparql_helpers:72}],72:[function(t,e,n){var ol,o;e.exports=(ol=t("ol"),o={fillFeatures:function(t,e,n,i,r,a,s){if(!angular.isUndefined(n.results)){var l=[],c=new ol.format.WKT;t.getFeatures().forEach(function(t){t._flaged_for_removal=!0});for(var u=0;u<n.results.bindings.length;u++)try{var p=n.results.bindings[u];if("http://www.openlinksw.com/schemas/virtrdf#Geometry"==p[e].datatype&&-1==p[e].value.indexOf("e+")&&-1==p[e].value.indexOf("e-"))if(null==t.getFeatureById(p[i].value)){var h={geometry:c.readFeature(p[e].value.toUpperCase()).getGeometry().transform("EPSG:4326",a.getView().getProjection())};for(key in r)void 0===p[r[key]]?console.error("Missing key",key):h[key]=p[r[key]].value;var d=new ol.Feature(h);d.setId(p[i].value),l.push(d)}else t.getFeatureById(p[i].value)._flaged_for_removal=!1}catch(t){console.log(t)}t.addFeatures(l),t.getFeatures().forEach(function(e){e._flaged_for_removal&&t.removeFeature(e)}),o.completeLoading(t,s)}},startLoading(t,e){t.set("loaded",!1),t.loaded=!1,e.$$phase||e.$apply()},completeLoading(t,e){t.set("loaded",!0),t.loaded=!0,e.$$phase||e.$apply(),t.dispatchEvent("features:loaded",t)},zoomToFetureExtent(t,e,n){if(t.getFeatures().length>0){var o=t.getFeatures()[0].getGeometry().getExtent().slice(0);t.getFeatures().forEach(function(t){ol.extent.extend(o,t.getGeometry().getExtent())}),o=ol.proj.transformExtent(o,n.getView().getProjection(),"EPSG:4326"),e.flyTo({destination:Cesium.Rectangle.fromDegrees(o[0],o[1],o[2],o[3])})}}})},{ol:65}],73:[function(t,e,n){angular.module("gettext").run(["gettextCatalog",function(t){t.setStrings("cs",{"About Databio pilot":"O Databio pilotu","Actions:":"Akce:",CTVDPB:"CTVDPB",Clear:"Vymazat",Close:"Zavt","Crop type":"Typ plodiny","Crop types for fields with CTVDPB code":"Typy plodin pro pole s CTVDPB kdem","Crop types for fields with LPIS ID":"Typy plodin pro pole s LPIS ID","Distance in km":"Vzdlenost v kilometrech","Distance to water bodies in km":"Vzdlenost k vodn ploe v kilometrech",EndUTC:"EndUTC","Erosion zones":"Erozn zny","Fields by ID_UZ attribute from LPIS db":"Pole s ID_UZ atributem z databze LPIS","Fields by crop types":"Pole podle typu plodiny","Fields by crop types and distance":"Pole podle typu plodiny a vzdlenosti","Fields filtered by CTVDPD code":"Pole filtrovan podle CTVDPB kdu","Fields with soil type":"Pole s typem pdy",Filter:"Filtr","Filter fields by crop and distance to map center":"Filtrovat pole podle plodiny a vzdlenosti od stedu mapy","Filter fields by soil type in area":"Filtrovat pole podle typu pdy v oblasti","Filter fields which are near water":"Vybrat pole blzko vody","Find erosion zones":"Najt erozn zny","Find fields with crop type in area":"Najt pole podle plodiny ve vymezen oblasti","Get Sentinel satellite crossings":"Zobrazit pelety satelit Sentinelu",ID:"ID","ID Uz":"ID Uz","LPIS FARM ID (ID_UZ)":"LPIS identifiktor farmy (ID_UZ)","Land usage for fields with LPIS ID":"Vyuit pdy u pol s LPIS ID","Map based web application for identifying of usable remote sensing data from Sentinel satellites. Right click or double click on the map to choose one or multiple positions (for example fields, forests etc.) and the application prepare a forecast based on location, minimal satellite elevation and minimal crossing duration for Sentinel 2A and 2B satellites. The application calculates timetable of satellites crossing time and weather (clouds) forecast as a result. User gets information when his selected position(s) can be photographed and which imagery can be used for further processing.":"Webov mapov aplikace pro identifikaci v zemdlstv uitench dat dlkovho snmn z sentinel satelit. Kliknte pravm tlatkem myi nebo dvojklikem pro vbr jedn nebo vce zjmovch objekt (napklad pole, lesy atd.) a aplikace piprav prognzu na zklad umstn, minimln elevace druice a minimln doby peletu pro druice Sentinel 2a a 2b. Aplikace spot asov harmonogram pelet druic a zobraz pedpov poas (zejmna oblanosti). Uivatel zsk informace, kdy mohou bt zvolen zjmov objekty zachyceny druic a kter snmky lze pout k dalmu zpracovn.",MaxUTC:"MaxUTC","Plots intersecting water bodies":"Parcely (/Pole) protnajc se s vodnmi plochami","Sentinel watcher":"hlda druic Sentinel",Sn:"Sn","Soil type":"Typ pdy",StartUTC:"StartUTC","Water bodies":"Vodn plochy",Weather:"Poas",at:"na (context needed)","code eg. 57011607501":"pklad kdu: 57011607501","e.g. 17614":"nap.: 17614","e.g. 57011607501":"nap.: 57011607501","e.g. 6423":"nap.: 57011607501",Abstract:"Abstrakt",Access:"Pstup",Add:"Pidat","Add external data":"Pidat extern data","Add layers":"Pidat vrstvy","Add to map":"Pidat do mapy",Address:"Adresa","Advanced options":"Rozen monosti",Altitude:"ka",Author:"Autor",Baselayers:"Zkladn vrstvy",Cancel:"Zruit","Choose format":"Vyberte formt",City:"Msto",Colour:"Barva","Colour gradient limits":"Limity gradientu barvy",Compositions:"Kompozice",Confirm:"Potvrdit",Context:"Kontext","Continue without saving":"Pokraovat bez uloen",Country:"Stt",Data:"Data",Dataset:"Datov sada","Datasource Selector":"Vbr datovch zdroj",Datasources:"Datov zdroje",Date:"Datum","Do you really want to overwrite <b>{{title}}</b>?":"Dopravdy chcete pepsat <b>{{title}}</b>?","Do you really want to remove all layers?":"Opravu chcete odebrat vechny vrstvy","Do you want to delete map":"Chcete smazat mapu",Download:"Sthnout","E-mail":"E-mail","Embed code":"Kd pro vloen","Embed map":"Kd pro vloen mapy","New map":"Nov mapa","Eurostat explorer":"Prohle eurostatu","Extended search parameters for Micka":"Rozen parametry pro hledn",Extent:"Rozsah","External data":"Extern data","External data source (URL)":"Zdroj externch dat (URL)","Extract styles":"Extrahovat styly","Failed to save to status manager":"Chyba pi ukldn",Fill:"Vpl","Fill in descriptive text about map":"Vyplnit popis o map","Fill in name":"Vyplnit jmno","Filter by":"Filtrovat","Filter by map extent":"Filtrovat pomoc rozsahu","Filter by value":"Filtrovat pomoc hodnoty","Filter by {{group.name}}":"Filtrovat pomoc {{group.name}}","Filter features":"Filtrovat prvky","Filter the values which are in a speciffic interval by dragging on the chart below":"Fltrovat prvky, kter jsou ve specifickm intervalu, pomoc petaen v grafu","Folder name":"Jmno adrese",Follow:"Sledovat",Format:"Formt",Fulltext:"Fulltext",Icon:"Ikona","Image format":"Formt obrzku",Info:"Info",Keywords:"Klov slova",Layer:"Vrstva","Layer manager":"Sprvce vrstev",Layers:"Vrstvy",Legend:"Legenda",Line:"Linie","Line Colour":"Barva linie","Line width":"ka linie","List available map compositions":"Seznam dostupnch mapovch kompozic","Loading:":"Nahrvn:","Make public":"Veejn","Manage and Style Layers":"Spravovat a stylovat vrstvy","Manage and style your layers in composition":"Spravovat a stylovat vrstvy v kompozici","Map Compositions":"Mapov kompozice","Map Content":"Obsah mapy","Map and layer projection do not match! Resampling will be used. This may lead to unexpectable results.":"Souadncov systm mapy a vrstvy nesouhlas. Bude pouito pevzorkovn. Vysledek me vypadat patn.","Map projection and layer projection not match. Add the layer to map and use server-side resampling program?":"Souadncov systm mapy a vrstvy nesouhlas. Pidat vrstvu do mapy a pout pevzorkovn?",Measure:"Men","Measure distance or area at map":"Men vzdlenost a ploch na map","Measure lines and polygon":"Men lini a polygon",Measurements:"Men","Merge compositions":"Spojit kompozice","Metadata for":"Metadata pro","Metadata in":"Metadata v",More:"Vce",Name:"Jmno",Next:"Dal",No:"Ne","No results":"dn vsledky","No, save as":"Ne, uloit jako",OK:"OK","Only mine":"Pouze moje",Opacity:"Prhlednost","Order by":"Seadit podle",Organization:"Organizace","Organization name":"Jmno organizace",Overwrite:"Pepsat","Overwrite existing map?":"Pepsat existujc mapu?",Person:"Osoba",Phone:"Telefon",Point:"Bod",Position:"Pozice","Postal code":"PS",Previous:"Pedchoz",Print:"Tisk","Print map":"Vytisknout mapu","Query format":"Formt dotazu",Radius:"Radius",Read:"st",Reload:"Znovu nast","Reload composition":"Znovu nast kompozici","Remove all added layers":"Odebrat vechny pidan vrstvy","Resample layer":"Pevzorkovat vrstvu","Reset map":"Resetovat mapu",Save:"Uloit","Save as":"Uloit jako","Save changes first":"Uloit nejdv zmny","Save composition":"Uloit kompozici","Save current map":"Uloit nynj mapu","Saving to status manager":"Uloit",Scale:"Mtko",Search:"Hledat","Select All Layers":"Vybrat vechny vrstvy","Select data or services for your map composition":"Vybrat data nebo sluby pro mapovou kompozici","Select new name for map.":"Vybrat nov jmno pro mapu.","Share map":"Sdlet mapu",Speed:"Rychlost",State:"Stav","Style layer":"Nastylovat vrstvu","Successfuly saved to status manager":"spn uloeno",Suggestions:"Nvrhy","There was error while parsing Capabilities response from given URL":"Nastala chyba pi ten GetCapabilities","This layer is not available":"Tato vrstva nen dostupn","This layer is not available in this scale":"Tato vrstva nen v tomto mtku dostupn","This layer is queryable":"Tato vrstva je dotazovateln","Tile size":"Velikost dladice",Title:"Nadpis","Topic category":"Nzev kategorie",Type:"Typ","Unsaved map":"Neuloen mapa","Use a different name to save the map.":"Vyberte jn jmno pro uloen mapy","Use current map extent":"Pout nynj rozsah","Use proxy":"Pout proxy","Use tiles":"Pout dladice","View, Compose and analyse spatial data":"Prohlen, komponovn a analyzovn prostorovch dat","WMS Capabilities parsing problem":"Problm se tenm WMS Capabilities",Write:"Zpis","Yes, save":"Ano, uloit","You are atempting to save map changes to":"Pokoute se uloit zmny v map do","You are not authorized to store composition. Please sign in or contact administrator for your credentials.":"Nejste autorizovan pro ukldn kompozic. Pihlate se nebo kontaktujte administrtora pro pihlaovac daje.","You are opening map <b>{{composition_name_to_be_loaded}}</b>.<br>There are currently unsaved changes.<br>What do you want to do before opening the selected map composition?":"Otevrte mapu <b>{{composition_name_to_be_loaded}}</b>.<br>Mte neuloen zmny.<br>Co chcete udlat ped otevenm vybran mapov kompozice?","You don't have sufficient rights to do so.":"Nemte prva k proveden operace.","You have unsaved changes!":"Mte neuloen zmny!","Zoom to":"Piblit na",details:"detaily",from:"z","multiple shapes":"vce tvar",to:"do"})}])},{}],74:[function(t,e,n){e.exports=function(ol,t){var e,n,o,i=new ol.source.Vector;function r(t){o&&(o.polygon.material.color=t.original_color),o=t,t.polygon.material.color=new Cesium.Color.fromCssColorString("rgba(250, 250, 250, 0.6)")}return i.cesiumStyler=function(t){for(var e=t.entities.values,n=0;n<e.length;n++){var o=e[n];o.styled||(o.polygon.outline=!1,o.original_color=new Cesium.Color.fromCssColorString("rgb(31, 90, 186)"),o.polygon.material=new Cesium.ColorMaterialProperty(o.original_color),o.styled=!0,o.onmouseup=r)}},{get:function(o,r,a){if(!(o.getView().getResolution()>n.getMaxResolution()||0==n.getVisible())){var s=`POLYGON ((${c(a[0])}, ${c(a[1])}, ${c(a[2])}, ${c(a[3])}, ${c(a[0])}, ${c(a[1])}))`,l="https://www.foodie-cloud.org/sparql?default-graph-uri=&query="+encodeURIComponent(`\n\nPREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX geof: <http://www.opengis.net/def/function/geosparql/>\nPREFIX virtrdf:\t<http://www.openlinksw.com/schemas/virtrdf#> \nPREFIX poi: <http://www.openvoc.eu/poi#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX foodie-cz: <http://foodie-cloud.com/model/foodie-cz#>\nPREFIX foodie: <http://foodie-cloud.com/model/foodie#>\nPREFIX olu: <http://w3id.org/foodie/olu#>\n\nSELECT ?waterBody ?label ?coordWBody\nFROM <http://w3id.org/foodie/open/cz/water_buffer25#>\nWHERE {\n    ?waterBody a foodie-cz:WaterBody ;\n            rdfs:label ?label ;\n            geo:hasGeometry ?geoWBody .\n            ?geoWBody ogcgs:asWKT ?coordWBody .\nFILTER(bif:st_intersects (?coordWBody, bif:st_geomFromText("${s}"))) .\n}\n                `)+"&should-sponge=&format=application%2Fsparql-results%2Bjson&timeout=0&debug=on";t.startLoading(i,e),$.ajax({url:l}).done(function(n){t.fillFeatures(i,"coordWBody",n,"waterBody",{waterBody:"waterBody",label:"label"},o,e)})}function c(t){return t.toString().replaceAll(","," ")}},createLayer:function(t){return n=new ol.layer.Vector({title:t("Water bodies"),source:i,visible:!1,maxResolution:38.21851414258813,style:function(t,e){return[new ol.style.Style({fill:new ol.style.Stroke({color:"rgba(0, 0, 220, 0.8)"})})]}})},getLayer:()=>n,init:function(t,n,o,i){e=t,n,o,i}}}(t("ol"),t("sparql_helpers"))},{ol:65,sparql_helpers:72}]},{},[67]);